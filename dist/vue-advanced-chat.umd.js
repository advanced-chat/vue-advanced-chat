(function(dr,ni){typeof exports=="object"&&typeof module!="undefined"?ni(exports):typeof define=="function"&&define.amd?define(["exports"],ni):(dr=typeof globalThis!="undefined"?globalThis:dr||self,ni(dr["vue-advanced-chat"]={}))})(this,function(dr){"use strict";function ni(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const iu=()=>{},ou=Object.assign,au=Object.prototype.hasOwnProperty,Yi=(e,t)=>au.call(e,t),Kn=Array.isArray,Xi=e=>Ps(e)==="[object Map]",su=e=>typeof e=="function",lu=e=>typeof e=="string",Qo=e=>typeof e=="symbol",Ki=e=>e!==null&&typeof e=="object",cu=Object.prototype.toString,Ps=e=>cu.call(e),fu=e=>Ps(e).slice(8,-1),Jo=e=>lu(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Us=(e,t)=>!Object.is(e,t),uu=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};let An;class du{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&An&&(this.parent=An,this.index=(An.scopes||(An.scopes=[])).push(this)-1)}run(t){if(this.active){const n=An;try{return An=this,t()}finally{An=n}}}on(){An=this}off(){An=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function bu(e,t=An){t&&t.active&&t.effects.push(e)}const $o=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Vs=e=>(e.w&Gn)>0,Ys=e=>(e.n&Gn)>0,mu=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Gn},hu=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];Vs(o)&&!Ys(o)?o.delete(e):t[n++]=o,o.w&=~Gn,o.n&=~Gn}t.length=n}},ea=new WeakMap;let ri=0,Gn=1;const ta=30;let gn;const br=Symbol(""),na=Symbol("");class ra{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,bu(this,r)}run(){if(!this.active)return this.fn();let t=gn,n=Wn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=gn,gn=this,Wn=!0,Gn=1<<++ri,ri<=ta?mu(this):Xs(this),this.fn()}finally{ri<=ta&&hu(this),Gn=1<<--ri,gn=this.parent,Wn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){gn===this?this.deferStop=!0:this.active&&(Xs(this),this.onStop&&this.onStop(),this.active=!1)}}function Xs(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Wn=!0;const Ks=[];function jr(){Ks.push(Wn),Wn=!1}function Hr(){const e=Ks.pop();Wn=e===void 0?!0:e}function nn(e,t,n){if(Wn&&gn){let r=ea.get(e);r||ea.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=$o()),Gs(o)}}function Gs(e,t){let n=!1;ri<=ta?Ys(e)||(e.n|=Gn,n=!Vs(e)):n=!e.has(gn),n&&(e.add(gn),gn.deps.push(e))}function qn(e,t,n,r,o,i){const a=ea.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&Kn(e))a.forEach((d,f)=>{(f==="length"||f>=r)&&l.push(d)});else switch(n!==void 0&&l.push(a.get(n)),t){case"add":Kn(e)?Jo(n)&&l.push(a.get("length")):(l.push(a.get(br)),Xi(e)&&l.push(a.get(na)));break;case"delete":Kn(e)||(l.push(a.get(br)),Xi(e)&&l.push(a.get(na)));break;case"set":Xi(e)&&l.push(a.get(br));break}if(l.length===1)l[0]&&ia(l[0]);else{const d=[];for(const f of l)f&&d.push(...f);ia($o(d))}}function ia(e,t){const n=Kn(e)?e:[...e];for(const r of n)r.computed&&Ws(r);for(const r of n)r.computed||Ws(r)}function Ws(e,t){(e!==gn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const pu=ni("__proto__,__v_isRef,__isVue"),Zs=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Qo)),gu=oa(),vu=oa(!1,!0),_u=oa(!0),Qs=xu();function xu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=mt(this);for(let i=0,a=this.length;i<a;i++)nn(r,"get",i+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(mt)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){jr();const r=mt(this)[t].apply(this,n);return Hr(),r}}),e}function oa(e=!1,t=!1){return function(r,o,i){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&i===(e?t?ju:al:t?ol:il).get(r))return r;const a=Kn(r);if(!e&&a&&Yi(Qs,o))return Reflect.get(Qs,o,i);const l=Reflect.get(r,o,i);return(Qo(o)?Zs.has(o):pu(o))||(e||nn(r,"get",o),t)?l:Vt(l)?a&&Jo(o)?l:l.value:Ki(l)?e?sl(l):la(l):l}}const yu=Js(),wu=Js(!0);function Js(e=!1){return function(n,r,o,i){let a=n[r];if(ii(a)&&Vt(a)&&!Vt(o))return!1;if(!e&&!ii(o)&&(fa(o)||(o=mt(o),a=mt(a)),!Kn(n)&&Vt(a)&&!Vt(o)))return a.value=o,!0;const l=Kn(n)&&Jo(r)?Number(r)<n.length:Yi(n,r),d=Reflect.set(n,r,o,i);return n===mt(i)&&(l?Us(o,a)&&qn(n,"set",r,o):qn(n,"add",r,o)),d}}function ku(e,t){const n=Yi(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&qn(e,"delete",t,void 0),r}function Su(e,t){const n=Reflect.has(e,t);return(!Qo(t)||!Zs.has(t))&&nn(e,"has",t),n}function Mu(e){return nn(e,"iterate",Kn(e)?"length":br),Reflect.ownKeys(e)}const $s={get:gu,set:yu,deleteProperty:ku,has:Su,ownKeys:Mu},Au={get:_u,set(e,t){return!0},deleteProperty(e,t){return!0}},Eu=ou({},$s,{get:vu,set:wu}),aa=e=>e,Gi=e=>Reflect.getPrototypeOf(e);function Wi(e,t,n=!1,r=!1){e=e.__v_raw;const o=mt(e),i=mt(t);n||(t!==i&&nn(o,"get",t),nn(o,"get",i));const{has:a}=Gi(o),l=r?aa:n?da:ua;if(a.call(o,t))return l(e.get(t));if(a.call(o,i))return l(e.get(i));e!==o&&e.get(t)}function Zi(e,t=!1){const n=this.__v_raw,r=mt(n),o=mt(e);return t||(e!==o&&nn(r,"has",e),nn(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Qi(e,t=!1){return e=e.__v_raw,!t&&nn(mt(e),"iterate",br),Reflect.get(e,"size",e)}function el(e){e=mt(e);const t=mt(this);return Gi(t).has.call(t,e)||(t.add(e),qn(t,"add",e,e)),this}function tl(e,t){t=mt(t);const n=mt(this),{has:r,get:o}=Gi(n);let i=r.call(n,e);i||(e=mt(e),i=r.call(n,e));const a=o.call(n,e);return n.set(e,t),i?Us(t,a)&&qn(n,"set",e,t):qn(n,"add",e,t),this}function nl(e){const t=mt(this),{has:n,get:r}=Gi(t);let o=n.call(t,e);o||(e=mt(e),o=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return o&&qn(t,"delete",e,void 0),i}function rl(){const e=mt(this),t=e.size!==0,n=e.clear();return t&&qn(e,"clear",void 0,void 0),n}function Ji(e,t){return function(r,o){const i=this,a=i.__v_raw,l=mt(a),d=t?aa:e?da:ua;return!e&&nn(l,"iterate",br),a.forEach((f,m)=>r.call(o,d(f),d(m),i))}}function $i(e,t,n){return function(...r){const o=this.__v_raw,i=mt(o),a=Xi(i),l=e==="entries"||e===Symbol.iterator&&a,d=e==="keys"&&a,f=o[e](...r),m=n?aa:t?da:ua;return!t&&nn(i,"iterate",d?na:br),{next(){const{value:c,done:p}=f.next();return p?{value:c,done:p}:{value:l?[m(c[0]),m(c[1])]:m(c),done:p}},[Symbol.iterator](){return this}}}}function Zn(e){return function(...t){return e==="delete"?!1:this}}function Tu(){const e={get(i){return Wi(this,i)},get size(){return Qi(this)},has:Zi,add:el,set:tl,delete:nl,clear:rl,forEach:Ji(!1,!1)},t={get(i){return Wi(this,i,!1,!0)},get size(){return Qi(this)},has:Zi,add:el,set:tl,delete:nl,clear:rl,forEach:Ji(!1,!0)},n={get(i){return Wi(this,i,!0)},get size(){return Qi(this,!0)},has(i){return Zi.call(this,i,!0)},add:Zn("add"),set:Zn("set"),delete:Zn("delete"),clear:Zn("clear"),forEach:Ji(!0,!1)},r={get(i){return Wi(this,i,!0,!0)},get size(){return Qi(this,!0)},has(i){return Zi.call(this,i,!0)},add:Zn("add"),set:Zn("set"),delete:Zn("delete"),clear:Zn("clear"),forEach:Ji(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=$i(i,!1,!1),n[i]=$i(i,!0,!1),t[i]=$i(i,!1,!0),r[i]=$i(i,!0,!0)}),[e,n,t,r]}const[Ru,Cu,Iu,Bu]=Tu();function sa(e,t){const n=t?e?Bu:Iu:e?Cu:Ru;return(r,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(Yi(n,o)&&o in r?n:r,o,i)}const Ou={get:sa(!1,!1)},Fu={get:sa(!1,!0)},Lu={get:sa(!0,!1)},il=new WeakMap,ol=new WeakMap,al=new WeakMap,ju=new WeakMap;function Hu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Nu(e){return e.__v_skip||!Object.isExtensible(e)?0:Hu(fu(e))}function la(e){return ii(e)?e:ca(e,!1,$s,Ou,il)}function Du(e){return ca(e,!1,Eu,Fu,ol)}function sl(e){return ca(e,!0,Au,Lu,al)}function ca(e,t,n,r,o){if(!Ki(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const a=Nu(e);if(a===0)return e;const l=new Proxy(e,a===2?r:n);return o.set(e,l),l}function Nr(e){return ii(e)?Nr(e.__v_raw):!!(e&&e.__v_isReactive)}function ii(e){return!!(e&&e.__v_isReadonly)}function fa(e){return!!(e&&e.__v_isShallow)}function ll(e){return Nr(e)||ii(e)}function mt(e){const t=e&&e.__v_raw;return t?mt(t):e}function cl(e){return uu(e,"__v_skip",!0),e}const ua=e=>Ki(e)?la(e):e,da=e=>Ki(e)?sl(e):e;function qu(e){Wn&&gn&&(e=mt(e),Gs(e.dep||(e.dep=$o())))}function zu(e,t){e=mt(e),e.dep&&ia(e.dep)}function Vt(e){return!!(e&&e.__v_isRef===!0)}function Pu(e){return Vt(e)?e.value:e}const Uu={get:(e,t,n)=>Pu(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return Vt(o)&&!Vt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function fl(e){return Nr(e)?e:new Proxy(e,Uu)}class Vu{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ra(t,()=>{this._dirty||(this._dirty=!0,zu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=mt(this);return qu(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Yu(e,t,n=!1){let r,o;const i=su(e);return i?(r=e,o=iu):(r=e.get,o=e.set),new Vu(r,o,i||!o,n)}function Xu(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function _t(e){if(st(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Yt(r)?Wu(r):_t(r);if(o)for(const i in o)t[i]=o[i]}return t}else{if(Yt(e))return e;if(Xt(e))return e}}const Ku=/;(?![^(]*\))/g,Gu=/:(.+)/;function Wu(e){const t={};return e.split(Ku).forEach(n=>{if(n){const r=n.split(Gu);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Qe(e){let t="";if(Yt(e))t=e;else if(st(e))for(let n=0;n<e.length;n++){const r=Qe(e[n]);r&&(t+=r+" ")}else if(Xt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function ht(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Yt(t)&&(e.class=Qe(t)),n&&(e.style=_t(n)),e}const Ue=e=>Yt(e)?e:e==null?"":st(e)||Xt(e)&&(e.toString===pl||!it(e.toString))?JSON.stringify(e,ul,2):String(e),ul=(e,t)=>t&&t.__v_isRef?ul(e,t.value):bl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:ml(t)?{[`Set(${t.size})`]:[...t.values()]}:Xt(t)&&!st(t)&&!gl(t)?String(t):t,yt={},Dr=[],En=()=>{},Zu=()=>!1,Qu=/^on[^a-z]/,ba=e=>Qu.test(e),dl=e=>e.startsWith("onUpdate:"),rn=Object.assign,ma=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ju=Object.prototype.hasOwnProperty,pt=(e,t)=>Ju.call(e,t),st=Array.isArray,bl=e=>ha(e)==="[object Map]",ml=e=>ha(e)==="[object Set]",it=e=>typeof e=="function",Yt=e=>typeof e=="string",Xt=e=>e!==null&&typeof e=="object",hl=e=>Xt(e)&&it(e.then)&&it(e.catch),pl=Object.prototype.toString,ha=e=>pl.call(e),gl=e=>ha(e)==="[object Object]",eo=Xu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),to=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},$u=/-(\w)/g,Tn=to(e=>e.replace($u,(t,n)=>n?n.toUpperCase():"")),e1=/\B([A-Z])/g,no=to(e=>e.replace(e1,"-$1").toLowerCase()),pa=to(e=>e.charAt(0).toUpperCase()+e.slice(1)),ga=to(e=>e?`on${pa(e)}`:""),vl=(e,t)=>!Object.is(e,t),va=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},_a=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},t1=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _l;const n1=()=>_l||(_l=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Qn(e,t,n,r){let o;try{o=r?e(...r):e()}catch(i){ro(i,t,n)}return o}function un(e,t,n,r){if(it(e)){const i=Qn(e,t,n,r);return i&&hl(i)&&i.catch(a=>{ro(a,t,n)}),i}const o=[];for(let i=0;i<e.length;i++)o.push(un(e[i],t,n,r));return o}function ro(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let i=t.parent;const a=t.proxy,l=n;for(;i;){const f=i.ec;if(f){for(let m=0;m<f.length;m++)if(f[m](e,a,l)===!1)return}i=i.parent}const d=t.appContext.config.errorHandler;if(d){Qn(d,null,10,[e,a,l]);return}}r1(e,n,o,r)}function r1(e,t,n,r=!0){console.error(e)}let io=!1,xa=!1;const on=[];let zn=0;const oi=[];let ai=null,qr=0;const si=[];let Jn=null,zr=0;const xl=Promise.resolve();let ya=null,wa=null;function yl(e){const t=ya||xl;return e?t.then(this?e.bind(this):e):t}function i1(e){let t=zn+1,n=on.length;for(;t<n;){const r=t+n>>>1;li(on[r])<e?t=r+1:n=r}return t}function wl(e){(!on.length||!on.includes(e,io&&e.allowRecurse?zn+1:zn))&&e!==wa&&(e.id==null?on.push(e):on.splice(i1(e.id),0,e),kl())}function kl(){!io&&!xa&&(xa=!0,ya=xl.then(Al))}function o1(e){const t=on.indexOf(e);t>zn&&on.splice(t,1)}function Sl(e,t,n,r){st(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),kl()}function a1(e){Sl(e,ai,oi,qr)}function s1(e){Sl(e,Jn,si,zr)}function oo(e,t=null){if(oi.length){for(wa=t,ai=[...new Set(oi)],oi.length=0,qr=0;qr<ai.length;qr++)ai[qr]();ai=null,qr=0,wa=null,oo(e,t)}}function Ml(e){if(oo(),si.length){const t=[...new Set(si)];if(si.length=0,Jn){Jn.push(...t);return}for(Jn=t,Jn.sort((n,r)=>li(n)-li(r)),zr=0;zr<Jn.length;zr++)Jn[zr]();Jn=null,zr=0}}const li=e=>e.id==null?1/0:e.id;function Al(e){xa=!1,io=!0,oo(e),on.sort((n,r)=>li(n)-li(r));const t=En;try{for(zn=0;zn<on.length;zn++){const n=on[zn];n&&n.active!==!1&&Qn(n,null,14)}}finally{zn=0,on.length=0,Ml(),io=!1,ya=null,(on.length||oi.length||si.length)&&Al(e)}}function l1(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||yt;let o=n;const i=t.startsWith("update:"),a=i&&t.slice(7);if(a&&a in r){const m=`${a==="modelValue"?"model":a}Modifiers`,{number:c,trim:p}=r[m]||yt;p&&(o=n.map(h=>h.trim())),c&&(o=n.map(t1))}let l,d=r[l=ga(t)]||r[l=ga(Tn(t))];!d&&i&&(d=r[l=ga(no(t))]),d&&un(d,e,6,o);const f=r[l+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,un(f,e,6,o)}}function El(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const i=e.emits;let a={},l=!1;if(!it(e)){const d=f=>{const m=El(f,t,!0);m&&(l=!0,rn(a,m))};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!i&&!l?(r.set(e,null),null):(st(i)?i.forEach(d=>a[d]=null):rn(a,i),r.set(e,a),a)}function ao(e,t){return!e||!ba(t)?!1:(t=t.slice(2).replace(/Once$/,""),pt(e,t[0].toLowerCase()+t.slice(1))||pt(e,no(t))||pt(e,t))}let Dt=null,Tl=null;function so(e){const t=Dt;return Dt=e,Tl=e&&e.type.__scopeId||null,t}function Ve(e,t=Dt,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&ac(-1);const i=so(t),a=e(...o);return so(i),r._d&&ac(1),a};return r._n=!0,r._c=!0,r._d=!0,r}function K5(){}function ka(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:i,propsOptions:[a],slots:l,attrs:d,emit:f,render:m,renderCache:c,data:p,setupState:h,ctx:s,inheritAttrs:I}=e;let B,R;const g=so(e);try{if(n.shapeFlag&4){const L=o||r;B=Cn(m.call(L,L,c,i,h,p,s)),R=d}else{const L=t;B=Cn(L.length>1?L(i,{attrs:d,slots:l,emit:f}):L(i,null)),R=t.props?d:c1(d)}}catch(L){bi.length=0,ro(L,e,1),B=Be(bn)}let E=B;if(R&&I!==!1){const L=Object.keys(R),{shapeFlag:T}=E;L.length&&T&7&&(a&&L.some(dl)&&(R=f1(R,a)),E=$n(E,R))}return n.dirs&&(E=$n(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),B=E,so(g),B}const c1=e=>{let t;for(const n in e)(n==="class"||n==="style"||ba(n))&&((t||(t={}))[n]=e[n]);return t},f1=(e,t)=>{const n={};for(const r in e)(!dl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function u1(e,t,n){const{props:r,children:o,component:i}=e,{props:a,children:l,patchFlag:d}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return r?Rl(r,a,f):!!a;if(d&8){const m=t.dynamicProps;for(let c=0;c<m.length;c++){const p=m[c];if(a[p]!==r[p]&&!ao(f,p))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?Rl(r,a,f):!0:!!a;return!1}function Rl(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!ao(n,i))return!0}return!1}function d1({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const b1=e=>e.__isSuspense;function m1(e,t){t&&t.pendingBranch?st(e)?t.effects.push(...e):t.effects.push(e):s1(e)}function h1(e,t){if(Lt){let n=Lt.provides;const r=Lt.parent&&Lt.parent.provides;r===n&&(n=Lt.provides=Object.create(r)),n[e]=t}}function Sa(e,t,n=!1){const r=Lt||Dt;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&it(t)?t.call(r.proxy):t}}const Cl={};function Ma(e,t,n){return Il(e,t,n)}function Il(e,t,{immediate:n,deep:r,flush:o,onTrack:i,onTrigger:a}=yt){const l=Lt;let d,f=!1,m=!1;if(Vt(e)?(d=()=>e.value,f=fa(e)):Nr(e)?(d=()=>e,r=!0):st(e)?(m=!0,f=e.some(R=>Nr(R)||fa(R)),d=()=>e.map(R=>{if(Vt(R))return R.value;if(Nr(R))return mr(R);if(it(R))return Qn(R,l,2)})):it(e)?t?d=()=>Qn(e,l,2):d=()=>{if(!(l&&l.isUnmounted))return c&&c(),un(e,l,3,[p])}:d=En,t&&r){const R=d;d=()=>mr(R())}let c,p=R=>{c=B.onStop=()=>{Qn(R,l,4)}};if(hi)return p=En,t?n&&un(t,l,3,[d(),m?[]:void 0,p]):d(),En;let h=m?[]:Cl;const s=()=>{if(!!B.active)if(t){const R=B.run();(r||f||(m?R.some((g,E)=>vl(g,h[E])):vl(R,h)))&&(c&&c(),un(t,l,3,[R,h===Cl?void 0:h,p]),h=R)}else B.run()};s.allowRecurse=!!t;let I;o==="sync"?I=s:o==="post"?I=()=>Zt(s,l&&l.suspense):I=()=>a1(s);const B=new ra(d,I);return t?n?s():h=B.run():o==="post"?Zt(B.run.bind(B),l&&l.suspense):B.run(),()=>{B.stop(),l&&l.scope&&ma(l.scope.effects,B)}}function p1(e,t,n){const r=this.proxy,o=Yt(e)?e.includes(".")?Bl(r,e):()=>r[e]:e.bind(r,r);let i;it(t)?i=t:(i=t.handler,n=t);const a=Lt;Pr(this);const l=Il(o,i.bind(r),n);return a?Pr(a):_r(),l}function Bl(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function mr(e,t){if(!Xt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Vt(e))mr(e.value,t);else if(st(e))for(let n=0;n<e.length;n++)mr(e[n],t);else if(ml(e)||bl(e))e.forEach(n=>{mr(n,t)});else if(gl(e))for(const n in e)mr(e[n],t);return e}function Ol(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nl(()=>{e.isMounted=!0}),ql(()=>{e.isUnmounting=!0}),e}const dn=[Function,Array],Fl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:dn,onEnter:dn,onAfterEnter:dn,onEnterCancelled:dn,onBeforeLeave:dn,onLeave:dn,onAfterLeave:dn,onLeaveCancelled:dn,onBeforeAppear:dn,onAppear:dn,onAfterAppear:dn,onAppearCancelled:dn},setup(e,{slots:t}){const n=cc(),r=Ol();let o;return()=>{const i=t.default&&Ea(t.default(),!0);if(!i||!i.length)return;let a=i[0];if(i.length>1){for(const I of i)if(I.type!==bn){a=I;break}}const l=mt(e),{mode:d}=l;if(r.isLeaving)return Aa(a);const f=jl(a);if(!f)return Aa(a);const m=ci(f,l,r,n);fi(f,m);const c=n.subTree,p=c&&jl(c);let h=!1;const{getTransitionKey:s}=f.type;if(s){const I=s();o===void 0?o=I:I!==o&&(o=I,h=!0)}if(p&&p.type!==bn&&(!vr(f,p)||h)){const I=ci(p,l,r,n);if(fi(p,I),d==="out-in")return r.isLeaving=!0,I.afterLeave=()=>{r.isLeaving=!1,n.update()},Aa(a);d==="in-out"&&f.type!==bn&&(I.delayLeave=(B,R,g)=>{const E=Ll(r,p);E[String(p.key)]=p,B._leaveCb=()=>{R(),B._leaveCb=void 0,delete m.delayedLeave},m.delayedLeave=g})}return a}}};function Ll(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ci(e,t,n,r){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:l,onEnter:d,onAfterEnter:f,onEnterCancelled:m,onBeforeLeave:c,onLeave:p,onAfterLeave:h,onLeaveCancelled:s,onBeforeAppear:I,onAppear:B,onAfterAppear:R,onAppearCancelled:g}=t,E=String(e.key),L=Ll(n,e),T=(A,S)=>{A&&un(A,r,9,S)},C=(A,S)=>{const b=S[1];T(A,S),st(A)?A.every(x=>x.length<=1)&&b():A.length<=1&&b()},v={mode:i,persisted:a,beforeEnter(A){let S=l;if(!n.isMounted)if(o)S=I||l;else return;A._leaveCb&&A._leaveCb(!0);const b=L[E];b&&vr(e,b)&&b.el._leaveCb&&b.el._leaveCb(),T(S,[A])},enter(A){let S=d,b=f,x=m;if(!n.isMounted)if(o)S=B||d,b=R||f,x=g||m;else return;let _=!1;const y=A._enterCb=k=>{_||(_=!0,k?T(x,[A]):T(b,[A]),v.delayedLeave&&v.delayedLeave(),A._enterCb=void 0)};S?C(S,[A,y]):y()},leave(A,S){const b=String(e.key);if(A._enterCb&&A._enterCb(!0),n.isUnmounting)return S();T(c,[A]);let x=!1;const _=A._leaveCb=y=>{x||(x=!0,S(),y?T(s,[A]):T(h,[A]),A._leaveCb=void 0,L[b]===e&&delete L[b])};L[b]=e,p?C(p,[A,_]):_()},clone(A){return ci(A,t,n,r)}};return v}function Aa(e){if(lo(e))return e=$n(e),e.children=null,e}function jl(e){return lo(e)?e.children?e.children[0]:void 0:e}function fi(e,t){e.shapeFlag&6&&e.component?fi(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ea(e,t=!1,n){let r=[],o=0;for(let i=0;i<e.length;i++){let a=e[i];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:i);a.type===at?(a.patchFlag&128&&o++,r=r.concat(Ea(a.children,t,l))):(t||a.type!==bn)&&r.push(l!=null?$n(a,{key:l}):a)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function g1(e){return it(e)?{setup:e,name:e.name}:e}const ui=e=>!!e.type.__asyncLoader,lo=e=>e.type.__isKeepAlive;function v1(e,t){Hl(e,"a",t)}function _1(e,t){Hl(e,"da",t)}function Hl(e,t,n=Lt){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(co(t,r,n),n){let o=n.parent;for(;o&&o.parent;)lo(o.parent.vnode)&&x1(r,t,n,o),o=o.parent}}function x1(e,t,n,r){const o=co(t,e,r,!0);zl(()=>{ma(r[t],o)},n)}function co(e,t,n=Lt,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;jr(),Pr(n);const l=un(t,n,e,a);return _r(),Hr(),l});return r?o.unshift(i):o.push(i),i}}const Pn=e=>(t,n=Lt)=>(!hi||e==="sp")&&co(e,t,n),y1=Pn("bm"),Nl=Pn("m"),w1=Pn("bu"),Dl=Pn("u"),ql=Pn("bum"),zl=Pn("um"),k1=Pn("sp"),S1=Pn("rtg"),M1=Pn("rtc");function A1(e,t=Lt){co("ec",e,t)}function Rn(e,t){const n=Dt;if(n===null)return e;const r=go(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,l,d,f=yt]=t[i];it(a)&&(a={mounted:a,updated:a}),a.deep&&mr(l),o.push({dir:a,instance:r,value:l,oldValue:void 0,arg:d,modifiers:f})}return e}function hr(e,t,n,r){const o=e.dirs,i=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];i&&(l.oldValue=i[a].value);let d=l.dir[r];d&&(jr(),un(d,n,8,[e.el,l,e,t]),Hr())}}const Ta="components",E1="directives";function Ke(e,t){return Ra(Ta,e,!0,t)||e}const Pl=Symbol();function T1(e){return Yt(e)?Ra(Ta,e,!1)||e:e||Pl}function di(e){return Ra(E1,e)}function Ra(e,t,n=!0,r=!1){const o=Dt||Lt;if(o){const i=o.type;if(e===Ta){const l=nd(i,!1);if(l&&(l===t||l===Tn(t)||l===pa(Tn(t))))return i}const a=Ul(o[e]||i[e],t)||Ul(o.appContext[e],t);return!a&&r?i:a}}function Ul(e,t){return e&&(e[t]||e[Tn(t)]||e[pa(Tn(t))])}function et(e,t,n,r){let o;const i=n&&n[r];if(st(e)||Yt(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,i&&i[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,i&&i[a])}else if(Xt(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,i&&i[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,d=a.length;l<d;l++){const f=a[l];o[l]=t(e[f],f,l,i&&i[l])}}else o=[];return n&&(n[r]=o),o}function gt(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(st(r))for(let o=0;o<r.length;o++)e[r[o].name]=r[o].fn;else r&&(e[r.name]=r.fn)}return e}function Te(e,t,n={},r,o){if(Dt.isCE||Dt.parent&&ui(Dt.parent)&&Dt.parent.isCE)return Be("slot",t==="default"?null:{name:t},r&&r());let i=e[t];i&&i._c&&(i._d=!1),K();const a=i&&Vl(i(n)),l=lt(at,{key:n.key||`_${t}`},a||(r?r():[]),a&&e._===1?64:-2);return!o&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Vl(e){return e.some(t=>mo(t)?!(t.type===bn||t.type===at&&!Vl(t.children)):!0)?e:null}const Ca=e=>e?fc(e)?go(e)||e.proxy:Ca(e.parent):null,fo=rn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ca(e.parent),$root:e=>Ca(e.root),$emit:e=>e.emit,$options:e=>Kl(e),$forceUpdate:e=>e.f||(e.f=()=>wl(e.update)),$nextTick:e=>e.n||(e.n=yl.bind(e.proxy)),$watch:e=>p1.bind(e)}),R1={get({_:e},t){const{ctx:n,setupState:r,data:o,props:i,accessCache:a,type:l,appContext:d}=e;let f;if(t[0]!=="$"){const h=a[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(r!==yt&&pt(r,t))return a[t]=1,r[t];if(o!==yt&&pt(o,t))return a[t]=2,o[t];if((f=e.propsOptions[0])&&pt(f,t))return a[t]=3,i[t];if(n!==yt&&pt(n,t))return a[t]=4,n[t];Ia&&(a[t]=0)}}const m=fo[t];let c,p;if(m)return t==="$attrs"&&nn(e,"get",t),m(e);if((c=l.__cssModules)&&(c=c[t]))return c;if(n!==yt&&pt(n,t))return a[t]=4,n[t];if(p=d.config.globalProperties,pt(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;return o!==yt&&pt(o,t)?(o[t]=n,!0):r!==yt&&pt(r,t)?(r[t]=n,!0):pt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:i}},a){let l;return!!n[a]||e!==yt&&pt(e,a)||t!==yt&&pt(t,a)||(l=i[0])&&pt(l,a)||pt(r,a)||pt(fo,a)||pt(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:pt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Ia=!0;function C1(e){const t=Kl(e),n=e.proxy,r=e.ctx;Ia=!1,t.beforeCreate&&Yl(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:a,watch:l,provide:d,inject:f,created:m,beforeMount:c,mounted:p,beforeUpdate:h,updated:s,activated:I,deactivated:B,beforeDestroy:R,beforeUnmount:g,destroyed:E,unmounted:L,render:T,renderTracked:C,renderTriggered:v,errorCaptured:A,serverPrefetch:S,expose:b,inheritAttrs:x,components:_,directives:y,filters:k}=t;if(f&&I1(f,r,null,e.appContext.config.unwrapInjectedRef),a)for(const X in a){const q=a[X];it(q)&&(r[X]=q.bind(n))}if(o){const X=o.call(n,n);Xt(X)&&(e.data=la(X))}if(Ia=!0,i)for(const X in i){const q=i[X],U=it(q)?q.bind(n,n):it(q.get)?q.get.bind(n,n):En,u=!it(q)&&it(q.set)?q.set.bind(n):En,M=id({get:U,set:u});Object.defineProperty(r,X,{enumerable:!0,configurable:!0,get:()=>M.value,set:Z=>M.value=Z})}if(l)for(const X in l)Xl(l[X],r,n,X);if(d){const X=it(d)?d.call(n):d;Reflect.ownKeys(X).forEach(q=>{h1(q,X[q])})}m&&Yl(m,e,"c");function N(X,q){st(q)?q.forEach(U=>X(U.bind(n))):q&&X(q.bind(n))}if(N(y1,c),N(Nl,p),N(w1,h),N(Dl,s),N(v1,I),N(_1,B),N(A1,A),N(M1,C),N(S1,v),N(ql,g),N(zl,L),N(k1,S),st(b))if(b.length){const X=e.exposed||(e.exposed={});b.forEach(q=>{Object.defineProperty(X,q,{get:()=>n[q],set:U=>n[q]=U})})}else e.exposed||(e.exposed={});T&&e.render===En&&(e.render=T),x!=null&&(e.inheritAttrs=x),_&&(e.components=_),y&&(e.directives=y)}function I1(e,t,n=En,r=!1){st(e)&&(e=Ba(e));for(const o in e){const i=e[o];let a;Xt(i)?"default"in i?a=Sa(i.from||o,i.default,!0):a=Sa(i.from||o):a=Sa(i),Vt(a)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function Yl(e,t,n){un(st(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Xl(e,t,n,r){const o=r.includes(".")?Bl(n,r):()=>n[r];if(Yt(e)){const i=t[e];it(i)&&Ma(o,i)}else if(it(e))Ma(o,e.bind(n));else if(Xt(e))if(st(e))e.forEach(i=>Xl(i,t,n,r));else{const i=it(e.handler)?e.handler.bind(n):t[e.handler];it(i)&&Ma(o,i,e)}}function Kl(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,l=i.get(t);let d;return l?d=l:!o.length&&!n&&!r?d=t:(d={},o.length&&o.forEach(f=>uo(d,f,a,!0)),uo(d,t,a)),i.set(t,d),d}function uo(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&uo(e,i,n,!0),o&&o.forEach(a=>uo(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=B1[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const B1={data:Gl,props:pr,emits:pr,methods:pr,computed:pr,beforeCreate:Kt,created:Kt,beforeMount:Kt,mounted:Kt,beforeUpdate:Kt,updated:Kt,beforeDestroy:Kt,beforeUnmount:Kt,destroyed:Kt,unmounted:Kt,activated:Kt,deactivated:Kt,errorCaptured:Kt,serverPrefetch:Kt,components:pr,directives:pr,watch:F1,provide:Gl,inject:O1};function Gl(e,t){return t?e?function(){return rn(it(e)?e.call(this,this):e,it(t)?t.call(this,this):t)}:t:e}function O1(e,t){return pr(Ba(e),Ba(t))}function Ba(e){if(st(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Kt(e,t){return e?[...new Set([].concat(e,t))]:t}function pr(e,t){return e?rn(rn(Object.create(null),e),t):t}function F1(e,t){if(!e)return t;if(!t)return e;const n=rn(Object.create(null),e);for(const r in t)n[r]=Kt(e[r],t[r]);return n}function L1(e,t,n,r=!1){const o={},i={};_a(i,ho,1),e.propsDefaults=Object.create(null),Wl(e,t,o,i);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=r?o:Du(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function j1(e,t,n,r){const{props:o,attrs:i,vnode:{patchFlag:a}}=e,l=mt(o),[d]=e.propsOptions;let f=!1;if((r||a>0)&&!(a&16)){if(a&8){const m=e.vnode.dynamicProps;for(let c=0;c<m.length;c++){let p=m[c];if(ao(e.emitsOptions,p))continue;const h=t[p];if(d)if(pt(i,p))h!==i[p]&&(i[p]=h,f=!0);else{const s=Tn(p);o[s]=Oa(d,l,s,h,e,!1)}else h!==i[p]&&(i[p]=h,f=!0)}}}else{Wl(e,t,o,i)&&(f=!0);let m;for(const c in l)(!t||!pt(t,c)&&((m=no(c))===c||!pt(t,m)))&&(d?n&&(n[c]!==void 0||n[m]!==void 0)&&(o[c]=Oa(d,l,c,void 0,e,!0)):delete o[c]);if(i!==l)for(const c in i)(!t||!pt(t,c)&&!0)&&(delete i[c],f=!0)}f&&qn(e,"set","$attrs")}function Wl(e,t,n,r){const[o,i]=e.propsOptions;let a=!1,l;if(t)for(let d in t){if(eo(d))continue;const f=t[d];let m;o&&pt(o,m=Tn(d))?!i||!i.includes(m)?n[m]=f:(l||(l={}))[m]=f:ao(e.emitsOptions,d)||(!(d in r)||f!==r[d])&&(r[d]=f,a=!0)}if(i){const d=mt(n),f=l||yt;for(let m=0;m<i.length;m++){const c=i[m];n[c]=Oa(o,d,c,f[c],e,!pt(f,c))}}return a}function Oa(e,t,n,r,o,i){const a=e[n];if(a!=null){const l=pt(a,"default");if(l&&r===void 0){const d=a.default;if(a.type!==Function&&it(d)){const{propsDefaults:f}=o;n in f?r=f[n]:(Pr(o),r=f[n]=d.call(null,t),_r())}else r=d}a[0]&&(i&&!l?r=!1:a[1]&&(r===""||r===no(n))&&(r=!0))}return r}function Zl(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const i=e.props,a={},l=[];let d=!1;if(!it(e)){const m=c=>{d=!0;const[p,h]=Zl(c,t,!0);rn(a,p),h&&l.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!i&&!d)return r.set(e,Dr),Dr;if(st(i))for(let m=0;m<i.length;m++){const c=Tn(i[m]);Ql(c)&&(a[c]=yt)}else if(i)for(const m in i){const c=Tn(m);if(Ql(c)){const p=i[m],h=a[c]=st(p)||it(p)?{type:p}:p;if(h){const s=ec(Boolean,h.type),I=ec(String,h.type);h[0]=s>-1,h[1]=I<0||s<I,(s>-1||pt(h,"default"))&&l.push(c)}}}const f=[a,l];return r.set(e,f),f}function Ql(e){return e[0]!=="$"}function Jl(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function $l(e,t){return Jl(e)===Jl(t)}function ec(e,t){return st(t)?t.findIndex(n=>$l(n,e)):it(t)&&$l(t,e)?0:-1}const tc=e=>e[0]==="_"||e==="$stable",Fa=e=>st(e)?e.map(Cn):[Cn(e)],H1=(e,t,n)=>{if(t._n)return t;const r=Ve((...o)=>Fa(t(...o)),n);return r._c=!1,r},nc=(e,t,n)=>{const r=e._ctx;for(const o in e){if(tc(o))continue;const i=e[o];if(it(i))t[o]=H1(o,i,r);else if(i!=null){const a=Fa(i);t[o]=()=>a}}},rc=(e,t)=>{const n=Fa(t);e.slots.default=()=>n},N1=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=mt(t),_a(t,"_",n)):nc(t,e.slots={})}else e.slots={},t&&rc(e,t);_a(e.slots,ho,1)},D1=(e,t,n)=>{const{vnode:r,slots:o}=e;let i=!0,a=yt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:(rn(o,t),!n&&l===1&&delete o._):(i=!t.$stable,nc(t,o)),a=t}else t&&(rc(e,t),a={default:1});if(i)for(const l in o)!tc(l)&&!(l in a)&&delete o[l]};function ic(){return{app:null,config:{isNativeTag:Zu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let q1=0;function z1(e,t){return function(r,o=null){it(r)||(r=Object.assign({},r)),o!=null&&!Xt(o)&&(o=null);const i=ic(),a=new Set;let l=!1;const d=i.app={_uid:q1++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:ad,get config(){return i.config},set config(f){},use(f,...m){return a.has(f)||(f&&it(f.install)?(a.add(f),f.install(d,...m)):it(f)&&(a.add(f),f(d,...m))),d},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),d},component(f,m){return m?(i.components[f]=m,d):i.components[f]},directive(f,m){return m?(i.directives[f]=m,d):i.directives[f]},mount(f,m,c){if(!l){const p=Be(r,o);return p.appContext=i,m&&t?t(p,f):e(p,f,c),l=!0,d._container=f,f.__vue_app__=d,go(p.component)||p.component.proxy}},unmount(){l&&(e(null,d._container),delete d._container.__vue_app__)},provide(f,m){return i.provides[f]=m,d}};return d}}function La(e,t,n,r,o=!1){if(st(e)){e.forEach((p,h)=>La(p,t&&(st(t)?t[h]:t),n,r,o));return}if(ui(r)&&!o)return;const i=r.shapeFlag&4?go(r.component)||r.component.proxy:r.el,a=o?null:i,{i:l,r:d}=e,f=t&&t.r,m=l.refs===yt?l.refs={}:l.refs,c=l.setupState;if(f!=null&&f!==d&&(Yt(f)?(m[f]=null,pt(c,f)&&(c[f]=null)):Vt(f)&&(f.value=null)),it(d))Qn(d,l,12,[a,m]);else{const p=Yt(d),h=Vt(d);if(p||h){const s=()=>{if(e.f){const I=p?m[d]:d.value;o?st(I)&&ma(I,i):st(I)?I.includes(i)||I.push(i):p?(m[d]=[i],pt(c,d)&&(c[d]=m[d])):(d.value=[i],e.k&&(m[e.k]=d.value))}else p?(m[d]=a,pt(c,d)&&(c[d]=a)):h&&(d.value=a,e.k&&(m[e.k]=a))};a?(s.id=-1,Zt(s,n)):s()}}}const Zt=m1;function P1(e){return U1(e)}function U1(e,t){const n=n1();n.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:a,createText:l,createComment:d,setText:f,setElementText:m,parentNode:c,nextSibling:p,setScopeId:h=En,cloneNode:s,insertStaticContent:I}=e,B=(z,Y,re,fe=null,de=null,Ae=null,Re=!1,ke=null,Ee=!!Y.dynamicChildren)=>{if(z===Y)return;z&&!vr(z,Y)&&(fe=Ne(z),O(z,de,Ae,!0),z=null),Y.patchFlag===-2&&(Ee=!1,Y.dynamicChildren=null);const{type:_e,ref:qe,shapeFlag:je}=Y;switch(_e){case ja:R(z,Y,re,fe);break;case bn:g(z,Y,re,fe);break;case bo:z==null&&E(Y,re,fe,Re);break;case at:y(z,Y,re,fe,de,Ae,Re,ke,Ee);break;default:je&1?C(z,Y,re,fe,de,Ae,Re,ke,Ee):je&6?k(z,Y,re,fe,de,Ae,Re,ke,Ee):(je&64||je&128)&&_e.process(z,Y,re,fe,de,Ae,Re,ke,Ee,he)}qe!=null&&de&&La(qe,z&&z.ref,Ae,Y||z,!Y)},R=(z,Y,re,fe)=>{if(z==null)r(Y.el=l(Y.children),re,fe);else{const de=Y.el=z.el;Y.children!==z.children&&f(de,Y.children)}},g=(z,Y,re,fe)=>{z==null?r(Y.el=d(Y.children||""),re,fe):Y.el=z.el},E=(z,Y,re,fe)=>{[z.el,z.anchor]=I(z.children,Y,re,fe,z.el,z.anchor)},L=({el:z,anchor:Y},re,fe)=>{let de;for(;z&&z!==Y;)de=p(z),r(z,re,fe),z=de;r(Y,re,fe)},T=({el:z,anchor:Y})=>{let re;for(;z&&z!==Y;)re=p(z),o(z),z=re;o(Y)},C=(z,Y,re,fe,de,Ae,Re,ke,Ee)=>{Re=Re||Y.type==="svg",z==null?v(Y,re,fe,de,Ae,Re,ke,Ee):b(z,Y,de,Ae,Re,ke,Ee)},v=(z,Y,re,fe,de,Ae,Re,ke)=>{let Ee,_e;const{type:qe,props:je,shapeFlag:ze,transition:Pe,patchFlag:We,dirs:ue}=z;if(z.el&&s!==void 0&&We===-1)Ee=z.el=s(z.el);else{if(Ee=z.el=a(z.type,Ae,je&&je.is,je),ze&8?m(Ee,z.children):ze&16&&S(z.children,Ee,null,fe,de,Ae&&qe!=="foreignObject",Re,ke),ue&&hr(z,null,fe,"created"),je){for(const te in je)te!=="value"&&!eo(te)&&i(Ee,te,null,je[te],Ae,z.children,fe,de,ge);"value"in je&&i(Ee,"value",null,je.value),(_e=je.onVnodeBeforeMount)&&In(_e,fe,z)}A(Ee,z,z.scopeId,Re,fe)}ue&&hr(z,null,fe,"beforeMount");const Se=(!de||de&&!de.pendingBranch)&&Pe&&!Pe.persisted;Se&&Pe.beforeEnter(Ee),r(Ee,Y,re),((_e=je&&je.onVnodeMounted)||Se||ue)&&Zt(()=>{_e&&In(_e,fe,z),Se&&Pe.enter(Ee),ue&&hr(z,null,fe,"mounted")},de)},A=(z,Y,re,fe,de)=>{if(re&&h(z,re),fe)for(let Ae=0;Ae<fe.length;Ae++)h(z,fe[Ae]);if(de){let Ae=de.subTree;if(Y===Ae){const Re=de.vnode;A(z,Re,Re.scopeId,Re.slotScopeIds,de.parent)}}},S=(z,Y,re,fe,de,Ae,Re,ke,Ee=0)=>{for(let _e=Ee;_e<z.length;_e++){const qe=z[_e]=ke?er(z[_e]):Cn(z[_e]);B(null,qe,Y,re,fe,de,Ae,Re,ke)}},b=(z,Y,re,fe,de,Ae,Re)=>{const ke=Y.el=z.el;let{patchFlag:Ee,dynamicChildren:_e,dirs:qe}=Y;Ee|=z.patchFlag&16;const je=z.props||yt,ze=Y.props||yt;let Pe;re&&gr(re,!1),(Pe=ze.onVnodeBeforeUpdate)&&In(Pe,re,Y,z),qe&&hr(Y,z,re,"beforeUpdate"),re&&gr(re,!0);const We=de&&Y.type!=="foreignObject";if(_e?x(z.dynamicChildren,_e,ke,re,fe,We,Ae):Re||U(z,Y,ke,null,re,fe,We,Ae,!1),Ee>0){if(Ee&16)_(ke,Y,je,ze,re,fe,de);else if(Ee&2&&je.class!==ze.class&&i(ke,"class",null,ze.class,de),Ee&4&&i(ke,"style",je.style,ze.style,de),Ee&8){const ue=Y.dynamicProps;for(let Se=0;Se<ue.length;Se++){const te=ue[Se],Oe=je[te],F=ze[te];(F!==Oe||te==="value")&&i(ke,te,Oe,F,de,z.children,re,fe,ge)}}Ee&1&&z.children!==Y.children&&m(ke,Y.children)}else!Re&&_e==null&&_(ke,Y,je,ze,re,fe,de);((Pe=ze.onVnodeUpdated)||qe)&&Zt(()=>{Pe&&In(Pe,re,Y,z),qe&&hr(Y,z,re,"updated")},fe)},x=(z,Y,re,fe,de,Ae,Re)=>{for(let ke=0;ke<Y.length;ke++){const Ee=z[ke],_e=Y[ke],qe=Ee.el&&(Ee.type===at||!vr(Ee,_e)||Ee.shapeFlag&70)?c(Ee.el):re;B(Ee,_e,qe,null,fe,de,Ae,Re,!0)}},_=(z,Y,re,fe,de,Ae,Re)=>{if(re!==fe){for(const ke in fe){if(eo(ke))continue;const Ee=fe[ke],_e=re[ke];Ee!==_e&&ke!=="value"&&i(z,ke,_e,Ee,Re,Y.children,de,Ae,ge)}if(re!==yt)for(const ke in re)!eo(ke)&&!(ke in fe)&&i(z,ke,re[ke],null,Re,Y.children,de,Ae,ge);"value"in fe&&i(z,"value",re.value,fe.value)}},y=(z,Y,re,fe,de,Ae,Re,ke,Ee)=>{const _e=Y.el=z?z.el:l(""),qe=Y.anchor=z?z.anchor:l("");let{patchFlag:je,dynamicChildren:ze,slotScopeIds:Pe}=Y;Pe&&(ke=ke?ke.concat(Pe):Pe),z==null?(r(_e,re,fe),r(qe,re,fe),S(Y.children,re,qe,de,Ae,Re,ke,Ee)):je>0&&je&64&&ze&&z.dynamicChildren?(x(z.dynamicChildren,ze,re,de,Ae,Re,ke),(Y.key!=null||de&&Y===de.subTree)&&oc(z,Y,!0)):U(z,Y,re,qe,de,Ae,Re,ke,Ee)},k=(z,Y,re,fe,de,Ae,Re,ke,Ee)=>{Y.slotScopeIds=ke,z==null?Y.shapeFlag&512?de.ctx.activate(Y,re,fe,Re,Ee):w(Y,re,fe,de,Ae,Re,Ee):N(z,Y,Ee)},w=(z,Y,re,fe,de,Ae,Re)=>{const ke=z.component=Q1(z,fe,de);if(lo(z)&&(ke.ctx.renderer=he),J1(ke),ke.asyncDep){if(de&&de.registerDep(ke,X),!z.el){const Ee=ke.subTree=Be(bn);g(null,Ee,Y,re)}return}X(ke,z,Y,re,de,Ae,Re)},N=(z,Y,re)=>{const fe=Y.component=z.component;if(u1(z,Y,re))if(fe.asyncDep&&!fe.asyncResolved){q(fe,Y,re);return}else fe.next=Y,o1(fe.update),fe.update();else Y.el=z.el,fe.vnode=Y},X=(z,Y,re,fe,de,Ae,Re)=>{const ke=()=>{if(z.isMounted){let{next:qe,bu:je,u:ze,parent:Pe,vnode:We}=z,ue=qe,Se;gr(z,!1),qe?(qe.el=We.el,q(z,qe,Re)):qe=We,je&&va(je),(Se=qe.props&&qe.props.onVnodeBeforeUpdate)&&In(Se,Pe,qe,We),gr(z,!0);const te=ka(z),Oe=z.subTree;z.subTree=te,B(Oe,te,c(Oe.el),Ne(Oe),z,de,Ae),qe.el=te.el,ue===null&&d1(z,te.el),ze&&Zt(ze,de),(Se=qe.props&&qe.props.onVnodeUpdated)&&Zt(()=>In(Se,Pe,qe,We),de)}else{let qe;const{el:je,props:ze}=Y,{bm:Pe,m:We,parent:ue}=z,Se=ui(Y);if(gr(z,!1),Pe&&va(Pe),!Se&&(qe=ze&&ze.onVnodeBeforeMount)&&In(qe,ue,Y),gr(z,!0),je&&rt){const te=()=>{z.subTree=ka(z),rt(je,z.subTree,z,de,null)};Se?Y.type.__asyncLoader().then(()=>!z.isUnmounted&&te()):te()}else{const te=z.subTree=ka(z);B(null,te,re,fe,z,de,Ae),Y.el=te.el}if(We&&Zt(We,de),!Se&&(qe=ze&&ze.onVnodeMounted)){const te=Y;Zt(()=>In(qe,ue,te),de)}(Y.shapeFlag&256||ue&&ui(ue.vnode)&&ue.vnode.shapeFlag&256)&&z.a&&Zt(z.a,de),z.isMounted=!0,Y=re=fe=null}},Ee=z.effect=new ra(ke,()=>wl(_e),z.scope),_e=z.update=()=>Ee.run();_e.id=z.uid,gr(z,!0),_e()},q=(z,Y,re)=>{Y.component=z;const fe=z.vnode.props;z.vnode=Y,z.next=null,j1(z,Y.props,fe,re),D1(z,Y.children,re),jr(),oo(void 0,z.update),Hr()},U=(z,Y,re,fe,de,Ae,Re,ke,Ee=!1)=>{const _e=z&&z.children,qe=z?z.shapeFlag:0,je=Y.children,{patchFlag:ze,shapeFlag:Pe}=Y;if(ze>0){if(ze&128){M(_e,je,re,fe,de,Ae,Re,ke,Ee);return}else if(ze&256){u(_e,je,re,fe,de,Ae,Re,ke,Ee);return}}Pe&8?(qe&16&&ge(_e,de,Ae),je!==_e&&m(re,je)):qe&16?Pe&16?M(_e,je,re,fe,de,Ae,Re,ke,Ee):ge(_e,de,Ae,!0):(qe&8&&m(re,""),Pe&16&&S(je,re,fe,de,Ae,Re,ke,Ee))},u=(z,Y,re,fe,de,Ae,Re,ke,Ee)=>{z=z||Dr,Y=Y||Dr;const _e=z.length,qe=Y.length,je=Math.min(_e,qe);let ze;for(ze=0;ze<je;ze++){const Pe=Y[ze]=Ee?er(Y[ze]):Cn(Y[ze]);B(z[ze],Pe,re,null,de,Ae,Re,ke,Ee)}_e>qe?ge(z,de,Ae,!0,!1,je):S(Y,re,fe,de,Ae,Re,ke,Ee,je)},M=(z,Y,re,fe,de,Ae,Re,ke,Ee)=>{let _e=0;const qe=Y.length;let je=z.length-1,ze=qe-1;for(;_e<=je&&_e<=ze;){const Pe=z[_e],We=Y[_e]=Ee?er(Y[_e]):Cn(Y[_e]);if(vr(Pe,We))B(Pe,We,re,null,de,Ae,Re,ke,Ee);else break;_e++}for(;_e<=je&&_e<=ze;){const Pe=z[je],We=Y[ze]=Ee?er(Y[ze]):Cn(Y[ze]);if(vr(Pe,We))B(Pe,We,re,null,de,Ae,Re,ke,Ee);else break;je--,ze--}if(_e>je){if(_e<=ze){const Pe=ze+1,We=Pe<qe?Y[Pe].el:fe;for(;_e<=ze;)B(null,Y[_e]=Ee?er(Y[_e]):Cn(Y[_e]),re,We,de,Ae,Re,ke,Ee),_e++}}else if(_e>ze)for(;_e<=je;)O(z[_e],de,Ae,!0),_e++;else{const Pe=_e,We=_e,ue=new Map;for(_e=We;_e<=ze;_e++){const G=Y[_e]=Ee?er(Y[_e]):Cn(Y[_e]);G.key!=null&&ue.set(G.key,_e)}let Se,te=0;const Oe=ze-We+1;let F=!1,H=0;const P=new Array(Oe);for(_e=0;_e<Oe;_e++)P[_e]=0;for(_e=Pe;_e<=je;_e++){const G=z[_e];if(te>=Oe){O(G,de,Ae,!0);continue}let D;if(G.key!=null)D=ue.get(G.key);else for(Se=We;Se<=ze;Se++)if(P[Se-We]===0&&vr(G,Y[Se])){D=Se;break}D===void 0?O(G,de,Ae,!0):(P[D-We]=_e+1,D>=H?H=D:F=!0,B(G,Y[D],re,null,de,Ae,Re,ke,Ee),te++)}const V=F?V1(P):Dr;for(Se=V.length-1,_e=Oe-1;_e>=0;_e--){const G=We+_e,D=Y[G],Q=G+1<qe?Y[G+1].el:fe;P[_e]===0?B(null,D,re,Q,de,Ae,Re,ke,Ee):F&&(Se<0||_e!==V[Se]?Z(D,re,Q,2):Se--)}}},Z=(z,Y,re,fe,de=null)=>{const{el:Ae,type:Re,transition:ke,children:Ee,shapeFlag:_e}=z;if(_e&6){Z(z.component.subTree,Y,re,fe);return}if(_e&128){z.suspense.move(Y,re,fe);return}if(_e&64){Re.move(z,Y,re,he);return}if(Re===at){r(Ae,Y,re);for(let je=0;je<Ee.length;je++)Z(Ee[je],Y,re,fe);r(z.anchor,Y,re);return}if(Re===bo){L(z,Y,re);return}if(fe!==2&&_e&1&&ke)if(fe===0)ke.beforeEnter(Ae),r(Ae,Y,re),Zt(()=>ke.enter(Ae),de);else{const{leave:je,delayLeave:ze,afterLeave:Pe}=ke,We=()=>r(Ae,Y,re),ue=()=>{je(Ae,()=>{We(),Pe&&Pe()})};ze?ze(Ae,We,ue):ue()}else r(Ae,Y,re)},O=(z,Y,re,fe=!1,de=!1)=>{const{type:Ae,props:Re,ref:ke,children:Ee,dynamicChildren:_e,shapeFlag:qe,patchFlag:je,dirs:ze}=z;if(ke!=null&&La(ke,null,re,z,!0),qe&256){Y.ctx.deactivate(z);return}const Pe=qe&1&&ze,We=!ui(z);let ue;if(We&&(ue=Re&&Re.onVnodeBeforeUnmount)&&In(ue,Y,z),qe&6)ve(z.component,re,fe);else{if(qe&128){z.suspense.unmount(re,fe);return}Pe&&hr(z,null,Y,"beforeUnmount"),qe&64?z.type.remove(z,Y,re,de,he,fe):_e&&(Ae!==at||je>0&&je&64)?ge(_e,Y,re,!1,!0):(Ae===at&&je&384||!de&&qe&16)&&ge(Ee,Y,re),fe&&me(z)}(We&&(ue=Re&&Re.onVnodeUnmounted)||Pe)&&Zt(()=>{ue&&In(ue,Y,z),Pe&&hr(z,null,Y,"unmounted")},re)},me=z=>{const{type:Y,el:re,anchor:fe,transition:de}=z;if(Y===at){Me(re,fe);return}if(Y===bo){T(z);return}const Ae=()=>{o(re),de&&!de.persisted&&de.afterLeave&&de.afterLeave()};if(z.shapeFlag&1&&de&&!de.persisted){const{leave:Re,delayLeave:ke}=de,Ee=()=>Re(re,Ae);ke?ke(z.el,Ae,Ee):Ee()}else Ae()},Me=(z,Y)=>{let re;for(;z!==Y;)re=p(z),o(z),z=re;o(Y)},ve=(z,Y,re)=>{const{bum:fe,scope:de,update:Ae,subTree:Re,um:ke}=z;fe&&va(fe),de.stop(),Ae&&(Ae.active=!1,O(Re,z,Y,re)),ke&&Zt(ke,Y),Zt(()=>{z.isUnmounted=!0},Y),Y&&Y.pendingBranch&&!Y.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===Y.pendingId&&(Y.deps--,Y.deps===0&&Y.resolve())},ge=(z,Y,re,fe=!1,de=!1,Ae=0)=>{for(let Re=Ae;Re<z.length;Re++)O(z[Re],Y,re,fe,de)},Ne=z=>z.shapeFlag&6?Ne(z.component.subTree):z.shapeFlag&128?z.suspense.next():p(z.anchor||z.el),Ce=(z,Y,re)=>{z==null?Y._vnode&&O(Y._vnode,null,null,!0):B(Y._vnode||null,z,Y,null,null,null,re),Ml(),Y._vnode=z},he={p:B,um:O,m:Z,r:me,mt:w,mc:S,pc:U,pbc:x,n:Ne,o:e};let Ye,rt;return t&&([Ye,rt]=t(he)),{render:Ce,hydrate:Ye,createApp:z1(Ce,Ye)}}function gr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function oc(e,t,n=!1){const r=e.children,o=t.children;if(st(r)&&st(o))for(let i=0;i<r.length;i++){const a=r[i];let l=o[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[i]=er(o[i]),l.el=a.el),n||oc(a,l))}}function V1(e){const t=e.slice(),n=[0];let r,o,i,a,l;const d=e.length;for(r=0;r<d;r++){const f=e[r];if(f!==0){if(o=n[n.length-1],e[o]<f){t[r]=o,n.push(r);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,e[n[l]]<f?i=l+1:a=l;f<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}const Y1=e=>e.__isTeleport,at=Symbol(void 0),ja=Symbol(void 0),bn=Symbol(void 0),bo=Symbol(void 0),bi=[];let vn=null;function K(e=!1){bi.push(vn=e?null:[])}function X1(){bi.pop(),vn=bi[bi.length-1]||null}let mi=1;function ac(e){mi+=e}function sc(e){return e.dynamicChildren=mi>0?vn||Dr:null,X1(),mi>0&&vn&&vn.push(e),e}function J(e,t,n,r,o,i){return sc(oe(e,t,n,r,o,i,!0))}function lt(e,t,n,r,o){return sc(Be(e,t,n,r,o,!0))}function mo(e){return e?e.__v_isVNode===!0:!1}function vr(e,t){return e.type===t.type&&e.key===t.key}const ho="__vInternal",lc=({key:e})=>e!=null?e:null,po=({ref:e,ref_key:t,ref_for:n})=>e!=null?Yt(e)||Vt(e)||it(e)?{i:Dt,r:e,k:t,f:!!n}:e:null;function oe(e,t=null,n=null,r=0,o=null,i=e===at?0:1,a=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&lc(t),ref:t&&po(t),scopeId:Tl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return l?(Ha(d,n),i&128&&e.normalize(d)):n&&(d.shapeFlag|=Yt(n)?8:16),mi>0&&!a&&vn&&(d.patchFlag>0||i&6)&&d.patchFlag!==32&&vn.push(d),d}const Be=K1;function K1(e,t=null,n=null,r=0,o=null,i=!1){if((!e||e===Pl)&&(e=bn),mo(e)){const l=$n(e,t,!0);return n&&Ha(l,n),mi>0&&!i&&vn&&(l.shapeFlag&6?vn[vn.indexOf(e)]=l:vn.push(l)),l.patchFlag|=-2,l}if(rd(e)&&(e=e.__vccOpts),t){t=dt(t);let{class:l,style:d}=t;l&&!Yt(l)&&(t.class=Qe(l)),Xt(d)&&(ll(d)&&!st(d)&&(d=rn({},d)),t.style=_t(d))}const a=Yt(e)?1:b1(e)?128:Y1(e)?64:Xt(e)?4:it(e)?2:0;return oe(e,t,n,r,o,a,i,!0)}function dt(e){return e?ll(e)||ho in e?rn({},e):e:null}function $n(e,t,n=!1){const{props:r,ref:o,patchFlag:i,children:a}=e,l=t?Na(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&lc(l),ref:t&&t.ref?n&&o?st(o)?o.concat(po(t)):[o,po(t)]:po(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==at?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$n(e.ssContent),ssFallback:e.ssFallback&&$n(e.ssFallback),el:e.el,anchor:e.anchor}}function _n(e=" ",t=0){return Be(ja,null,e,t)}function G1(e,t){const n=Be(bo,null,e);return n.staticCount=t,n}function we(e="",t=!1){return t?(K(),lt(bn,null,e)):Be(bn,null,e)}function Cn(e){return e==null||typeof e=="boolean"?Be(bn):st(e)?Be(at,null,e.slice()):typeof e=="object"?er(e):Be(ja,null,String(e))}function er(e){return e.el===null||e.memo?e:$n(e)}function Ha(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(st(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Ha(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(ho in t)?t._ctx=Dt:o===3&&Dt&&(Dt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else it(t)?(t={default:t,_ctx:Dt},n=32):(t=String(t),r&64?(n=16,t=[_n(t)]):n=8);e.children=t,e.shapeFlag|=n}function Na(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Qe([t.class,r.class]));else if(o==="style")t.style=_t([t.style,r.style]);else if(ba(o)){const i=t[o],a=r[o];a&&i!==a&&!(st(i)&&i.includes(a))&&(t[o]=i?[].concat(i,a):a)}else o!==""&&(t[o]=r[o])}return t}function In(e,t,n,r=null){un(e,t,7,[n,r])}const W1=ic();let Z1=0;function Q1(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||W1,i={uid:Z1++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new du(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zl(r,o),emitsOptions:El(r,o),emit:null,emitted:null,propsDefaults:yt,inheritAttrs:r.inheritAttrs,ctx:yt,data:yt,props:yt,attrs:yt,slots:yt,refs:yt,setupState:yt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=l1.bind(null,i),e.ce&&e.ce(i),i}let Lt=null;const cc=()=>Lt||Dt,Pr=e=>{Lt=e,e.scope.on()},_r=()=>{Lt&&Lt.scope.off(),Lt=null};function fc(e){return e.vnode.shapeFlag&4}let hi=!1;function J1(e,t=!1){hi=t;const{props:n,children:r}=e.vnode,o=fc(e);L1(e,n,o,t),N1(e,r);const i=o?$1(e,t):void 0;return hi=!1,i}function $1(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=cl(new Proxy(e.ctx,R1));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?td(e):null;Pr(e),jr();const i=Qn(r,e,0,[e.props,o]);if(Hr(),_r(),hl(i)){if(i.then(_r,_r),t)return i.then(a=>{uc(e,a,t)}).catch(a=>{ro(a,e,0)});e.asyncDep=i}else uc(e,i,t)}else bc(e,t)}function uc(e,t,n){it(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Xt(t)&&(e.setupState=fl(t)),bc(e,n)}let dc;function bc(e,t,n){const r=e.type;if(!e.render){if(!t&&dc&&!r.render){const o=r.template;if(o){const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:d}=r,f=rn(rn({isCustomElement:i,delimiters:l},a),d);r.render=dc(o,f)}}e.render=r.render||En}Pr(e),jr(),C1(e),Hr(),_r()}function ed(e){return new Proxy(e.attrs,{get(t,n){return nn(e,"get","$attrs"),t[n]}})}function td(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=ed(e))},slots:e.slots,emit:e.emit,expose:t}}function go(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(fl(cl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in fo)return fo[n](e)}}))}function nd(e,t=!0){return it(e)?e.displayName||e.name:e.name||t&&e.__name}function rd(e){return it(e)&&"__vccOpts"in e}const id=(e,t)=>Yu(e,t,hi);function od(e,t,n){const r=arguments.length;return r===2?Xt(t)&&!st(t)?mo(t)?Be(e,null,[t]):Be(e,t):Be(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&mo(n)&&(n=[n]),Be(e,t,n))}const ad="3.2.37";function sd(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const ld=sd("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function mc(e){return!!e||e===""}const cd=/^on[^a-z]/,fd=e=>cd.test(e),ud=e=>e.startsWith("onUpdate:"),pi=Object.assign,gi=Array.isArray,dd=e=>typeof e=="function",Da=e=>typeof e=="string",bd=e=>e!==null&&typeof e=="object",qa=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},md=/-(\w)/g,hc=qa(e=>e.replace(md,(t,n)=>n?n.toUpperCase():"")),hd=/\B([A-Z])/g,Ur=qa(e=>e.replace(hd,"-$1").toLowerCase()),pd=qa(e=>e.charAt(0).toUpperCase()+e.slice(1)),za=e=>{const t=parseFloat(e);return isNaN(t)?e:t},gd="http://www.w3.org/2000/svg",xr=typeof document!="undefined"?document:null,pc=xr&&xr.createElement("template"),vd={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?xr.createElementNS(gd,e):xr.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>xr.createTextNode(e),createComment:e=>xr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>xr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,o,i){const a=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{pc.innerHTML=r?`<svg>${e}</svg>`:e;const l=pc.content;if(r){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function _d(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function xd(e,t,n){const r=e.style,o=Da(n);if(n&&!o){for(const i in n)Pa(r,i,n[i]);if(t&&!Da(t))for(const i in t)n[i]==null&&Pa(r,i,"")}else{const i=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const gc=/\s*!important$/;function Pa(e,t,n){if(gi(n))n.forEach(r=>Pa(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=yd(e,t);gc.test(n)?e.setProperty(Ur(r),n.replace(gc,""),"important"):e[r]=n}}const vc=["Webkit","Moz","ms"],Ua={};function yd(e,t){const n=Ua[t];if(n)return n;let r=Tn(t);if(r!=="filter"&&r in e)return Ua[t]=r;r=pd(r);for(let o=0;o<vc.length;o++){const i=vc[o]+r;if(i in e)return Ua[t]=i}return t}const _c="http://www.w3.org/1999/xlink";function wd(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(_c,t.slice(6,t.length)):e.setAttributeNS(_c,t,n);else{const i=ld(t);n==null||i&&!mc(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function kd(e,t,n,r,o,i,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,o,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const d=n==null?"":n;(e.value!==d||e.tagName==="OPTION")&&(e.value=d),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=mc(n):n==null&&d==="string"?(n="",l=!0):d==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}const[xc,Sd]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let Va=0;const Md=Promise.resolve(),Ad=()=>{Va=0},Ed=()=>Va||(Md.then(Ad),Va=xc());function Td(e,t,n,r){e.addEventListener(t,n,r)}function Rd(e,t,n,r){e.removeEventListener(t,n,r)}function Cd(e,t,n,r,o=null){const i=e._vei||(e._vei={}),a=i[t];if(r&&a)a.value=r;else{const[l,d]=Id(t);if(r){const f=i[t]=Bd(r,o);Td(e,l,f,d)}else a&&(Rd(e,l,a,d),i[t]=void 0)}}const yc=/(?:Once|Passive|Capture)$/;function Id(e){let t;if(yc.test(e)){t={};let n;for(;n=e.match(yc);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[Ur(e.slice(2)),t]}function Bd(e,t){const n=r=>{const o=r.timeStamp||xc();(Sd||o>=n.attached-1)&&un(Od(r,n.value),t,5,[r])};return n.value=e,n.attached=Ed(),n}function Od(e,t){if(gi(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const wc=/^on[a-z]/,Fd=(e,t,n,r,o=!1,i,a,l,d)=>{t==="class"?_d(e,r,o):t==="style"?xd(e,n,r):fd(t)?ud(t)||Cd(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ld(e,t,r,o))?kd(e,t,r,i,a,l,d):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),wd(e,t,r,o))};function Ld(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&wc.test(t)&&dd(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||wc.test(t)&&Da(n)?!1:t in e}function jd(e,t){const n=g1(e);class r extends Ya{constructor(i){super(n,i,t)}}return r.def=n,r}const Hd=typeof HTMLElement!="undefined"?HTMLElement:class{};class Ya extends Hd{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,yl(()=>{this._connected||(Lc(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const o of r)this._setAttr(o.attributeName)}).observe(this,{attributes:!0});const t=r=>{const{props:o,styles:i}=r,a=!gi(o),l=o?a?Object.keys(o):o:[];let d;if(a)for(const f in this._props){const m=o[f];(m===Number||m&&m.type===Number)&&(this._props[f]=za(this._props[f]),(d||(d=Object.create(null)))[f]=!0)}this._numberProps=d;for(const f of Object.keys(this))f[0]!=="_"&&this._setProp(f,this[f],!0,!1);for(const f of l.map(hc))Object.defineProperty(this,f,{get(){return this._getProp(f)},set(m){this._setProp(f,m)}});this._applyStyles(i),this._update()},n=this._def.__asyncLoader;n?n().then(t):t(this._def)}_setAttr(t){let n=this.getAttribute(t);this._numberProps&&this._numberProps[t]&&(n=za(n)),this._setProp(hc(t),n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,o=!0){n!==this._props[t]&&(this._props[t]=n,o&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Ur(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ur(t),n+""):n||this.removeAttribute(Ur(t))))}_update(){Lc(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Be(this._def,pi({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0,n.emit=(o,...i)=>{this.dispatchEvent(new CustomEvent(o,{detail:i}))};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof Ya){n.parent=r._instance;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}const tr="transition",vi="animation",Rt=(e,{slots:t})=>od(Fl,Mc(e),t);Rt.displayName="Transition";const kc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Nd=Rt.props=pi({},Fl.props,kc),yr=(e,t=[])=>{gi(e)?e.forEach(n=>n(...t)):e&&e(...t)},Sc=e=>e?gi(e)?e.some(t=>t.length>1):e.length>1:!1;function Mc(e){const t={};for(const _ in e)_ in kc||(t[_]=e[_]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:d=i,appearActiveClass:f=a,appearToClass:m=l,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,s=Dd(o),I=s&&s[0],B=s&&s[1],{onBeforeEnter:R,onEnter:g,onEnterCancelled:E,onLeave:L,onLeaveCancelled:T,onBeforeAppear:C=R,onAppear:v=g,onAppearCancelled:A=E}=t,S=(_,y,k)=>{nr(_,y?m:l),nr(_,y?f:a),k&&k()},b=(_,y)=>{_._isLeaving=!1,nr(_,c),nr(_,h),nr(_,p),y&&y()},x=_=>(y,k)=>{const w=_?v:g,N=()=>S(y,_,k);yr(w,[y,N]),Ac(()=>{nr(y,_?d:i),Un(y,_?m:l),Sc(w)||Ec(y,r,I,N)})};return pi(t,{onBeforeEnter(_){yr(R,[_]),Un(_,i),Un(_,a)},onBeforeAppear(_){yr(C,[_]),Un(_,d),Un(_,f)},onEnter:x(!1),onAppear:x(!0),onLeave(_,y){_._isLeaving=!0;const k=()=>b(_,y);Un(_,c),Ic(),Un(_,p),Ac(()=>{!_._isLeaving||(nr(_,c),Un(_,h),Sc(L)||Ec(_,r,B,k))}),yr(L,[_,k])},onEnterCancelled(_){S(_,!1),yr(E,[_])},onAppearCancelled(_){S(_,!0),yr(A,[_])},onLeaveCancelled(_){b(_),yr(T,[_])}})}function Dd(e){if(e==null)return null;if(bd(e))return[Xa(e.enter),Xa(e.leave)];{const t=Xa(e);return[t,t]}}function Xa(e){return za(e)}function Un(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function nr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Ac(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let qd=0;function Ec(e,t,n,r){const o=e._endId=++qd,i=()=>{o===e._endId&&r()};if(n)return setTimeout(i,n);const{type:a,timeout:l,propCount:d}=Tc(e,t);if(!a)return r();const f=a+"end";let m=0;const c=()=>{e.removeEventListener(f,p),i()},p=h=>{h.target===e&&++m>=d&&c()};setTimeout(()=>{m<d&&c()},l+1),e.addEventListener(f,p)}function Tc(e,t){const n=window.getComputedStyle(e),r=s=>(n[s]||"").split(", "),o=r(tr+"Delay"),i=r(tr+"Duration"),a=Rc(o,i),l=r(vi+"Delay"),d=r(vi+"Duration"),f=Rc(l,d);let m=null,c=0,p=0;t===tr?a>0&&(m=tr,c=a,p=i.length):t===vi?f>0&&(m=vi,c=f,p=d.length):(c=Math.max(a,f),m=c>0?a>f?tr:vi:null,p=m?m===tr?i.length:d.length:0);const h=m===tr&&/\b(transform|all)(,|$)/.test(n[tr+"Property"]);return{type:m,timeout:c,propCount:p,hasTransform:h}}function Rc(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>Cc(n)+Cc(e[r])))}function Cc(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Ic(){return document.body.offsetHeight}const Bc=new WeakMap,Oc=new WeakMap,vo={name:"TransitionGroup",props:pi({},Nd,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=cc(),r=Ol();let o,i;return Dl(()=>{if(!o.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!Vd(o[0].el,n.vnode.el,a))return;o.forEach(zd),o.forEach(Pd);const l=o.filter(Ud);Ic(),l.forEach(d=>{const f=d.el,m=f.style;Un(f,a),m.transform=m.webkitTransform=m.transitionDuration="";const c=f._moveCb=p=>{p&&p.target!==f||(!p||/transform$/.test(p.propertyName))&&(f.removeEventListener("transitionend",c),f._moveCb=null,nr(f,a))};f.addEventListener("transitionend",c)})}),()=>{const a=mt(e),l=Mc(a);let d=a.tag||at;o=i,i=t.default?Ea(t.default()):[];for(let f=0;f<i.length;f++){const m=i[f];m.key!=null&&fi(m,ci(m,l,r,n))}if(o)for(let f=0;f<o.length;f++){const m=o[f];fi(m,ci(m,l,r,n)),Bc.set(m,m.el.getBoundingClientRect())}return Be(d,null,i)}}};function zd(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Pd(e){Oc.set(e,e.el.getBoundingClientRect())}function Ud(e){const t=Bc.get(e),n=Oc.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${o}px)`,i.transitionDuration="0s",e}}function Vd(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(r);const{hasTransform:i}=Tc(r);return o.removeChild(r),i}const Yd=["ctrl","shift","alt","meta"],Xd={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Yd.some(n=>e[`${n}Key`]&&!t.includes(n))},Gt=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const i=Xd[t[o]];if(i&&i(n,t))return}return e(n,...r)},Kd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},rr=(e,t)=>n=>{if(!("key"in n))return;const r=Ur(n.key);if(t.some(o=>o===r||Kd[o]===r))return e(n)},_o={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):_i(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),_i(e,!0),r.enter(e)):r.leave(e,()=>{_i(e,!1)}):_i(e,t))},beforeUnmount(e,{value:t}){_i(e,t)}};function _i(e,t){e.style.display=t?e._vod:"none"}const Gd=pi({patchProp:Fd},vd);let Fc;function Wd(){return Fc||(Fc=P1(Gd))}const Lc=(...e)=>{Wd().render(...e)};var vt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};const Zd={name:"AppLoader",props:{show:{type:Boolean,default:!1},infinite:{type:Boolean,default:!1},type:{type:String,required:!0},messageId:{type:String,default:""}}},Qd=oe("div",{id:"vac-circle"},null,-1),Jd=oe("div",{id:"vac-circle"},null,-1),$d=oe("div",{id:"vac-circle"},null,-1),eb=oe("div",{id:"vac-circle"},null,-1),tb=oe("div",{id:"vac-circle"},null,-1),nb=oe("div",{id:"vac-circle"},null,-1);function rb(e,t,n,r,o,i){return K(),lt(Rt,{name:"vac-fade-spinner",appear:""},{default:Ve(()=>[n.show?(K(),J("div",{key:0,class:Qe(["vac-loader-wrapper",{"vac-container-center":!n.infinite,"vac-container-top":n.infinite}])},[n.type==="rooms"?Te(e.$slots,"spinner-icon-rooms",{key:0},()=>[Qd]):we("",!0),n.type==="infinite-rooms"?Te(e.$slots,"spinner-icon-infinite-rooms",{key:1},()=>[Jd]):we("",!0),n.type==="message-file"?Te(e.$slots,"spinner-icon-message-file_"+n.messageId,{key:2},()=>[$d]):we("",!0),n.type==="room-file"?Te(e.$slots,"spinner-icon-room-file",{key:3},()=>[eb]):we("",!0),n.type==="messages"?Te(e.$slots,"spinner-icon-messages",{key:4},()=>[tb]):we("",!0),n.type==="infinite-messages"?Te(e.$slots,"spinner-icon-infinite-messages",{key:5},()=>[nb]):we("",!0)],2)):we("",!0)]),_:3})}var xo=vt(Zd,[["render",rb]]);const ib={name:"SvgIcon",props:{name:{type:String,default:null},param:{type:String,default:null}},data(){return{svgItem:{search:{path:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},add:{path:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},toggle:{path:"M5,13L9,17L7.6,18.42L1.18,12L7.6,5.58L9,7L5,11H21V13H5M21,6V8H11V6H21M21,16V18H11V16H21Z"},menu:{path:"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"},close:{path:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"},file:{path:"M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},paperclip:{path:"M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z"},"close-outline":{path:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"},send:{path:"M2,21L23,12L2,3V10L17,12L2,14V21Z"},emoji:{path:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"},document:{path:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"},pencil:{path:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"},checkmark:{path:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},"double-checkmark":{path:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"},eye:{path:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},dropdown:{path:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"},deleted:{path:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z"},microphone:{size:"large",path:"M432.8,216.4v39.2c0,45.2-15.3,84.3-45.2,118.4c-29.8,33.2-67.3,52.8-111.6,57.9v40.9h78.4c5.1,0,10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6c0,5.1-1.7,10.2-6,13.6c-4.3,4.3-8.5,6-13.6,6H157.6c-5.1,0-10.2-1.7-13.6-6c-4.3-4.3-6-8.5-6-13.6c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6H236v-40.9c-44.3-5.1-81.8-23.9-111.6-57.9s-45.2-73.3-45.2-118.4v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6s10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6v39.2c0,37.5,13.6,70.7,40,97.1s59.6,40,97.1,40s70.7-13.6,97.1-40c26.4-26.4,40-59.6,40-97.1v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6c5.1,0,10.2,1.7,13.6,6C430.2,206.2,432.8,211.3,432.8,216.4z M353.5,98v157.6c0,27.3-9.4,50.3-29,69c-19.6,19.6-42.6,29-69,29s-50.3-9.4-69-29c-19.6-19.6-29-42.6-29-69V98c0-27.3,9.4-50.3,29-69c19.6-19.6,42.6-29,69-29s50.3,9.4,69,29C344.2,47.7,353.5,71.6,353.5,98z"},"audio-play":{size:"medium",path:"M43.331,21.237L7.233,0.397c-0.917-0.529-2.044-0.529-2.96,0c-0.916,0.528-1.48,1.505-1.48,2.563v41.684   c0,1.058,0.564,2.035,1.48,2.563c0.458,0.268,0.969,0.397,1.48,0.397c0.511,0,1.022-0.133,1.48-0.397l36.098-20.84   c0.918-0.529,1.479-1.506,1.479-2.564S44.247,21.767,43.331,21.237z"},"audio-pause":{size:"medium",path:"M17.991,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C4.729,2.969,7.698,0,11.36,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z",path2:"M42.877,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C29.616,2.969,32.585,0,36.246,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z"},archive:{size:"medium",path:"M36.571 44.571c1.512 0 2.857-1.166 2.857-2.857V18H9.572v23.714c0 1.691 1.345 2.857 2.857 2.857h24.286zM20 21h8a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2v-2a2 2 0 0 1 2-2zm-18-18v2a.857.857 0 0 0 .857.857h16.286a.857.857 0 0 0 .857-.857v-2a.857.857 0 0 0-.857-.857H1.857A.857.857 0 0 0 1 5z"}}}},computed:{svgId(){const e=this.param?"-"+this.param:"";return`vac-icon-${this.name}${e}`},size(){const e=this.svgItem[this.name];return e.size==="large"?512:e.size==="medium"?48:24}}},ob=["viewBox"],ab=["id","d"],sb=["id","d"];function lb(e,t,n,r,o,i){return K(),J("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"24",height:"24",viewBox:`0 0 ${i.size} ${i.size}`},[oe("path",{id:i.svgId,d:o.svgItem[n.name].path},null,8,ab),o.svgItem[n.name].path2?(K(),J("path",{key:0,id:i.svgId,d:o.svgItem[n.name].path2},null,8,sb)):we("",!0)],8,ob)}var jt=vt(ib,[["render",lb]]);const cb={name:"RoomsSearch",components:{SvgIcon:jt},props:{textMessages:{type:Object,required:!0},showSearch:{type:Boolean,required:!0},showAddRoom:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0}},emits:["search-room","add-room"],computed:{showSearchBar(){return this.showSearch||this.showAddRoom}}},fb={key:0,class:"vac-icon-search"},ub=["placeholder"];function db(e,t,n,r,o,i){const a=Ke("svg-icon");return K(),J("div",{class:Qe({"vac-box-search":i.showSearchBar,"vac-box-empty":!i.showSearchBar})},[n.showSearch?(K(),J(at,{key:0},[!n.loadingRooms&&n.rooms.length?(K(),J("div",fb,[Te(e.$slots,"search-icon",{},()=>[Be(a,{name:"search"})])])):we("",!0),!n.loadingRooms&&n.rooms.length?(K(),J("input",{key:1,type:"search",placeholder:n.textMessages.SEARCH,autocomplete:"off",class:"vac-input",onInput:t[0]||(t[0]=l=>e.$emit("search-room",l))},null,40,ub)):we("",!0)],64)):we("",!0),n.showAddRoom?(K(),J("div",{key:1,class:"vac-svg-button vac-add-icon",onClick:t[1]||(t[1]=l=>e.$emit("add-room"))},[Te(e.$slots,"add-icon",{},()=>[Be(a,{name:"add"})])])):we("",!0)],2)}var bb=vt(cb,[["render",db]]);const jc=document.createElement("i");function Hc(e){const t="&"+e+";";jc.innerHTML=t;const n=jc.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function an(e,t,n,r){const o=e.length;let i=0,a;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);i<r.length;)a=r.slice(i,i+1e4),a.unshift(t,0),e.splice(...a),i+=1e4,t+=1e4}function qt(e,t){return e.length>0?(an(e,e.length,0,t),e):t}const Ka={}.hasOwnProperty;function Nc(e){const t={};let n=-1;for(;++n<e.length;)mb(t,e[n]);return t}function mb(e,t){let n;for(n in t){const o=(Ka.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let a;if(i)for(a in i){Ka.call(o,a)||(o[a]=[]);const l=i[a];hb(o[a],Array.isArray(l)?l:l?[l]:[])}}}function hb(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);an(e,0,0,r)}function Dc(e){const t={};let n=-1;for(;++n<e.length;)pb(t,e[n]);return t}function pb(e,t){let n;for(n in t){const o=(Ka.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let a;if(i)for(a in i)o[a]=i[a]}}function gb(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCharCode(n)}const vb={'"':"quot","&":"amp","<":"lt",">":"gt"};function qc(e){return e.replace(/["&<>]/g,t);function t(n){return"&"+vb[n]+";"}}function Bn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const _b=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Wt=ir(/[A-Za-z]/),zt=ir(/[\dA-Za-z]/),xb=ir(/[#-'*+\--9=?A-Z^-~]/);function yo(e){return e!==null&&(e<32||e===127)}const Ga=ir(/\d/),yb=ir(/[\dA-Fa-f]/),wb=ir(/[!-/:-@[-`{-~]/);function Ze(e){return e!==null&&e<-2}function wt(e){return e!==null&&(e<0||e===32)}function ot(e){return e===-2||e===-1||e===32}const Wa=ir(_b),Vr=ir(/\s/);function ir(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function wr(e,t){const n=qc(kb(e||""));if(!t)return n;const r=n.indexOf(":"),o=n.indexOf("?"),i=n.indexOf("#"),a=n.indexOf("/");return r<0||a>-1&&r>a||o>-1&&r>o||i>-1&&r>i||t.test(n.slice(0,r))?n:""}function kb(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const i=e.charCodeAt(n);let a="";if(i===37&&zt(e.charCodeAt(n+1))&&zt(e.charCodeAt(n+2)))o=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(a=String.fromCharCode(i));else if(i>55295&&i<57344){const l=e.charCodeAt(n+1);i<56320&&l>56319&&l<57344?(a=String.fromCharCode(i,l),o=1):a="\uFFFD"}else a=String.fromCharCode(i);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+o+1,a=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}const zc={}.hasOwnProperty,Pc=/^(https?|ircs?|mailto|xmpp)$/i,Sb=/^https?$/i;function Mb(e){const t=e||{};let n=!0;const r={},o=[[]],i=[],a=[],d=Dc([{enter:{blockQuote:k,codeFenced:q,codeFencedFenceInfo:B,codeFencedFenceMeta:B,codeIndented:M,codeText:V,content:Re,definition:z,definitionDestinationString:re,definitionLabelString:B,definitionTitleString:B,emphasis:H,htmlFlow:te,htmlText:F,image:O,label:B,link:me,listItemMarker:b,listItemValue:S,listOrdered:v,listUnordered:A,paragraph:N,reference:B,resource:Ne,resourceDestinationString:Ce,resourceTitleString:B,setextHeading:Ee,strong:P},exit:{atxHeading:qe,atxHeadingSequence:ke,autolinkEmail:ce,autolinkProtocol:ne,blockQuote:w,characterEscapeValue:Pe,characterReferenceMarkerHexadecimal:W,characterReferenceMarkerNumeric:W,characterReferenceValue:le,codeFenced:Z,codeFencedFence:u,codeFencedFenceInfo:U,codeFencedFenceMeta:R,codeFlowValue:ue,codeIndented:Z,codeText:G,codeTextData:Pe,data:Pe,definition:Ae,definitionDestinationString:fe,definitionLabelString:Y,definitionTitleString:de,emphasis:D,hardBreakEscape:Se,hardBreakTrailing:Se,htmlFlow:Oe,htmlFlowData:Pe,htmlText:Oe,htmlTextData:Pe,image:rt,label:ve,labelText:Me,lineEnding:We,link:rt,listOrdered:x,listUnordered:_,paragraph:X,reference:R,referenceString:ge,resource:R,resourceDestinationString:he,resourceTitleString:Ye,setextHeading:ze,setextHeadingLineSequence:je,setextHeadingText:_e,strong:Q,thematicBreak:ee}}].concat(t.htmlExtensions||[])),f={tightStack:a,definitions:r},m={lineEndingIfNeeded:T,options:t,encode:C,raw:E,tag:g,buffer:B,resume:R,setData:s,getData:I};let c=t.defaultLineEnding;return p;function p($){let pe=-1,be=0;const De=[];let ie=[],Fe=[];for(;++pe<$.length;)!c&&($[pe][1].type==="lineEnding"||$[pe][1].type==="lineEndingBlank")&&(c=$[pe][2].sliceSerialize($[pe][1])),($[pe][1].type==="listOrdered"||$[pe][1].type==="listUnordered")&&($[pe][0]==="enter"?De.push(pe):h($.slice(De.pop(),pe))),$[pe][1].type==="definition"&&($[pe][0]==="enter"?(Fe=qt(Fe,$.slice(be,pe)),be=pe):(ie=qt(ie,$.slice(be,pe+1)),be=pe+1));ie=qt(ie,Fe),ie=qt(ie,$.slice(be)),pe=-1;const Ge=ie;for(d.enter.null&&d.enter.null.call(m);++pe<$.length;){const xe=d[Ge[pe][0]],He=Ge[pe][1].type,ye=xe[He];zc.call(xe,He)&&ye&&ye.call(Object.assign({sliceSerialize:Ge[pe][2].sliceSerialize},m),Ge[pe][1])}return d.exit.null&&d.exit.null.call(m),o[0].join("")}function h($){const pe=$.length;let be=0,De=0,ie=!1,Fe;for(;++be<pe;){const Ge=$[be];if(Ge[1]._container)Fe=void 0,Ge[0]==="enter"?De++:De--;else switch(Ge[1].type){case"listItemPrefix":{Ge[0]==="exit"&&(Fe=!0);break}case"linePrefix":break;case"lineEndingBlank":{Ge[0]==="enter"&&!De&&(Fe?Fe=void 0:ie=!0);break}default:Fe=void 0}}$[0][1]._loose=ie}function s($,pe){f[$]=pe}function I($){return f[$]}function B(){o.push([])}function R(){return o.pop().join("")}function g($){!n||(s("lastWasTag",!0),o[o.length-1].push($))}function E($){s("lastWasTag"),o[o.length-1].push($)}function L(){E(c||`
`)}function T(){const $=o[o.length-1],pe=$[$.length-1],be=pe?pe.charCodeAt(pe.length-1):null;be===10||be===13||be===null||L()}function C($){return I("ignoreEncode")?$:qc($)}function v($){a.push(!$._loose),T(),g("<ol"),s("expectFirstItem",!0)}function A($){a.push(!$._loose),T(),g("<ul"),s("expectFirstItem",!0)}function S($){if(I("expectFirstItem")){const pe=Number.parseInt(this.sliceSerialize($),10);pe!==1&&g(' start="'+C(String(pe))+'"')}}function b(){I("expectFirstItem")?g(">"):y(),T(),g("<li>"),s("expectFirstItem"),s("lastWasTag")}function x(){y(),a.pop(),L(),g("</ol>")}function _(){y(),a.pop(),L(),g("</ul>")}function y(){I("lastWasTag")&&!I("slurpAllLineEndings")&&T(),g("</li>"),s("slurpAllLineEndings")}function k(){a.push(!1),T(),g("<blockquote>")}function w(){a.pop(),T(),g("</blockquote>"),s("slurpAllLineEndings")}function N(){a[a.length-1]||(T(),g("<p>")),s("slurpAllLineEndings")}function X(){a[a.length-1]?s("slurpAllLineEndings",!0):g("</p>")}function q(){T(),g("<pre><code"),s("fencesCount",0)}function U(){const $=R();g(' class="language-'+$+'"')}function u(){const $=I("fencesCount")||0;$||(g(">"),s("slurpOneLineEnding",!0)),s("fencesCount",$+1)}function M(){T(),g("<pre><code>")}function Z(){const $=I("fencesCount");$!==void 0&&$<2&&f.tightStack.length>0&&!I("lastWasTag")&&L(),I("flowCodeSeenData")&&T(),g("</code></pre>"),$!==void 0&&$<2&&T(),s("flowCodeSeenData"),s("fencesCount"),s("slurpOneLineEnding")}function O(){i.push({image:!0}),n=void 0}function me(){i.push({})}function Me($){i[i.length-1].labelId=this.sliceSerialize($)}function ve(){i[i.length-1].label=R()}function ge($){i[i.length-1].referenceId=this.sliceSerialize($)}function Ne(){B(),i[i.length-1].destination=""}function Ce(){B(),s("ignoreEncode",!0)}function he(){i[i.length-1].destination=R(),s("ignoreEncode")}function Ye(){i[i.length-1].title=R()}function rt(){let $=i.length-1;const pe=i[$],be=pe.referenceId||pe.labelId,De=pe.destination===void 0?r[Bn(be)]:pe;for(n=!0;$--;)if(i[$].image){n=void 0;break}pe.image?(g('<img src="'+wr(De.destination,t.allowDangerousProtocol?void 0:Sb)+'" alt="'),E(pe.label),g('"')):g('<a href="'+wr(De.destination,t.allowDangerousProtocol?void 0:Pc)+'"'),g(De.title?' title="'+De.title+'"':""),pe.image?g(" />"):(g(">"),E(pe.label),g("</a>")),i.pop()}function z(){B(),i.push({})}function Y($){R(),i[i.length-1].labelId=this.sliceSerialize($)}function re(){B(),s("ignoreEncode",!0)}function fe(){i[i.length-1].destination=R(),s("ignoreEncode")}function de(){i[i.length-1].title=R()}function Ae(){const $=i[i.length-1],pe=Bn($.labelId);R(),zc.call(r,pe)||(r[pe]=i[i.length-1]),i.pop()}function Re(){s("slurpAllLineEndings",!0)}function ke($){I("headingRank")||(s("headingRank",this.sliceSerialize($).length),T(),g("<h"+I("headingRank")+">"))}function Ee(){B(),s("slurpAllLineEndings")}function _e(){s("slurpAllLineEndings",!0)}function qe(){g("</h"+I("headingRank")+">"),s("headingRank")}function je($){s("headingRank",this.sliceSerialize($).charCodeAt(0)===61?1:2)}function ze(){const $=R();T(),g("<h"+I("headingRank")+">"),E($),g("</h"+I("headingRank")+">"),s("slurpAllLineEndings"),s("headingRank")}function Pe($){E(C(this.sliceSerialize($)))}function We($){if(!I("slurpAllLineEndings")){if(I("slurpOneLineEnding")){s("slurpOneLineEnding");return}if(I("inCodeText")){E(" ");return}E(C(this.sliceSerialize($)))}}function ue($){E(C(this.sliceSerialize($))),s("flowCodeSeenData",!0)}function Se(){g("<br />")}function te(){T(),F()}function Oe(){s("ignoreEncode")}function F(){t.allowDangerousHtml&&s("ignoreEncode",!0)}function H(){g("<em>")}function P(){g("<strong>")}function V(){s("inCodeText",!0),g("<code>")}function G(){s("inCodeText"),g("</code>")}function D(){g("</em>")}function Q(){g("</strong>")}function ee(){T(),g("<hr />")}function W($){s("characterReferenceType",$.type)}function le($){let pe=this.sliceSerialize($);pe=I("characterReferenceType")?gb(pe,I("characterReferenceType")==="characterReferenceMarkerNumeric"?10:16):Hc(pe),E(C(pe)),s("characterReferenceType")}function ne($){const pe=this.sliceSerialize($);g('<a href="'+wr(pe,t.allowDangerousProtocol?void 0:Pc)+'">'),E(C(pe)),g("</a>")}function ce($){const pe=this.sliceSerialize($);g('<a href="'+wr("mailto:"+pe)+'">'),E(C(pe)),g("</a>")}}function ct(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return a;function a(d){return ot(d)?(e.enter(n),l(d)):t(d)}function l(d){return ot(d)&&i++<o?(e.consume(d),l):(e.exit(n),t(d))}}const Ab={tokenize:Eb};function Eb(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),ct(e,t,"linePrefix")}function o(l){return e.enter("paragraph"),i(l)}function i(l){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Ze(l)?(e.consume(l),e.exit("chunkText"),i):(e.consume(l),a)}}const Tb={tokenize:Rb},Uc={tokenize:Cb};function Rb(e){const t=this,n=[];let r=0,o,i,a;return l;function l(E){if(r<n.length){const L=n[r];return t.containerState=L[1],e.attempt(L[0].continuation,d,f)(E)}return f(E)}function d(E){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&g();const L=t.events.length;let T=L,C;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){C=t.events[T][1].end;break}R(r);let v=L;for(;v<t.events.length;)t.events[v][1].end=Object.assign({},C),v++;return an(t.events,T+1,0,t.events.slice(L)),t.events.length=v,f(E)}return l(E)}function f(E){if(r===n.length){if(!o)return p(E);if(o.currentConstruct&&o.currentConstruct.concrete)return s(E);t.interrupt=Boolean(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Uc,m,c)(E)}function m(E){return o&&g(),R(r),p(E)}function c(E){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,s(E)}function p(E){return t.containerState={},e.attempt(Uc,h,s)(E)}function h(E){return r++,n.push([t.currentConstruct,t.containerState]),p(E)}function s(E){if(E===null){o&&g(),R(0),e.consume(E);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:o}),I(E)}function I(E){if(E===null){B(e.exit("chunkFlow"),!0),R(0),e.consume(E);return}return Ze(E)?(e.consume(E),B(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(E),I)}function B(E,L){const T=t.sliceStream(E);if(L&&T.push(null),E.previous=i,i&&(i.next=E),i=E,o.defineSkip(E.start),o.write(T),t.parser.lazy[E.start.line]){let C=o.events.length;for(;C--;)if(o.events[C][1].start.offset<a&&(!o.events[C][1].end||o.events[C][1].end.offset>a))return;const v=t.events.length;let A=v,S,b;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if(S){b=t.events[A][1].end;break}S=!0}for(R(r),C=v;C<t.events.length;)t.events[C][1].end=Object.assign({},b),C++;an(t.events,A+1,0,t.events.slice(v)),t.events.length=C}}function R(E){let L=n.length;for(;L-- >E;){const T=n[L];t.containerState=T[1],T[0].exit.call(t,e)}n.length=E}function g(){o.write([null]),i=void 0,o=void 0,t.containerState._closeFlow=void 0}}function Cb(e,t,n){return ct(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function wo(e){if(e===null||wt(e)||Vr(e))return 1;if(Wa(e))return 2}function ko(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const i=e[o].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const Za={name:"attention",tokenize:Bb,resolveAll:Ib};function Ib(e,t){let n=-1,r,o,i,a,l,d,f,m;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const c=Object.assign({},e[r][1].end),p=Object.assign({},e[n][1].start);Vc(c,-d),Vc(p,d),a={type:d>1?"strongSequence":"emphasisSequence",start:c,end:Object.assign({},e[r][1].end)},l={type:d>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:p},i={type:d>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},o={type:d>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},l.end)},e[r][1].end=Object.assign({},a.start),e[n][1].start=Object.assign({},l.end),f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=qt(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=qt(f,[["enter",o,t],["enter",a,t],["exit",a,t],["enter",i,t]]),f=qt(f,ko(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=qt(f,[["exit",i,t],["enter",l,t],["exit",l,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(m=2,f=qt(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):m=0,an(e,r-1,n-r+3,f),n=r+f.length-m-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Bb(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=wo(r);let i;return a;function a(d){return i=d,e.enter("attentionSequence"),l(d)}function l(d){if(d===i)return e.consume(d),l;const f=e.exit("attentionSequence"),m=wo(d),c=!m||m===2&&o||n.includes(d),p=!o||o===2&&m||n.includes(r);return f._open=Boolean(i===42?c:c&&(o||!p)),f._close=Boolean(i===42?p:p&&(m||!c)),t(d)}}function Vc(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Ob={name:"autolink",tokenize:Fb};function Fb(e,t,n){let r=0;return o;function o(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(h){return Wt(h)?(e.consume(h),a):f(h)}function a(h){return h===43||h===45||h===46||zt(h)?(r=1,l(h)):f(h)}function l(h){return h===58?(e.consume(h),r=0,d):(h===43||h===45||h===46||zt(h))&&r++<32?(e.consume(h),l):(r=0,f(h))}function d(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||yo(h)?n(h):(e.consume(h),d)}function f(h){return h===64?(e.consume(h),m):xb(h)?(e.consume(h),f):n(h)}function m(h){return zt(h)?c(h):n(h)}function c(h){return h===46?(e.consume(h),r=0,m):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):p(h)}function p(h){if((h===45||zt(h))&&r++<63){const s=h===45?p:c;return e.consume(h),s}return n(h)}}const xi={tokenize:Lb,partial:!0};function Lb(e,t,n){return r;function r(i){return ot(i)?ct(e,o,"linePrefix")(i):o(i)}function o(i){return i===null||Ze(i)?t(i):n(i)}}const Yc={name:"blockQuote",tokenize:jb,continuation:{tokenize:Hb},exit:Nb};function jb(e,t,n){const r=this;return o;function o(a){if(a===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),i}return n(a)}function i(a){return ot(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function Hb(e,t,n){const r=this;return o;function o(a){return ot(a)?ct(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):i(a)}function i(a){return e.attempt(Yc,t,n)(a)}}function Nb(e){e.exit("blockQuote")}const Xc={name:"characterEscape",tokenize:Db};function Db(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),o}function o(i){return wb(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const Kc={name:"characterReference",tokenize:qb};function qb(e,t,n){const r=this;let o=0,i,a;return l;function l(c){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),d}function d(c){return c===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(c),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),i=31,a=zt,m(c))}function f(c){return c===88||c===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(c),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,a=yb,m):(e.enter("characterReferenceValue"),i=7,a=Ga,m(c))}function m(c){if(c===59&&o){const p=e.exit("characterReferenceValue");return a===zt&&!Hc(r.sliceSerialize(p))?n(c):(e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(c)&&o++<i?(e.consume(c),m):n(c)}}const Gc={tokenize:Pb,partial:!0},Wc={name:"codeFenced",tokenize:zb,concrete:!0};function zb(e,t,n){const r=this,o={tokenize:T,partial:!0};let i=0,a=0,l;return d;function d(C){return f(C)}function f(C){const v=r.events[r.events.length-1];return i=v&&v[1].type==="linePrefix"?v[2].sliceSerialize(v[1],!0).length:0,l=C,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),m(C)}function m(C){return C===l?(a++,e.consume(C),m):a<3?n(C):(e.exit("codeFencedFenceSequence"),ot(C)?ct(e,c,"whitespace")(C):c(C))}function c(C){return C===null||Ze(C)?(e.exit("codeFencedFence"),r.interrupt?t(C):e.check(Gc,I,L)(C)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(C))}function p(C){return C===null||Ze(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(C)):ot(C)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ct(e,h,"whitespace")(C)):C===96&&C===l?n(C):(e.consume(C),p)}function h(C){return C===null||Ze(C)?c(C):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),s(C))}function s(C){return C===null||Ze(C)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(C)):C===96&&C===l?n(C):(e.consume(C),s)}function I(C){return e.attempt(o,L,B)(C)}function B(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),R}function R(C){return i>0&&ot(C)?ct(e,g,"linePrefix",i+1)(C):g(C)}function g(C){return C===null||Ze(C)?e.check(Gc,I,L)(C):(e.enter("codeFlowValue"),E(C))}function E(C){return C===null||Ze(C)?(e.exit("codeFlowValue"),g(C)):(e.consume(C),E)}function L(C){return e.exit("codeFenced"),t(C)}function T(C,v,A){let S=0;return b;function b(w){return C.enter("lineEnding"),C.consume(w),C.exit("lineEnding"),x}function x(w){return C.enter("codeFencedFence"),ot(w)?ct(C,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):_(w)}function _(w){return w===l?(C.enter("codeFencedFenceSequence"),y(w)):A(w)}function y(w){return w===l?(S++,C.consume(w),y):S>=a?(C.exit("codeFencedFenceSequence"),ot(w)?ct(C,k,"whitespace")(w):k(w)):A(w)}function k(w){return w===null||Ze(w)?(C.exit("codeFencedFence"),v(w)):A(w)}}}function Pb(e,t,n){const r=this;return o;function o(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i)}function i(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Qa={name:"codeIndented",tokenize:Vb},Ub={tokenize:Yb,partial:!0};function Vb(e,t,n){const r=this;return o;function o(f){return e.enter("codeIndented"),ct(e,i,"linePrefix",4+1)(f)}function i(f){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?a(f):n(f)}function a(f){return f===null?d(f):Ze(f)?e.attempt(Ub,a,d)(f):(e.enter("codeFlowValue"),l(f))}function l(f){return f===null||Ze(f)?(e.exit("codeFlowValue"),a(f)):(e.consume(f),l)}function d(f){return e.exit("codeIndented"),t(f)}}function Yb(e,t,n){const r=this;return o;function o(a){return r.parser.lazy[r.now().line]?n(a):Ze(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):ct(e,i,"linePrefix",4+1)(a)}function i(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):Ze(a)?o(a):n(a)}}const Xb={name:"codeText",tokenize:Wb,resolve:Kb,previous:Gb};function Kb(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function Gb(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Wb(e,t,n){let r=0,o,i;return a;function a(c){return e.enter("codeText"),e.enter("codeTextSequence"),l(c)}function l(c){return c===96?(e.consume(c),r++,l):(e.exit("codeTextSequence"),d(c))}function d(c){return c===null?n(c):c===32?(e.enter("space"),e.consume(c),e.exit("space"),d):c===96?(i=e.enter("codeTextSequence"),o=0,m(c)):Ze(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(c))}function f(c){return c===null||c===32||c===96||Ze(c)?(e.exit("codeTextData"),d(c)):(e.consume(c),f)}function m(c){return c===96?(e.consume(c),o++,m):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(c)):(i.type="codeTextData",f(c))}}function Zc(e){const t={};let n=-1,r,o,i,a,l,d,f;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,i=0,i<d.length&&d[i][1].type==="lineEndingBlank"&&(i+=2),i<d.length&&d[i][1].type==="content"))for(;++i<d.length&&d[i][1].type!=="content";)d[i][1].type==="chunkText"&&(d[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Zb(e,n)),n=t[n],f=!0);else if(r[1]._container){for(i=n,o=void 0;i--&&(a=e[i],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(o&&(e[o][1].type="lineEndingBlank"),a[1].type="lineEnding",o=i);o&&(r[1].end=Object.assign({},e[o][1].start),l=e.slice(o,n),l.unshift(r),an(e,o,n-o+1,l))}}return!f}function Zb(e,t){const n=e[t][1],r=e[t][2];let o=t-1;const i=[],a=n._tokenizer||r.parser[n.contentType](n.start),l=a.events,d=[],f={};let m,c,p=-1,h=n,s=0,I=0;const B=[I];for(;h;){for(;e[++o][1]!==h;);i.push(o),h._tokenizer||(m=r.sliceStream(h),h.next||m.push(null),c&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(m),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),c=h,h=h.next}for(h=n;++p<l.length;)l[p][0]==="exit"&&l[p-1][0]==="enter"&&l[p][1].type===l[p-1][1].type&&l[p][1].start.line!==l[p][1].end.line&&(I=p+1,B.push(I),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):B.pop(),p=B.length;p--;){const R=l.slice(B[p],B[p+1]),g=i.pop();d.unshift([g,g+R.length-1]),an(e,g,2,R)}for(p=-1;++p<d.length;)f[s+d[p][0]]=s+d[p][1],s+=d[p][1]-d[p][0]-1;return f}const Qb={tokenize:em,resolve:$b},Jb={tokenize:tm,partial:!0};function $b(e){return Zc(e),e}function em(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(l)}function o(l){return l===null?i(l):Ze(l)?e.check(Jb,a,i)(l):(e.consume(l),o)}function i(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function a(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function tm(e,t,n){const r=this;return o;function o(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ct(e,i,"linePrefix")}function i(a){if(a===null||Ze(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function Qc(e,t,n,r,o,i,a,l,d){const f=d||Number.POSITIVE_INFINITY;let m=0;return c;function c(R){return R===60?(e.enter(r),e.enter(o),e.enter(i),e.consume(R),e.exit(i),p):R===null||R===32||R===41||yo(R)?n(R):(e.enter(r),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),I(R))}function p(R){return R===62?(e.enter(i),e.consume(R),e.exit(i),e.exit(o),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),h(R))}function h(R){return R===62?(e.exit("chunkString"),e.exit(l),p(R)):R===null||R===60||Ze(R)?n(R):(e.consume(R),R===92?s:h)}function s(R){return R===60||R===62||R===92?(e.consume(R),h):h(R)}function I(R){return!m&&(R===null||R===41||wt(R))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(r),t(R)):m<f&&R===40?(e.consume(R),m++,I):R===41?(e.consume(R),m--,I):R===null||R===32||R===40||yo(R)?n(R):(e.consume(R),R===92?B:I)}function B(R){return R===40||R===41||R===92?(e.consume(R),I):I(R)}}function Jc(e,t,n,r,o,i){const a=this;let l=0,d;return f;function f(h){return e.enter(r),e.enter(o),e.consume(h),e.exit(o),e.enter(i),m}function m(h){return l>999||h===null||h===91||h===93&&!d||h===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):h===93?(e.exit(i),e.enter(o),e.consume(h),e.exit(o),e.exit(r),t):Ze(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),m):(e.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===null||h===91||h===93||Ze(h)||l++>999?(e.exit("chunkString"),m(h)):(e.consume(h),d||(d=!ot(h)),h===92?p:c)}function p(h){return h===91||h===92||h===93?(e.consume(h),l++,c):c(h)}}function $c(e,t,n,r,o,i){let a;return l;function l(p){return p===34||p===39||p===40?(e.enter(r),e.enter(o),e.consume(p),e.exit(o),a=p===40?41:p,d):n(p)}function d(p){return p===a?(e.enter(o),e.consume(p),e.exit(o),e.exit(r),t):(e.enter(i),f(p))}function f(p){return p===a?(e.exit(i),d(a)):p===null?n(p):Ze(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),ct(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),m(p))}function m(p){return p===a||p===null||Ze(p)?(e.exit("chunkString"),f(p)):(e.consume(p),p===92?c:m)}function c(p){return p===a||p===92?(e.consume(p),m):m(p)}}function yi(e,t){let n;return r;function r(o){return Ze(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):ot(o)?ct(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const nm={name:"definition",tokenize:im},rm={tokenize:om,partial:!0};function im(e,t,n){const r=this;let o;return i;function i(h){return e.enter("definition"),a(h)}function a(h){return Jc.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return o=Bn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),d):n(h)}function d(h){return wt(h)?yi(e,f)(h):f(h)}function f(h){return Qc(e,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function m(h){return e.attempt(rm,c,c)(h)}function c(h){return ot(h)?ct(e,p,"whitespace")(h):p(h)}function p(h){return h===null||Ze(h)?(e.exit("definition"),r.parser.defined.push(o),t(h)):n(h)}}function om(e,t,n){return r;function r(l){return wt(l)?yi(e,o)(l):n(l)}function o(l){return $c(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return ot(l)?ct(e,a,"whitespace")(l):a(l)}function a(l){return l===null||Ze(l)?t(l):n(l)}}const am={name:"hardBreakEscape",tokenize:sm};function sm(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),o}function o(i){return Ze(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const lm={name:"headingAtx",tokenize:fm,resolve:cm};function cm(e,t){let n=e.length-2,r=3,o,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},an(e,r,n-r+1,[["enter",o,t],["enter",i,t],["exit",i,t],["exit",o,t]])),e}function fm(e,t,n){let r=0;return o;function o(m){return e.enter("atxHeading"),i(m)}function i(m){return e.enter("atxHeadingSequence"),a(m)}function a(m){return m===35&&r++<6?(e.consume(m),a):m===null||wt(m)?(e.exit("atxHeadingSequence"),l(m)):n(m)}function l(m){return m===35?(e.enter("atxHeadingSequence"),d(m)):m===null||Ze(m)?(e.exit("atxHeading"),t(m)):ot(m)?ct(e,l,"whitespace")(m):(e.enter("atxHeadingText"),f(m))}function d(m){return m===35?(e.consume(m),d):(e.exit("atxHeadingSequence"),l(m))}function f(m){return m===null||m===35||wt(m)?(e.exit("atxHeadingText"),l(m)):(e.consume(m),f)}}const um=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ef=["pre","script","style","textarea"],dm={name:"htmlFlow",tokenize:pm,resolveTo:hm,concrete:!0},bm={tokenize:vm,partial:!0},mm={tokenize:gm,partial:!0};function hm(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function pm(e,t,n){const r=this;let o,i,a,l,d;return f;function f(O){return m(O)}function m(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),c}function c(O){return O===33?(e.consume(O),p):O===47?(e.consume(O),i=!0,I):O===63?(e.consume(O),o=3,r.interrupt?t:u):Wt(O)?(e.consume(O),a=String.fromCharCode(O),B):n(O)}function p(O){return O===45?(e.consume(O),o=2,h):O===91?(e.consume(O),o=5,l=0,s):Wt(O)?(e.consume(O),o=4,r.interrupt?t:u):n(O)}function h(O){return O===45?(e.consume(O),r.interrupt?t:u):n(O)}function s(O){const me="CDATA[";return O===me.charCodeAt(l++)?(e.consume(O),l===me.length?r.interrupt?t:_:s):n(O)}function I(O){return Wt(O)?(e.consume(O),a=String.fromCharCode(O),B):n(O)}function B(O){if(O===null||O===47||O===62||wt(O)){const me=O===47,Me=a.toLowerCase();return!me&&!i&&ef.includes(Me)?(o=1,r.interrupt?t(O):_(O)):um.includes(a.toLowerCase())?(o=6,me?(e.consume(O),R):r.interrupt?t(O):_(O)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):i?g(O):E(O))}return O===45||zt(O)?(e.consume(O),a+=String.fromCharCode(O),B):n(O)}function R(O){return O===62?(e.consume(O),r.interrupt?t:_):n(O)}function g(O){return ot(O)?(e.consume(O),g):b(O)}function E(O){return O===47?(e.consume(O),b):O===58||O===95||Wt(O)?(e.consume(O),L):ot(O)?(e.consume(O),E):b(O)}function L(O){return O===45||O===46||O===58||O===95||zt(O)?(e.consume(O),L):T(O)}function T(O){return O===61?(e.consume(O),C):ot(O)?(e.consume(O),T):E(O)}function C(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),d=O,v):ot(O)?(e.consume(O),C):A(O)}function v(O){return O===d?(e.consume(O),d=null,S):O===null||Ze(O)?n(O):(e.consume(O),v)}function A(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||wt(O)?T(O):(e.consume(O),A)}function S(O){return O===47||O===62||ot(O)?E(O):n(O)}function b(O){return O===62?(e.consume(O),x):n(O)}function x(O){return O===null||Ze(O)?_(O):ot(O)?(e.consume(O),x):n(O)}function _(O){return O===45&&o===2?(e.consume(O),N):O===60&&o===1?(e.consume(O),X):O===62&&o===4?(e.consume(O),M):O===63&&o===3?(e.consume(O),u):O===93&&o===5?(e.consume(O),U):Ze(O)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(bm,Z,y)(O)):O===null||Ze(O)?(e.exit("htmlFlowData"),y(O)):(e.consume(O),_)}function y(O){return e.check(mm,k,Z)(O)}function k(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),w}function w(O){return O===null||Ze(O)?y(O):(e.enter("htmlFlowData"),_(O))}function N(O){return O===45?(e.consume(O),u):_(O)}function X(O){return O===47?(e.consume(O),a="",q):_(O)}function q(O){if(O===62){const me=a.toLowerCase();return ef.includes(me)?(e.consume(O),M):_(O)}return Wt(O)&&a.length<8?(e.consume(O),a+=String.fromCharCode(O),q):_(O)}function U(O){return O===93?(e.consume(O),u):_(O)}function u(O){return O===62?(e.consume(O),M):O===45&&o===2?(e.consume(O),u):_(O)}function M(O){return O===null||Ze(O)?(e.exit("htmlFlowData"),Z(O)):(e.consume(O),M)}function Z(O){return e.exit("htmlFlow"),t(O)}}function gm(e,t,n){const r=this;return o;function o(a){return Ze(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):n(a)}function i(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function vm(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(xi,t,n)}}const _m={name:"htmlText",tokenize:xm};function xm(e,t,n){const r=this;let o,i,a;return l;function l(u){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(u),d}function d(u){return u===33?(e.consume(u),f):u===47?(e.consume(u),T):u===63?(e.consume(u),E):Wt(u)?(e.consume(u),A):n(u)}function f(u){return u===45?(e.consume(u),m):u===91?(e.consume(u),i=0,s):Wt(u)?(e.consume(u),g):n(u)}function m(u){return u===45?(e.consume(u),h):n(u)}function c(u){return u===null?n(u):u===45?(e.consume(u),p):Ze(u)?(a=c,X(u)):(e.consume(u),c)}function p(u){return u===45?(e.consume(u),h):c(u)}function h(u){return u===62?N(u):u===45?p(u):c(u)}function s(u){const M="CDATA[";return u===M.charCodeAt(i++)?(e.consume(u),i===M.length?I:s):n(u)}function I(u){return u===null?n(u):u===93?(e.consume(u),B):Ze(u)?(a=I,X(u)):(e.consume(u),I)}function B(u){return u===93?(e.consume(u),R):I(u)}function R(u){return u===62?N(u):u===93?(e.consume(u),R):I(u)}function g(u){return u===null||u===62?N(u):Ze(u)?(a=g,X(u)):(e.consume(u),g)}function E(u){return u===null?n(u):u===63?(e.consume(u),L):Ze(u)?(a=E,X(u)):(e.consume(u),E)}function L(u){return u===62?N(u):E(u)}function T(u){return Wt(u)?(e.consume(u),C):n(u)}function C(u){return u===45||zt(u)?(e.consume(u),C):v(u)}function v(u){return Ze(u)?(a=v,X(u)):ot(u)?(e.consume(u),v):N(u)}function A(u){return u===45||zt(u)?(e.consume(u),A):u===47||u===62||wt(u)?S(u):n(u)}function S(u){return u===47?(e.consume(u),N):u===58||u===95||Wt(u)?(e.consume(u),b):Ze(u)?(a=S,X(u)):ot(u)?(e.consume(u),S):N(u)}function b(u){return u===45||u===46||u===58||u===95||zt(u)?(e.consume(u),b):x(u)}function x(u){return u===61?(e.consume(u),_):Ze(u)?(a=x,X(u)):ot(u)?(e.consume(u),x):S(u)}function _(u){return u===null||u===60||u===61||u===62||u===96?n(u):u===34||u===39?(e.consume(u),o=u,y):Ze(u)?(a=_,X(u)):ot(u)?(e.consume(u),_):(e.consume(u),k)}function y(u){return u===o?(e.consume(u),o=void 0,w):u===null?n(u):Ze(u)?(a=y,X(u)):(e.consume(u),y)}function k(u){return u===null||u===34||u===39||u===60||u===61||u===96?n(u):u===47||u===62||wt(u)?S(u):(e.consume(u),k)}function w(u){return u===47||u===62||wt(u)?S(u):n(u)}function N(u){return u===62?(e.consume(u),e.exit("htmlTextData"),e.exit("htmlText"),t):n(u)}function X(u){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),q}function q(u){return ot(u)?ct(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):U(u)}function U(u){return e.enter("htmlTextData"),a(u)}}const Ja={name:"labelEnd",tokenize:Am,resolveTo:Mm,resolveAll:Sm},ym={tokenize:Em},wm={tokenize:Tm},km={tokenize:Rm};function Sm(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function Mm(e,t){let n=e.length,r=0,o,i,a,l;for(;n--;)if(o=e[n][1],i){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(i=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(a=n);const d={type:e[i][1].type==="labelLink"?"link":"image",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)},f={type:"label",start:Object.assign({},e[i][1].start),end:Object.assign({},e[a][1].end)},m={type:"labelText",start:Object.assign({},e[i+r+2][1].end),end:Object.assign({},e[a-2][1].start)};return l=[["enter",d,t],["enter",f,t]],l=qt(l,e.slice(i+1,i+r+3)),l=qt(l,[["enter",m,t]]),l=qt(l,ko(t.parser.constructs.insideSpan.null,e.slice(i+r+4,a-3),t)),l=qt(l,[["exit",m,t],e[a-2],e[a-1],["exit",f,t]]),l=qt(l,e.slice(a+1)),l=qt(l,[["exit",d,t]]),an(e,i,e.length,l),e}function Am(e,t,n){const r=this;let o=r.events.length,i,a;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){i=r.events[o][1];break}return l;function l(p){return i?i._inactive?c(p):(a=r.parser.defined.includes(Bn(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),d):n(p)}function d(p){return p===40?e.attempt(ym,m,a?m:c)(p):p===91?e.attempt(wm,m,a?f:c)(p):a?m(p):c(p)}function f(p){return e.attempt(km,m,c)(p)}function m(p){return t(p)}function c(p){return i._balanced=!0,n(p)}}function Em(e,t,n){return r;function r(c){return e.enter("resource"),e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),o}function o(c){return wt(c)?yi(e,i)(c):i(c)}function i(c){return c===41?m(c):Qc(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function a(c){return wt(c)?yi(e,d)(c):m(c)}function l(c){return n(c)}function d(c){return c===34||c===39||c===40?$c(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):m(c)}function f(c){return wt(c)?yi(e,m)(c):m(c)}function m(c){return c===41?(e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),e.exit("resource"),t):n(c)}}function Tm(e,t,n){const r=this;return o;function o(l){return Jc.call(r,e,i,a,"reference","referenceMarker","referenceString")(l)}function i(l){return r.parser.defined.includes(Bn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function a(l){return n(l)}}function Rm(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),o}function o(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const Cm={name:"labelStartImage",tokenize:Im,resolveAll:Ja.resolveAll};function Im(e,t,n){const r=this;return o;function o(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),i}function i(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Bm={name:"labelStartLink",tokenize:Om,resolveAll:Ja.resolveAll};function Om(e,t,n){const r=this;return o;function o(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),i}function i(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const $a={name:"lineEnding",tokenize:Fm};function Fm(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ct(e,t,"linePrefix")}}const So={name:"thematicBreak",tokenize:Lm};function Lm(e,t,n){let r=0,o;return i;function i(f){return e.enter("thematicBreak"),a(f)}function a(f){return o=f,l(f)}function l(f){return f===o?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Ze(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===o?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),ot(f)?ct(e,l,"whitespace")(f):l(f))}}const Qt={name:"list",tokenize:Nm,continuation:{tokenize:Dm},exit:zm},jm={tokenize:Pm,partial:!0},Hm={tokenize:qm,partial:!0};function Nm(e,t,n){const r=this,o=r.events[r.events.length-1];let i=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,a=0;return l;function l(h){const s=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(s==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Ga(h)){if(r.containerState.type||(r.containerState.type=s,e.enter(s,{_container:!0})),s==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(So,n,f)(h):f(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(h)}return n(h)}function d(h){return Ga(h)&&++a<10?(e.consume(h),d):(!r.interrupt||a<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),f(h)):n(h)}function f(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(xi,r.interrupt?n:m,e.attempt(jm,p,c))}function m(h){return r.containerState.initialBlankLine=!0,i++,p(h)}function c(h){return ot(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),p):n(h)}function p(h){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function Dm(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(xi,o,i);function o(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ct(e,t,"listItemIndent",r.containerState.size+1)(l)}function i(l){return r.containerState.furtherBlankLines||!ot(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Hm,t,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,ct(e,e.attempt(Qt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function qm(e,t,n){const r=this;return ct(e,o,"listItemIndent",r.containerState.size+1);function o(i){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(i):n(i)}}function zm(e){e.exit(this.containerState.type)}function Pm(e,t,n){const r=this;return ct(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function o(i){const a=r.events[r.events.length-1];return!ot(i)&&a&&a[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const tf={name:"setextUnderline",tokenize:Vm,resolveTo:Um};function Um(e,t){let n=e.length,r,o,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const a={type:"setextHeading",start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[o][1].type="setextHeadingText",i?(e.splice(o,0,["enter",a,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[i][1].end)):e[r][1]=a,e.push(["exit",a,t]),e}function Vm(e,t,n){const r=this;let o;return i;function i(f){let m=r.events.length,c;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){c=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||c)?(e.enter("setextHeadingLine"),o=f,a(f)):n(f)}function a(f){return e.enter("setextHeadingLineSequence"),l(f)}function l(f){return f===o?(e.consume(f),l):(e.exit("setextHeadingLineSequence"),ot(f)?ct(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Ze(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const Ym={tokenize:Xm};function Xm(e){const t=this,n=e.attempt(xi,r,e.attempt(this.parser.constructs.flowInitial,o,ct(e,e.attempt(this.parser.constructs.flow,o,e.attempt(Qb,o)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Km={resolveAll:rf()},Gm=nf("string"),Wm=nf("text");function nf(e){return{tokenize:t,resolveAll:rf(e==="text"?Zm:void 0)};function t(n){const r=this,o=this.parser.constructs[e],i=n.attempt(o,a,l);return a;function a(m){return f(m)?i(m):l(m)}function l(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),d}function d(m){return f(m)?(n.exit("data"),i(m)):(n.consume(m),d)}function f(m){if(m===null)return!0;const c=o[m];let p=-1;if(c)for(;++p<c.length;){const h=c[p];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function rf(e){return t;function t(n,r){let o=-1,i;for(;++o<=n.length;)i===void 0?n[o]&&n[o][1].type==="data"&&(i=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==i+2&&(n[i][1].end=n[o-1][1].end,n.splice(i+2,o-i-2),o=i+2),i=void 0);return e?e(n,r):n}}function Zm(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let i=o.length,a=-1,l=0,d;for(;i--;){const f=o[i];if(typeof f=="string"){for(a=f.length;f.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(f===-2)d=!0,l++;else if(f!==-1){i++;break}}if(l){const f={type:n===e.length||d||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+i,_bufferIndex:i?a:r.start._bufferIndex+a},end:Object.assign({},r.end)};r.end=Object.assign({},f.start),r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}function Qm(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const o={},i=[];let a=[],l=[];const d={consume:g,enter:E,exit:L,attempt:v(T),check:v(C),interrupt:v(C,{interrupt:!0})},f={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:p,now:s,defineSkip:I,write:c};let m=t.tokenize.call(f,d);return t.resolveAll&&i.push(t),f;function c(x){return a=qt(a,x),B(),a[a.length-1]!==null?[]:(A(t,0),f.events=ko(i,f.events,f),f.events)}function p(x,_){return $m(h(x),_)}function h(x){return Jm(a,x)}function s(){const{line:x,column:_,offset:y,_index:k,_bufferIndex:w}=r;return{line:x,column:_,offset:y,_index:k,_bufferIndex:w}}function I(x){o[x.line]=x.column,b()}function B(){let x;for(;r._index<a.length;){const _=a[r._index];if(typeof _=="string")for(x=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===x&&r._bufferIndex<_.length;)R(_.charCodeAt(r._bufferIndex));else R(_)}}function R(x){m=m(x)}function g(x){Ze(x)?(r.line++,r.column=1,r.offset+=x===-3?2:1,b()):x!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=x}function E(x,_){const y=_||{};return y.type=x,y.start=s(),f.events.push(["enter",y,f]),l.push(y),y}function L(x){const _=l.pop();return _.end=s(),f.events.push(["exit",_,f]),_}function T(x,_){A(x,_.from)}function C(x,_){_.restore()}function v(x,_){return y;function y(k,w,N){let X,q,U,u;return Array.isArray(k)?Z(k):"tokenize"in k?Z([k]):M(k);function M(ve){return ge;function ge(Ne){const Ce=Ne!==null&&ve[Ne],he=Ne!==null&&ve.null,Ye=[...Array.isArray(Ce)?Ce:Ce?[Ce]:[],...Array.isArray(he)?he:he?[he]:[]];return Z(Ye)(Ne)}}function Z(ve){return X=ve,q=0,ve.length===0?N:O(ve[q])}function O(ve){return ge;function ge(Ne){return u=S(),U=ve,ve.partial||(f.currentConstruct=ve),ve.name&&f.parser.constructs.disable.null.includes(ve.name)?Me():ve.tokenize.call(_?Object.assign(Object.create(f),_):f,d,me,Me)(Ne)}}function me(ve){return x(U,u),w}function Me(ve){return u.restore(),++q<X.length?O(X[q]):N}}}function A(x,_){x.resolveAll&&!i.includes(x)&&i.push(x),x.resolve&&an(f.events,_,f.events.length-_,x.resolve(f.events.slice(_),f)),x.resolveTo&&(f.events=x.resolveTo(f.events,f))}function S(){const x=s(),_=f.previous,y=f.currentConstruct,k=f.events.length,w=Array.from(l);return{restore:N,from:k};function N(){r=x,f.previous=_,f.currentConstruct=y,f.events.length=k,l=w,b()}}function b(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function Jm(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,i=t.end._bufferIndex;let a;if(n===o)a=[e[n].slice(r,i)];else{if(a=e.slice(n,o),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}i>0&&a.push(e[o].slice(0,i))}return a}function $m(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const i=e[n];let a;if(typeof i=="string")a=i;else switch(i){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&o)continue;a=" ";break}default:a=String.fromCharCode(i)}o=i===-2,r.push(a)}return r.join("")}var eh=Object.freeze(Object.defineProperty({__proto__:null,document:{[42]:Qt,[43]:Qt,[45]:Qt,[48]:Qt,[49]:Qt,[50]:Qt,[51]:Qt,[52]:Qt,[53]:Qt,[54]:Qt,[55]:Qt,[56]:Qt,[57]:Qt,[62]:Yc},contentInitial:{[91]:nm},flowInitial:{[-2]:Qa,[-1]:Qa,[32]:Qa},flow:{[35]:lm,[42]:So,[45]:[tf,So],[60]:dm,[61]:tf,[95]:So,[96]:Wc,[126]:Wc},string:{[38]:Kc,[92]:Xc},text:{[-5]:$a,[-4]:$a,[-3]:$a,[33]:Cm,[38]:Kc,[42]:Za,[60]:[Ob,_m],[91]:Bm,[92]:[am,Xc],[93]:Ja,[95]:Za,[96]:Xb},insideSpan:{null:[Za,Km]},attentionMarkers:{null:[42,95]},disable:{null:[]}},Symbol.toStringTag,{value:"Module"}));function th(e){const n=Nc([eh,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:o(Ab),document:o(Tb),flow:o(Ym),string:o(Gm),text:o(Wm)};return r;function o(i){return a;function a(l){return Qm(r,i,l)}}}function nh(e){for(;!Zc(e););return e}const of=/[\0\t\n\r]/g;function rh(){let e=1,t="",n=!0,r;return o;function o(i,a,l){const d=[];let f,m,c,p,h;for(i=t+i.toString(a),c=0,t="",n&&(i.charCodeAt(0)===65279&&c++,n=void 0);c<i.length;){if(of.lastIndex=c,f=of.exec(i),p=f&&f.index!==void 0?f.index:i.length,h=i.charCodeAt(p),!f){t=i.slice(c);break}if(h===10&&c===p&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),c<p&&(d.push(i.slice(c,p)),e+=p-c),h){case 0:{d.push(65533),e++;break}case 9:{for(m=Math.ceil(e/4)*4,d.push(-2);e++<m;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}c=p+1}return l&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}function ih(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Mb(n)(nh(th(n).document().write(rh()(e,t,!0))))}const oh={tokenize:uh,partial:!0},af={tokenize:dh,partial:!0},sf={tokenize:bh,partial:!0},lf={tokenize:mh,partial:!0},ah={tokenize:hh,partial:!0},cf={tokenize:ch,previous:uf},ff={tokenize:fh,previous:df},Vn={tokenize:lh,previous:bf},On={},sh={text:On};let kr=48;for(;kr<123;)On[kr]=Vn,kr++,kr===58?kr=65:kr===91&&(kr=97);On[43]=Vn,On[45]=Vn,On[46]=Vn,On[95]=Vn,On[72]=[Vn,ff],On[104]=[Vn,ff],On[87]=[Vn,cf],On[119]=[Vn,cf];function lh(e,t,n){const r=this;let o,i;return a;function a(c){return!es(c)||!bf.call(r,r.previous)||ts(r.events)?n(c):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(c))}function l(c){return es(c)?(e.consume(c),l):c===64?(e.consume(c),d):n(c)}function d(c){return c===46?e.check(ah,m,f)(c):c===45||c===95||zt(c)?(i=!0,e.consume(c),d):m(c)}function f(c){return e.consume(c),o=!0,d}function m(c){return i&&o&&Wt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(c)):n(c)}}function ch(e,t,n){const r=this;return o;function o(a){return a!==87&&a!==119||!uf.call(r,r.previous)||ts(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(oh,e.attempt(af,e.attempt(sf,i),n),n)(a))}function i(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function fh(e,t,n){const r=this;let o="",i=!1;return a;function a(c){return(c===72||c===104)&&df.call(r,r.previous)&&!ts(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(c),e.consume(c),l):n(c)}function l(c){if(Wt(c)&&o.length<5)return o+=String.fromCodePoint(c),e.consume(c),l;if(c===58){const p=o.toLowerCase();if(p==="http"||p==="https")return e.consume(c),d}return n(c)}function d(c){return c===47?(e.consume(c),i?f:(i=!0,d)):n(c)}function f(c){return c===null||yo(c)||wt(c)||Vr(c)||Wa(c)?n(c):e.attempt(af,e.attempt(sf,m),n)(c)}function m(c){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(c)}}function uh(e,t,n){let r=0;return o;function o(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),o):a===46&&r===3?(e.consume(a),i):n(a)}function i(a){return a===null?n(a):t(a)}}function dh(e,t,n){let r,o,i;return a;function a(f){return f===46||f===95?e.check(lf,d,l)(f):f===null||wt(f)||Vr(f)||f!==45&&Wa(f)?d(f):(i=!0,e.consume(f),a)}function l(f){return f===95?r=!0:(o=r,r=void 0),e.consume(f),a}function d(f){return o||r||!i?n(f):t(f)}}function bh(e,t){let n=0,r=0;return o;function o(a){return a===40?(n++,e.consume(a),o):a===41&&r<n?i(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(lf,t,i)(a):a===null||wt(a)||Vr(a)?t(a):(e.consume(a),o)}function i(a){return a===41&&r++,e.consume(a),o}}function mh(e,t,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),i):l===93?(e.consume(l),o):l===60||l===null||wt(l)||Vr(l)?t(l):n(l)}function o(l){return l===null||l===40||l===91||wt(l)||Vr(l)?t(l):r(l)}function i(l){return Wt(l)?a(l):n(l)}function a(l){return l===59?(e.consume(l),r):Wt(l)?(e.consume(l),a):n(l)}}function hh(e,t,n){return r;function r(i){return e.consume(i),o}function o(i){return zt(i)?n(i):t(i)}}function uf(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||wt(e)}function df(e){return!Wt(e)}function bf(e){return!(e===47||es(e))}function es(e){return e===43||e===45||e===46||e===95||zt(e)}function ts(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const ph={exit:{literalAutolinkEmail:vh,literalAutolinkHttp:_h,literalAutolinkWww:gh}};function gh(e){ns.call(this,e,"http://")}function vh(e){ns.call(this,e,"mailto:")}function _h(e){ns.call(this,e)}function ns(e,t){const n=this.sliceSerialize(e);this.tag('<a href="'+wr((t||"")+n)+'">'),this.raw(this.encode(n)),this.tag("</a>")}const xh={tokenize:Th,partial:!0};function yh(){return{document:{[91]:{tokenize:Mh,continuation:{tokenize:Ah},exit:Eh}},text:{[91]:{tokenize:Sh},[93]:{add:"after",tokenize:wh,resolveTo:kh}}}}function wh(e,t,n){const r=this;let o=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;o--;){const d=r.events[o][1];if(d.type==="labelImage"){a=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return l;function l(d){if(!a||!a._balanced)return n(d);const f=Bn(r.sliceSerialize({start:a.end,end:r.now()}));return f.codePointAt(0)!==94||!i.includes(f.slice(1))?n(d):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),t(d))}}function kh(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function Sh(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,a;return l;function l(c){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),d}function d(c){return c!==94?n(c):(e.enter("gfmFootnoteCallMarker"),e.consume(c),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(c){if(i>999||c===93&&!a||c===null||c===91||wt(c))return n(c);if(c===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return o.includes(Bn(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(c)}return wt(c)||(a=!0),i++,e.consume(c),c===92?m:f}function m(c){return c===91||c===92||c===93?(e.consume(c),i++,f):f(c)}}function Mh(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,a=0,l;return d;function d(s){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(s),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(s){return s===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(s),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",m):n(s)}function m(s){if(a>999||s===93&&!l||s===null||s===91||wt(s))return n(s);if(s===93){e.exit("chunkString");const I=e.exit("gfmFootnoteDefinitionLabelString");return i=Bn(r.sliceSerialize(I)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(s),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return wt(s)||(l=!0),a++,e.consume(s),s===92?c:m}function c(s){return s===91||s===92||s===93?(e.consume(s),a++,m):m(s)}function p(s){return s===58?(e.enter("definitionMarker"),e.consume(s),e.exit("definitionMarker"),o.includes(i)||o.push(i),ct(e,h,"gfmFootnoteDefinitionWhitespace")):n(s)}function h(s){return t(s)}}function Ah(e,t,n){return e.check(xi,t,e.attempt(xh,t,n))}function Eh(e){e.exit("gfmFootnoteDefinition")}function Th(e,t,n){const r=this;return ct(e,o,"gfmFootnoteDefinitionIndent",4+1);function o(i){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(i):n(i)}}const Rh={}.hasOwnProperty,Ch={};function Ih(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Bh(e){const t=e||Ch,n=t.label||"Footnotes",r=t.labelTagName||"h2",o=t.labelAttributes===null||t.labelAttributes===void 0?'class="sr-only"':t.labelAttributes,i=t.backLabel||Ih,a=t.clobberPrefix===null||t.clobberPrefix===void 0?"user-content-":t.clobberPrefix;return{enter:{gfmFootnoteDefinition(){this.getData("tightStack").push(!1)},gfmFootnoteDefinitionLabelString(){this.buffer()},gfmFootnoteCallString(){this.buffer()}},exit:{gfmFootnoteDefinition(){let l=this.getData("gfmFootnoteDefinitions");const d=this.getData("gfmFootnoteDefinitionStack"),f=this.getData("tightStack"),m=d.pop(),c=this.resume();l||this.setData("gfmFootnoteDefinitions",l={}),Rh.call(l,m)||(l[m]=c),f.pop(),this.setData("slurpOneLineEnding",!0),this.setData("lastWasTag")},gfmFootnoteDefinitionLabelString(l){let d=this.getData("gfmFootnoteDefinitionStack");d||this.setData("gfmFootnoteDefinitionStack",d=[]),d.push(Bn(this.sliceSerialize(l))),this.resume(),this.buffer()},gfmFootnoteCallString(l){let d=this.getData("gfmFootnoteCallOrder"),f=this.getData("gfmFootnoteCallCounts");const m=Bn(this.sliceSerialize(l));let c;this.resume(),d||this.setData("gfmFootnoteCallOrder",d=[]),f||this.setData("gfmFootnoteCallCounts",f={});const p=d.indexOf(m),h=wr(m.toLowerCase());p===-1?(d.push(m),f[m]=1,c=d.length):(f[m]++,c=p+1);const s=f[m];this.tag('<sup><a href="#'+a+"fn-"+h+'" id="'+a+"fnref-"+h+(s>1?"-"+s:"")+'" data-footnote-ref="" aria-describedby="footnote-label">'+String(c)+"</a></sup>")},null(){const l=this.getData("gfmFootnoteCallOrder")||[],d=this.getData("gfmFootnoteCallCounts")||{},f=this.getData("gfmFootnoteDefinitions")||{};let m=-1;for(l.length>0&&(this.lineEndingIfNeeded(),this.tag('<section data-footnotes="" class="footnotes"><'+r+' id="footnote-label"'+(o?" "+o:"")+">"),this.raw(this.encode(n)),this.tag("</"+r+">"),this.lineEndingIfNeeded(),this.tag("<ol>"));++m<l.length;){const c=l[m],p=wr(c.toLowerCase());let h=0;const s=[];for(;++h<=d[c];)s.push('<a href="#'+a+"fnref-"+p+(h>1?"-"+h:"")+'" data-footnote-backref="" aria-label="'+this.encode(typeof i=="string"?i:i(m,h))+'" class="data-footnote-backref">\u21A9'+(h>1?"<sup>"+h+"</sup>":"")+"</a>");const I=s.join(" ");let B=!1;this.lineEndingIfNeeded(),this.tag('<li id="'+a+"fn-"+p+'">'),this.lineEndingIfNeeded(),this.tag(f[c].replace(/<\/p>(?:\r?\n|\r)?$/,R=>(B=!0," "+I+R))),B||(this.lineEndingIfNeeded(),this.tag(I)),this.lineEndingIfNeeded(),this.tag("</li>")}l.length>0&&(this.lineEndingIfNeeded(),this.tag("</ol>"),this.lineEndingIfNeeded(),this.tag("</section>"))}}}}const Oh={enter:{strikethrough(){this.tag("<del>")}},exit:{strikethrough(){this.tag("</del>")}}};function Fh(e){let n=(e||{}).singleTilde;const r={tokenize:i,resolveAll:o};return n==null&&(n=!0),{text:{[126]:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(a,l){let d=-1;for(;++d<a.length;)if(a[d][0]==="enter"&&a[d][1].type==="strikethroughSequenceTemporary"&&a[d][1]._close){let f=d;for(;f--;)if(a[f][0]==="exit"&&a[f][1].type==="strikethroughSequenceTemporary"&&a[f][1]._open&&a[d][1].end.offset-a[d][1].start.offset===a[f][1].end.offset-a[f][1].start.offset){a[d][1].type="strikethroughSequence",a[f][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},a[f][1].start),end:Object.assign({},a[d][1].end)},c={type:"strikethroughText",start:Object.assign({},a[f][1].end),end:Object.assign({},a[d][1].start)},p=[["enter",m,l],["enter",a[f][1],l],["exit",a[f][1],l],["enter",c,l]],h=l.parser.constructs.insideSpan.null;h&&an(p,p.length,0,ko(h,a.slice(f+1,d),l)),an(p,p.length,0,[["exit",c,l],["enter",a[d][1],l],["exit",a[d][1],l],["exit",m,l]]),an(a,f-1,d-f+3,p),d=f+p.length-2;break}}for(d=-1;++d<a.length;)a[d][1].type==="strikethroughSequenceTemporary"&&(a[d][1].type="data");return a}function i(a,l,d){const f=this.previous,m=this.events;let c=0;return p;function p(s){return f===126&&m[m.length-1][1].type!=="characterEscape"?d(s):(a.enter("strikethroughSequenceTemporary"),h(s))}function h(s){const I=wo(f);if(s===126)return c>1?d(s):(a.consume(s),c++,h);if(c<2&&!n)return d(s);const B=a.exit("strikethroughSequenceTemporary"),R=wo(s);return B._open=!R||R===2&&Boolean(I),B._close=!I||I===2&&Boolean(R),l(s)}}}const rs={none:"",left:' align="left"',right:' align="right"',center:' align="center"'},Lh={enter:{table(e){const t=e._align;this.lineEndingIfNeeded(),this.tag("<table>"),this.setData("tableAlign",t)},tableBody(){this.tag("<tbody>")},tableData(){const e=this.getData("tableAlign"),t=this.getData("tableColumn"),n=rs[e[t]];n===void 0?this.buffer():(this.lineEndingIfNeeded(),this.tag("<td"+n+">"))},tableHead(){this.lineEndingIfNeeded(),this.tag("<thead>")},tableHeader(){const e=this.getData("tableAlign"),t=this.getData("tableColumn"),n=rs[e[t]];this.lineEndingIfNeeded(),this.tag("<th"+n+">")},tableRow(){this.setData("tableColumn",0),this.lineEndingIfNeeded(),this.tag("<tr>")}},exit:{codeTextData(e){let t=this.sliceSerialize(e);this.getData("tableAlign")&&(t=t.replace(/\\([\\|])/g,jh)),this.raw(this.encode(t))},table(){this.setData("tableAlign"),this.setData("slurpAllLineEndings"),this.lineEndingIfNeeded(),this.tag("</table>")},tableBody(){this.lineEndingIfNeeded(),this.tag("</tbody>")},tableData(){const e=this.getData("tableAlign"),t=this.getData("tableColumn");t in e?(this.tag("</td>"),this.setData("tableColumn",t+1)):this.resume()},tableHead(){this.lineEndingIfNeeded(),this.tag("</thead>")},tableHeader(){const e=this.getData("tableColumn");this.tag("</th>"),this.setData("tableColumn",e+1)},tableRow(){const e=this.getData("tableAlign");let t=this.getData("tableColumn");for(;t<e.length;)this.lineEndingIfNeeded(),this.tag("<td"+rs[e[t]]+"></td>"),t++;this.setData("tableColumn",t),this.lineEndingIfNeeded(),this.tag("</tr>")}}};function jh(e,t){return t==="|"?t:e}class Hh{constructor(){this.map=[]}add(t,n,r){Nh(this,t,n,r)}consume(t){if(this.map.sort((i,a)=>i[0]-a[0]),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1])),r.push(this.map[n][2]),t.length=this.map[n][0];r.push([...t]),t.length=0;let o=r.pop();for(;o;)t.push(...o),o=r.pop();this.map.length=0}}function Nh(e,t,n,r){let o=0;if(!(n===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...r);return}o+=1}e.map.push([t,n,r])}}function Dh(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}const qh={flow:{null:{tokenize:zh,resolveAll:Ph}}};function zh(e,t,n){const r=this;let o=0,i=0,a;return l;function l(b){let x=r.events.length-1;for(;x>-1;){const k=r.events[x][1].type;if(k==="lineEnding"||k==="linePrefix")x--;else break}const _=x>-1?r.events[x][1].type:null,y=_==="tableHead"||_==="tableRow"?C:d;return y===C&&r.parser.lazy[r.now().line]?n(b):y(b)}function d(b){return e.enter("tableHead"),e.enter("tableRow"),f(b)}function f(b){return b===124||(a=!0,i+=1),m(b)}function m(b){return b===null?n(b):Ze(b)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),h):n(b):ot(b)?ct(e,m,"whitespace")(b):(i+=1,a&&(a=!1,o+=1),b===124?(e.enter("tableCellDivider"),e.consume(b),e.exit("tableCellDivider"),a=!0,m):(e.enter("data"),c(b)))}function c(b){return b===null||b===124||wt(b)?(e.exit("data"),m(b)):(e.consume(b),b===92?p:c)}function p(b){return b===92||b===124?(e.consume(b),c):c(b)}function h(b){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(b):(e.enter("tableDelimiterRow"),a=!1,ot(b)?ct(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):s(b))}function s(b){return b===45||b===58?B(b):b===124?(a=!0,e.enter("tableCellDivider"),e.consume(b),e.exit("tableCellDivider"),I):T(b)}function I(b){return ot(b)?ct(e,B,"whitespace")(b):B(b)}function B(b){return b===58?(i+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(b),e.exit("tableDelimiterMarker"),R):b===45?(i+=1,R(b)):b===null||Ze(b)?L(b):T(b)}function R(b){return b===45?(e.enter("tableDelimiterFiller"),g(b)):T(b)}function g(b){return b===45?(e.consume(b),g):b===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(b),e.exit("tableDelimiterMarker"),E):(e.exit("tableDelimiterFiller"),E(b))}function E(b){return ot(b)?ct(e,L,"whitespace")(b):L(b)}function L(b){return b===124?s(b):b===null||Ze(b)?!a||o!==i?T(b):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(b)):T(b)}function T(b){return n(b)}function C(b){return e.enter("tableRow"),v(b)}function v(b){return b===124?(e.enter("tableCellDivider"),e.consume(b),e.exit("tableCellDivider"),v):b===null||Ze(b)?(e.exit("tableRow"),t(b)):ot(b)?ct(e,v,"whitespace")(b):(e.enter("data"),A(b))}function A(b){return b===null||b===124||wt(b)?(e.exit("data"),v(b)):(e.consume(b),b===92?S:A)}function S(b){return b===92||b===124?(e.consume(b),A):A(b)}}function Ph(e,t){let n=-1,r=!0,o=0,i=[0,0,0,0],a=[0,0,0,0],l=!1,d=0,f,m,c;const p=new Hh;for(;++n<e.length;){const h=e[n],s=h[1];h[0]==="enter"?s.type==="tableHead"?(l=!1,d!==0&&(mf(p,t,d,f,m),m=void 0,d=0),f={type:"table",start:Object.assign({},s.start),end:Object.assign({},s.end)},p.add(n,0,[["enter",f,t]])):s.type==="tableRow"||s.type==="tableDelimiterRow"?(r=!0,c=void 0,i=[0,0,0,0],a=[0,n+1,0,0],l&&(l=!1,m={type:"tableBody",start:Object.assign({},s.start),end:Object.assign({},s.end)},p.add(n,0,[["enter",m,t]])),o=s.type==="tableDelimiterRow"?2:m?3:1):o&&(s.type==="data"||s.type==="tableDelimiterMarker"||s.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(i[1]!==0&&(a[0]=a[1],c=Mo(p,t,i,o,void 0,c),i=[0,0,0,0]),a[2]=n)):s.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(a[0]=a[1],c=Mo(p,t,i,o,void 0,c)),i=a,a=[i[1],n,0,0])):s.type==="tableHead"?(l=!0,d=n):s.type==="tableRow"||s.type==="tableDelimiterRow"?(d=n,i[1]!==0?(a[0]=a[1],c=Mo(p,t,i,o,n,c)):a[1]!==0&&(c=Mo(p,t,a,o,n,c)),o=0):o&&(s.type==="data"||s.type==="tableDelimiterMarker"||s.type==="tableDelimiterFiller")&&(a[3]=n)}for(d!==0&&mf(p,t,d,f,m),p.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=Dh(t.events,n))}return e}function Mo(e,t,n,r,o,i){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(i.end=Object.assign({},Yr(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const d=Yr(t.events,n[1]);if(i={type:a,start:Object.assign({},d),end:Object.assign({},d)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const f=Yr(t.events,n[2]),m=Yr(t.events,n[3]),c={type:l,start:Object.assign({},f),end:Object.assign({},m)};if(e.add(n[2],0,[["enter",c,t]]),r!==2){const p=t.events[n[2]],h=t.events[n[3]];if(p[1].end=Object.assign({},h[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const s=n[2]+1,I=n[3]-n[2]-1;e.add(s,I,[])}}e.add(n[3]+1,0,[["exit",c,t]])}return o!==void 0&&(i.end=Object.assign({},Yr(t.events,o)),e.add(o,0,[["exit",i,t]]),i=void 0),i}function mf(e,t,n,r,o){const i=[],a=Yr(t.events,n);o&&(o.end=Object.assign({},a),i.push(["exit",o,t])),r.end=Object.assign({},a),i.push(["exit",r,t]),e.add(n+1,0,i)}function Yr(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const hf=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|title|textarea|xmp)(?=[\t\n\f\r />])/gi,Uh=new RegExp("^"+hf.source,"i"),Vh={exit:{htmlFlowData(e){pf.call(this,e,hf)},htmlTextData(e){pf.call(this,e,Uh)}}};function pf(e,t){let n=this.sliceSerialize(e);this.options.allowDangerousHtml&&(n=n.replace(t,"&lt;$1$2")),this.raw(this.encode(n))}const Yh={enter:{taskListCheck(){this.tag('<input type="checkbox" disabled="" ')}},exit:{taskListCheck(){this.tag("/>")},taskListCheckValueChecked(){this.tag('checked="" ')}}},Xh={tokenize:Gh},Kh={text:{[91]:Xh}};function Gh(e,t,n){const r=this;return o;function o(d){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(d):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),i)}function i(d){return wt(d)?(e.enter("taskListCheckValueUnchecked"),e.consume(d),e.exit("taskListCheckValueUnchecked"),a):d===88||d===120?(e.enter("taskListCheckValueChecked"),e.consume(d),e.exit("taskListCheckValueChecked"),a):n(d)}function a(d){return d===93?(e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(d)}function l(d){return Ze(d)?t(d):ot(d)?e.check({tokenize:Wh},t,n)(d):n(d)}}function Wh(e,t,n){return ct(e,r,"whitespace");function r(o){return o===null?n(o):t(o)}}function Zh(e){return Nc([sh,yh(),Fh(e),qh,Kh])}function Qh(e){return Dc([ph,Bh(e),Oh,Lh,Vh,Yh])}const Ht={carriageReturn:-5,lineFeed:-4,carriageReturnLineFeed:-3,horizontalTab:-2,virtualSpace:-1,eof:null,nul:0,soh:1,stx:2,etx:3,eot:4,enq:5,ack:6,bel:7,bs:8,ht:9,lf:10,vt:11,ff:12,cr:13,so:14,si:15,dle:16,dc1:17,dc2:18,dc3:19,dc4:20,nak:21,syn:22,etb:23,can:24,em:25,sub:26,esc:27,fs:28,gs:29,rs:30,us:31,space:32,exclamationMark:33,quotationMark:34,numberSign:35,dollarSign:36,percentSign:37,ampersand:38,apostrophe:39,leftParenthesis:40,rightParenthesis:41,asterisk:42,plusSign:43,comma:44,dash:45,dot:46,slash:47,digit0:48,digit1:49,digit2:50,digit3:51,digit4:52,digit5:53,digit6:54,digit7:55,digit8:56,digit9:57,colon:58,semicolon:59,lessThan:60,equalsTo:61,greaterThan:62,questionMark:63,atSign:64,uppercaseA:65,uppercaseB:66,uppercaseC:67,uppercaseD:68,uppercaseE:69,uppercaseF:70,uppercaseG:71,uppercaseH:72,uppercaseI:73,uppercaseJ:74,uppercaseK:75,uppercaseL:76,uppercaseM:77,uppercaseN:78,uppercaseO:79,uppercaseP:80,uppercaseQ:81,uppercaseR:82,uppercaseS:83,uppercaseT:84,uppercaseU:85,uppercaseV:86,uppercaseW:87,uppercaseX:88,uppercaseY:89,uppercaseZ:90,leftSquareBracket:91,backslash:92,rightSquareBracket:93,caret:94,underscore:95,graveAccent:96,lowercaseA:97,lowercaseB:98,lowercaseC:99,lowercaseD:100,lowercaseE:101,lowercaseF:102,lowercaseG:103,lowercaseH:104,lowercaseI:105,lowercaseJ:106,lowercaseK:107,lowercaseL:108,lowercaseM:109,lowercaseN:110,lowercaseO:111,lowercaseP:112,lowercaseQ:113,lowercaseR:114,lowercaseS:115,lowercaseT:116,lowercaseU:117,lowercaseV:118,lowercaseW:119,lowercaseX:120,lowercaseY:121,lowercaseZ:122,leftCurlyBrace:123,verticalBar:124,rightCurlyBrace:125,tilde:126,del:127,degree:176,byteOrderMarker:65279,replacementCharacter:65533},Jh={text:{176:{name:"underline",tokenize:(e,t,n)=>{const r=a=>a===Ht.carriageReturn||a===Ht.lineFeed||a===Ht.carriageReturnLineFeed||a===Ht.eof?n(a):a===Ht.backslash?(e.consume(a),o):a===Ht.degree?(e.exit("underlineContent"),e.enter("underlineMarker"),e.consume(a),e.exit("underlineMarker"),e.exit("underline"),t):(e.consume(a),r),o=a=>a===Ht.backslash||a===Ht.degree?(e.consume(a),r):r(a),i=a=>a===Ht.degree?n(a):r(a);return a=>(e.enter("underline"),e.enter("underlineMarker"),e.consume(a),e.exit("underlineMarker"),e.enter("underlineContent",{contentType:"string"}),i)}}}},$h={enter:{underline(){this.tag("<u>")}},exit:{underline(){this.tag("</u>")}}},e2={text:{60:{name:"usertag",tokenize:(e,t,n)=>{const r=a=>a===Ht.carriageReturn||a===Ht.lineFeed||a===Ht.carriageReturnLineFeed||a===Ht.eof?n(a):a===Ht.backslash?(e.consume(a),o):a===Ht.greaterThan?(e.exit("usertagContent"),e.enter("usertagMarker"),e.consume(a),e.exit("usertagMarker"),e.exit("usertag"),t):(e.consume(a),r),o=a=>a===Ht.backslash||a===Ht.greaterThan?(e.consume(a),r):r(a),i=a=>a===Ht.atSign?(e.consume(a),e.exit("usertagMarker"),e.enter("usertagContent"),r):n(a);return a=>(e.enter("usertag"),e.enter("usertagMarker"),e.consume(a),i)}}}},t2=e=>({exit:{usertagContent(t){const n=this.sliceSerialize(t);this.tag(`<span class="vac-text-tag" data-user-id="${n}">`);const r=e.find(o=>o._id===n);this.raw(`@${this.encode(r?r.username:n)}`),this.tag("</span>")}}}),n2=(e,{linkOptions:t})=>e.replaceAll("href",n=>`target=${t.target} rel=${t.rel} ${n}`),r2=e=>e.replaceAll(/<a.*?>(.*?)<\/a>/g,"$1");var i2=(e,{textFormatting:t})=>{if(t){let n=[];t.linkify||(n=["literalAutolink","literalAutolinkEmail"]);const r=ih(e.replaceAll("<usertag>","<@").replaceAll("</usertag>",">"),{extensions:[{...Zh(),disable:{null:n}},Jh,e2],htmlExtensions:[Qh(),$h,t2(t.users)]});if(t.singleLine){const o=document.createElement("div");return o.innerHTML=r,[{types:[],value:o.innerText}]}return t.linkOptions.disabled?[{types:["markdown"],value:r2(r)}]:[{types:["markdown"],value:n2(r,t)}]}return[{types:[],value:e}]};const is=["png","jpg","jpeg","webp","svg","gif"],gf=["mp4","video/ogg","webm","quicktime"],o2=["mp3","audio/ogg","wav","mpeg"],a2={name:"FormatMessage",components:{SvgIcon:jt},props:{messageId:{type:String,default:""},roomId:{type:String,default:""},roomList:{type:Boolean,default:!1},content:{type:[String,Number],required:!0},deleted:{type:Boolean,default:!1},users:{type:Array,default:()=>[]},linkify:{type:Boolean,default:!0},singleLine:{type:Boolean,default:!1},reply:{type:Boolean,default:!1},textFormatting:{type:Object,required:!0},textMessages:{type:Object,default:()=>{}},linkOptions:{type:Object,required:!0}},emits:["open-user-tag"],computed:{parsedMessage(){if(this.deleted)return[{value:this.textMessages.MESSAGE_DELETED}];let e;this.textFormatting.disabled?e={}:e={textFormatting:{linkify:this.linkify,linkOptions:this.linkOptions,singleLine:this.singleLine,reply:this.reply,users:this.users,...this.textFormatting}};const t=i2(this.content,e);return t.forEach(n=>{n.markdown=this.checkType(n,"markdown"),n.tag=this.checkType(n,"tag"),n.image=this.checkImageType(n)}),t}},methods:{checkType(e,t){return e.types&&e.types.indexOf(t)!==-1},checkImageType(e){let t=e.value.lastIndexOf(".");e.value.lastIndexOf("/")>t&&(t=-1);const r=e.value.substring(t+1,e.value.length),o=t>0&&is.some(i=>r.toLowerCase().includes(i));return o&&this.setImageSize(e),o},setImageSize(e){const t=new Image;t.src=e.value,t.addEventListener("load",n);function n(r){const o=r.path[0].width/150;e.height=Math.round(r.path[0].height/o)+"px",t.removeEventListener("load",n)}},openTag(e){const t=e.target.getAttribute("data-user-id");if(!this.singleLine&&t){const n=this.users.find(r=>String(r._id)===t);this.$emit("open-user-tag",n)}}}},s2=["innerHTML"],l2={class:"vac-image-link-container"},c2={class:"vac-image-link-message"};function f2(e,t,n,r,o,i){const a=Ke("svg-icon");return K(),J("div",{class:Qe(["vac-format-message-wrapper",{"vac-text-ellipsis":n.singleLine}])},[(K(!0),J(at,null,et(i.parsedMessage,(l,d)=>(K(),J(at,{key:d},[l.markdown?(K(),J("div",{key:0,class:"markdown",onClick:t[0]||(t[0]=(...f)=>i.openTag&&i.openTag(...f)),innerHTML:l.value},null,8,s2)):(K(),J("div",{key:1,class:Qe(["vac-format-container",{"vac-text-ellipsis":n.singleLine}])},[(K(),lt(T1(l.url?"a":"span"),{class:Qe({"vac-text-ellipsis":n.singleLine,"vac-text-tag":!n.singleLine&&!n.reply&&l.tag}),href:l.href,target:l.href?n.linkOptions.target:null,rel:l.href?n.linkOptions.rel:null},{default:Ve(()=>[n.deleted?(K(),J(at,{key:0},[Te(e.$slots,n.roomList?"deleted-icon-room_"+n.roomId:"deleted-icon_"+n.messageId,{},()=>[Be(a,{name:"deleted",class:Qe(["vac-icon-deleted",{"vac-icon-deleted-room":n.roomList}])},null,8,["class"])]),_n(" "+Ue(n.textMessages.MESSAGE_DELETED),1)],64)):l.url&&l.image?(K(),J(at,{key:1},[oe("div",l2,[oe("div",{class:"vac-image-link",style:_t({"background-image":`url('${l.value}')`,height:l.height})},null,4)]),oe("div",c2,Ue(l.value),1)],64)):(K(),J(at,{key:2},[_n(Ue(l.value),1)],64))]),_:2},1032,["class","href","target","rel"]))],2))],64))),128))],2)}var wi=vt(a2,[["render",f2]]);const Sr="__v-click-outside",vf=typeof window!="undefined",u2=typeof navigator!="undefined",d2=vf&&("ontouchstart"in window||u2&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],b2=e=>{const t=typeof e=="function";if(!t&&typeof e!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:t?e:e.handler,middleware:e.middleware||(n=>n),events:e.events||d2,isActive:e.isActive!==!1,detectIframe:e.detectIframe!==!1,capture:Boolean(e.capture)}},_f=({event:e,handler:t,middleware:n})=>{n(e)&&t(e)},m2=({el:e,event:t,handler:n,middleware:r})=>{setTimeout(()=>{const{activeElement:o}=document;o&&o.tagName==="IFRAME"&&!e.contains(o)&&_f({event:t,handler:n,middleware:r})},0)},h2=({el:e,event:t,handler:n,middleware:r})=>{const o=t.path||t.composedPath&&t.composedPath();(o?o.indexOf(e)<0:!e.contains(t.target))&&_f({event:t,handler:n,middleware:r})},xf=(e,{value:t})=>{const{events:n,handler:r,middleware:o,isActive:i,detectIframe:a,capture:l}=b2(t);if(!!i){if(e[Sr]=n.map(d=>({event:d,srcTarget:document.documentElement,handler:f=>h2({el:e,event:f,handler:r,middleware:o}),capture:l})),a){const d={event:"blur",srcTarget:window,handler:f=>m2({el:e,event:f,handler:r,middleware:o}),capture:l};e[Sr]=[...e[Sr],d]}e[Sr].forEach(({event:d,srcTarget:f,handler:m})=>setTimeout(()=>{!e[Sr]||f.addEventListener(d,m,l)},0))}},yf=e=>{(e[Sr]||[]).forEach(({event:n,srcTarget:r,handler:o,capture:i})=>r.removeEventListener(n,o,i)),delete e[Sr]};var ki=vf?{beforeMount:xf,updated:(e,{value:t,oldValue:n})=>{JSON.stringify(t)!==JSON.stringify(n)&&(yf(e),xf(e,{value:t}))},unmounted:yf}:{},wf=(e,t,n)=>{if(e.typingUsers&&e.typingUsers.length){const r=e.users.filter(o=>{if(o._id!==t&&e.typingUsers.indexOf(o._id)!==-1&&!(o.status&&o.status.state==="offline"))return!0});return r.length?e.users.length===2?n.IS_TYPING:r.map(o=>o.username).join(", ")+" "+n.IS_TYPING:void 0}};function Si(e,t){if(!(!t||!t.type))return e.some(n=>t.type.toLowerCase().includes(n))}function Xr(e){return Si(is,e)}function Mi(e){return Si(gf,e)}function kf(e){return Si(is,e)||Si(gf,e)}function Ao(e){return Si(o2,e)}const p2={name:"RoomsContent",components:{SvgIcon:jt,FormatMessage:wi},directives:{clickOutside:ki},props:{currentUserId:{type:[String,Number],required:!0},room:{type:Object,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},textMessages:{type:Object,required:!0},roomActions:{type:Array,required:!0},selectedRoomId:{type:String,required:!1}},emits:["room-action-handler"],data(){return{roomMenuOpened:null}},computed:{getLastMessage(){const e=this.typingUsers;if(e)return e;const t=this.room.lastMessage.content;if(this.room.users.length<=2)return t;const n=this.room.users.find(r=>r._id===this.room.lastMessage.senderId);return this.room.lastMessage.username?`${this.room.lastMessage.username} - ${t}`:!n||n._id===this.currentUserId?t:`${n.username} - ${t}`},userStatus(){if(!this.room.users||this.room.users.length!==2)return;const e=this.room.users.find(t=>t._id!==this.currentUserId);return e&&e.status?e.status.state:null},typingUsers(){return wf(this.room,this.currentUserId,this.textMessages)},isMessageCheckmarkVisible(){return!this.typingUsers&&this.room.lastMessage&&!this.room.lastMessage.deleted&&this.room.lastMessage.senderId===this.currentUserId&&(this.room.lastMessage.saved||this.room.lastMessage.distributed||this.room.lastMessage.seen)},formattedDuration(){var t,n;const e=(n=(t=this.room.lastMessage)==null?void 0:t.files)==null?void 0:n[0];if(e){if(!e.duration)return`${e.name}.${e.extension}`;let r=Math.floor(e.duration);return(r-(r%=60))/60+(r>9?":":":0")+r}return""},isAudio(){return this.room.lastMessage.files?Ao(this.room.lastMessage.files[0]):!1},isRoomSelected(){return this.selectedRoomId===this.room.roomId}},methods:{roomActionHandler(e){this.closeRoomMenu(),this.$emit("room-action-handler",{action:e,roomId:this.room.roomId})},closeRoomMenu(){this.roomMenuOpened=null},translate(e){return typeof __=="function"?__(e):(console.warn("No translation function found"),e)}}},g2={class:"vac-room-container"},v2={class:"vac-name-container vac-text-ellipsis"},_2={class:"vac-title-container"},x2={class:"vac-room-name vac-text-ellipsis"},y2={key:1,class:"vac-text-date"},w2={key:0},k2={key:1,class:"vac-format-message-wrapper vac-text-ellipsis"},S2={class:"vac-format-container vac-text-ellipsis"},M2={class:"draft-message vac-text-ellipsis"},A2={class:"draft-message-label"},E2={key:0,class:"vac-text-ellipsis"},T2={key:3,class:"vac-text-ellipsis"},R2={class:"vac-room-options-container"},C2={key:0,class:"vac-room-mention"},I2={key:1,class:"vac-badge-counter vac-room-badge"},B2={key:2,class:"vac-pinned-icon bi bi-pin-angle-fill"},O2={key:3,class:"vac-muted-icon bi bi-bell-slash-fill"},F2={key:0,class:"vac-menu-options"},L2={class:"vac-menu-list"},j2=["onClick"];function H2(e,t,n,r,o,i){const a=Ke("svg-icon"),l=Ke("format-message"),d=di("click-outside");return K(),J("div",g2,[Te(e.$slots,"room-list-item_"+n.room.roomId,{},()=>{var f;return[Te(e.$slots,"room-list-avatar_"+n.room.roomId,{},()=>[n.room.avatar?(K(),J("div",{key:0,class:"vac-avatar",style:_t({"background-image":`url('${n.room.avatar}')`})},null,4)):we("",!0)]),oe("div",v2,[oe("div",_2,[i.userStatus?(K(),J("div",{key:0,class:Qe(["vac-state-circle",{"vac-state-online":i.userStatus==="online"}])},null,2)):we("",!0),oe("div",x2,Ue(n.room.roomName),1),n.room.lastMessage?(K(),J("div",y2,Ue(n.room.lastMessage.timestamp),1)):we("",!0)]),oe("div",{class:Qe(["vac-text-last",{"vac-message-new":n.room.lastMessage&&n.room.lastMessage.new&&!i.typingUsers}])},[i.isMessageCheckmarkVisible?(K(),J("span",w2,[Te(e.$slots,"checkmark-icon_"+n.room.roomId,{},()=>[Be(a,{name:n.room.lastMessage.distributed?"double-checkmark":"checkmark",param:n.room.lastMessage.seen?"seen":"",class:"vac-icon-check"},null,8,["name","param"])])])):we("",!0),n.room.draftMessage&&!n.room.unreadCount&&!i.isRoomSelected?(K(),J("div",k2,[oe("div",S2,[oe("span",M2,[oe("span",A2,Ue(i.translate("Draft"))+": ",1),_n(" "+Ue(n.room.draftMessage),1)])])])):n.room.lastMessage?(K(),J(at,{key:2},[!n.room.lastMessage.deleted&&i.isAudio?(K(),J("div",E2,[Te(e.$slots,"microphone-icon_"+n.room.roomId,{},()=>[Be(a,{name:"microphone",class:"vac-icon-microphone"})]),_n(" "+Ue(i.formattedDuration),1)])):(K(),lt(l,{key:1,"message-id":n.room.lastMessage._id,"room-id":n.room.roomId,"room-list":!0,content:i.getLastMessage,deleted:!!n.room.lastMessage.deleted&&!i.typingUsers,users:n.room.users,"text-messages":n.textMessages,linkify:!1,"text-formatting":n.textFormatting,"link-options":n.linkOptions,"single-line":!0,"draft-message":n.room.draftMessage},gt({_:2},[et(e.$slots,(m,c)=>({name:c,fn:Ve(p=>[Te(e.$slots,c,ht(dt(p)))])}))]),1032,["message-id","room-id","content","deleted","users","text-messages","text-formatting","link-options","draft-message"]))],64)):we("",!0),!n.room.lastMessage&&i.typingUsers?(K(),J("div",T2,Ue(i.typingUsers),1)):we("",!0),oe("div",R2,[(f=n.room)!=null&&f.isMentionedCurrentUser?(K(),J("div",C2," @ ")):we("",!0),n.room.unreadCount?(K(),J("div",I2,Ue(n.room.unreadCount),1)):we("",!0),n.room.isPinned?(K(),J("i",B2)):we("",!0),n.room.isMuted?(K(),J("i",O2)):we("",!0),Te(e.$slots,"room-list-options_"+n.room.roomId,{},()=>[n.roomActions.length?(K(),J("div",{key:0,class:"vac-svg-button vac-list-room-options",onClick:t[0]||(t[0]=Gt(m=>o.roomMenuOpened=n.room.roomId,["stop"]))},[Te(e.$slots,"room-list-options-icon_"+n.room.roomId,{},()=>[Be(a,{name:"dropdown",param:"room"})])])):we("",!0),n.roomActions.length?(K(),lt(Rt,{key:1,name:"vac-slide-left"},{default:Ve(()=>[o.roomMenuOpened===n.room.roomId?Rn((K(),J("div",F2,[oe("div",L2,[(K(!0),J(at,null,et(n.roomActions,m=>(K(),J("div",{key:m.name},[oe("div",{class:"vac-menu-item",onClick:Gt(c=>i.roomActionHandler(m),["stop"])},Ue(m.title),9,j2)]))),128))])])),[[d,i.closeRoomMenu]]):we("",!0)]),_:1})):we("",!0)])])],2)])]})])}var N2=vt(p2,[["render",H2]]);const D2={name:"RoomCallContent",props:{currentUserId:{type:[String,Number],required:!0},room:{type:Object,required:!0},textMessages:{type:Object,default:()=>{}},call:{type:Object,required:!0}},emits:["accept-call","hang-up-call","open-room","return-to-call"],data(){return{callDuration:null,callInterval:null}},computed:{isCurrentUserCaller(){return this.call&&this.currentUserId===String(this.call.userId)},isCallPending(){return this.call&&this.call.statusPending},isCallInProgress(){return this.call&&this.call.statusInProgress},isCurrentUserInCall(){var e;return(e=this.call)==null?void 0:e.isCurrentUserInCall},callStatusClass(){return this.isCallInProgress?"vac-room-call-in-progress":this.isCallPending?"vac-room-call-pending":""}},watch:{isCallInProgress(e){if(!e){clearInterval(this.callInterval);return}this.updateCallDuration(),this.callInterval=setInterval(()=>{this.updateCallDuration()},1e3)}},methods:{acceptCall(){this.$emit("accept-call",this.call)},hangUpCall(){this.$emit("hang-up-call",this.call)},returnToCall(){this.$emit("return-to-call")},openRoom(){this.$emit("open-room")},updateCallDuration(){if(!this.call)return;const e=(new Date-new Date(this.call.startedAt))/1e3,t=String(Math.floor(e/60)).padStart(2,"0"),n=String(Math.floor(e%60)).padStart(2,"0");this.callDuration=`${t}:${n}`}}},q2={class:"vac-room-info-container"},z2={class:"vac-name-container vac-text-ellipsis"},P2={class:"vac-title-container"},U2={class:"vac-room-name vac-text-ellipsis"},V2={key:0,class:"vac-text-last",style:{color:"#cccccc"}},Y2={key:0},X2={key:1},K2={key:1,class:"vac-text-last",style:{color:"#cccccc"}},G2={class:"vac-call-timer"},W2={class:"vac-call-actions"},Z2=[oe("i",{class:"bi bi-telephone-fill",style:{"margin-right":"1rem"}},null,-1)],Q2=[oe("i",{class:"bi bi-box-arrow-right",style:{"margin-right":"1rem"}},null,-1)],J2=[oe("i",{class:"bi bi-box-arrow-up-right",style:{"margin-right":"1rem"}},null,-1)],$2=[oe("i",{class:"bi bi-x-lg"},null,-1)];function ep(e,t,n,r,o,i){var a;return K(),J("div",{class:Qe(["vac-room-call-container",[i.callStatusClass]]),onClick:t[4]||(t[4]=l=>i.openRoom())},[oe("div",q2,[Te(e.$slots,"room-list-item_"+n.room.roomId,{},()=>[Te(e.$slots,"room-list-avatar_"+n.room.roomId,{},()=>[n.room.avatar?(K(),J("div",{key:0,class:"vac-avatar",style:_t({"background-image":`url('${n.room.avatar}')`})},null,4)):we("",!0)])]),oe("div",z2,[oe("div",P2,[oe("div",U2,Ue(n.room.roomName),1)]),i.isCallInProgress?(K(),J("i",K2,[oe("span",G2,Ue((a=o.callDuration)!=null?a:n.textMessages.ROOM_CALL_ONGOING),1)])):(K(),J("i",V2,[i.isCurrentUserCaller?(K(),J("span",X2,Ue(n.textMessages.ROOM_CALL_CALLING),1)):(K(),J("span",Y2,Ue(n.textMessages.ROOM_CALL_INCOMING),1))]))])]),oe("div",W2,[!i.isCurrentUserCaller&&!i.isCurrentUserInCall?(K(),J("a",{key:0,class:"btn",role:"button",href:"#",onClick:t[0]||(t[0]=Gt(l=>i.acceptCall(),["stop"]))},Z2)):i.isCallInProgress&&!i.isCurrentUserInCall?(K(),J("a",{key:1,class:"btn",role:"button",href:"#",onClick:t[1]||(t[1]=Gt(l=>i.returnToCall(),["stop"]))},Q2)):i.isCallInProgress&&i.isCurrentUserInCall?(K(),J("a",{key:2,class:"btn",role:"button",href:"#",onClick:t[2]||(t[2]=Gt(l=>i.returnToCall(),["stop"]))},J2)):we("",!0),oe("a",{class:"btn btn-danger",role:"button",href:"#",onClick:t[3]||(t[3]=Gt(l=>i.hangUpCall(),["stop"]))},$2)])],2)}var tp=vt(D2,[["render",ep]]),os=(e,t,n,r=!1)=>!n||n===""?e:Array.isArray(t)?e.filter(o=>r?t.some(i=>or(o[i]).startsWith(or(n))):t.some(i=>or(o[i]).includes(or(n)))):e.filter(o=>r?or(o[t]).startsWith(or(n)):or(o[t]).includes(or(n)));function or(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim()}const np={name:"RoomsList",components:{Loader:xo,RoomsSearch:bb,RoomContent:N2,RoomCallContent:tp,SvgIcon:jt},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},showRoomsList:{type:Boolean,required:!0},showSearch:{type:Boolean,required:!0},showAddRoom:{type:Boolean,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0},roomsLoaded:{type:Boolean,required:!0},room:{type:Object,required:!0},customSearchRoomEnabled:{type:[Boolean,String],default:!1},roomActions:{type:Array,required:!0},scrollDistance:{type:Number,required:!0},roomsNotFoundMessage:{type:String,required:!0},call:{type:Object,required:!0},showArchivedRooms:{type:Boolean,required:!0}},emits:["add-room","search-room","room-action-handler","loading-more-rooms","fetch-room","fetch-more-rooms","accept-call","hang-up-call","return-to-call","click-archived-rooms"],data(){return{filteredRooms:[],observer:null,showLoader:!0,loadingMoreRooms:!1,selectedRoomId:"",roomsQuery:""}},computed:{roomsToDisplay:function(){let e=this.roomsQuery.length?this.filteredRooms:this.rooms;return this.showArchivedRooms?e.filter(t=>t.isArchived):e.filter(t=>!t.isArchived)},hasArchivedRooms:function(){return this.rooms.some(e=>e.isArchived)}},watch:{rooms:{deep:!0,handler(e,t){(e.length!==t.length||this.roomsLoaded)&&(this.loadingMoreRooms=!1)}},loadingRooms(e){e||setTimeout(()=>this.initIntersectionObserver())},loadingMoreRooms(e){this.$emit("loading-more-rooms",e)},roomsLoaded:{immediate:!0,handler(e){e&&(this.loadingMoreRooms=!1,this.loadingRooms||(this.showLoader=!1))}},room:{immediate:!0,handler(e){e&&!this.isMobile&&(this.selectedRoomId=e.roomId)}}},methods:{initIntersectionObserver(){this.observer&&(this.showLoader=!0,this.observer.disconnect());const e=this.$el.querySelector("#infinite-loader-rooms");if(e){const t={root:this.$el.querySelector("#rooms-list"),rootMargin:`${this.scrollDistance}px`,threshold:0};this.observer=new IntersectionObserver(n=>{n[0].isIntersecting&&this.loadMoreRooms()},t),this.observer.observe(e)}},searchRoom(e){this.customSearchRoomEnabled?this.$emit("search-room",e.target.value):(this.roomsQuery=e.target.value,this.filteredRooms=os(this.rooms,["roomName","email"],e.target.value))},openRoom(e){e.roomId===this.room.roomId&&!this.isMobile||(this.isMobile||(this.selectedRoomId=e.roomId),this.$emit("fetch-room",{room:e}))},loadMoreRooms(){if(!this.loadingMoreRooms){if(this.roomsLoaded){this.loadingMoreRooms=!1,this.showLoader=!1;return}this.$emit("fetch-more-rooms"),this.loadingMoreRooms=!0}},shouldShowCallContent:function(e){const t=e.call&&e.call.statusEnded,n=e.call&&!e.call.attendance.statusCallEnded&&!e.call.attendance.statusDeclined;return!t&&n}}},rp={key:0,class:"vac-rooms-empty"},ip={key:1,id:"rooms-list",class:"vac-room-list"},op=["id","onClick"],ap={key:0,id:"infinite-loader-rooms"},sp={key:0,class:"no-rooms-found-message"};function lp(e,t,n,r,o,i){const a=Ke("rooms-search"),l=Ke("loader"),d=Ke("svg-icon"),f=Ke("room-call-content"),m=Ke("room-content");return Rn((K(),J("div",{class:Qe(["vac-rooms-container",{"vac-rooms-container-full":n.isMobile,"vac-app-border-r":!n.isMobile}])},[Te(e.$slots,"rooms-header"),Te(e.$slots,"rooms-list-search",{},()=>[Be(a,{rooms:n.rooms,"loading-rooms":n.loadingRooms,"text-messages":n.textMessages,"show-search":n.showSearch,"show-add-room":n.showAddRoom,onSearchRoom:i.searchRoom,onAddRoom:t[0]||(t[0]=c=>e.$emit("add-room"))},gt({_:2},[et(e.$slots,(c,p)=>({name:p,fn:Ve(h=>[Te(e.$slots,p,ht(dt(h)))])}))]),1032,["rooms","loading-rooms","text-messages","show-search","show-add-room","onSearchRoom"])]),Be(l,{show:n.loadingRooms,type:"rooms"},gt({_:2},[et(e.$slots,(c,p)=>({name:p,fn:Ve(h=>[Te(e.$slots,p,ht(dt(h)))])}))]),1032,["show"]),!n.loadingRooms&&!n.rooms.length?(K(),J("div",rp,[Te(e.$slots,"rooms-empty",{},()=>[_n(Ue(n.textMessages.ROOMS_EMPTY),1)])])):we("",!0),!n.loadingRooms&&i.roomsToDisplay.length?(K(),J("div",ip,[Be(vo,{name:"rooms"},{default:Ve(()=>[i.hasArchivedRooms?Te(e.$slots,"rooms-list-archived",{key:0},()=>[oe("div",{class:"vac-rooms-archived",onClick:t[1]||(t[1]=c=>e.$emit("click-archived-rooms"))},[Be(d,{name:"archive"}),oe("span",null,Ue(n.textMessages.ARCHIVED_ROOMS),1)])]):we("",!0),(K(!0),J(at,null,et(i.roomsToDisplay,c=>(K(),J("div",{id:c.roomId,key:c.roomId,class:Qe(["vac-room-item",{"vac-room-selected":o.selectedRoomId===c.roomId&&!i.shouldShowCallContent(c),"vac-ongoing-call":i.shouldShowCallContent(c)}]),onClick:p=>i.openRoom(c)},[i.shouldShowCallContent(c)?(K(),lt(f,{key:0,"current-user-id":n.currentUserId,room:c,call:n.call,"text-messages":n.textMessages,onAcceptCall:t[2]||(t[2]=p=>e.$emit("accept-call",p)),onHangUpCall:t[3]||(t[3]=p=>e.$emit("hang-up-call",p)),onReturnToCall:t[4]||(t[4]=p=>e.$emit("return-to-call",p))},null,8,["current-user-id","room","call","text-messages"])):(K(),lt(m,{key:1,"current-user-id":n.currentUserId,room:c,"text-formatting":n.textFormatting,"link-options":n.linkOptions,"text-messages":n.textMessages,"selected-room-id":o.selectedRoomId,"room-actions":n.roomActions,onRoomActionHandler:t[5]||(t[5]=p=>e.$emit("room-action-handler",p))},gt({_:2},[et(e.$slots,(p,h)=>({name:h,fn:Ve(s=>[Te(e.$slots,h,ht(dt(s)))])}))]),1032,["current-user-id","room","text-formatting","link-options","text-messages","selected-room-id","room-actions"]))],10,op))),128))]),_:3}),Be(Rt,{name:"vac-fade-message"},{default:Ve(()=>[n.rooms.length&&!n.loadingRooms?(K(),J("div",ap,[Be(l,{show:o.showLoader,infinite:!0,type:"infinite-rooms"},gt({_:2},[et(e.$slots,(c,p)=>({name:p,fn:Ve(h=>[Te(e.$slots,p,ht(dt(h)))])}))]),1032,["show"])])):we("",!0)]),_:3})])):we("",!0),Be(Rt,{name:"vac-fade-message"},{default:Ve(()=>[o.roomsQuery.length&&!o.filteredRooms.length?(K(),J("div",sp,Ue(n.roomsNotFoundMessage),1)):we("",!0)]),_:1})],2)),[[_o,n.showRoomsList]])}var cp=vt(np,[["render",lp]]);const fp={name:"RoomHeader",components:{SvgIcon:jt},directives:{clickOutside:ki},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},roomInfoEnabled:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},room:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0},messageSelectionActions:{type:Array,required:!0},selectedMessagesTotal:{type:Number,required:!0},call:{type:Object,required:!0}},emits:["toggle-rooms-list","room-info","menu-action-handler","cancel-message-selection","message-selection-action-handler","return-to-call"],data(){return{menuOpened:!1,messageSelectionAnimationEnded:!0,callInterval:null,callDuration:null}},computed:{typingUsers(){return wf(this.room,this.currentUserId,this.textMessages)},userStatus(){if(!this.room.users||this.room.users.length!==2)return;const e=this.room.users.find(n=>n._id!==this.currentUserId);if(!(e!=null&&e.status))return;let t="";return e.status.state==="online"?t=this.textMessages.IS_ONLINE:e.status.lastChanged&&(t=this.textMessages.LAST_SEEN+e.status.lastChanged),t},isCallInProgress(){return this.call&&this.call.statusInProgress},isAttendancePending(){return this.call&&this.call.attendance.statusPending},isAttendanceAccepted(){return this.call&&this.call.attendance.statusAccepted},isAttendanceDeclined(){return this.call&&this.call.attendance.statusDeclined},isAttendanceMissed(){return this.call&&this.call.attendance.statusMissed},isAttendanceCallEnded(){return this.call&&this.call.attendance.statusCallEnded}},watch:{messageSelectionEnabled(e){e?this.messageSelectionAnimationEnded=!1:setTimeout(()=>{this.messageSelectionAnimationEnded=!0},300)},isCallInProgress(e){e?this.setupCallDurationUpdate():clearInterval(this.callInterval)}},mounted(){this.isCallInProgress&&this.setupCallDurationUpdate()},methods:{menuActionHandler(e){this.closeMenu(),this.$emit("menu-action-handler",e)},closeMenu(){this.menuOpened=!1},messageSelectionActionHandler(e){this.$emit("message-selection-action-handler",e)},returnToCallClick(){this.$emit("return-to-call")},updateCallDuration(){if(!this.call)return;const e=(new Date-new Date(this.call.startedAt))/1e3,t=String(Math.floor(e/3600)).padStart(2,"0"),n=String(Math.floor(e%3600/60)).padStart(2,"0"),r=String(Math.floor(e%60)).padStart(2,"0");this.callDuration=`${t}:${n}:${r}`},setupCallDurationUpdate(){this.updateCallDuration(),this.callInterval=setInterval(()=>{this.updateCallDuration()},1e3)}}},up={class:"vac-room-header vac-app-border-b"},dp={class:"vac-room-wrapper"},bp={key:0,class:"vac-room-selection"},mp=oe("span",{class:"x-icon vac-item-clickable"},[oe("svg",{viewBox:"0 0 24 24",height:"24",width:"24",preserveAspectRatio:"xMidYMid meet",class:"",fill:"currentColor","enable-background":"new 0 0 24 24","xml:space":"preserve"},[oe("path",{d:"M19.6004 17.2L14.3004 11.9L19.6004 6.60005L17.8004 4.80005L12.5004 10.2L7.20039 4.90005L5.40039 6.60005L10.7004 11.9L5.40039 17.2L7.20039 19L12.5004 13.7L17.8004 19L19.6004 17.2Z"})])],-1),hp={class:"vac-selection-count-container"},pp={class:"vac-selection-button-count"},gp=["id"],vp=["title","onClick"],_p=[oe("span",null,[oe("svg",{viewBox:"0 0 24 24",height:"24",width:"24",preserveAspectRatio:"xMidYMid meet",class:"",version:"1.1",x:"0px",y:"0px","enable-background":"new 0 0 24 24","xml:space":"preserve"},[oe("path",{fill:"currentColor",d:"M14.278,4.813c0-0.723,0.873-1.085,1.383-0.574l6.045,6.051 c0.317,0.317,0.317,0.829,0,1.146l-6.045,6.051c-0.51,0.51-1.383,0.149-1.383-0.574v-2.732c-5.096,0-8.829,1.455-11.604,4.611 c-0.246,0.279-0.702,0.042-0.602-0.316C3.502,13.303,6.997,8.472,14.278,7.431V4.813z"})])],-1)],xp=["onClick"],yp={class:"vac-text-ellipsis"},wp={class:"vac-room-name vac-text-ellipsis"},kp={key:0,class:"vac-room-info vac-text-ellipsis"},Sp={key:1,class:"vac-room-info vac-text-ellipsis"},Mp={key:2,class:"vac-room-info vac-text-ellipsis"},Ap={key:0,class:"vac-menu-options"},Ep={class:"vac-menu-list"},Tp=["onClick"],Rp={class:"vac-room-call-ongoing-info"},Cp={key:0,class:"vac-room-call-ongoing-title"},Ip={key:1,class:"vac-room-call-ongoing-title"},Bp={key:2,class:"vac-room-call-ongoing-title"},Op={class:"vac-room-call-ongoing-duration"};function Fp(e,t,n,r,o,i){const a=Ke("svg-icon"),l=di("click-outside");return K(),J("div",up,[Te(e.$slots,"room-header",{},()=>{var d;return[oe("div",dp,[Be(Rt,{name:"vac-slide-up"},{default:Ve(()=>[n.messageSelectionEnabled?(K(),J("div",bp,[oe("div",{class:"vac-selection-cancel",onClick:t[0]||(t[0]=f=>e.$emit("cancel-message-selection"))},[mp,oe("div",hp,[oe("span",pp,Ue(n.selectedMessagesTotal),1),_n(" "+Ue(n.textMessages.COUNT_SELECT_MESSAGE),1)])]),(K(!0),J(at,null,et(n.messageSelectionActions,f=>(K(),J("div",{id:f.name,key:f.name},[f.name==="forwardMessages"?(K(),J("div",{key:0,class:"vac-item-clickable forward-messages",title:f.title,onClick:m=>i.messageSelectionActionHandler(f)},_p,8,vp)):(K(),J("div",{key:1,class:"vac-selection-button",onClick:m=>i.messageSelectionActionHandler(f)},Ue(f.title),9,xp))],8,gp))),128))])):we("",!0)]),_:1}),!n.messageSelectionEnabled&&o.messageSelectionAnimationEnded?(K(),J(at,{key:0},[n.singleRoom?we("",!0):(K(),J("div",{key:0,class:Qe(["vac-svg-button vac-toggle-button",{"vac-rotate-icon-init":!n.isMobile,"vac-rotate-icon":!n.showRoomsList&&!n.isMobile}]),onClick:t[1]||(t[1]=f=>e.$emit("toggle-rooms-list"))},[Te(e.$slots,"toggle-icon",{},()=>[Be(a,{name:"toggle"})])],2)),oe("div",{class:Qe(["vac-info-wrapper",{"vac-item-clickable":n.roomInfoEnabled}]),onClick:t[2]||(t[2]=f=>e.$emit("room-info"))},[Te(e.$slots,"room-header-avatar",{},()=>[n.room.avatar?(K(),J("div",{key:0,class:"vac-avatar",style:_t({"background-image":`url('${n.room.avatar}')`})},null,4)):we("",!0)]),Te(e.$slots,"room-header-info",{},()=>[oe("div",yp,[oe("div",wp,Ue(n.room.roomName),1),i.typingUsers?(K(),J("div",kp,Ue(i.typingUsers),1)):n.room.roomInfo?(K(),J("div",Sp,Ue(n.room.roomInfo),1)):(K(),J("div",Mp,Ue(i.userStatus),1))])])],2),n.room.roomId?Te(e.$slots,"room-options",{key:1},()=>[n.menuActions.length?(K(),J("div",{key:0,class:"vac-svg-button vac-room-options",onClick:t[3]||(t[3]=f=>o.menuOpened=!o.menuOpened)},[Te(e.$slots,"menu-icon",{},()=>[Be(a,{name:"menu"})])])):we("",!0),n.menuActions.length?(K(),lt(Rt,{key:1,name:"vac-slide-left"},{default:Ve(()=>[o.menuOpened?Rn((K(),J("div",Ap,[oe("div",Ep,[(K(!0),J(at,null,et(n.menuActions,f=>(K(),J("div",{key:f.name},[oe("div",{class:"vac-menu-item",onClick:m=>i.menuActionHandler(f)},Ue(f.title),9,Tp)]))),128))])])),[[l,i.closeMenu]]):we("",!0)]),_:1})):we("",!0)]):we("",!0)],64)):we("",!0)]),i.isCallInProgress?(K(),J("div",{key:0,class:"vac-room-call-ongoing",onClick:t[4]||(t[4]=(...f)=>i.returnToCallClick&&i.returnToCallClick(...f))},[oe("div",Rp,[i.isAttendanceAccepted?(K(),J("span",Cp,Ue(n.textMessages.ROOM_CALL_RETURN_TO_CALL),1)):we("",!0),i.isAttendancePending||i.isAttendanceDeclined?(K(),J("span",Ip,Ue(n.textMessages.ROOM_CALL_JOIN),1)):(K(),J("span",Bp,Ue(n.textMessages.ROOM_CALL_ONGOING),1)),oe("span",Op,Ue((d=o.callDuration)!=null?d:"--:--"),1)])])):we("",!0)]})])}var Lp=vt(fp,[["render",Fp]]);function Eo(e){if(typeof e!="string"||!e)throw new Error("expected a non-empty string, got: "+e)}function as(e){if(typeof e!="number")throw new Error("expected a number, got: "+e)}const jp=1,Hp=1,Mr="emoji",Kr="keyvalue",ss="favorites",Np="tokens",Sf="tokens",Dp="unicode",Mf="count",qp="group",zp="order",Af="group-order",ls="eTag",To="url",Ef="skinTone",Gr="readonly",cs="readwrite",Tf="skinUnicodes",Pp="skinUnicodes",Up="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",Vp="en";function Yp(e,t){const n=new Set,r=[];for(const o of e){const i=t(o);n.has(i)||(n.add(i),r.push(o))}return r}function Rf(e){return Yp(e,t=>t.unicode)}function Xp(e){function t(n,r,o){const i=r?e.createObjectStore(n,{keyPath:r}):e.createObjectStore(n);if(o)for(const[a,[l,d]]of Object.entries(o))i.createIndex(a,l,{multiEntry:d});return i}t(Kr),t(Mr,Dp,{[Sf]:[Np,!0],[Af]:[[qp,zp]],[Tf]:[Pp,!0]}),t(ss,void 0,{[Mf]:[""]})}const fs={},Ro={},Co={};function Cf(e,t,n){n.onerror=()=>t(n.error),n.onblocked=()=>t(new Error("IDB blocked")),n.onsuccess=()=>e(n.result)}async function Kp(e){const t=await new Promise((n,r)=>{const o=indexedDB.open(e,jp);fs[e]=o,o.onupgradeneeded=i=>{i.oldVersion<Hp&&Xp(o.result)},Cf(n,r,o)});return t.onclose=()=>us(e),t}function Gp(e){return Ro[e]||(Ro[e]=Kp(e)),Ro[e]}function Yn(e,t,n,r){return new Promise((o,i)=>{const a=e.transaction(t,n,{durability:"relaxed"}),l=typeof t=="string"?a.objectStore(t):t.map(f=>a.objectStore(f));let d;r(l,a,f=>{d=f}),a.oncomplete=()=>o(d),a.onerror=()=>i(a.error)})}function us(e){const t=fs[e],n=t&&t.result;if(n){n.close();const r=Co[e];if(r)for(const o of r)o()}delete fs[e],delete Ro[e],delete Co[e]}function Wp(e){return new Promise((t,n)=>{us(e);const r=indexedDB.deleteDatabase(e);Cf(t,n,r)})}function Zp(e,t){let n=Co[e];n||(n=Co[e]=[]),n.push(t)}const Qp=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function Wr(e){return e.split(/[\s_]+/).map(t=>!t.match(/\w/)||Qp.has(t)?t.toLowerCase():t.replace(/[)(:,]/g,"").replace(/’/g,"'").toLowerCase()).filter(Boolean)}const Jp=2;function If(e){return e.filter(Boolean).map(t=>t.toLowerCase()).filter(t=>t.length>=Jp)}function $p(e){return e.map(({annotation:n,emoticon:r,group:o,order:i,shortcodes:a,skins:l,tags:d,emoji:f,version:m})=>{const c=[...new Set(If([...(a||[]).map(Wr).flat(),...d.map(Wr).flat(),...Wr(n),r]))].sort(),p={annotation:n,group:o,order:i,tags:d,tokens:c,unicode:f,version:m};if(r&&(p.emoticon=r),a&&(p.shortcodes=a),l){p.skinTones=[],p.skinUnicodes=[],p.skinVersions=[];for(const{tone:h,emoji:s,version:I}of l)p.skinTones.push(h),p.skinUnicodes.push(s),p.skinVersions.push(I)}return p})}function Bf(e,t,n,r){e[t](n).onsuccess=o=>r&&r(o.target.result)}function Ar(e,t,n){Bf(e,"get",t,n)}function Of(e,t,n){Bf(e,"getAll",t,n)}function ds(e){e.commit&&e.commit()}function eg(e,t){let n=e[0];for(let r=1;r<e.length;r++){const o=e[r];t(n)>t(o)&&(n=o)}return n}function Ff(e,t){const n=eg(e,o=>o.length),r=[];for(const o of n)e.some(i=>i.findIndex(a=>t(a)===t(o))===-1)||r.push(o);return r}async function tg(e){return!await bs(e,Kr,To)}async function ng(e,t,n){const[r,o]=await Promise.all([ls,To].map(i=>bs(e,Kr,i)));return r===n&&o===t}async function rg(e,t){return Yn(e,Mr,Gr,(r,o,i)=>{let a;const l=()=>{r.getAll(a&&IDBKeyRange.lowerBound(a,!0),50).onsuccess=d=>{const f=d.target.result;for(const m of f)if(a=m.unicode,t(m))return i(m);if(f.length<50)return i();l()}};l()})}async function Lf(e,t,n,r){try{const o=$p(t);await Yn(e,[Mr,Kr],cs,([i,a],l)=>{let d,f,m=0;function c(){++m===2&&p()}function p(){if(!(d===r&&f===n)){i.clear();for(const h of o)i.put(h);a.put(r,ls),a.put(n,To),ds(l)}}Ar(a,ls,h=>{d=h,c()}),Ar(a,To,h=>{f=h,c()})})}finally{}}async function ig(e,t){return Yn(e,Mr,Gr,(n,r,o)=>{const i=IDBKeyRange.bound([t,0],[t+1,0],!1,!0);Of(n.index(Af),i,o)})}async function jf(e,t){const n=If(Wr(t));return n.length?Yn(e,Mr,Gr,(r,o,i)=>{const a=[],l=()=>{a.length===n.length&&d()},d=()=>{const f=Ff(a,m=>m.unicode);i(f.sort((m,c)=>m.order<c.order?-1:1))};for(let f=0;f<n.length;f++){const m=n[f],c=f===n.length-1?IDBKeyRange.bound(m,m+"\uFFFF",!1,!0):IDBKeyRange.only(m);Of(r.index(Sf),c,p=>{a.push(p),l()})}}):[]}async function og(e,t){const n=await jf(e,t);return n.length?n.filter(r=>(r.shortcodes||[]).map(i=>i.toLowerCase()).includes(t.toLowerCase()))[0]||null:await rg(e,o=>(o.shortcodes||[]).includes(t.toLowerCase()))||null}async function ag(e,t){return Yn(e,Mr,Gr,(n,r,o)=>Ar(n,t,i=>{if(i)return o(i);Ar(n.index(Tf),t,a=>o(a||null))}))}function bs(e,t,n){return Yn(e,t,Gr,(r,o,i)=>Ar(r,n,i))}function sg(e,t,n,r){return Yn(e,t,cs,(o,i)=>{o.put(r,n),ds(i)})}function lg(e,t){return Yn(e,ss,cs,(n,r)=>Ar(n,t,o=>{n.put((o||0)+1,t),ds(r)}))}function cg(e,t,n){return n===0?[]:Yn(e,[ss,Mr],Gr,([r,o],i,a)=>{const l=[];r.index(Mf).openCursor(void 0,"prev").onsuccess=d=>{const f=d.target.result;if(!f)return a(l);function m(h){if(l.push(h),l.length===n)return a(l);f.continue()}const c=f.primaryKey,p=t.byName(c);if(p)return m(p);Ar(o,c,h=>{if(h)return m(h);f.continue()})}})}const Io="";function fg(e,t){const n=new Map;for(const o of e){const i=t(o);for(const a of i){let l=n;for(let f=0;f<a.length;f++){const m=a.charAt(f);let c=l.get(m);c||(c=new Map,l.set(m,c)),l=c}let d=l.get(Io);d||(d=[],l.set(Io,d)),d.push(o)}}return(o,i)=>{let a=n;for(let f=0;f<o.length;f++){const m=o.charAt(f),c=a.get(m);if(c)a=c;else return[]}if(i)return a.get(Io)||[];const l=[],d=[a];for(;d.length;){const m=[...d.shift().entries()].sort((c,p)=>c[0]<p[0]?-1:1);for(const[c,p]of m)c===Io?l.push(...p):d.push(p)}return l}}const ug=["name","url"];function dg(e){const t=e&&Array.isArray(e),n=t&&e.length&&(!e[0]||ug.some(r=>!(r in e[0])));if(!t||n)throw new Error("Custom emojis are in the wrong format")}function Hf(e){dg(e);const t=(p,h)=>p.name.toLowerCase()<h.name.toLowerCase()?-1:1,n=e.sort(t),o=fg(e,p=>[...new Set((p.shortcodes||[]).map(h=>Wr(h)).flat())]),i=p=>o(p,!0),a=p=>o(p,!1),l=p=>{const h=Wr(p),s=h.map((I,B)=>(B<h.length-1?i:a)(I));return Ff(s,I=>I.name).sort(t)},d=new Map,f=new Map;for(const p of e){f.set(p.name.toLowerCase(),p);for(const h of p.shortcodes||[])d.set(h.toLowerCase(),p)}return{all:n,search:l,byShortcode:p=>d.get(p.toLowerCase()),byName:p=>f.get(p.toLowerCase())}}function Ai(e){if(!e)return e;if(delete e.tokens,e.skinTones){const t=e.skinTones.length;e.skins=Array(t);for(let n=0;n<t;n++)e.skins[n]={tone:e.skinTones[n],unicode:e.skinUnicodes[n],version:e.skinVersions[n]};delete e.skinTones,delete e.skinUnicodes,delete e.skinVersions}return e}function Nf(e){e||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const bg=["annotation","emoji","group","order","tags","version"];function mg(e){if(!e||!Array.isArray(e)||!e[0]||typeof e[0]!="object"||bg.some(t=>!(t in e[0])))throw new Error("Emoji data is in the wrong format")}function Df(e,t){if(Math.floor(e.status/100)!==2)throw new Error("Failed to fetch: "+t+":  "+e.status)}async function hg(e){const t=await fetch(e,{method:"HEAD"});Df(t,e);const n=t.headers.get("etag");return Nf(n),n}async function ms(e){const t=await fetch(e);Df(t,e);const n=t.headers.get("etag");Nf(n);const r=await t.json();return mg(r),[n,r]}function pg(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=-1;++o<r;)t+=String.fromCharCode(n[o]);return t}function gg(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=-1;++o<t;)r[o]=e.charCodeAt(o);return n}async function qf(e){const t=JSON.stringify(e),n=gg(t),r=await crypto.subtle.digest("SHA-1",n),o=pg(r);return btoa(o)}async function vg(e,t){let n,r=await hg(t);if(!r){const o=await ms(t);r=o[0],n=o[1],r||(r=await qf(n))}await ng(e,t,r)||(n||(n=(await ms(t))[1]),await Lf(e,n,t,r))}async function _g(e,t){let[n,r]=await ms(t);n||(n=await qf(r)),await Lf(e,r,t,n)}class zf{constructor({dataSource:t=Up,locale:n=Vp,customEmoji:r=[]}={}){this.dataSource=t,this.locale=n,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=Hf(r),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const t=this._db=await Gp(this._dbName);Zp(this._dbName,this._clear);const n=this.dataSource;await tg(t)?await _g(t,n):this._lazyUpdate=vg(t,n)}async ready(){const t=async()=>(this._ready||(this._ready=this._init()),this._ready);await t(),this._db||await t()}async getEmojiByGroup(t){return as(t),await this.ready(),Rf(await ig(this._db,t)).map(Ai)}async getEmojiBySearchQuery(t){Eo(t),await this.ready();const n=this._custom.search(t),r=Rf(await jf(this._db,t)).map(Ai);return[...n,...r]}async getEmojiByShortcode(t){Eo(t),await this.ready();const n=this._custom.byShortcode(t);return n||Ai(await og(this._db,t))}async getEmojiByUnicodeOrName(t){Eo(t),await this.ready();const n=this._custom.byName(t);return n||Ai(await ag(this._db,t))}async getPreferredSkinTone(){return await this.ready(),await bs(this._db,Kr,Ef)||0}async setPreferredSkinTone(t){return as(t),await this.ready(),sg(this._db,Kr,Ef,t)}async incrementFavoriteEmojiCount(t){return Eo(t),await this.ready(),lg(this._db,t)}async getTopFavoriteEmoji(t){return as(t),await this.ready(),(await cg(this._db,this._custom,t)).map(Ai)}set customEmoji(t){this._custom=Hf(t)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch{}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await us(this._dbName)}async delete(){await this._shutdown(),await Wp(this._dbName)}}function Ei(){}function Pf(e){return e()}function Uf(){return Object.create(null)}function Ti(e){e.forEach(Pf)}function Vf(e){return typeof e=="function"}function xg(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Bo;function Oo(e,t){return Bo||(Bo=document.createElement("a")),Bo.href=t,e===Bo.href}function yg(e){return Object.keys(e).length===0}function wg(e){return e&&Vf(e.destroy)?e.destroy:Ei}function kt(e,t){e.appendChild(t)}function xn(e,t,n){e.insertBefore(t,n||null)}function yn(e){e.parentNode.removeChild(e)}function xt(e){return document.createElement(e)}function Fn(e){return document.createTextNode(e)}function wn(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function ae(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ln(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Yf(e,t){e.value=t==null?"":t}function ar(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let hs;function Ri(e){hs=e}const Ci=[],Zr=[],Fo=[],Xf=[],Kf=Promise.resolve();let ps=!1;function Gf(){ps||(ps=!0,Kf.then(Wf))}function kg(){return Gf(),Kf}function gs(e){Fo.push(e)}const vs=new Set;let Lo=0;function Wf(){const e=hs;do{for(;Lo<Ci.length;){const t=Ci[Lo];Lo++,Ri(t),Sg(t.$$)}for(Ri(null),Ci.length=0,Lo=0;Zr.length;)Zr.pop()();for(let t=0;t<Fo.length;t+=1){const n=Fo[t];vs.has(n)||(vs.add(n),n())}Fo.length=0}while(Ci.length);for(;Xf.length;)Xf.pop()();ps=!1,vs.clear(),Ri(e)}function Sg(e){if(e.fragment!==null){e.update(),Ti(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(gs)}}const Mg=new Set;function Ag(e,t){e&&e.i&&(Mg.delete(e),e.i(t))}const Eg=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function Ii(e,t){e.d(1),t.delete(e.key)}function Bi(e,t,n,r,o,i,a,l,d,f,m,c){let p=e.length,h=i.length,s=p;const I={};for(;s--;)I[e[s].key]=s;const B=[],R=new Map,g=new Map;for(s=h;s--;){const C=c(o,i,s),v=n(C);let A=a.get(v);A?r&&A.p(C,t):(A=f(v,C),A.c()),R.set(v,B[s]=A),v in I&&g.set(v,Math.abs(s-I[v]))}const E=new Set,L=new Set;function T(C){Ag(C,1),C.m(l,m),a.set(C.key,C),m=C.first,h--}for(;p&&h;){const C=B[h-1],v=e[p-1],A=C.key,S=v.key;C===v?(m=C.first,p--,h--):R.has(S)?!a.has(A)||E.has(A)?T(C):L.has(S)?p--:g.get(A)>g.get(S)?(L.add(A),T(C)):(E.add(S),p--):(d(v,a),p--)}for(;p--;){const C=e[p];R.has(C.key)||d(C,a)}for(;h;)T(B[h-1]);return B}function Tg(e,t,n,r){const{fragment:o,on_mount:i,on_destroy:a,after_update:l}=e.$$;o&&o.m(t,n),r||gs(()=>{const d=i.map(Pf).filter(Vf);a?a.push(...d):Ti(d),e.$$.on_mount=[]}),l.forEach(gs)}function Rg(e,t){const n=e.$$;n.fragment!==null&&(Ti(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Cg(e,t){e.$$.dirty[0]===-1&&(Ci.push(e),Gf(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ig(e,t,n,r,o,i,a,l=[-1]){const d=hs;Ri(e);const f=e.$$={fragment:null,ctx:null,props:i,update:Ei,not_equal:o,bound:Uf(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:Uf(),dirty:l,skip_bound:!1,root:t.target||d.$$.root};a&&a(f.root);let m=!1;f.ctx=n?n(e,t.props||{},(c,p,...h)=>{const s=h.length?h[0]:p;return f.ctx&&o(f.ctx[c],f.ctx[c]=s)&&(!f.skip_bound&&f.bound[c]&&f.bound[c](s),m&&Cg(e,c)),p}):[],f.update(),m=!0,Ti(f.before_update),f.fragment=r?r(f.ctx):!1,t.target&&(f.fragment&&f.fragment.c(),Tg(e,t.target,void 0,void 0),Wf()),Ri(d)}class Bg{$destroy(){Rg(this,1),this.$destroy=Ei}$on(t,n){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!yg(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Zf=[[-1,"\u2728","custom"],[0,"\u{1F600}","smileys-emotion"],[1,"\u{1F44B}","people-body"],[3,"\u{1F431}","animals-nature"],[4,"\u{1F34E}","food-drink"],[5,"\u{1F3E0}\uFE0F","travel-places"],[6,"\u26BD","activities"],[7,"\u{1F4DD}","objects"],[8,"\u26D4\uFE0F","symbols"],[9,"\u{1F3C1}","flags"]].map(([e,t,n])=>({id:e,emoji:t,name:n})),jo=Zf.slice(1),Og=Zf[0],Fg=2,Qf=6,Jf=typeof requestIdleCallback=="function"?requestIdleCallback:setTimeout;function $f(e){return e.unicode.includes("\u200D")}const Lg={"\u{1FAE0}":14,"\u{1F972}":13.1,"\u{1F97B}":12.1,"\u{1F970}":11,"\u{1F929}":5,"\u{1F471}\u200D\u2640\uFE0F":4,"\u{1F923}":3,"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":2,"\u{1F600}":1,"\u{1F610}\uFE0F":.7,"\u{1F603}":.6},jg=1e3,Hg="\u{1F590}\uFE0F",Ng=8,Dg=["\u{1F60A}","\u{1F612}","\u2665\uFE0F","\u{1F44D}\uFE0F","\u{1F60D}","\u{1F602}","\u{1F62D}","\u263A\uFE0F","\u{1F614}","\u{1F629}","\u{1F60F}","\u{1F495}","\u{1F64C}","\u{1F618}"],e0='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',qg=(e,t)=>e<t?-1:e>t?1:0,t0=(e,t)=>{const n=document.createElement("canvas");n.width=n.height=1;const r=n.getContext("2d");return r.textBaseline="top",r.font=`100px ${e0}`,r.fillStyle=t,r.scale(.01,.01),r.fillText(e,0,0),r.getImageData(0,0,1,1).data},zg=(e,t)=>{const n=[...e].join(","),r=[...t].join(",");return n===r&&!n.startsWith("0,0,0,")};function Pg(e){const t=t0(e,"#000"),n=t0(e,"#fff");return t&&n&&zg(t,n)}function Ug(){const e=Object.entries(Lg);try{for(const[t,n]of e)if(Pg(t))return n}catch{}finally{}return e[0][1]}const _s=new Promise(e=>Jf(()=>e(Ug()))),xs=new Map,Vg="\uFE0F",Yg="\uD83C",Xg="\u200D",Kg=127995,Gg=57339;function Wg(e,t){if(t===0)return e;const n=e.indexOf(Xg);return n!==-1?e.substring(0,n)+String.fromCodePoint(Kg+t-1)+e.substring(n):(e.endsWith(Vg)&&(e=e.substring(0,e.length-1)),e+Yg+String.fromCodePoint(Gg+t-1))}function sr(e){e.preventDefault(),e.stopPropagation()}function ys(e,t,n){return t+=e?-1:1,t<0?t=n.length-1:t>=n.length&&(t=0),t}function n0(e,t){const n=new Set,r=[];for(const o of e){const i=t(o);n.has(i)||(n.add(i),r.push(o))}return r}function Zg(e,t){const n=r=>{const o={};for(const i of r)typeof i.tone=="number"&&i.version<=t&&(o[i.tone]=i.unicode);return o};return e.map(({unicode:r,skins:o,shortcodes:i,url:a,name:l,category:d})=>({unicode:r,name:l,shortcodes:i,url:a,category:d,id:r||l,skins:o&&n(o),title:(i||[]).join(", ")}))}const Ho=requestAnimationFrame;let Qg=typeof ResizeObserver=="function";function Jg(e,t){let n;return Qg?(n=new ResizeObserver(r=>t(r[0].contentRect.width)),n.observe(e)):Ho(()=>t(e.getBoundingClientRect().width)),{destroy(){n&&n.disconnect()}}}function r0(e){{const t=document.createRange();return t.selectNode(e.firstChild),t.getBoundingClientRect().width}}let ws;function $g(e,t,n){for(const r of e){const o=n(r),i=r0(o);typeof ws=="undefined"&&(ws=r0(t));const a=i/1.8<ws;xs.set(r.unicode,a)}}function ev(e){return n0(e,t=>t)}const{Map:Oi}=Eg;function i0(e,t,n){const r=e.slice();return r[63]=t[n],r[65]=n,r}function o0(e,t,n){const r=e.slice();return r[66]=t[n],r[65]=n,r}function a0(e,t,n){const r=e.slice();return r[63]=t[n],r[65]=n,r}function s0(e,t,n){const r=e.slice();return r[69]=t[n],r}function l0(e,t,n){const r=e.slice();return r[72]=t[n],r[65]=n,r}function c0(e,t){let n,r=t[72]+"",o,i,a,l,d,f;return{key:e,first:null,c(){n=xt("div"),o=Fn(r),ae(n,"id",i="skintone-"+t[65]),ae(n,"class",a="emoji hide-focus "+(t[65]===t[20]?"active":"")),ae(n,"aria-selected",l=t[65]===t[20]),ae(n,"role","option"),ae(n,"title",d=t[0].skinTones[t[65]]),ae(n,"tabindex","-1"),ae(n,"aria-label",f=t[0].skinTones[t[65]]),this.first=n},m(m,c){xn(m,n,c),kt(n,o)},p(m,c){t=m,c[0]&512&&r!==(r=t[72]+"")&&Ln(o,r),c[0]&512&&i!==(i="skintone-"+t[65])&&ae(n,"id",i),c[0]&1049088&&a!==(a="emoji hide-focus "+(t[65]===t[20]?"active":""))&&ae(n,"class",a),c[0]&1049088&&l!==(l=t[65]===t[20])&&ae(n,"aria-selected",l),c[0]&513&&d!==(d=t[0].skinTones[t[65]])&&ae(n,"title",d),c[0]&513&&f!==(f=t[0].skinTones[t[65]])&&ae(n,"aria-label",f)},d(m){m&&yn(n)}}}function f0(e,t){let n,r,o=t[69].emoji+"",i,a,l,d,f,m,c;function p(){return t[49](t[69])}return{key:e,first:null,c(){n=xt("button"),r=xt("div"),i=Fn(o),ae(r,"class","nav-emoji emoji"),ae(n,"role","tab"),ae(n,"class","nav-button"),ae(n,"aria-controls",a="tab-"+t[69].id),ae(n,"aria-label",l=t[0].categories[t[69].name]),ae(n,"aria-selected",d=!t[4]&&t[13].id===t[69].id),ae(n,"title",f=t[0].categories[t[69].name]),this.first=n},m(h,s){xn(h,n,s),kt(n,r),kt(r,i),m||(c=wn(n,"click",p),m=!0)},p(h,s){t=h,s[0]&4096&&o!==(o=t[69].emoji+"")&&Ln(i,o),s[0]&4096&&a!==(a="tab-"+t[69].id)&&ae(n,"aria-controls",a),s[0]&4097&&l!==(l=t[0].categories[t[69].name])&&ae(n,"aria-label",l),s[0]&12304&&d!==(d=!t[4]&&t[13].id===t[69].id)&&ae(n,"aria-selected",d),s[0]&4097&&f!==(f=t[0].categories[t[69].name])&&ae(n,"title",f)},d(h){h&&yn(n),m=!1,c()}}}function tv(e){let t,n;return{c(){t=xt("img"),ae(t,"class","custom-emoji"),Oo(t.src,n=e[63].url)||ae(t,"src",n),ae(t,"alt",""),ae(t,"loading","lazy")},m(r,o){xn(r,t,o)},p(r,o){o[0]&32768&&!Oo(t.src,n=r[63].url)&&ae(t,"src",n)},d(r){r&&yn(t)}}}function nv(e){let t=e[27](e[63],e[8])+"",n;return{c(){n=Fn(t)},m(r,o){xn(r,n,o)},p(r,o){o[0]&33024&&t!==(t=r[27](r[63],r[8])+"")&&Ln(n,t)},d(r){r&&yn(n)}}}function u0(e,t){let n,r,o,i,a,l,d;function f(p,h){return p[63].unicode?nv:tv}let m=f(t),c=m(t);return{key:e,first:null,c(){n=xt("button"),c.c(),ae(n,"role",r=t[4]?"option":"menuitem"),ae(n,"aria-selected",o=t[4]?t[65]==t[5]:""),ae(n,"aria-label",i=t[28](t[63],t[8])),ae(n,"title",a=t[63].title),ae(n,"class",l="emoji "+(t[4]&&t[65]===t[5]?"active":"")),ae(n,"id",d="emo-"+t[63].id),this.first=n},m(p,h){xn(p,n,h),c.m(n,null)},p(p,h){t=p,m===(m=f(t))&&c?c.p(t,h):(c.d(1),c=m(t),c&&(c.c(),c.m(n,null))),h[0]&16&&r!==(r=t[4]?"option":"menuitem")&&ae(n,"role",r),h[0]&32816&&o!==(o=t[4]?t[65]==t[5]:"")&&ae(n,"aria-selected",o),h[0]&33024&&i!==(i=t[28](t[63],t[8]))&&ae(n,"aria-label",i),h[0]&32768&&a!==(a=t[63].title)&&ae(n,"title",a),h[0]&32816&&l!==(l="emoji "+(t[4]&&t[65]===t[5]?"active":""))&&ae(n,"class",l),h[0]&32768&&d!==(d="emo-"+t[63].id)&&ae(n,"id",d)},d(p){p&&yn(n),c.d()}}}function d0(e,t){let n,r=(t[4]?t[0].searchResultsLabel:t[66].category?t[66].category:t[15].length>1?t[0].categories.custom:t[0].categories[t[13].name])+"",o,i,a,l,d=[],f=new Oi,m,c,p,h=t[66].emojis;const s=I=>I[63].id;for(let I=0;I<h.length;I+=1){let B=a0(t,h,I),R=s(B);f.set(R,d[I]=u0(R,B))}return{key:e,first:null,c(){n=xt("div"),o=Fn(r),l=xt("div");for(let I=0;I<d.length;I+=1)d[I].c();ae(n,"id",i="menu-label-"+t[65]),ae(n,"class",a="category "+(t[15].length===1&&t[15][0].category===""?"gone":"")),ae(n,"aria-hidden","true"),ae(l,"class","emoji-menu"),ae(l,"role",m=t[4]?"listbox":"menu"),ae(l,"aria-labelledby",c="menu-label-"+t[65]),ae(l,"id",p=t[4]?"search-results":""),this.first=n},m(I,B){xn(I,n,B),kt(n,o),xn(I,l,B);for(let R=0;R<d.length;R+=1)d[R].m(l,null)},p(I,B){t=I,B[0]&40977&&r!==(r=(t[4]?t[0].searchResultsLabel:t[66].category?t[66].category:t[15].length>1?t[0].categories.custom:t[0].categories[t[13].name])+"")&&Ln(o,r),B[0]&32768&&i!==(i="menu-label-"+t[65])&&ae(n,"id",i),B[0]&32768&&a!==(a="category "+(t[15].length===1&&t[15][0].category===""?"gone":""))&&ae(n,"class",a),B[0]&402686256&&(h=t[66].emojis,d=Bi(d,B,s,1,t,h,f,l,Ii,u0,null,a0)),B[0]&16&&m!==(m=t[4]?"listbox":"menu")&&ae(l,"role",m),B[0]&32768&&c!==(c="menu-label-"+t[65])&&ae(l,"aria-labelledby",c),B[0]&16&&p!==(p=t[4]?"search-results":"")&&ae(l,"id",p)},d(I){I&&yn(n),I&&yn(l);for(let B=0;B<d.length;B+=1)d[B].d()}}}function rv(e){let t,n;return{c(){t=xt("img"),ae(t,"class","custom-emoji"),Oo(t.src,n=e[63].url)||ae(t,"src",n),ae(t,"alt",""),ae(t,"loading","lazy")},m(r,o){xn(r,t,o)},p(r,o){o[0]&1024&&!Oo(t.src,n=r[63].url)&&ae(t,"src",n)},d(r){r&&yn(t)}}}function iv(e){let t=e[27](e[63],e[8])+"",n;return{c(){n=Fn(t)},m(r,o){xn(r,n,o)},p(r,o){o[0]&1280&&t!==(t=r[27](r[63],r[8])+"")&&Ln(n,t)},d(r){r&&yn(n)}}}function b0(e,t){let n,r,o,i;function a(f,m){return f[63].unicode?iv:rv}let l=a(t),d=l(t);return{key:e,first:null,c(){n=xt("button"),d.c(),ae(n,"role","menuitem"),ae(n,"aria-label",r=t[28](t[63],t[8])),ae(n,"title",o=t[63].title),ae(n,"class","emoji"),ae(n,"id",i="fav-"+t[63].id),this.first=n},m(f,m){xn(f,n,m),d.m(n,null)},p(f,m){t=f,l===(l=a(t))&&d?d.p(t,m):(d.d(1),d=l(t),d&&(d.c(),d.m(n,null))),m[0]&1280&&r!==(r=t[28](t[63],t[8]))&&ae(n,"aria-label",r),m[0]&1024&&o!==(o=t[63].title)&&ae(n,"title",o),m[0]&1024&&i!==(i="fav-"+t[63].id)&&ae(n,"id",i)},d(f){f&&yn(n),d.d()}}}function ov(e){let t,n,r,o,i,a,l,d,f,m=e[0].searchLabel+"",c,p,h=e[0].searchDescription+"",s,I,B,R,g,E,L,T=e[0].skinToneDescription+"",C,v,A=[],S=new Oi,b,x,_,y,k,w=[],N=new Oi,X,q,U,u,M,Z,O,me,Me=[],ve=new Oi,ge,Ne,Ce,he,Ye,rt=[],z=new Oi,Y,re,fe,de,Ae,Re,ke=e[9];const Ee=ue=>ue[72];for(let ue=0;ue<ke.length;ue+=1){let Se=l0(e,ke,ue),te=Ee(Se);S.set(te,A[ue]=c0(te,Se))}let _e=e[12];const qe=ue=>ue[69].id;for(let ue=0;ue<_e.length;ue+=1){let Se=s0(e,_e,ue),te=qe(Se);N.set(te,w[ue]=f0(te,Se))}let je=e[15];const ze=ue=>ue[66].category;for(let ue=0;ue<je.length;ue+=1){let Se=o0(e,je,ue),te=ze(Se);ve.set(te,Me[ue]=d0(te,Se))}let Pe=e[10];const We=ue=>ue[63].id;for(let ue=0;ue<Pe.length;ue+=1){let Se=i0(e,Pe,ue),te=We(Se);z.set(te,rt[ue]=b0(te,Se))}return{c(){t=xt("section"),n=xt("div"),r=xt("div"),o=xt("div"),i=xt("input"),f=xt("label"),c=Fn(m),p=xt("span"),s=Fn(h),I=xt("div"),B=xt("button"),R=Fn(e[21]),L=xt("span"),C=Fn(T),v=xt("div");for(let ue=0;ue<A.length;ue+=1)A[ue].c();k=xt("div");for(let ue=0;ue<w.length;ue+=1)w[ue].c();q=xt("div"),U=xt("div"),u=xt("div"),M=Fn(e[18]),O=xt("div"),me=xt("div");for(let ue=0;ue<Me.length;ue+=1)Me[ue].c();Ye=xt("div");for(let ue=0;ue<rt.length;ue+=1)rt[ue].c();fe=xt("button"),fe.textContent="\u{1F600}",ae(n,"class","pad-top"),ae(i,"id","search"),ae(i,"class","search"),ae(i,"type","search"),ae(i,"role","combobox"),ae(i,"enterkeyhint","search"),ae(i,"placeholder",a=e[0].searchLabel),ae(i,"autocapitalize","none"),ae(i,"autocomplete","off"),ae(i,"spellcheck","true"),ae(i,"aria-expanded",l=!!(e[4]&&e[1].length)),ae(i,"aria-controls","search-results"),ae(i,"aria-describedby","search-description"),ae(i,"aria-autocomplete","list"),ae(i,"aria-activedescendant",d=e[26]?`emo-${e[26]}`:""),ae(f,"class","sr-only"),ae(f,"for","search"),ae(p,"id","search-description"),ae(p,"class","sr-only"),ae(o,"class","search-wrapper"),ae(B,"id","skintone-button"),ae(B,"class",g="emoji "+(e[6]?"hide-focus":"")),ae(B,"aria-label",e[23]),ae(B,"title",e[23]),ae(B,"aria-describedby","skintone-description"),ae(B,"aria-haspopup","listbox"),ae(B,"aria-expanded",e[6]),ae(B,"aria-controls","skintone-list"),ae(I,"class",E="skintone-button-wrapper "+(e[19]?"expanded":"")),ae(L,"id","skintone-description"),ae(L,"class","sr-only"),ae(v,"id","skintone-list"),ae(v,"class",b="skintone-list "+(e[6]?"":"hidden no-animate")),ar(v,"transform","translateY("+(e[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),ae(v,"role","listbox"),ae(v,"aria-label",x=e[0].skinTonesLabel),ae(v,"aria-activedescendant",_="skintone-"+e[20]),ae(v,"aria-hidden",y=!e[6]),ae(r,"class","search-row"),ae(k,"class","nav"),ae(k,"role","tablist"),ar(k,"grid-template-columns","repeat("+e[12].length+", 1fr)"),ae(k,"aria-label",X=e[0].categoriesLabel),ae(U,"class","indicator"),ar(U,"transform","translateX("+(e[24]?-1:1)*e[11]*100+"%)"),ae(q,"class","indicator-wrapper"),ae(u,"class",Z="message "+(e[18]?"":"gone")),ae(u,"role","alert"),ae(u,"aria-live","polite"),ae(O,"class",ge="tabpanel "+(!e[14]||e[18]?"gone":"")),ae(O,"role",Ne=e[4]?"region":"tabpanel"),ae(O,"aria-label",Ce=e[4]?e[0].searchResultsLabel:e[0].categories[e[13].name]),ae(O,"id",he=e[4]?"":`tab-${e[13].id}`),ae(O,"tabindex","0"),ae(Ye,"class",Y="favorites emoji-menu "+(e[18]?"gone":"")),ae(Ye,"role","menu"),ae(Ye,"aria-label",re=e[0].favoritesLabel),ar(Ye,"padding-inline-end",e[25]+"px"),ae(fe,"aria-hidden","true"),ae(fe,"tabindex","-1"),ae(fe,"class","abs-pos hidden emoji"),ae(t,"class","picker"),ae(t,"aria-label",de=e[0].regionLabel),ae(t,"style",e[22])},m(ue,Se){xn(ue,t,Se),kt(t,n),kt(t,r),kt(r,o),kt(o,i),Yf(i,e[2]),kt(o,f),kt(f,c),kt(o,p),kt(p,s),kt(r,I),kt(I,B),kt(B,R),kt(r,L),kt(L,C),kt(r,v);for(let te=0;te<A.length;te+=1)A[te].m(v,null);e[48](v),kt(t,k);for(let te=0;te<w.length;te+=1)w[te].m(k,null);kt(t,q),kt(q,U),kt(t,u),kt(u,M),kt(t,O),kt(O,me);for(let te=0;te<Me.length;te+=1)Me[te].m(me,null);e[50](O),kt(t,Ye);for(let te=0;te<rt.length;te+=1)rt[te].m(Ye,null);kt(t,fe),e[51](fe),e[52](t),Ae||(Re=[wn(i,"input",e[47]),wn(i,"keydown",e[30]),wn(B,"click",e[35]),wn(v,"focusout",e[38]),wn(v,"click",e[34]),wn(v,"keydown",e[36]),wn(v,"keyup",e[37]),wn(k,"keydown",e[32]),wg(e[29].call(null,me)),wn(O,"click",e[33]),wn(Ye,"click",e[33])],Ae=!0)},p(ue,Se){Se[0]&1&&a!==(a=ue[0].searchLabel)&&ae(i,"placeholder",a),Se[0]&18&&l!==(l=!!(ue[4]&&ue[1].length))&&ae(i,"aria-expanded",l),Se[0]&67108864&&d!==(d=ue[26]?`emo-${ue[26]}`:"")&&ae(i,"aria-activedescendant",d),Se[0]&4&&Yf(i,ue[2]),Se[0]&1&&m!==(m=ue[0].searchLabel+"")&&Ln(c,m),Se[0]&1&&h!==(h=ue[0].searchDescription+"")&&Ln(s,h),Se[0]&2097152&&Ln(R,ue[21]),Se[0]&64&&g!==(g="emoji "+(ue[6]?"hide-focus":""))&&ae(B,"class",g),Se[0]&8388608&&ae(B,"aria-label",ue[23]),Se[0]&8388608&&ae(B,"title",ue[23]),Se[0]&64&&ae(B,"aria-expanded",ue[6]),Se[0]&524288&&E!==(E="skintone-button-wrapper "+(ue[19]?"expanded":""))&&ae(I,"class",E),Se[0]&1&&T!==(T=ue[0].skinToneDescription+"")&&Ln(C,T),Se[0]&1049089&&(ke=ue[9],A=Bi(A,Se,Ee,1,ue,ke,S,v,Ii,c0,null,l0)),Se[0]&64&&b!==(b="skintone-list "+(ue[6]?"":"hidden no-animate"))&&ae(v,"class",b),Se[0]&64&&ar(v,"transform","translateY("+(ue[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),Se[0]&1&&x!==(x=ue[0].skinTonesLabel)&&ae(v,"aria-label",x),Se[0]&1048576&&_!==(_="skintone-"+ue[20])&&ae(v,"aria-activedescendant",_),Se[0]&64&&y!==(y=!ue[6])&&ae(v,"aria-hidden",y),Se[0]&12305|Se[1]&1&&(_e=ue[12],w=Bi(w,Se,qe,1,ue,_e,N,k,Ii,f0,null,s0)),Se[0]&4096&&ar(k,"grid-template-columns","repeat("+ue[12].length+", 1fr)"),Se[0]&1&&X!==(X=ue[0].categoriesLabel)&&ae(k,"aria-label",X),Se[0]&16779264&&ar(U,"transform","translateX("+(ue[24]?-1:1)*ue[11]*100+"%)"),Se[0]&262144&&Ln(M,ue[18]),Se[0]&262144&&Z!==(Z="message "+(ue[18]?"":"gone"))&&ae(u,"class",Z),Se[0]&402694449&&(je=ue[15],Me=Bi(Me,Se,ze,1,ue,je,ve,me,Ii,d0,null,o0)),Se[0]&278528&&ge!==(ge="tabpanel "+(!ue[14]||ue[18]?"gone":""))&&ae(O,"class",ge),Se[0]&16&&Ne!==(Ne=ue[4]?"region":"tabpanel")&&ae(O,"role",Ne),Se[0]&8209&&Ce!==(Ce=ue[4]?ue[0].searchResultsLabel:ue[0].categories[ue[13].name])&&ae(O,"aria-label",Ce),Se[0]&8208&&he!==(he=ue[4]?"":`tab-${ue[13].id}`)&&ae(O,"id",he),Se[0]&402654464&&(Pe=ue[10],rt=Bi(rt,Se,We,1,ue,Pe,z,Ye,Ii,b0,null,i0)),Se[0]&262144&&Y!==(Y="favorites emoji-menu "+(ue[18]?"gone":""))&&ae(Ye,"class",Y),Se[0]&1&&re!==(re=ue[0].favoritesLabel)&&ae(Ye,"aria-label",re),Se[0]&33554432&&ar(Ye,"padding-inline-end",ue[25]+"px"),Se[0]&1&&de!==(de=ue[0].regionLabel)&&ae(t,"aria-label",de),Se[0]&4194304&&ae(t,"style",ue[22])},i:Ei,o:Ei,d(ue){ue&&yn(t);for(let Se=0;Se<A.length;Se+=1)A[Se].d();e[48](null);for(let Se=0;Se<w.length;Se+=1)w[Se].d();for(let Se=0;Se<Me.length;Se+=1)Me[Se].d();e[50](null);for(let Se=0;Se<rt.length;Se+=1)rt[Se].d();e[51](null),e[52](null),Ae=!1,Ti(Re)}}}function av(e,t,n){let{skinToneEmoji:r}=t,{i18n:o}=t,{database:i}=t,{customEmoji:a}=t,{customCategorySorting:l}=t,d=!0,f=[],m=[],c="",p="",h,s,I,B=!1,R=-1,g,E=!1,L=!1,T,C=0,v=0,A,S,b="",x=[],_=[],y,k=Ng,w=!1,N=0,X=0,q=jo,U,u=!1,M;const Z=te=>{h.getRootNode().getElementById(te).focus()},O=(te,Oe)=>{h.dispatchEvent(new CustomEvent(te,{detail:Oe,bubbles:!0,composed:!0}))},me=(te,Oe)=>Oe&&te.skins&&te.skins[Oe]||te.unicode,Me=(te,Oe)=>ev([te.name||me(te,Oe),...te.shortcodes||[]]).join(", "),ve=te=>/^skintone-/.test(te.id);_s.then(te=>{te||n(18,g=o.emojiUnsupportedMessage)});function ge(te){return Jg(te,Oe=>{{const F=getComputedStyle(h),H=parseInt(F.getPropertyValue("--num-columns"),10),P=F.getPropertyValue("direction")==="rtl",G=te.parentElement.getBoundingClientRect().width-Oe;n(46,k=H),n(25,N=G),n(24,w=P)}})}function Ne(te){const Oe=h.getRootNode();$g(te,s,H=>Oe.getElementById(`emo-${H.id}`)),n(1,f=f)}function Ce(te){return!te.unicode||!$f(te)||xs.get(te.unicode)}async function he(te){const Oe=await _s;return te.filter(({version:F})=>!F||F<=Oe)}async function Ye(te){return Zg(te,await _s)}async function rt(te){if(typeof te=="undefined")return[];const Oe=te===-1?a:await i.getEmojiByGroup(te);return Ye(await he(Oe))}async function z(te){return Ye(await he(await i.getEmojiBySearchQuery(te)))}function Y(te){if(!B||!f.length)return;const Oe=F=>{sr(te),n(5,R=ys(F,R,f))};switch(te.key){case"ArrowDown":return Oe(!1);case"ArrowUp":return Oe(!0);case"Enter":if(R!==-1)return sr(te),de(f[R].id);f.length&&n(5,R=0)}}function re(te){n(2,c=""),n(44,p=""),n(5,R=-1),n(11,X=q.findIndex(Oe=>Oe.id===te.id))}function fe(te){const{target:Oe,key:F}=te,H=P=>{P&&(sr(te),P.focus())};switch(F){case"ArrowLeft":return H(Oe.previousSibling);case"ArrowRight":return H(Oe.nextSibling);case"Home":return H(Oe.parentElement.firstChild);case"End":return H(Oe.parentElement.lastChild)}}async function de(te){const Oe=await i.getEmojiByUnicodeOrName(te),F=[...f,..._].find(P=>P.id===te),H=F.unicode&&me(F,C);await i.incrementFavoriteEmojiCount(te),O("emoji-click",{emoji:Oe,skinTone:C,...H&&{unicode:H},...F.name&&{name:F.name}})}async function Ae(te){const{target:Oe}=te;if(!Oe.classList.contains("emoji"))return;sr(te);const F=Oe.id.substring(4);de(F)}async function Re(te){const{target:Oe}=te;if(!ve(Oe))return;sr(te);const F=parseInt(Oe.id.slice(9),10);n(8,C=F),n(6,E=!1),Z("skintone-button"),O("skin-tone-change",{skinTone:F}),i.setPreferredSkinTone(F)}async function ke(te){n(6,E=!E),n(20,v=C),E&&(sr(te),Ho(()=>Z(`skintone-${v}`)))}function Ee(te){if(!E)return;const Oe=async F=>{sr(te),n(20,v=F),await kg(),Z(`skintone-${v}`)};switch(te.key){case"ArrowUp":return Oe(ys(!0,v,x));case"ArrowDown":return Oe(ys(!1,v,x));case"Home":return Oe(0);case"End":return Oe(x.length-1);case"Enter":return Re(te);case"Escape":return sr(te),n(6,E=!1),Z("skintone-button")}}function _e(te){if(!!E)switch(te.key){case" ":return Re(te)}}async function qe(te){const{relatedTarget:Oe}=te;(!Oe||!ve(Oe))&&n(6,E=!1)}function je(){c=this.value,n(2,c)}function ze(te){Zr[te?"unshift":"push"](()=>{T=te,n(7,T)})}const Pe=te=>re(te);function We(te){Zr[te?"unshift":"push"](()=>{I=te,n(3,I)})}function ue(te){Zr[te?"unshift":"push"](()=>{s=te,n(17,s)})}function Se(te){Zr[te?"unshift":"push"](()=>{h=te,n(16,h)})}return e.$$set=te=>{"skinToneEmoji"in te&&n(40,r=te.skinToneEmoji),"i18n"in te&&n(0,o=te.i18n),"database"in te&&n(39,i=te.database),"customEmoji"in te&&n(41,a=te.customEmoji),"customCategorySorting"in te&&n(42,l=te.customCategorySorting)},e.$$.update=()=>{if(e.$$.dirty[1]&1280&&a&&i&&n(39,i.customEmoji=a,i),e.$$.dirty[0]&1|e.$$.dirty[1]&256){async function te(){let Oe=!1;const F=setTimeout(()=>{Oe=!0,n(18,g=o.loadingMessage)},jg);try{await i.ready(),n(14,u=!0)}catch(H){console.error(H),n(18,g=o.networkErrorMessage)}finally{clearTimeout(F),Oe&&(Oe=!1,n(18,g=""))}}i&&te()}if(e.$$.dirty[0]&6144|e.$$.dirty[1]&1024&&(a&&a.length?n(12,q=[Og,...jo]):q!==jo&&(X&&n(11,X--,X),n(12,q=jo))),e.$$.dirty[0]&4&&Jf(()=>{n(44,p=(c||"").trim()),n(5,R=-1)}),e.$$.dirty[0]&6144&&n(13,U=q[X]),e.$$.dirty[0]&24576|e.$$.dirty[1]&8192){async function te(){if(!u)n(1,f=[]),n(4,B=!1);else if(p.length>=Fg){const Oe=p,F=await z(Oe);Oe===p&&(n(1,f=F),n(4,B=!0))}else if(U){const Oe=U.id,F=await rt(Oe);Oe===U.id&&(n(1,f=F),n(4,B=!1))}}te()}if(e.$$.dirty[0]&4112&&n(22,S=`
  --font-family: ${e0};
  --num-groups: ${q.length}; 
  --indicator-opacity: ${B?0:1}; 
  --num-skintones: ${Qf};`),e.$$.dirty[0]&16384|e.$$.dirty[1]&256){async function te(){u&&n(8,C=await i.getPreferredSkinTone())}te()}if(e.$$.dirty[1]&512&&n(9,x=Array(Qf).fill().map((te,Oe)=>Wg(r,Oe))),e.$$.dirty[0]&768&&n(21,A=x[C]),e.$$.dirty[0]&257&&n(23,b=o.skinToneLabel.replace("{skinTone}",o.skinTones[C])),e.$$.dirty[0]&16384|e.$$.dirty[1]&256){async function te(){n(45,y=(await Promise.all(Dg.map(Oe=>i.getEmojiByUnicodeOrName(Oe)))).filter(Boolean))}u&&te()}if(e.$$.dirty[0]&16384|e.$$.dirty[1]&49408){async function te(){const Oe=await i.getTopFavoriteEmoji(k),F=await Ye(n0([...Oe,...y],H=>H.unicode||H.name).slice(0,k));n(10,_=F)}u&&y&&te()}if(e.$$.dirty[0]&10){const te=f.filter(Oe=>Oe.unicode).filter(Oe=>$f(Oe)&&!xs.has(Oe.unicode));te.length?Ho(()=>Ne(te)):(n(1,f=f.filter(Ce)),Ho(()=>{(I||{}).scrollTop=0}))}e.$$.dirty[0]&1026|e.$$.dirty[1]&4096,e.$$.dirty[0]&18|e.$$.dirty[1]&2048&&n(15,m=function(){if(B)return[{category:"",emojis:f}];const Oe=new Map;for(const F of f){const H=F.category||"";let P=Oe.get(H);P||(P=[],Oe.set(H,P)),P.push(F)}return[...Oe.entries()].map(([F,H])=>({category:F,emojis:H})).sort((F,H)=>l(F.category,H.category))}()),e.$$.dirty[0]&34&&n(26,M=R!==-1&&f[R].id),e.$$.dirty[0]&192&&(E?T.addEventListener("transitionend",()=>{n(19,L=!0)},{once:!0}):n(19,L=!1))},[o,f,c,I,B,R,E,T,C,x,_,X,q,U,u,m,h,s,g,L,v,A,S,b,w,N,M,me,Me,ge,Y,re,fe,Ae,Re,ke,Ee,_e,qe,i,r,a,l,d,p,y,k,je,ze,Pe,We,ue,Se]}class sv extends Bg{constructor(t){super(),Ig(this,t,av,ov,xg,{skinToneEmoji:40,i18n:0,database:39,customEmoji:41,customCategorySorting:42},null,[-1,-1,-1])}}const lv="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",cv="en";var fv={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading\u2026",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const m0=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji"];class h0 extends HTMLElement{constructor(t){super(),this.attachShadow({mode:"open"});const n=document.createElement("style");n.textContent=":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}",this.shadowRoot.appendChild(n),this._ctx={locale:cv,dataSource:lv,skinToneEmoji:Hg,customCategorySorting:qg,customEmoji:null,i18n:fv,...t};for(const r of m0)r!=="database"&&Object.prototype.hasOwnProperty.call(this,r)&&(this._ctx[r]=this[r],delete this[r]);this._dbFlush()}connectedCallback(){this._cmp=new sv({target:this.shadowRoot,props:this._ctx})}disconnectedCallback(){this._cmp.$destroy(),this._cmp=void 0;const{database:t}=this._ctx;t&&t.close().catch(n=>console.error(n))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji"]}attributeChangedCallback(t,n,r){this._set(t.replace(/-([a-z])/g,(o,i)=>i.toUpperCase()),r)}_set(t,n){this._ctx[t]=n,this._cmp&&this._cmp.$set({[t]:n}),["locale","dataSource"].includes(t)&&this._dbFlush()}_dbCreate(){const{locale:t,dataSource:n,database:r}=this._ctx;(!r||r.locale!==t||r.dataSource!==n)&&this._set("database",new zf({locale:t,dataSource:n}))}_dbFlush(){Promise.resolve().then(()=>this._dbCreate())}}const p0={};for(const e of m0)p0[e]={get(){return e==="database"&&this._dbCreate(),this._ctx[e]},set(t){if(e==="database")throw new Error("database is read-only");this._set(e,t)}};Object.defineProperties(h0.prototype,p0),customElements.get("emoji-picker")||customElements.define("emoji-picker",h0);function g0(e,t){for(;e&&!e.querySelector(t);){e=e.parentNode;const n=e.querySelector(t);if(n)return n}return null}const uv={name:"EmojiPickerContainer",components:{SvgIcon:jt},props:{emojiOpened:{type:Boolean,default:!1},emojiReaction:{type:Boolean,default:!1},positionTop:{type:Boolean,default:!1},positionRight:{type:Boolean,default:!1},messageId:{type:String,default:""},emojiDataSource:{type:String,default:void 0}},emits:["add-emoji","open-emoji"],data(){return{emojiPickerHeight:320,emojiPickerTop:0,emojiPickerRight:""}},watch:{emojiOpened(e){e&&setTimeout(()=>{this.addCustomStyling(),this.$refs.emojiPicker.shadowRoot.addEventListener("emoji-click",({detail:t})=>{this.$emit("add-emoji",{unicode:t.unicode})})},0)}},methods:{addCustomStyling(){const e=`.picker {
				border: none;
			}`,t=`.nav {
				overflow-x: auto;
			}`,n=`.search-wrapper {
				padding-right: 2px;
				padding-left: 2px;
			}`,r=`input.search {
				height: 32px;
				font-size: 14px;
				border-radius: 10rem;
				border: var(--chat-emoji-search-color);
				padding: 5px 10px;
				outline: none;
				background: var(--chat-emoji-search-color);
				color: var(--chat-color);
			}`,o=`.tabpanel::-webkit-scrollbar {
        		width: 10px;
			}

			.tabpanel::-webkit-scrollbar-track {
				border-radius: 10px;
			}

			.tabpanel::-webkit-scrollbar-thumb {
				background: var(--chat-emoji-scroll-color);
				border-radius: 10px;
			}

			.tabpanel::-webkit-scrollbar-thumb:hover {
				background: var(--chat-emoji-scroll-color-hover);
			}`,i=document.createElement("style");i.textContent=e+t+n+r+o,this.$refs.emojiPicker.shadowRoot.appendChild(i)},openEmoji(e){this.$emit("open-emoji",!this.emojiOpened),this.setEmojiPickerPosition(e.clientY,e.view.innerWidth,e.view.innerHeight)},setEmojiPickerPosition(e,t,n){const r=t<500||n<700,o=g0(this.$el,"#room-footer");if(!o){r&&(this.emojiPickerRight="-50px");return}r?(this.emojiPickerRight=t/2-(this.positionTop?200:150)+"px",this.emojiPickerTop=100,this.emojiPickerHeight=n-200):(o.getBoundingClientRect().top-e>this.emojiPickerHeight-50?this.emojiPickerTop=e+10:this.emojiPickerTop=e-this.emojiPickerHeight-10,this.emojiPickerRight=this.positionTop?"0px":this.positionRight?"60px":"")}}},dv={class:"vac-emoji-wrapper"};function bv(e,t,n,r,o,i){const a=Ke("svg-icon"),l=Ke("emoji-picker");return K(),J("div",dv,[oe("div",{class:Qe(["vac-svg-button",{"vac-emoji-reaction":n.emojiReaction}]),onClick:t[0]||(t[0]=(...d)=>i.openEmoji&&i.openEmoji(...d))},[Te(e.$slots,n.messageId?"emoji-picker-reaction-icon_"+n.messageId:"emoji-picker-icon",{},()=>[Be(a,{name:"emoji",param:n.emojiReaction?"reaction":""},null,8,["param"])])],2),n.emojiOpened?(K(),lt(Rt,{key:0,name:"vac-slide-up",appear:""},{default:Ve(()=>[oe("div",{class:Qe(["vac-emoji-picker",{"vac-picker-reaction":n.emojiReaction}]),style:_t({height:`${o.emojiPickerHeight}px`,top:n.emojiReaction?n.positionTop?o.emojiPickerHeight.toString():`${o.emojiPickerTop}px`:"",right:o.emojiPickerRight,left:n.emojiReaction?"unset":"0",display:o.emojiPickerTop||!n.emojiReaction?"initial":"none"})},[n.emojiOpened?(K(),lt(l,{key:0,ref:"emojiPicker","data-source":n.emojiDataSource},null,8,["data-source"])):we("",!0)],6)]),_:1})):we("",!0)])}var v0=vt(uv,[["render",bv]]);const mv="SOURCE_OPTIWORK_DRIVE",hv={name:"RoomFiles",components:{Loader:xo,SvgIcon:jt},props:{file:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["remove-file"],computed:{isImage(){return Xr(this.file)},isVideo(){return Mi(this.file)},isFileFromOptiwork(){return this.file.source===mv}}},pv={class:"vac-room-file-container"},gv=["title"],vv={class:"vac-optiwork-file-name vac-text-ellipsis"},_v=["src"],xv={class:"vac-text-ellipsis"},yv={key:0,class:"vac-text-ellipsis vac-text-extension"};function wv(e,t,n,r,o,i){const a=Ke("loader"),l=Ke("svg-icon");return K(),J("div",pv,[Be(a,{show:n.file.loading,type:"room-file"},gt({_:2},[et(e.$slots,(d,f)=>({name:f,fn:Ve(m=>[Te(e.$slots,f,ht(dt(m)))])}))]),1032,["show"]),oe("div",{class:"vac-svg-button vac-icon-remove",onClick:t[0]||(t[0]=d=>e.$emit("remove-file",n.index))},[Te(e.$slots,"image-close-icon",{},()=>[Be(l,{name:"close",param:"image"})])]),i.isFileFromOptiwork?(K(),J("div",{key:0,class:"vac-optiwork-file",title:n.file.name},[oe("div",null,[oe("i",{class:Qe([n.file.icon,"vac-optiwork-file-icon"])},null,2)]),oe("div",vv,Ue(n.file.name),1)],8,gv)):i.isImage?(K(),J("div",{key:1,class:Qe(["vac-message-image",{"vac-blur-loading":n.file.loading}]),style:_t({"background-image":`url('${n.file.localUrl||n.file.url}')`})},null,6)):i.isVideo?(K(),J("video",{key:2,controls:"",class:Qe({"vac-blur-loading":n.file.loading})},[oe("source",{src:n.file.localUrl||n.file.url},null,8,_v)],2)):(K(),J("div",{key:3,class:Qe(["vac-file-container",{"vac-blur-loading":n.file.loading}])},[oe("div",null,[Te(e.$slots,"file-icon",{},()=>[Be(l,{name:"file"})])]),oe("div",xv,Ue(n.file.name),1),n.file.extension?(K(),J("div",yv,Ue(n.file.extension),1)):we("",!0)],2))])}var kv=vt(hv,[["render",wv]]);const Sv={name:"RoomFiles",components:{SvgIcon:jt,RoomFile:kv},props:{files:{type:Array,required:!0}},emits:["remove-file","reset-message"],computed:{}},Mv={key:0,class:"vac-room-files-container"},Av={class:"vac-files-box"},Ev={class:"vac-icon-close"};function Tv(e,t,n,r,o,i){const a=Ke("room-file"),l=Ke("svg-icon");return K(),lt(Rt,{name:"vac-slide-up"},{default:Ve(()=>[n.files.length?(K(),J("div",Mv,[oe("div",Av,[(K(!0),J(at,null,et(n.files,(d,f)=>(K(),J("div",{key:f},[Be(a,{file:d,index:f,onRemoveFile:t[0]||(t[0]=m=>e.$emit("remove-file",m))},gt({_:2},[et(e.$slots,(m,c)=>({name:c,fn:Ve(p=>[Te(e.$slots,c,ht(dt(p)))])}))]),1032,["file","index"])]))),128))]),oe("div",Ev,[oe("div",{class:"vac-svg-button",onClick:t[1]||(t[1]=d=>e.$emit("reset-message"))},[Te(e.$slots,"files-close-icon",{},()=>[Be(l,{name:"close-outline"})])])])])):we("",!0)]),_:3})}var Rv=vt(Sv,[["render",Tv]]);const Cv={props:{percentage:{type:Number,default:0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["hover-audio-progress","change-linehead"],data(){return{isMouseDown:!1}},methods:{onMouseDown(e){if(this.messageSelectionEnabled)return;this.isMouseDown=!0;const t=this.calculateLineHeadPosition(e,this.$refs.progress);this.$emit("change-linehead",t),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},onMouseUp(e){if(this.messageSelectionEnabled)return;this.isMouseDown=!1,document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove);const t=this.calculateLineHeadPosition(e,this.$refs.progress);this.$emit("change-linehead",t)},onMouseMove(e){if(this.messageSelectionEnabled)return;const t=this.calculateLineHeadPosition(e,this.$refs.progress);this.$emit("change-linehead",t)},calculateLineHeadPosition(e,t){const n=t.getBoundingClientRect().width,r=t.getBoundingClientRect().left;let o=(e.clientX-r)/n;return o=o<0?0:o,o=o>1?1:o,o}}},Iv={class:"vac-player-progress"},Bv={class:"vac-line-container"};function Ov(e,t,n,r,o,i){return K(),J("div",{ref:"progress",class:"vac-player-bar",onMousedown:t[0]||(t[0]=(...a)=>i.onMouseDown&&i.onMouseDown(...a)),onMouseover:t[1]||(t[1]=a=>e.$emit("hover-audio-progress",!0)),onMouseout:t[2]||(t[2]=a=>e.$emit("hover-audio-progress",!1))},[oe("div",Iv,[oe("div",Bv,[oe("div",{class:"vac-line-progress",style:_t({width:`${n.percentage}%`})},null,4),oe("div",{class:Qe(["vac-line-dot",{"vac-line-dot__active":o.isMouseDown}]),style:_t({left:`${n.percentage}%`})},null,6)])])],544)}var Fv=vt(Cv,[["render",Ov]]);const Lv={name:"AudioPlayer",components:{SvgIcon:jt,AudioControl:Fv},props:{messageId:{type:[String,Number],default:null},src:{type:String,default:null},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["hover-audio-progress","update-progress-time"],data(){return{isPlaying:!1,duration:this.convertTimeMMSS(0),playedTime:this.convertTimeMMSS(0),progress:0}},computed:{playerUniqId(){return`audio-player${this.messageId}`},audioSource(){return this.src?this.src:(this.resetProgress(),null)}},mounted(){this.player=this.$el.querySelector("#"+this.playerUniqId),this.player.addEventListener("ended",()=>{this.isPlaying=!1}),this.player.addEventListener("loadeddata",()=>{this.resetProgress(),this.duration=this.convertTimeMMSS(this.player.duration),this.updateProgressTime()}),this.player.addEventListener("timeupdate",this.onTimeUpdate)},methods:{convertTimeMMSS(e){return new Date(e*1e3).toISOString().substr(14,5)},playback(){this.messageSelectionEnabled||!this.audioSource||(this.isPlaying?this.player.pause():setTimeout(()=>this.player.play()),this.isPlaying=!this.isPlaying)},resetProgress(){this.isPlaying&&this.player.pause(),this.duration=this.convertTimeMMSS(0),this.playedTime=this.convertTimeMMSS(0),this.progress=0,this.isPlaying=!1,this.updateProgressTime()},onTimeUpdate(){this.playedTime=this.convertTimeMMSS(this.player.currentTime),this.progress=this.player.currentTime/this.player.duration*100,this.updateProgressTime()},onUpdateProgress(e){e&&(this.player.currentTime=e*this.player.duration)},updateProgressTime(){this.$emit("update-progress-time",this.progress>1?this.playedTime:this.duration)}}},jv={class:"vac-audio-player"},Hv=["id","src"];function Nv(e,t,n,r,o,i){const a=Ke("svg-icon"),l=Ke("audio-control");return K(),J("div",null,[oe("div",jv,[oe("div",{class:"vac-svg-button",onClick:t[0]||(t[0]=(...d)=>i.playback&&i.playback(...d))},[o.isPlaying?Te(e.$slots,"audio-pause-icon_"+n.messageId,{key:0},()=>[Be(a,{name:"audio-pause"})]):Te(e.$slots,"audio-play-icon_"+n.messageId,{key:1},()=>[Be(a,{name:"audio-play"})])]),Be(l,{percentage:o.progress,"message-selection-enabled":n.messageSelectionEnabled,onChangeLinehead:i.onUpdateProgress,onHoverAudioProgress:t[1]||(t[1]=d=>e.$emit("hover-audio-progress",d))},null,8,["percentage","message-selection-enabled","onChangeLinehead"]),oe("audio",{id:i.playerUniqId,src:i.audioSource},null,8,Hv)])])}var ks=vt(Lv,[["render",Nv]]);const Dv={name:"RoomMessageReply",components:{SvgIcon:jt,FormatMessage:wi,AudioPlayer:ks},props:{room:{type:Object,required:!0},messageReply:{type:Object,default:null},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0}},emits:["reset-message"],computed:{firstFile(){var e,t;return(t=(e=this.messageReply)==null?void 0:e.files)!=null&&t.length?this.messageReply.files[0]:{}},isImage(){return Xr(this.firstFile)},isVideo(){return Mi(this.firstFile)},isAudio(){return Ao(this.firstFile)},isOtherFile(){var e,t;return((t=(e=this.messageReply)==null?void 0:e.files)==null?void 0:t.length)&&!this.isAudio&&!this.isVideo&&!this.isImage}}},qv={key:0,class:"vac-reply-container"},zv={class:"vac-reply-box"},Pv={class:"vac-reply-info"},Uv={class:"vac-reply-username"},Vv={class:"vac-reply-content"},Yv=["src"],Xv={key:1,controls:"",class:"vac-image-reply"},Kv=["src"],Gv={key:3,class:"vac-image-reply vac-file-container"},Wv={class:"vac-text-ellipsis"},Zv={key:0,class:"vac-text-ellipsis vac-text-extension"},Qv={class:"vac-icon-reply"};function Jv(e,t,n,r,o,i){const a=Ke("format-message"),l=Ke("audio-player"),d=Ke("svg-icon");return K(),lt(Rt,{name:"vac-slide-up"},{default:Ve(()=>[n.messageReply?(K(),J("div",qv,[oe("div",zv,[oe("div",Pv,[oe("div",Uv,Ue(n.messageReply.username),1),oe("div",Vv,[Be(a,{"message-id":n.messageReply._id,content:n.messageReply.content,users:n.room.users,"text-formatting":n.textFormatting,"link-options":n.linkOptions,reply:!0},null,8,["message-id","content","users","text-formatting","link-options"])])]),i.isImage?(K(),J("img",{key:0,src:i.firstFile.url,class:"vac-image-reply"},null,8,Yv)):i.isVideo?(K(),J("video",Xv,[oe("source",{src:i.firstFile.url},null,8,Kv)])):i.isAudio?(K(),lt(l,{key:2,src:i.firstFile.url,"message-selection-enabled":!1,class:"vac-audio-reply"},gt({_:2},[et(e.$slots,(f,m)=>({name:m,fn:Ve(c=>[Te(e.$slots,m,ht(dt(c)))])}))]),1032,["src"])):i.isOtherFile?(K(),J("div",Gv,[oe("div",null,[Te(e.$slots,"file-icon",{},()=>[Be(d,{name:"file"})])]),oe("div",Wv,Ue(i.firstFile.name),1),i.firstFile.extension?(K(),J("div",Zv,Ue(i.firstFile.extension),1)):we("",!0)])):we("",!0)]),oe("div",Qv,[oe("div",{class:"vac-svg-button",onClick:t[0]||(t[0]=f=>e.$emit("reset-message"))},[Te(e.$slots,"reply-close-icon",{},()=>[Be(d,{name:"close-outline"})])])])])):we("",!0)]),_:3})}var $v=vt(Dv,[["render",Jv]]);const e3={name:"RoomUsersTag",props:{filteredUsersTag:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-user-tag","activate-item"],data(){return{activeItem:null}},watch:{filteredUsersTag(e,t){(!t.length||e.length!==t.length)&&(this.activeItem=0)},selectItem(e){e&&this.$emit("select-user-tag",this.filteredUsersTag[this.activeItem])},activeUpOrDown(){this.activeUpOrDown>0&&this.activeItem<this.filteredUsersTag.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},t3={key:0,class:"vac-tags-container"},n3=["onMouseover","onClick"],r3={class:"vac-tags-info"},i3={class:"vac-tags-username"};function o3(e,t,n,r,o,i){return K(),lt(Rt,{name:"vac-slide-up"},{default:Ve(()=>[n.filteredUsersTag.length?(K(),J("div",t3,[(K(!0),J(at,null,et(n.filteredUsersTag,(a,l)=>(K(),J("div",{key:a._id,class:Qe(["vac-tags-box",{"vac-tags-box-active":l===o.activeItem}]),onMouseover:d=>o.activeItem=l,onClick:d=>e.$emit("select-user-tag",a)},[oe("div",r3,[a.avatar?(K(),J("div",{key:0,class:"vac-avatar vac-tags-avatar",style:_t({"background-image":`url('${a.avatar}')`})},null,4)):we("",!0),oe("div",i3,Ue(a.username),1)])],42,n3))),128))])):we("",!0)]),_:1})}var a3=vt(e3,[["render",o3]]);const s3={name:"RoomEmojis",props:{filteredEmojis:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-emoji","activate-item"],data(){return{activeItem:null}},watch:{filteredEmojis(e,t){(!t.length||e.length!==t.length)&&(this.activeItem=0)},selectItem(e){e&&this.$emit("select-emoji",this.filteredEmojis[this.activeItem])},activeUpOrDown(){this.activeUpOrDown>0&&this.activeItem<this.filteredEmojis.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},l3={key:0,class:"vac-emojis-container"},c3=["onMouseover","onClick"];function f3(e,t,n,r,o,i){return K(),lt(Rt,{name:"vac-slide-up"},{default:Ve(()=>[n.filteredEmojis.length?(K(),J("div",l3,[(K(!0),J(at,null,et(n.filteredEmojis,(a,l)=>(K(),J("div",{key:a,class:Qe(["vac-emoji-element",{"vac-emoji-element-active":l===o.activeItem}]),onMouseover:d=>o.activeItem=l,onClick:d=>e.$emit("select-emoji",a)},Ue(a),43,c3))),128))])):we("",!0)]),_:1})}var u3=vt(s3,[["render",f3]]);const d3={name:"RoomAttachmentPicker",directives:{clickOutside:ki},props:{attachmentOptions:{type:Array,required:!0}},emits:["attachment-picker-handler"],data(){return{optionsOpened:!1}},methods:{openOptions(){this.optionsOpened=!0,this.$nextTick(()=>{this.$refs.openOptionsIcon.style.rotate="135deg"})},closeOptions(){this.optionsOpened=!1,this.$nextTick(()=>{this.$refs.openOptionsIcon.style.rotate="0deg"})},attachmentOptionHandler(e){this.closeOptions(),this.$emit("attachment-picker-handler",e)}}},b3={class:"room-attachment-picker-wrapper"},m3={ref:"openOptionsIcon",class:"bi bi-plus-lg vac-open-attachment-list-icon"},h3={key:0,ref:"menuOptions",class:"vac-menu-options vac-menu-right"},p3={class:"vac-menu-list"},g3={key:0,class:"vac-menu-item-divider"},v3=["onClick"];function _3(e,t,n,r,o,i){const a=di("click-outside");return K(),J("div",b3,[oe("div",{class:"vac-svg-button",onClick:t[0]||(t[0]=(...l)=>i.openOptions&&i.openOptions(...l))},[Te(e.$slots,"paperclip-icon",{},()=>[oe("i",m3,null,512)])]),Be(Rt,{name:"vac-slide-up",appear:""},{default:Ve(()=>[o.optionsOpened?Rn((K(),J("div",h3,[oe("div",p3,[(K(!0),J(at,null,et(n.attachmentOptions,l=>{var d;return K(),J("div",{key:l.name},[l.divider?(K(),J("hr",g3)):(K(),J("div",{key:1,class:"vac-menu-item",onClick:f=>i.attachmentOptionHandler(l)},[oe("i",{class:Qe(["bi",`bi-${(d=l.icon)!=null?d:"file-earmark"}`]),style:_t({color:l.color})},null,6),_n(" "+Ue(l.title),1)],8,v3))])}),128))])])),[[a,i.closeOptions]]):we("",!0)]),_:1})])}var x3=vt(d3,[["render",_3]]);const y3={name:"RoomTemplatesText",props:{filteredTemplatesText:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-template-text","activate-item"],data(){return{activeItem:null}},watch:{filteredTemplatesText(e,t){(!t.length||e.length!==t.length)&&(this.activeItem=0)},selectItem(e){e&&this.$emit("select-template-text",this.filteredTemplatesText[this.activeItem])},activeUpOrDown(){this.activeUpOrDown>0&&this.activeItem<this.filteredTemplatesText.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},w3={key:0,class:"vac-template-container vac-app-box-shadow"},k3=["onMouseover","onClick"],S3={class:"vac-template-info"},M3={class:"vac-template-tag"},A3={class:"vac-template-text"};function E3(e,t,n,r,o,i){return K(),lt(Rt,{name:"vac-slide-up"},{default:Ve(()=>[n.filteredTemplatesText.length?(K(),J("div",w3,[(K(!0),J(at,null,et(n.filteredTemplatesText,(a,l)=>(K(),J("div",{key:l,class:Qe(["vac-template-box",{"vac-template-active":l===o.activeItem}]),onMouseover:d=>o.activeItem=l,onClick:d=>e.$emit("select-template-text",a)},[oe("div",S3,[oe("div",M3," /"+Ue(a.tag),1),oe("div",A3,Ue(a.text),1)])],42,k3))),128))])):we("",!0)]),_:1})}var T3=vt(y3,[["render",E3]]);function R3(e){return new Int8Array(e)}function _0(e){return new Int16Array(e)}function x0(e){return new Int32Array(e)}function y0(e){return new Float32Array(e)}function C3(e){return new Float64Array(e)}function w0(e){if(e.length==1)return y0(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(w0(e));return n}function k0(e){if(e.length==1)return x0(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(k0(e));return n}function S0(e){if(e.length==1)return _0(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(S0(e));return n}function M0(e){if(e.length==1)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var n=[],r=0;r<t;r++)n.push(M0(e));return n}var A0={};A0.fill=function(e,t,n,r){if(arguments.length==2)for(var o=0;o<e.length;o++)e[o]=arguments[1];else for(var o=t;o<n;o++)e[o]=r};var Fi={};Fi.arraycopy=function(e,t,n,r,o){for(var i=t+o;t<i;)n[r++]=e[t++]},Fi.out={},Fi.out.println=function(e){console.log(e)},Fi.out.printf=function(){console.log.apply(console,arguments)};var No={};No.SQRT2=1.4142135623730951,No.FAST_LOG10=function(e){return Math.log10(e)},No.FAST_LOG10_X=function(e,t){return Math.log10(e)*t};function Xn(e){this.ordinal=e}Xn.short_block_allowed=new Xn(0),Xn.short_block_coupled=new Xn(1),Xn.short_block_dispensed=new Xn(2),Xn.short_block_forced=new Xn(3);var E0={};E0.MAX_VALUE=34028235e31;function sn(e){this.ordinal=e}sn.vbr_off=new sn(0),sn.vbr_mt=new sn(1),sn.vbr_rh=new sn(2),sn.vbr_abr=new sn(3),sn.vbr_mtrh=new sn(4),sn.vbr_default=sn.vbr_mtrh;var I3=function(e){},Ie={System:Fi,VbrMode:sn,Float:E0,ShortBlock:Xn,Util:No,Arrays:A0,new_array_n:M0,new_byte:R3,new_double:C3,new_float:y0,new_float_n:w0,new_int:x0,new_int_n:k0,new_short:_0,new_short_n:S0,assert:I3},B3=Ie.System,Ct=Ie.Util,O3=Ie.Arrays,F3=Ie.new_float;function L3(){var e=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*Ct.SQRT2*.5/2384e-9,.017876148*Ct.SQRT2*.5/2384e-9,.003134727*Ct.SQRT2*.5/2384e-9,.002457142*Ct.SQRT2*.5/2384e-9,971317e-9*Ct.SQRT2*.5/2384e-9,218868e-9*Ct.SQRT2*.5/2384e-9,101566e-9*Ct.SQRT2*.5/2384e-9,13828e-9*Ct.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],t=12,n=36,r=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],o=r[j.SHORT_TYPE],i=r[j.SHORT_TYPE],a=r[j.SHORT_TYPE],l=r[j.SHORT_TYPE],d=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function f(p,h,s){for(var I=10,B=h+238-14-286,R=-15;R<0;R++){var g,E,L;g=e[I+-10],E=p[B+-224]*g,L=p[h+224]*g,g=e[I+-9],E+=p[B+-160]*g,L+=p[h+160]*g,g=e[I+-8],E+=p[B+-96]*g,L+=p[h+96]*g,g=e[I+-7],E+=p[B+-32]*g,L+=p[h+32]*g,g=e[I+-6],E+=p[B+32]*g,L+=p[h+-32]*g,g=e[I+-5],E+=p[B+96]*g,L+=p[h+-96]*g,g=e[I+-4],E+=p[B+160]*g,L+=p[h+-160]*g,g=e[I+-3],E+=p[B+224]*g,L+=p[h+-224]*g,g=e[I+-2],E+=p[h+-256]*g,L-=p[B+256]*g,g=e[I+-1],E+=p[h+-192]*g,L-=p[B+192]*g,g=e[I+0],E+=p[h+-128]*g,L-=p[B+128]*g,g=e[I+1],E+=p[h+-64]*g,L-=p[B+64]*g,g=e[I+2],E+=p[h+0]*g,L-=p[B+0]*g,g=e[I+3],E+=p[h+64]*g,L-=p[B+-64]*g,g=e[I+4],E+=p[h+128]*g,L-=p[B+-128]*g,g=e[I+5],E+=p[h+192]*g,L-=p[B+-192]*g,E*=e[I+6],g=L-E,s[30+R*2]=L+E,s[31+R*2]=e[I+7]*g,I+=18,h--,B++}{var E,L,T,C;L=p[h+-16]*e[I+-10],E=p[h+-32]*e[I+-2],L+=(p[h+-48]-p[h+16])*e[I+-9],E+=p[h+-96]*e[I+-1],L+=(p[h+-80]+p[h+48])*e[I+-8],E+=p[h+-160]*e[I+0],L+=(p[h+-112]-p[h+80])*e[I+-7],E+=p[h+-224]*e[I+1],L+=(p[h+-144]+p[h+112])*e[I+-6],E-=p[h+32]*e[I+2],L+=(p[h+-176]-p[h+144])*e[I+-5],E-=p[h+96]*e[I+3],L+=(p[h+-208]+p[h+176])*e[I+-4],E-=p[h+160]*e[I+4],L+=(p[h+-240]-p[h+208])*e[I+-3],E-=p[h+224],T=E-L,C=E+L,L=s[14],E=s[15]-L,s[31]=C+L,s[30]=T+E,s[15]=T-E,s[14]=C-L}{var v;v=s[28]-s[0],s[0]+=s[28],s[28]=v*e[I+-2*18+7],v=s[29]-s[1],s[1]+=s[29],s[29]=v*e[I+-2*18+7],v=s[26]-s[2],s[2]+=s[26],s[26]=v*e[I+-4*18+7],v=s[27]-s[3],s[3]+=s[27],s[27]=v*e[I+-4*18+7],v=s[24]-s[4],s[4]+=s[24],s[24]=v*e[I+-6*18+7],v=s[25]-s[5],s[5]+=s[25],s[25]=v*e[I+-6*18+7],v=s[22]-s[6],s[6]+=s[22],s[22]=v*Ct.SQRT2,v=s[23]-s[7],s[7]+=s[23],s[23]=v*Ct.SQRT2-s[7],s[7]-=s[6],s[22]-=s[7],s[23]-=s[22],v=s[6],s[6]=s[31]-v,s[31]=s[31]+v,v=s[7],s[7]=s[30]-v,s[30]=s[30]+v,v=s[22],s[22]=s[15]-v,s[15]=s[15]+v,v=s[23],s[23]=s[14]-v,s[14]=s[14]+v,v=s[20]-s[8],s[8]+=s[20],s[20]=v*e[I+-10*18+7],v=s[21]-s[9],s[9]+=s[21],s[21]=v*e[I+-10*18+7],v=s[18]-s[10],s[10]+=s[18],s[18]=v*e[I+-12*18+7],v=s[19]-s[11],s[11]+=s[19],s[19]=v*e[I+-12*18+7],v=s[16]-s[12],s[12]+=s[16],s[16]=v*e[I+-14*18+7],v=s[17]-s[13],s[13]+=s[17],s[17]=v*e[I+-14*18+7],v=-s[20]+s[24],s[20]+=s[24],s[24]=v*e[I+-12*18+7],v=-s[21]+s[25],s[21]+=s[25],s[25]=v*e[I+-12*18+7],v=s[4]-s[8],s[4]+=s[8],s[8]=v*e[I+-12*18+7],v=s[5]-s[9],s[5]+=s[9],s[9]=v*e[I+-12*18+7],v=s[0]-s[12],s[0]+=s[12],s[12]=v*e[I+-4*18+7],v=s[1]-s[13],s[1]+=s[13],s[13]=v*e[I+-4*18+7],v=s[16]-s[28],s[16]+=s[28],s[28]=v*e[I+-4*18+7],v=-s[17]+s[29],s[17]+=s[29],s[29]=v*e[I+-4*18+7],v=Ct.SQRT2*(s[2]-s[10]),s[2]+=s[10],s[10]=v,v=Ct.SQRT2*(s[3]-s[11]),s[3]+=s[11],s[11]=v,v=Ct.SQRT2*(-s[18]+s[26]),s[18]+=s[26],s[26]=v-s[18],v=Ct.SQRT2*(-s[19]+s[27]),s[19]+=s[27],s[27]=v-s[19],v=s[2],s[19]-=s[3],s[3]-=v,s[2]=s[31]-v,s[31]+=v,v=s[3],s[11]-=s[19],s[18]-=v,s[3]=s[30]-v,s[30]+=v,v=s[18],s[27]-=s[11],s[19]-=v,s[18]=s[15]-v,s[15]+=v,v=s[19],s[10]-=v,s[19]=s[14]-v,s[14]+=v,v=s[10],s[11]-=v,s[10]=s[23]-v,s[23]+=v,v=s[11],s[26]-=v,s[11]=s[22]-v,s[22]+=v,v=s[26],s[27]-=v,s[26]=s[7]-v,s[7]+=v,v=s[27],s[27]=s[6]-v,s[6]+=v,v=Ct.SQRT2*(s[0]-s[4]),s[0]+=s[4],s[4]=v,v=Ct.SQRT2*(s[1]-s[5]),s[1]+=s[5],s[5]=v,v=Ct.SQRT2*(s[16]-s[20]),s[16]+=s[20],s[20]=v,v=Ct.SQRT2*(s[17]-s[21]),s[17]+=s[21],s[21]=v,v=-Ct.SQRT2*(s[8]-s[12]),s[8]+=s[12],s[12]=v-s[8],v=-Ct.SQRT2*(s[9]-s[13]),s[9]+=s[13],s[13]=v-s[9],v=-Ct.SQRT2*(s[25]-s[29]),s[25]+=s[29],s[29]=v-s[25],v=-Ct.SQRT2*(s[24]+s[28]),s[24]-=s[28],s[28]=v-s[24],v=s[24]-s[16],s[24]=v,v=s[20]-v,s[20]=v,v=s[28]-v,s[28]=v,v=s[25]-s[17],s[25]=v,v=s[21]-v,s[21]=v,v=s[29]-v,s[29]=v,v=s[17]-s[1],s[17]=v,v=s[9]-v,s[9]=v,v=s[25]-v,s[25]=v,v=s[5]-v,s[5]=v,v=s[21]-v,s[21]=v,v=s[13]-v,s[13]=v,v=s[29]-v,s[29]=v,v=s[1]-s[0],s[1]=v,v=s[16]-v,s[16]=v,v=s[17]-v,s[17]=v,v=s[8]-v,s[8]=v,v=s[9]-v,s[9]=v,v=s[24]-v,s[24]=v,v=s[25]-v,s[25]=v,v=s[4]-v,s[4]=v,v=s[5]-v,s[5]=v,v=s[20]-v,s[20]=v,v=s[21]-v,s[21]=v,v=s[12]-v,s[12]=v,v=s[13]-v,s[13]=v,v=s[28]-v,s[28]=v,v=s[29]-v,s[29]=v,v=s[0],s[0]+=s[31],s[31]-=v,v=s[1],s[1]+=s[30],s[30]-=v,v=s[16],s[16]+=s[15],s[15]-=v,v=s[17],s[17]+=s[14],s[14]-=v,v=s[8],s[8]+=s[23],s[23]-=v,v=s[9],s[9]+=s[22],s[22]-=v,v=s[24],s[24]+=s[7],s[7]-=v,v=s[25],s[25]+=s[6],s[6]-=v,v=s[4],s[4]+=s[27],s[27]-=v,v=s[5],s[5]+=s[26],s[26]-=v,v=s[20],s[20]+=s[11],s[11]-=v,v=s[21],s[21]+=s[10],s[10]-=v,v=s[12],s[12]+=s[19],s[19]-=v,v=s[13],s[13]+=s[18],s[18]-=v,v=s[28],s[28]+=s[3],s[3]-=v,v=s[29],s[29]+=s[2],s[2]-=v}}function m(p,h){for(var s=0;s<3;s++){var I,B,R,g,E,L;g=p[h+2*3]*r[j.SHORT_TYPE][0]-p[h+5*3],I=p[h+0*3]*r[j.SHORT_TYPE][2]-p[h+3*3],B=g+I,R=g-I,g=p[h+5*3]*r[j.SHORT_TYPE][0]+p[h+2*3],I=p[h+3*3]*r[j.SHORT_TYPE][2]+p[h+0*3],E=g+I,L=-g+I,I=(p[h+1*3]*r[j.SHORT_TYPE][1]-p[h+4*3])*2069978111953089e-26,g=(p[h+4*3]*r[j.SHORT_TYPE][1]+p[h+1*3])*2069978111953089e-26,p[h+3*0]=B*190752519173728e-25+I,p[h+3*5]=-E*190752519173728e-25+g,R=R*.8660254037844387*1907525191737281e-26,E=E*.5*1907525191737281e-26+g,p[h+3*1]=R-E,p[h+3*2]=R+E,B=B*.5*1907525191737281e-26-I,L=L*.8660254037844387*1907525191737281e-26,p[h+3*3]=B+L,p[h+3*4]=B-L,h++}}function c(p,h,s){var I,B;{var R,g,E,L,T,C,v,A;R=s[17]-s[9],E=s[15]-s[11],L=s[14]-s[12],T=s[0]+s[8],C=s[1]+s[7],v=s[2]+s[6],A=s[3]+s[5],p[h+17]=T+v-A-(C-s[4]),B=(T+v-A)*i[12+7]+(C-s[4]),I=(R-E-L)*i[12+6],p[h+5]=I+B,p[h+6]=I-B,g=(s[16]-s[10])*i[12+6],C=C*i[12+7]+s[4],I=R*i[12+0]+g+E*i[12+1]+L*i[12+2],B=-T*i[12+4]+C-v*i[12+5]+A*i[12+3],p[h+1]=I+B,p[h+2]=I-B,I=R*i[12+1]-g-E*i[12+2]+L*i[12+0],B=-T*i[12+5]+C-v*i[12+3]+A*i[12+4],p[h+9]=I+B,p[h+10]=I-B,I=R*i[12+2]-g+E*i[12+0]-L*i[12+1],B=T*i[12+3]-C+v*i[12+4]-A*i[12+5],p[h+13]=I+B,p[h+14]=I-B}{var S,b,x,_,y,k,w,N;S=s[8]-s[0],x=s[6]-s[2],_=s[5]-s[3],y=s[17]+s[9],k=s[16]+s[10],w=s[15]+s[11],N=s[14]+s[12],p[h+0]=y+w+N+(k+s[13]),I=(y+w+N)*i[12+7]-(k+s[13]),B=(S-x+_)*i[12+6],p[h+11]=I+B,p[h+12]=I-B,b=(s[7]-s[1])*i[12+6],k=s[13]-k*i[12+7],I=y*i[12+3]-k+w*i[12+4]+N*i[12+5],B=S*i[12+2]+b+x*i[12+0]+_*i[12+1],p[h+3]=I+B,p[h+4]=I-B,I=-y*i[12+5]+k-w*i[12+3]-N*i[12+4],B=S*i[12+1]+b-x*i[12+2]-_*i[12+0],p[h+7]=I+B,p[h+8]=I-B,I=-y*i[12+4]+k-w*i[12+5]-N*i[12+3],B=S*i[12+0]-b+x*i[12+1]-_*i[12+2],p[h+15]=I+B,p[h+16]=I-B}}this.mdct_sub48=function(p,h,s){for(var I=h,B=286,R=0;R<p.channels_out;R++){for(var g=0;g<p.mode_gr;g++){for(var E,L=p.l3_side.tt[g][R],T=L.xr,C=0,v=p.sb_sample[R][1-g],A=0,S=0;S<18/2;S++)for(f(I,B,v[A]),f(I,B+32,v[A+1]),A+=2,B+=64,E=1;E<32;E+=2)v[A-1][E]*=-1;for(E=0;E<32;E++,C+=18){var b=L.block_type,x=p.sb_sample[R][g],_=p.sb_sample[R][1-g];if(L.mixed_block_flag!=0&&E<2&&(b=0),p.amp_filter[E]<1e-12)O3.fill(T,C+0,C+18,0);else{if(p.amp_filter[E]<1)for(var S=0;S<18;S++)_[S][d[E]]*=p.amp_filter[E];if(b==j.SHORT_TYPE){for(var S=-t/4;S<0;S++){var y=r[j.SHORT_TYPE][S+3];T[C+S*3+9]=x[9+S][d[E]]*y-x[8-S][d[E]],T[C+S*3+18]=x[14-S][d[E]]*y+x[15+S][d[E]],T[C+S*3+10]=x[15+S][d[E]]*y-x[14-S][d[E]],T[C+S*3+19]=_[2-S][d[E]]*y+_[3+S][d[E]],T[C+S*3+11]=_[3+S][d[E]]*y-_[2-S][d[E]],T[C+S*3+20]=_[8-S][d[E]]*y+_[9+S][d[E]]}m(T,C)}else{for(var k=F3(18),S=-n/4;S<0;S++){var w,N;w=r[b][S+27]*_[S+9][d[E]]+r[b][S+36]*_[8-S][d[E]],N=r[b][S+9]*x[S+9][d[E]]-r[b][S+18]*x[8-S][d[E]],k[S+9]=w-N*o[3+S+9],k[S+18]=w*o[3+S+9]+N}c(T,C,k)}}if(b!=j.SHORT_TYPE&&E!=0)for(var S=7;S>=0;--S){var X,q;X=T[C+S]*a[20+S]+T[C+-1-S]*l[28+S],q=T[C+S]*l[28+S]-T[C+-1-S]*a[20+S],T[C+-1-S]=X,T[C+S]=q}}}if(I=s,B=286,p.mode_gr==1)for(var U=0;U<18;U++)B3.arraycopy(p.sb_sample[R][1][U],0,p.sb_sample[R][0][U],0,32)}}}var j3=Ie.System,H3=Ie.new_float,N3=Ie.new_float_n;function Do(){this.l=H3(j.SBMAX_l),this.s=N3([j.SBMAX_s,3]);var e=this;this.assign=function(t){j3.arraycopy(t.l,0,e.l,0,j.SBMAX_l);for(var n=0;n<j.SBMAX_s;n++)for(var r=0;r<3;r++)e.s[n][r]=t.s[n][r]}}function lr(){this.thm=new Do,this.en=new Do}function bt(e){var t=e;this.ordinal=function(){return t}}bt.STEREO=new bt(0),bt.JOINT_STEREO=new bt(1),bt.DUAL_CHANNEL=new bt(2),bt.MONO=new bt(3),bt.NOT_SET=new bt(4);var T0=Ie.System,qo=Ie.VbrMode,R0=Ie.new_array_n,C0=Ie.new_float,D3=Ie.new_float_n,q3=Ie.new_int,zo=Ie.assert;j.ENCDELAY=576,j.POSTDELAY=1152,j.MDCTDELAY=48,j.FFTOFFSET=224+j.MDCTDELAY,j.DECDELAY=528,j.SBLIMIT=32,j.CBANDS=64,j.SBPSY_l=21,j.SBPSY_s=12,j.SBMAX_l=22,j.SBMAX_s=13,j.PSFB21=6,j.PSFB12=6,j.BLKSIZE=1024,j.HBLKSIZE=j.BLKSIZE/2+1,j.BLKSIZE_s=256,j.HBLKSIZE_s=j.BLKSIZE_s/2+1,j.NORM_TYPE=0,j.START_TYPE=1,j.SHORT_TYPE=2,j.STOP_TYPE=3,j.MPG_MD_LR_LR=0,j.MPG_MD_LR_I=1,j.MPG_MD_MS_LR=2,j.MPG_MD_MS_I=3,j.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function j(){var e=j.FFTOFFSET,t=j.MPG_MD_MS_LR,n=null;this.psy=null;var r=null,o=null,i=null;this.setModules=function(m,c,p,h){n=m,this.psy=c,r=c,o=h,i=p};var a=new L3;function l(m){var c,p;if(m.ATH.useAdjust==0){m.ATH.adjust=1;return}if(p=m.loudness_sq[0][0],c=m.loudness_sq[1][0],m.channels_out==2?(p+=m.loudness_sq[0][1],c+=m.loudness_sq[1][1]):(p+=p,c+=c),m.mode_gr==2&&(p=Math.max(p,c)),p*=.5,p*=m.ATH.aaSensitivityP,p>.03125)m.ATH.adjust>=1?m.ATH.adjust=1:m.ATH.adjust<m.ATH.adjustLimit&&(m.ATH.adjust=m.ATH.adjustLimit),m.ATH.adjustLimit=1;else{var h=31.98*p+625e-6;m.ATH.adjust>=h?(m.ATH.adjust*=h*.075+.925,m.ATH.adjust<h&&(m.ATH.adjust=h)):m.ATH.adjustLimit>=h?m.ATH.adjust=h:m.ATH.adjust<m.ATH.adjustLimit&&(m.ATH.adjust=m.ATH.adjustLimit),m.ATH.adjustLimit=h}}function d(m){var c,p;for(zo(m.bitrate_index>=0&&m.bitrate_index<16),zo(m.mode_ext>=0&&m.mode_ext<4),m.bitrate_stereoMode_Hist[m.bitrate_index][4]++,m.bitrate_stereoMode_Hist[15][4]++,m.channels_out==2&&(m.bitrate_stereoMode_Hist[m.bitrate_index][m.mode_ext]++,m.bitrate_stereoMode_Hist[15][m.mode_ext]++),c=0;c<m.mode_gr;++c)for(p=0;p<m.channels_out;++p){var h=m.l3_side.tt[c][p].block_type|0;m.l3_side.tt[c][p].mixed_block_flag!=0&&(h=4),m.bitrate_blockType_Hist[m.bitrate_index][h]++,m.bitrate_blockType_Hist[m.bitrate_index][5]++,m.bitrate_blockType_Hist[15][h]++,m.bitrate_blockType_Hist[15][5]++}}function f(m,c){var p=m.internal_flags,h,s;if(p.lame_encode_frame_init==0){var I,B,R=C0(2014),g=C0(286+1152+576);for(p.lame_encode_frame_init=1,I=0,B=0;I<286+576*(1+p.mode_gr);++I)I<576*p.mode_gr?(R[I]=0,p.channels_out==2&&(g[I]=0)):(R[I]=c[0][B],p.channels_out==2&&(g[I]=c[1][B]),++B);for(s=0;s<p.mode_gr;s++)for(h=0;h<p.channels_out;h++)p.l3_side.tt[s][h].block_type=j.SHORT_TYPE;a.mdct_sub48(p,R,g),zo(p.mf_size>=j.BLKSIZE+m.framesize-j.FFTOFFSET),zo(p.mf_size>=512+m.framesize-32)}}this.lame_encode_mp3_frame=function(m,c,p,h,s,I){var B,R=R0([2,2]);R[0][0]=new lr,R[0][1]=new lr,R[1][0]=new lr,R[1][1]=new lr;var g=R0([2,2]);g[0][0]=new lr,g[0][1]=new lr,g[1][0]=new lr,g[1][1]=new lr;var E,L=[null,null],T=m.internal_flags,C=D3([2,4]),v=[.5,.5],A=[[0,0],[0,0]],S=[[0,0],[0,0]],b,x,_;if(L[0]=c,L[1]=p,T.lame_encode_frame_init==0&&f(m,L),T.padding=0,(T.slot_lag-=T.frac_SpF)<0&&(T.slot_lag+=m.out_samplerate,T.padding=1),T.psymodel!=0){var y,k=[null,null],w=0,N=q3(2);for(_=0;_<T.mode_gr;_++){for(x=0;x<T.channels_out;x++)k[x]=L[x],w=576+_*576-j.FFTOFFSET;if(m.VBR==qo.vbr_mtrh||m.VBR==qo.vbr_mt?y=r.L3psycho_anal_vbr(m,k,w,_,R,g,A[_],S[_],C[_],N):y=r.L3psycho_anal_ns(m,k,w,_,R,g,A[_],S[_],C[_],N),y!=0)return-4;for(m.mode==bt.JOINT_STEREO&&(v[_]=C[_][2]+C[_][3],v[_]>0&&(v[_]=C[_][3]/v[_])),x=0;x<T.channels_out;x++){var X=T.l3_side.tt[_][x];X.block_type=N[x],X.mixed_block_flag=0}}}else for(_=0;_<T.mode_gr;_++)for(x=0;x<T.channels_out;x++)T.l3_side.tt[_][x].block_type=j.NORM_TYPE,T.l3_side.tt[_][x].mixed_block_flag=0,S[_][x]=A[_][x]=700;if(l(T),a.mdct_sub48(T,L[0],L[1]),T.mode_ext=j.MPG_MD_LR_LR,m.force_ms)T.mode_ext=j.MPG_MD_MS_LR;else if(m.mode==bt.JOINT_STEREO){var q=0,U=0;for(_=0;_<T.mode_gr;_++)for(x=0;x<T.channels_out;x++)q+=S[_][x],U+=A[_][x];if(q<=1*U){var u=T.l3_side.tt[0],M=T.l3_side.tt[T.mode_gr-1];u[0].block_type==u[1].block_type&&M[0].block_type==M[1].block_type&&(T.mode_ext=j.MPG_MD_MS_LR)}}if(T.mode_ext==t?(E=g,b=S):(E=R,b=A),m.analysis&&T.pinfo!=null)for(_=0;_<T.mode_gr;_++)for(x=0;x<T.channels_out;x++)T.pinfo.ms_ratio[_]=T.ms_ratio[_],T.pinfo.ms_ener_ratio[_]=v[_],T.pinfo.blocktype[_][x]=T.l3_side.tt[_][x].block_type,T.pinfo.pe[_][x]=b[_][x],T0.arraycopy(T.l3_side.tt[_][x].xr,0,T.pinfo.xr[_][x],0,576),T.mode_ext==t&&(T.pinfo.ers[_][x]=T.pinfo.ers[_][x+2],T0.arraycopy(T.pinfo.energy[_][x+2],0,T.pinfo.energy[_][x],0,T.pinfo.energy[_][x].length));if(m.VBR==qo.vbr_off||m.VBR==qo.vbr_abr){var Z,O;for(Z=0;Z<18;Z++)T.nsPsy.pefirbuf[Z]=T.nsPsy.pefirbuf[Z+1];for(O=0,_=0;_<T.mode_gr;_++)for(x=0;x<T.channels_out;x++)O+=b[_][x];for(T.nsPsy.pefirbuf[18]=O,O=T.nsPsy.pefirbuf[9],Z=0;Z<9;Z++)O+=(T.nsPsy.pefirbuf[Z]+T.nsPsy.pefirbuf[18-Z])*j.fircoef[Z];for(O=670*5*T.mode_gr*T.channels_out/O,_=0;_<T.mode_gr;_++)for(x=0;x<T.channels_out;x++)b[_][x]*=O}if(T.iteration_loop.iteration_loop(m,b,v,E),n.format_bitstream(m),B=n.copy_buffer(T,h,s,I,1),m.bWriteVbrTag&&o.addVbrFrame(m),m.analysis&&T.pinfo!=null){for(x=0;x<T.channels_out;x++){var me;for(me=0;me<e;me++)T.pinfo.pcmdata[x][me]=T.pinfo.pcmdata[x][me+m.framesize];for(me=e;me<1600;me++)T.pinfo.pcmdata[x][me]=L[x][me-e]}i.set_frame_pinfo(m,E)}return d(T),B}}var I0=Ie.Util,B0=Ie.new_float;function z3(){var e=B0(j.BLKSIZE),t=B0(j.BLKSIZE_s/2),n=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function r(i,a,l){var d=0,f,m,c;l<<=1;var p=a+l;f=4;do{var h,s,I,B,R,g,E;E=f>>1,B=f,R=f<<1,g=R+B,f=R<<1,m=a,c=m+E;do{var L,T,C,v;T=i[m+0]-i[m+B],L=i[m+0]+i[m+B],v=i[m+R]-i[m+g],C=i[m+R]+i[m+g],i[m+R]=L-C,i[m+0]=L+C,i[m+g]=T-v,i[m+B]=T+v,T=i[c+0]-i[c+B],L=i[c+0]+i[c+B],v=I0.SQRT2*i[c+g],C=I0.SQRT2*i[c+R],i[c+R]=L-C,i[c+0]=L+C,i[c+g]=T-v,i[c+B]=T+v,c+=f,m+=f}while(m<p);for(s=n[d+0],h=n[d+1],I=1;I<E;I++){var A,S;A=1-2*h*h,S=2*h*s,m=a+I,c=a+B-I;do{var b,x,_,L,T,y,C,k,v,w;x=S*i[m+B]-A*i[c+B],b=A*i[m+B]+S*i[c+B],T=i[m+0]-b,L=i[m+0]+b,y=i[c+0]-x,_=i[c+0]+x,x=S*i[m+g]-A*i[c+g],b=A*i[m+g]+S*i[c+g],v=i[m+R]-b,C=i[m+R]+b,w=i[c+R]-x,k=i[c+R]+x,x=h*C-s*w,b=s*C+h*w,i[m+R]=L-b,i[m+0]=L+b,i[c+g]=y-x,i[c+B]=y+x,x=s*k-h*v,b=h*k+s*v,i[c+R]=_-b,i[c+0]=_+b,i[m+g]=T-x,i[m+B]=T+x,c+=f,m+=f}while(m<p);A=s,s=A*n[d+0]-h*n[d+1],h=A*n[d+1]+h*n[d+0]}d+=2}while(f<l)}var o=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(i,a,l,d,f){for(var m=0;m<3;m++){var c=j.BLKSIZE_s/2,p=65535&576/3*(m+1),h=j.BLKSIZE_s/8-1;do{var s,I,B,R,g,E=o[h<<2]&255;s=t[E]*d[l][f+E+p],g=t[127-E]*d[l][f+E+p+128],I=s-g,s=s+g,B=t[E+64]*d[l][f+E+p+64],g=t[63-E]*d[l][f+E+p+192],R=B-g,B=B+g,c-=4,a[m][c+0]=s+B,a[m][c+2]=s-B,a[m][c+1]=I+R,a[m][c+3]=I-R,s=t[E+1]*d[l][f+E+p+1],g=t[126-E]*d[l][f+E+p+129],I=s-g,s=s+g,B=t[E+65]*d[l][f+E+p+65],g=t[62-E]*d[l][f+E+p+193],R=B-g,B=B+g,a[m][c+j.BLKSIZE_s/2+0]=s+B,a[m][c+j.BLKSIZE_s/2+2]=s-B,a[m][c+j.BLKSIZE_s/2+1]=I+R,a[m][c+j.BLKSIZE_s/2+3]=I-R}while(--h>=0);r(a[m],c,j.BLKSIZE_s/2)}},this.fft_long=function(i,a,l,d,f){var m=j.BLKSIZE/8-1,c=j.BLKSIZE/2;do{var p,h,s,I,B,R=o[m]&255;p=e[R]*d[l][f+R],B=e[R+512]*d[l][f+R+512],h=p-B,p=p+B,s=e[R+256]*d[l][f+R+256],B=e[R+768]*d[l][f+R+768],I=s-B,s=s+B,c-=4,a[c+0]=p+s,a[c+2]=p-s,a[c+1]=h+I,a[c+3]=h-I,p=e[R+1]*d[l][f+R+1],B=e[R+513]*d[l][f+R+513],h=p-B,p=p+B,s=e[R+257]*d[l][f+R+257],B=e[R+769]*d[l][f+R+769],I=s-B,s=s+B,a[c+j.BLKSIZE/2+0]=p+s,a[c+j.BLKSIZE/2+2]=p-s,a[c+j.BLKSIZE/2+1]=h+I,a[c+j.BLKSIZE/2+3]=h-I}while(--m>=0);r(a,c,j.BLKSIZE/2)},this.init_fft=function(i){for(var a=0;a<j.BLKSIZE;a++)e[a]=.42-.5*Math.cos(2*Math.PI*(a+.5)/j.BLKSIZE)+.08*Math.cos(4*Math.PI*(a+.5)/j.BLKSIZE);for(var a=0;a<j.BLKSIZE_s/2;a++)t[a]=.5*(1-Math.cos(2*Math.PI*(a+.5)/j.BLKSIZE_s))}}var Qr=Ie.VbrMode,O0=Ie.Float,Jr=Ie.ShortBlock,Jt=Ie.Util,P3=Ie.Arrays,Ot=Ie.new_float,mn=Ie.new_float_n,Er=Ie.new_int,tt=Ie.assert;function Ss(){var e=new z3,t=2.302585092994046,n=2,r=16,o=2,i=16,a=.34,l=1/(14752*14752)/(j.BLKSIZE/2),d=.01,f=.8,m=.6,c=.3,p=3.5,h=21,s=.2302585093;function I(F){return F}function B(F,H){for(var P=0,V=0;V<j.BLKSIZE/2;++V)P+=F[V]*H.ATH.eql_w[V];return P*=l,P}function R(F,H,P,V,G,D,Q,ee,W,le,ne){var ce=F.internal_flags;if(W<2)e.fft_long(ce,V[G],W,le,ne),e.fft_short(ce,D[Q],W,le,ne);else if(W==2){for(var $=j.BLKSIZE-1;$>=0;--$){var pe=V[G+0][$],be=V[G+1][$];V[G+0][$]=(pe+be)*Jt.SQRT2*.5,V[G+1][$]=(pe-be)*Jt.SQRT2*.5}for(var De=2;De>=0;--De)for(var $=j.BLKSIZE_s-1;$>=0;--$){var pe=D[Q+0][De][$],be=D[Q+1][De][$];D[Q+0][De][$]=(pe+be)*Jt.SQRT2*.5,D[Q+1][De][$]=(pe-be)*Jt.SQRT2*.5}}H[0]=V[G+0][0],H[0]*=H[0];for(var $=j.BLKSIZE/2-1;$>=0;--$){var ie=V[G+0][j.BLKSIZE/2-$],Fe=V[G+0][j.BLKSIZE/2+$];H[j.BLKSIZE/2-$]=(ie*ie+Fe*Fe)*.5}for(var De=2;De>=0;--De){P[De][0]=D[Q+0][De][0],P[De][0]*=P[De][0];for(var $=j.BLKSIZE_s/2-1;$>=0;--$){var ie=D[Q+0][De][j.BLKSIZE_s/2-$],Fe=D[Q+0][De][j.BLKSIZE_s/2+$];P[De][j.BLKSIZE_s/2-$]=(ie*ie+Fe*Fe)*.5}}{for(var Ge=0,$=11;$<j.HBLKSIZE;$++)Ge+=H[$];ce.tot_ener[W]=Ge}if(F.analysis){for(var $=0;$<j.HBLKSIZE;$++)ce.pinfo.energy[ee][W][$]=ce.pinfo.energy_save[W][$],ce.pinfo.energy_save[W][$]=H[$];ce.pinfo.pe[ee][W]=ce.pe[W]}F.athaa_loudapprox==2&&W<2&&(ce.loudness_sq[ee][W]=ce.loudness_sq_save[W],ce.loudness_sq_save[W]=B(H,ce))}var g=8,E=23,L=15,T,C,v,A=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function S(){T=Math.pow(10,(g+1)/16),C=Math.pow(10,(E+1)/16),v=Math.pow(10,L/10)}var b=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],x=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],_=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function y(F,H,P,V,G,D){var Q;if(H>F)if(H<F*C)Q=H/F;else return F+H;else{if(F>=H*C)return F+H;Q=F/H}if(F+=H,V+3<=3+3){if(Q>=T)return F;var ee=0|Jt.FAST_LOG10_X(Q,16);return F*x[ee]}var ee=0|Jt.FAST_LOG10_X(Q,16);if(D!=0?H=G.ATH.cb_s[P]*G.ATH.adjust:H=G.ATH.cb_l[P]*G.ATH.adjust,F<v*H){if(F>H){var W,le;return W=1,ee<=13&&(W=_[ee]),le=Jt.FAST_LOG10_X(F/H,10/15),F*((b[ee]-W)*le+W)}return ee>13?F:F*_[ee]}return F*b[ee]}var k=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function w(F,H,P){var V;if(F<0&&(F=0),H<0&&(H=0),F<=0)return H;if(H<=0)return F;if(H>F?V=H/F:V=F/H,P>=-2&&P<=2){if(V>=T)return F+H;var G=0|Jt.FAST_LOG10_X(V,16);return(F+H)*k[G]}return V<C?F+H:(F<H&&(F=H),F)}function N(F,H){var P=F.internal_flags;if(P.channels_out>1){for(var V=0;V<j.SBMAX_l;V++){var G=P.thm[0].l[V],D=P.thm[1].l[V];P.thm[0].l[V]+=D*H,P.thm[1].l[V]+=G*H}for(var V=0;V<j.SBMAX_s;V++)for(var Q=0;Q<3;Q++){var G=P.thm[0].s[V][Q],D=P.thm[1].s[V][Q];P.thm[0].s[V][Q]+=D*H,P.thm[1].s[V][Q]+=G*H}}}function X(F){for(var H=0;H<j.SBMAX_l;H++)if(!(F.thm[0].l[H]>1.58*F.thm[1].l[H]||F.thm[1].l[H]>1.58*F.thm[0].l[H])){var P=F.mld_l[H]*F.en[3].l[H],V=Math.max(F.thm[2].l[H],Math.min(F.thm[3].l[H],P));P=F.mld_l[H]*F.en[2].l[H];var G=Math.max(F.thm[3].l[H],Math.min(F.thm[2].l[H],P));F.thm[2].l[H]=V,F.thm[3].l[H]=G}for(var H=0;H<j.SBMAX_s;H++)for(var D=0;D<3;D++)if(!(F.thm[0].s[H][D]>1.58*F.thm[1].s[H][D]||F.thm[1].s[H][D]>1.58*F.thm[0].s[H][D])){var P=F.mld_s[H]*F.en[3].s[H][D],V=Math.max(F.thm[2].s[H][D],Math.min(F.thm[3].s[H][D],P));P=F.mld_s[H]*F.en[2].s[H][D];var G=Math.max(F.thm[3].s[H][D],Math.min(F.thm[2].s[H][D],P));F.thm[2].s[H][D]=V,F.thm[3].s[H][D]=G}}function q(F,H,P){var V=H,G=Math.pow(10,P);H*=2,V*=2;for(var D=0;D<j.SBMAX_l;D++){var Q,ee,W,le;if(le=F.ATH.cb_l[F.bm_l[D]]*G,Q=Math.min(Math.max(F.thm[0].l[D],le),Math.max(F.thm[1].l[D],le)),ee=Math.max(F.thm[2].l[D],le),W=Math.max(F.thm[3].l[D],le),Q*H<ee+W){var ne=Q*V/(ee+W);ee*=ne,W*=ne}F.thm[2].l[D]=Math.min(ee,F.thm[2].l[D]),F.thm[3].l[D]=Math.min(W,F.thm[3].l[D])}G*=j.BLKSIZE_s/j.BLKSIZE;for(var D=0;D<j.SBMAX_s;D++)for(var ce=0;ce<3;ce++){var Q,ee,W,le;if(le=F.ATH.cb_s[F.bm_s[D]]*G,Q=Math.min(Math.max(F.thm[0].s[D][ce],le),Math.max(F.thm[1].s[D][ce],le)),ee=Math.max(F.thm[2].s[D][ce],le),W=Math.max(F.thm[3].s[D][ce],le),Q*H<ee+W){var ne=Q*H/(ee+W);ee*=ne,W*=ne}F.thm[2].s[D][ce]=Math.min(F.thm[2].s[D][ce],ee),F.thm[3].s[D][ce]=Math.min(F.thm[3].s[D][ce],W)}}function U(F,H,P,V,G){var D,Q,ee=0,W=0;for(D=Q=0;D<j.SBMAX_s;++Q,++D){for(var le=F.bo_s[D],ne=F.npart_s,ce=le<ne?le:ne;Q<ce;)tt(H[Q]>=0),tt(P[Q]>=0),ee+=H[Q],W+=P[Q],Q++;if(F.en[V].s[D][G]=ee,F.thm[V].s[D][G]=W,Q>=ne){++D;break}tt(H[Q]>=0),tt(P[Q]>=0);{var $=F.PSY.bo_s_weight[D],pe=1-$;ee=$*H[Q],W=$*P[Q],F.en[V].s[D][G]+=ee,F.thm[V].s[D][G]+=W,ee=pe*H[Q],W=pe*P[Q]}}for(;D<j.SBMAX_s;++D)F.en[V].s[D][G]=0,F.thm[V].s[D][G]=0}function u(F,H,P,V){var G,D,Q=0,ee=0;for(G=D=0;G<j.SBMAX_l;++D,++G){for(var W=F.bo_l[G],le=F.npart_l,ne=W<le?W:le;D<ne;)tt(H[D]>=0),tt(P[D]>=0),Q+=H[D],ee+=P[D],D++;if(F.en[V].l[G]=Q,F.thm[V].l[G]=ee,D>=le){++G;break}tt(H[D]>=0),tt(P[D]>=0);{var ce=F.PSY.bo_l_weight[G],$=1-ce;Q=ce*H[D],ee=ce*P[D],F.en[V].l[G]+=Q,F.thm[V].l[G]+=ee,Q=$*H[D],ee=$*P[D]}}for(;G<j.SBMAX_l;++G)F.en[V].l[G]=0,F.thm[V].l[G]=0}function M(F,H,P,V,G,D){var Q=F.internal_flags,ee,W;for(W=ee=0;W<Q.npart_s;++W){for(var le=0,ne=Q.numlines_s[W],ce=0;ce<ne;++ce,++ee){var $=H[D][ee];le+=$}P[W]=le}for(tt(W==Q.npart_s),ee=W=0;W<Q.npart_s;W++){var pe=Q.s3ind_s[W][0],be=Q.s3_ss[ee++]*P[pe];for(++pe;pe<=Q.s3ind_s[W][1];)be+=Q.s3_ss[ee]*P[pe],++ee,++pe;{var De=o*Q.nb_s1[G][W];V[W]=Math.min(be,De)}if(Q.blocktype_old[G&1]==j.SHORT_TYPE){var De=i*Q.nb_s2[G][W],ie=V[W];V[W]=Math.min(De,ie)}Q.nb_s2[G][W]=Q.nb_s1[G][W],Q.nb_s1[G][W]=be,tt(V[W]>=0)}for(;W<=j.CBANDS;++W)P[W]=0,V[W]=0}function Z(F,H,P,V){var G=F.internal_flags;F.short_blocks==Jr.short_block_coupled&&!(H[0]!=0&&H[1]!=0)&&(H[0]=H[1]=0);for(var D=0;D<G.channels_out;D++)V[D]=j.NORM_TYPE,F.short_blocks==Jr.short_block_dispensed&&(H[D]=1),F.short_blocks==Jr.short_block_forced&&(H[D]=0),H[D]!=0?(tt(G.blocktype_old[D]!=j.START_TYPE),G.blocktype_old[D]==j.SHORT_TYPE&&(V[D]=j.STOP_TYPE)):(V[D]=j.SHORT_TYPE,G.blocktype_old[D]==j.NORM_TYPE&&(G.blocktype_old[D]=j.START_TYPE),G.blocktype_old[D]==j.STOP_TYPE&&(G.blocktype_old[D]=j.SHORT_TYPE)),P[D]=G.blocktype_old[D],G.blocktype_old[D]=V[D]}function O(F,H,P){return P>=1?F:P<=0?H:H>0?Math.pow(F/H,P)*H:0}var me=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function Me(F,H){for(var P=309.07,V=0;V<j.SBMAX_s-1;V++)for(var G=0;G<3;G++){var D=F.thm.s[V][G];if(D>0){var Q=D*H,ee=F.en.s[V][G];ee>Q&&(ee>Q*1e10?P+=me[V]*(10*t):P+=me[V]*Jt.FAST_LOG10(ee/Q))}}return P}var ve=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function ge(F,H){for(var P=281.0575,V=0;V<j.SBMAX_l-1;V++){var G=F.thm.l[V];if(G>0){var D=G*H,Q=F.en.l[V];Q>D&&(Q>D*1e10?P+=ve[V]*(10*t):P+=ve[V]*Jt.FAST_LOG10(Q/D))}}return P}function Ne(F,H,P,V,G){var D,Q;for(D=Q=0;D<F.npart_l;++D){var ee=0,W=0,le;for(le=0;le<F.numlines_l[D];++le,++Q){var ne=H[Q];ee+=ne,W<ne&&(W=ne)}P[D]=ee,V[D]=W,G[D]=ee*F.rnumlines_l[D],tt(F.rnumlines_l[D]>=0),tt(P[D]>=0),tt(V[D]>=0),tt(G[D]>=0)}}function Ce(F,H,P,V){var G=A.length-1,D=0,Q=P[D]+P[D+1];if(Q>0){var ee=H[D];ee<H[D+1]&&(ee=H[D+1]),tt(F.numlines_l[D]+F.numlines_l[D+1]-1>0),Q=20*(ee*2-Q)/(Q*(F.numlines_l[D]+F.numlines_l[D+1]-1));var W=0|Q;W>G&&(W=G),V[D]=W}else V[D]=0;for(D=1;D<F.npart_l-1;D++)if(Q=P[D-1]+P[D]+P[D+1],Q>0){var ee=H[D-1];ee<H[D]&&(ee=H[D]),ee<H[D+1]&&(ee=H[D+1]),tt(F.numlines_l[D-1]+F.numlines_l[D]+F.numlines_l[D+1]-1>0),Q=20*(ee*3-Q)/(Q*(F.numlines_l[D-1]+F.numlines_l[D]+F.numlines_l[D+1]-1));var W=0|Q;W>G&&(W=G),V[D]=W}else V[D]=0;if(tt(D==F.npart_l-1),Q=P[D-1]+P[D],Q>0){var ee=H[D-1];ee<H[D]&&(ee=H[D]),tt(F.numlines_l[D-1]+F.numlines_l[D]-1>0),Q=20*(ee*2-Q)/(Q*(F.numlines_l[D-1]+F.numlines_l[D]-1));var W=0|Q;W>G&&(W=G),V[D]=W}else V[D]=0;tt(D==F.npart_l-1)}var he=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(F,H,P,V,G,D,Q,ee,W,le){var ne=F.internal_flags,ce=mn([2,j.BLKSIZE]),$=mn([2,3,j.BLKSIZE_s]),pe=Ot(j.CBANDS+1),be=Ot(j.CBANDS+1),De=Ot(j.CBANDS+2),ie=Er(2),Fe=Er(2),Ge,xe,He,ye,Xe,Mt,Le,Je,nt=mn([2,576]),At,ln=Er(j.CBANDS+2),Bt=Er(j.CBANDS+2);for(P3.fill(Bt,0),Ge=ne.channels_out,F.mode==bt.JOINT_STEREO&&(Ge=4),F.VBR==Qr.vbr_off?At=ne.ResvMax==0?0:ne.ResvSize/ne.ResvMax*.5:F.VBR==Qr.vbr_rh||F.VBR==Qr.vbr_mtrh||F.VBR==Qr.vbr_mt?At=.6:At=1,xe=0;xe<ne.channels_out;xe++){var Et=H[xe],en=P+576-350-h+192;for(ye=0;ye<576;ye++){var cn,fn;for(cn=Et[en+ye+10],fn=0,Xe=0;Xe<(h-1)/2-1;Xe+=2)cn+=he[Xe]*(Et[en+ye+Xe]+Et[en+ye+h-Xe]),fn+=he[Xe+1]*(Et[en+ye+Xe+1]+Et[en+ye+h-Xe-1]);nt[xe][ye]=cn+fn}G[V][xe].en.assign(ne.en[xe]),G[V][xe].thm.assign(ne.thm[xe]),Ge>2&&(D[V][xe].en.assign(ne.en[xe+2]),D[V][xe].thm.assign(ne.thm[xe+2]))}for(xe=0;xe<Ge;xe++){var Sn,Mn,Ut=Ot(12),Dn=[0,0,0,0],ti=Ot(12),Fs=1,J0,$0=Ot(j.CBANDS),eu=Ot(j.CBANDS),Tt=[0,0,0,0],tu=Ot(j.HBLKSIZE),nu=mn([3,j.HBLKSIZE_s]);for(tt(ne.npart_s<=j.CBANDS),tt(ne.npart_l<=j.CBANDS),ye=0;ye<3;ye++)Ut[ye]=ne.nsPsy.last_en_subshort[xe][ye+6],tt(ne.nsPsy.last_en_subshort[xe][ye+4]>0),ti[ye]=Ut[ye]/ne.nsPsy.last_en_subshort[xe][ye+4],Dn[0]+=Ut[ye];if(xe==2)for(ye=0;ye<576;ye++){var Ls,js;Ls=nt[0][ye],js=nt[1][ye],nt[0][ye]=Ls+js,nt[1][ye]=Ls-js}{var ru=nt[xe&1],zi=0;for(ye=0;ye<9;ye++){for(var X5=zi+64,Nt=1;zi<X5;zi++)Nt<Math.abs(ru[zi])&&(Nt=Math.abs(ru[zi]));ne.nsPsy.last_en_subshort[xe][ye]=Ut[ye+3]=Nt,Dn[1+ye/3]+=Nt,Nt>Ut[ye+3-2]?(tt(Ut[ye+3-2]>0),Nt=Nt/Ut[ye+3-2]):Ut[ye+3-2]>Nt*10?Nt=Ut[ye+3-2]/(Nt*10):Nt=0,ti[ye+3]=Nt}}if(F.analysis){var Hs=ti[0];for(ye=1;ye<12;ye++)Hs<ti[ye]&&(Hs=ti[ye]);ne.pinfo.ers[V][xe]=ne.pinfo.ers_save[xe],ne.pinfo.ers_save[xe]=Hs}for(J0=xe==3?ne.nsPsy.attackthre_s:ne.nsPsy.attackthre,ye=0;ye<12;ye++)Tt[ye/3]==0&&ti[ye]>J0&&(Tt[ye/3]=ye%3+1);for(ye=1;ye<4;ye++){var Ns;Dn[ye-1]>Dn[ye]?(tt(Dn[ye]>0),Ns=Dn[ye-1]/Dn[ye]):(tt(Dn[ye-1]>0),Ns=Dn[ye]/Dn[ye-1]),Ns<1.7&&(Tt[ye]=0,ye==1&&(Tt[0]=0))}for(Tt[0]!=0&&ne.nsPsy.lastAttacks[xe]!=0&&(Tt[0]=0),(ne.nsPsy.lastAttacks[xe]==3||Tt[0]+Tt[1]+Tt[2]+Tt[3]!=0)&&(Fs=0,Tt[1]!=0&&Tt[0]!=0&&(Tt[1]=0),Tt[2]!=0&&Tt[1]!=0&&(Tt[2]=0),Tt[3]!=0&&Tt[2]!=0&&(Tt[3]=0)),xe<2?Fe[xe]=Fs:Fs==0&&(Fe[0]=Fe[1]=0),W[xe]=ne.tot_ener[xe],Mn=$,Sn=ce,R(F,tu,nu,Sn,xe&1,Mn,xe&1,V,xe,H,P),Ne(ne,tu,pe,$0,eu),Ce(ne,$0,eu,ln),Je=0;Je<3;Je++){var Ds,tn;for(M(F,nu,be,De,xe,Je),U(ne,be,De,xe,Je),Le=0;Le<j.SBMAX_s;Le++){if(tn=ne.thm[xe].s[Le][Je],tn*=f,Tt[Je]>=2||Tt[Je+1]==1){var Pi=Je!=0?Je-1:2,Nt=O(ne.thm[xe].s[Le][Pi],tn,m*At);tn=Math.min(tn,Nt)}if(Tt[Je]==1){var Pi=Je!=0?Je-1:2,Nt=O(ne.thm[xe].s[Le][Pi],tn,c*At);tn=Math.min(tn,Nt)}else if(Je!=0&&Tt[Je-1]==3||Je==0&&ne.nsPsy.lastAttacks[xe]==3){var Pi=Je!=2?Je+1:0,Nt=O(ne.thm[xe].s[Le][Pi],tn,c*At);tn=Math.min(tn,Nt)}Ds=Ut[Je*3+3]+Ut[Je*3+4]+Ut[Je*3+5],Ut[Je*3+5]*6<Ds&&(tn*=.5,Ut[Je*3+4]*6<Ds&&(tn*=.5)),ne.thm[xe].s[Le][Je]=tn}}for(ne.nsPsy.lastAttacks[xe]=Tt[2],Mt=0,He=0;He<ne.npart_l;He++){for(var Fr=ne.s3ind[He][0],qs=pe[Fr]*A[ln[Fr]],Lr=ne.s3_ll[Mt++]*qs;++Fr<=ne.s3ind[He][1];)qs=pe[Fr]*A[ln[Fr]],Lr=y(Lr,ne.s3_ll[Mt++]*qs,Fr,Fr-He,ne,0);Lr*=.158489319246111,ne.blocktype_old[xe&1]==j.SHORT_TYPE?De[He]=Lr:De[He]=O(Math.min(Lr,Math.min(n*ne.nb_1[xe][He],r*ne.nb_2[xe][He])),Lr,At),ne.nb_2[xe][He]=ne.nb_1[xe][He],ne.nb_1[xe][He]=Lr}for(;He<=j.CBANDS;++He)pe[He]=0,De[He]=0;u(ne,pe,De,xe)}if((F.mode==bt.STEREO||F.mode==bt.JOINT_STEREO)&&F.interChRatio>0&&N(F,F.interChRatio),F.mode==bt.JOINT_STEREO){var zs;X(ne),zs=F.msfix,Math.abs(zs)>0&&q(ne,zs,F.ATHlower*ne.ATH.adjust)}for(Z(F,Fe,le,ie),xe=0;xe<Ge;xe++){var Ui,Vi=0,Wo,Zo;xe>1?(Ui=ee,Vi=-2,Wo=j.NORM_TYPE,(le[0]==j.SHORT_TYPE||le[1]==j.SHORT_TYPE)&&(Wo=j.SHORT_TYPE),Zo=D[V][xe-2]):(Ui=Q,Vi=0,Wo=le[xe],Zo=G[V][xe]),Wo==j.SHORT_TYPE?Ui[Vi+xe]=Me(Zo,ne.masking_lower):Ui[Vi+xe]=ge(Zo,ne.masking_lower),F.analysis&&(ne.pinfo.pe[V][xe]=Ui[Vi+xe])}return 0};function Ye(F,H,P,V,G,D,Q,ee){var W=F.internal_flags;if(V<2)e.fft_long(W,Q[ee],V,H,P);else if(V==2)for(var le=j.BLKSIZE-1;le>=0;--le){var ne=Q[ee+0][le],ce=Q[ee+1][le];Q[ee+0][le]=(ne+ce)*Jt.SQRT2*.5,Q[ee+1][le]=(ne-ce)*Jt.SQRT2*.5}D[0]=Q[ee+0][0],D[0]*=D[0];for(var le=j.BLKSIZE/2-1;le>=0;--le){var $=Q[ee+0][j.BLKSIZE/2-le],pe=Q[ee+0][j.BLKSIZE/2+le];D[j.BLKSIZE/2-le]=($*$+pe*pe)*.5}{for(var be=0,le=11;le<j.HBLKSIZE;le++)be+=D[le];W.tot_ener[V]=be}if(F.analysis){for(var le=0;le<j.HBLKSIZE;le++)W.pinfo.energy[G][V][le]=W.pinfo.energy_save[V][le],W.pinfo.energy_save[V][le]=D[le];W.pinfo.pe[G][V]=W.pe[V]}}function rt(F,H,P,V,G,D,Q,ee){var W=F.internal_flags;if(G==0&&V<2&&e.fft_short(W,Q[ee],V,H,P),V==2)for(var le=j.BLKSIZE_s-1;le>=0;--le){var ne=Q[ee+0][G][le],ce=Q[ee+1][G][le];Q[ee+0][G][le]=(ne+ce)*Jt.SQRT2*.5,Q[ee+1][G][le]=(ne-ce)*Jt.SQRT2*.5}D[G][0]=Q[ee+0][G][0],D[G][0]*=D[G][0];for(var le=j.BLKSIZE_s/2-1;le>=0;--le){var $=Q[ee+0][G][j.BLKSIZE_s/2-le],pe=Q[ee+0][G][j.BLKSIZE_s/2+le];D[G][j.BLKSIZE_s/2-le]=($*$+pe*pe)*.5}}function z(F,H,P,V){var G=F.internal_flags;F.athaa_loudapprox==2&&P<2&&(G.loudness_sq[H][P]=G.loudness_sq_save[P],G.loudness_sq_save[P]=B(V,G))}var Y=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function re(F,H,P,V,G,D,Q,ee,W,le){for(var ne=mn([2,576]),ce=F.internal_flags,$=ce.channels_out,pe=F.mode==bt.JOINT_STEREO?4:$,be=0;be<$;be++){firbuf=H[be];for(var De=P+576-350-h+192,ie=0;ie<576;ie++){var Fe,Ge;Fe=firbuf[De+ie+10],Ge=0;for(var xe=0;xe<(h-1)/2-1;xe+=2)Fe+=Y[xe]*(firbuf[De+ie+xe]+firbuf[De+ie+h-xe]),Ge+=Y[xe+1]*(firbuf[De+ie+xe+1]+firbuf[De+ie+h-xe-1]);ne[be][ie]=Fe+Ge}G[V][be].en.assign(ce.en[be]),G[V][be].thm.assign(ce.thm[be]),pe>2&&(D[V][be].en.assign(ce.en[be+2]),D[V][be].thm.assign(ce.thm[be+2]))}for(var be=0;be<pe;be++){var He=Ot(12),ye=Ot(12),Xe=[0,0,0,0],Mt=ne[be&1],Le=0,Je=be==3?ce.nsPsy.attackthre_s:ce.nsPsy.attackthre,nt=1;if(be==2)for(var ie=0,xe=576;xe>0;++ie,--xe){var At=ne[0][ie],ln=ne[1][ie];ne[0][ie]=At+ln,ne[1][ie]=At-ln}for(var ie=0;ie<3;ie++)ye[ie]=ce.nsPsy.last_en_subshort[be][ie+6],tt(ce.nsPsy.last_en_subshort[be][ie+4]>0),He[ie]=ye[ie]/ce.nsPsy.last_en_subshort[be][ie+4],Xe[0]+=ye[ie];for(var ie=0;ie<9;ie++){for(var Bt=Le+64,Et=1;Le<Bt;Le++)Et<Math.abs(Mt[Le])&&(Et=Math.abs(Mt[Le]));ce.nsPsy.last_en_subshort[be][ie]=ye[ie+3]=Et,Xe[1+ie/3]+=Et,Et>ye[ie+3-2]?(tt(ye[ie+3-2]>0),Et=Et/ye[ie+3-2]):ye[ie+3-2]>Et*10?Et=ye[ie+3-2]/(Et*10):Et=0,He[ie+3]=Et}for(var ie=0;ie<3;++ie){var en=ye[ie*3+3]+ye[ie*3+4]+ye[ie*3+5],cn=1;ye[ie*3+5]*6<en&&(cn*=.5,ye[ie*3+4]*6<en&&(cn*=.5)),ee[be][ie]=cn}if(F.analysis){for(var fn=He[0],ie=1;ie<12;ie++)fn<He[ie]&&(fn=He[ie]);ce.pinfo.ers[V][be]=ce.pinfo.ers_save[be],ce.pinfo.ers_save[be]=fn}for(var ie=0;ie<12;ie++)W[be][ie/3]==0&&He[ie]>Je&&(W[be][ie/3]=ie%3+1);for(var ie=1;ie<4;ie++){var Sn=Xe[ie-1],Mn=Xe[ie],Ut=Math.max(Sn,Mn);Ut<4e4&&Sn<1.7*Mn&&Mn<1.7*Sn&&(ie==1&&W[be][0]<=W[be][ie]&&(W[be][0]=0),W[be][ie]=0)}W[be][0]<=ce.nsPsy.lastAttacks[be]&&(W[be][0]=0),(ce.nsPsy.lastAttacks[be]==3||W[be][0]+W[be][1]+W[be][2]+W[be][3]!=0)&&(nt=0,W[be][1]!=0&&W[be][0]!=0&&(W[be][1]=0),W[be][2]!=0&&W[be][1]!=0&&(W[be][2]=0),W[be][3]!=0&&W[be][2]!=0&&(W[be][3]=0)),be<2?le[be]=nt:nt==0&&(le[0]=le[1]=0),Q[be]=ce.tot_ener[be]}}function fe(F,H,P){if(P==0)for(var V=0;V<F.npart_s;V++)F.nb_s2[H][V]=F.nb_s1[H][V],F.nb_s1[H][V]=0}function de(F,H){for(var P=0;P<F.npart_l;P++)F.nb_2[H][P]=F.nb_1[H][P],F.nb_1[H][P]=0}function Ae(F,H,P,V){var G=A.length-1,D=0,Q=P[D]+P[D+1];if(Q>0){var ee=H[D];ee<H[D+1]&&(ee=H[D+1]),tt(F.numlines_s[D]+F.numlines_s[D+1]-1>0),Q=20*(ee*2-Q)/(Q*(F.numlines_s[D]+F.numlines_s[D+1]-1));var W=0|Q;W>G&&(W=G),V[D]=W}else V[D]=0;for(D=1;D<F.npart_s-1;D++)if(Q=P[D-1]+P[D]+P[D+1],tt(D+1<F.npart_s),Q>0){var ee=H[D-1];ee<H[D]&&(ee=H[D]),ee<H[D+1]&&(ee=H[D+1]),tt(F.numlines_s[D-1]+F.numlines_s[D]+F.numlines_s[D+1]-1>0),Q=20*(ee*3-Q)/(Q*(F.numlines_s[D-1]+F.numlines_s[D]+F.numlines_s[D+1]-1));var W=0|Q;W>G&&(W=G),V[D]=W}else V[D]=0;if(tt(D==F.npart_s-1),Q=P[D-1]+P[D],Q>0){var ee=H[D-1];ee<H[D]&&(ee=H[D]),tt(F.numlines_s[D-1]+F.numlines_s[D]-1>0),Q=20*(ee*2-Q)/(Q*(F.numlines_s[D-1]+F.numlines_s[D]-1));var W=0|Q;W>G&&(W=G),V[D]=W}else V[D]=0;tt(D==F.npart_s-1)}function Re(F,H,P,V,G,D){var Q=F.internal_flags,ee=new float[j.CBANDS],W=Ot(j.CBANDS),le,ne,ce,$=new int[j.CBANDS];for(ce=ne=0;ce<Q.npart_s;++ce){var pe=0,be=0,De=Q.numlines_s[ce];for(le=0;le<De;++le,++ne){var ie=H[D][ne];pe+=ie,be<ie&&(be=ie)}P[ce]=pe,ee[ce]=be,W[ce]=pe/De,tt(W[ce]>=0)}for(tt(ce==Q.npart_s);ce<j.CBANDS;++ce)ee[ce]=0,W[ce]=0;for(Ae(Q,ee,W,$),ne=ce=0;ce<Q.npart_s;ce++){var Fe=Q.s3ind_s[ce][0],Ge=Q.s3ind_s[ce][1],xe,He,ye,Xe,Mt;for(xe=$[Fe],He=1,Xe=Q.s3_ss[ne]*P[Fe]*A[$[Fe]],++ne,++Fe;Fe<=Ge;)xe+=$[Fe],He+=1,ye=Q.s3_ss[ne]*P[Fe]*A[$[Fe]],Xe=w(Xe,ye,Fe-ce),++ne,++Fe;xe=(1+2*xe)/(2*He),Mt=A[xe]*.5,Xe*=Mt,V[ce]=Xe,Q.nb_s2[G][ce]=Q.nb_s1[G][ce],Q.nb_s1[G][ce]=Xe,ye=ee[ce],ye*=Q.minval_s[ce],ye*=Mt,V[ce]>ye&&(V[ce]=ye),Q.masking_lower>1&&(V[ce]*=Q.masking_lower),V[ce]>P[ce]&&(V[ce]=P[ce]),Q.masking_lower<1&&(V[ce]*=Q.masking_lower),tt(V[ce]>=0)}for(;ce<j.CBANDS;++ce)P[ce]=0,V[ce]=0}function ke(F,H,P,V,G){var D=Ot(j.CBANDS),Q=Ot(j.CBANDS),ee=Er(j.CBANDS+2),W;Ne(F,H,P,D,Q),Ce(F,D,Q,ee);var le=0;for(W=0;W<F.npart_l;W++){var ne,ce,$,pe,be=F.s3ind[W][0],De=F.s3ind[W][1],ie=0,Fe=0;for(ie=ee[be],Fe+=1,ce=F.s3_ll[le]*P[be]*A[ee[be]],++le,++be;be<=De;)ie+=ee[be],Fe+=1,ne=F.s3_ll[le]*P[be]*A[ee[be]],pe=w(ce,ne,be-W),ce=pe,++le,++be;if(ie=(1+2*ie)/(2*Fe),$=A[ie]*.5,ce*=$,F.blocktype_old[G&1]==j.SHORT_TYPE){var Ge=n*F.nb_1[G][W];Ge>0?V[W]=Math.min(ce,Ge):V[W]=Math.min(ce,P[W]*c)}else{var xe=r*F.nb_2[G][W],He=n*F.nb_1[G][W],Ge;xe<=0&&(xe=ce),He<=0&&(He=ce),F.blocktype_old[G&1]==j.NORM_TYPE?Ge=Math.min(He,xe):Ge=He,V[W]=Math.min(ce,Ge)}F.nb_2[G][W]=F.nb_1[G][W],F.nb_1[G][W]=ce,ne=D[W],ne*=F.minval_l[W],ne*=$,V[W]>ne&&(V[W]=ne),F.masking_lower>1&&(V[W]*=F.masking_lower),V[W]>P[W]&&(V[W]=P[W]),F.masking_lower<1&&(V[W]*=F.masking_lower),tt(V[W]>=0)}for(;W<j.CBANDS;++W)P[W]=0,V[W]=0}function Ee(F,H){var P=F.internal_flags;F.short_blocks==Jr.short_block_coupled&&!(H[0]!=0&&H[1]!=0)&&(H[0]=H[1]=0);for(var V=0;V<P.channels_out;V++)F.short_blocks==Jr.short_block_dispensed&&(H[V]=1),F.short_blocks==Jr.short_block_forced&&(H[V]=0)}function _e(F,H,P){for(var V=F.internal_flags,G=0;G<V.channels_out;G++){var D=j.NORM_TYPE;H[G]!=0?(tt(V.blocktype_old[G]!=j.START_TYPE),V.blocktype_old[G]==j.SHORT_TYPE&&(D=j.STOP_TYPE)):(D=j.SHORT_TYPE,V.blocktype_old[G]==j.NORM_TYPE&&(V.blocktype_old[G]=j.START_TYPE),V.blocktype_old[G]==j.STOP_TYPE&&(V.blocktype_old[G]=j.SHORT_TYPE)),P[G]=V.blocktype_old[G],V.blocktype_old[G]=D}}function qe(F,H,P,V,G,D,Q){for(var ee=D*2,W=D>0?Math.pow(10,G):1,le,ne,ce=0;ce<Q;++ce){var $=F[2][ce],pe=F[3][ce],be=H[0][ce],De=H[1][ce],ie=H[2][ce],Fe=H[3][ce];if(be<=1.58*De&&De<=1.58*be){var Ge=P[ce]*pe,xe=P[ce]*$;ne=Math.max(ie,Math.min(Fe,Ge)),le=Math.max(Fe,Math.min(ie,xe))}else ne=ie,le=Fe;if(D>0){var He,ye,Xe=V[ce]*W;if(He=Math.min(Math.max(be,Xe),Math.max(De,Xe)),ie=Math.max(ne,Xe),Fe=Math.max(le,Xe),ye=ie+Fe,ye>0&&He*ee<ye){var Mt=He*ee/ye;ie*=Mt,Fe*=Mt}ne=Math.min(ie,ne),le=Math.min(Fe,le)}ne>$&&(ne=$),le>pe&&(le=pe),H[2][ce]=ne,H[3][ce]=le}}this.L3psycho_anal_vbr=function(F,H,P,V,G,D,Q,ee,W,le){var ne=F.internal_flags,ce,$,pe=Ot(j.HBLKSIZE),be=mn([3,j.HBLKSIZE_s]),De=mn([2,j.BLKSIZE]),ie=mn([2,3,j.BLKSIZE_s]),Fe=mn([4,j.CBANDS]),Ge=mn([4,j.CBANDS]),xe=mn([4,3]),He=.6,ye=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Xe=Er(2),Mt=F.mode==bt.JOINT_STEREO?4:ne.channels_out;re(F,H,P,V,G,D,W,xe,ye,Xe),Ee(F,Xe);{for(var Le=0;Le<Mt;Le++){var Je=Le&1;ce=De,Ye(F,H,P,Le,V,pe,ce,Je),z(F,V,Le,pe),Xe[Je]!=0?ke(ne,pe,Fe[Le],Ge[Le],Le):de(ne,Le)}Xe[0]+Xe[1]==2&&F.mode==bt.JOINT_STEREO&&qe(Fe,Ge,ne.mld_cb_l,ne.ATH.cb_l,F.ATHlower*ne.ATH.adjust,F.msfix,ne.npart_l);for(var Le=0;Le<Mt;Le++){var Je=Le&1;Xe[Je]!=0&&u(ne,Fe[Le],Ge[Le],Le)}}{for(var nt=0;nt<3;nt++){for(var Le=0;Le<Mt;++Le){var Je=Le&1;Xe[Je]!=0?fe(ne,Le,nt):($=ie,rt(F,H,P,Le,nt,be,$,Je),Re(F,be,Fe[Le],Ge[Le],Le,nt))}Xe[0]+Xe[1]==0&&F.mode==bt.JOINT_STEREO&&qe(Fe,Ge,ne.mld_cb_s,ne.ATH.cb_s,F.ATHlower*ne.ATH.adjust,F.msfix,ne.npart_s);for(var Le=0;Le<Mt;++Le){var Je=Le&1;Xe[Je]==0&&U(ne,Fe[Le],Ge[Le],Le,nt)}}for(var Le=0;Le<Mt;Le++){var Je=Le&1;if(Xe[Je]==0)for(var At=0;At<j.SBMAX_s;At++){for(var ln=Ot(3),nt=0;nt<3;nt++){var Bt=ne.thm[Le].s[At][nt];if(Bt*=f,ye[Le][nt]>=2||ye[Le][nt+1]==1){var Et=nt!=0?nt-1:2,en=O(ne.thm[Le].s[At][Et],Bt,m*He);Bt=Math.min(Bt,en)}else if(ye[Le][nt]==1){var Et=nt!=0?nt-1:2,en=O(ne.thm[Le].s[At][Et],Bt,c*He);Bt=Math.min(Bt,en)}else if(nt!=0&&ye[Le][nt-1]==3||nt==0&&ne.nsPsy.lastAttacks[Le]==3){var Et=nt!=2?nt+1:0,en=O(ne.thm[Le].s[At][Et],Bt,c*He);Bt=Math.min(Bt,en)}Bt*=xe[Le][nt],ln[nt]=Bt}for(var nt=0;nt<3;nt++)ne.thm[Le].s[At][nt]=ln[nt]}}}for(var Le=0;Le<Mt;Le++)ne.nsPsy.lastAttacks[Le]=ye[Le][2];_e(F,Xe,le);for(var Le=0;Le<Mt;Le++){var cn,fn,Sn,Mn;Le>1?(cn=ee,fn=-2,Sn=j.NORM_TYPE,(le[0]==j.SHORT_TYPE||le[1]==j.SHORT_TYPE)&&(Sn=j.SHORT_TYPE),Mn=D[V][Le-2]):(cn=Q,fn=0,Sn=le[Le],Mn=G[V][Le]),Sn==j.SHORT_TYPE?cn[fn+Le]=Me(Mn,ne.masking_lower):cn[fn+Le]=ge(Mn,ne.masking_lower),F.analysis&&(ne.pinfo.pe[V][Le]=cn[fn+Le])}return 0};function je(F,H){var P=F,V;return P>=0?V=-P*27:V=P*H,V<=-72?0:Math.exp(V*s)}function ze(F){var H=0,P=0;{var V=0,G,D;for(V=0;je(V,F)>1e-20;V-=1);for(G=V,D=0;Math.abs(D-G)>1e-12;)V=(D+G)/2,je(V,F)>0?D=V:G=V;H=G}{var V=0,G,D;for(V=0;je(V,F)>1e-20;V+=1);for(G=0,D=V;Math.abs(D-G)>1e-12;)V=(D+G)/2,je(V,F)>0?G=V:D=V;P=D}{var Q=0,ee=1e3,W;for(W=0;W<=ee;++W){var V=H+W*(P-H)/ee,le=je(V,F);Q+=le}{var ne=(ee+1)/(Q*(P-H));return ne}}}function Pe(F){var H,P,V,G;return H=F,H>=0?H*=3:H*=1.5,H>=.5&&H<=2.5?(G=H-.5,P=8*(G*G-2*G)):P=0,H+=.474,V=15.811389+7.5*H-17.5*Math.sqrt(1+H*H),V<=-60?0:(H=Math.exp((P+V)*s),H/=.6609193,H)}function We(F){return F<0&&(F=0),F=F*.001,13*Math.atan(.76*F)+3.5*Math.atan(F*F/(7.5*7.5))}function ue(F,H,P,V,G,D,Q,ee,W,le,ne,ce){var $=Ot(j.CBANDS+1),pe=ee/(ce>15?2*576:2*192),be=Er(j.HBLKSIZE),De;ee/=W;var ie=0,Fe=0;for(De=0;De<j.CBANDS;De++){var Ge,xe;for(Ge=We(ee*ie),$[De]=ee*ie,xe=ie;We(ee*xe)-Ge<a&&xe<=W/2;xe++);for(F[De]=xe-ie,Fe=De+1;ie<xe;)be[ie++]=De;if(ie>W/2){ie=W/2,++De;break}}$[De]=ee*ie;for(var He=0;He<ce;He++){var ye,Xe,Mt,Le,Je;Mt=le[He],Le=le[He+1],ye=0|Math.floor(.5+ne*(Mt-.5)),ye<0&&(ye=0),Xe=0|Math.floor(.5+ne*(Le-.5)),Xe>W/2&&(Xe=W/2),P[He]=(be[ye]+be[Xe])/2,H[He]=be[Xe];var nt=pe*Le;Q[He]=(nt-$[H[He]])/($[H[He]+1]-$[H[He]]),Q[He]<0?Q[He]=0:Q[He]>1&&(Q[He]=1),Je=We(ee*le[He]*ne),Je=Math.min(Je,15.5)/15.5,D[He]=Math.pow(10,1.25*(1-Math.cos(Math.PI*Je))-2.5)}ie=0;for(var At=0;At<Fe;At++){var ln=F[At],Ge,Bt;Ge=We(ee*ie),Bt=We(ee*(ie+ln-1)),V[At]=.5*(Ge+Bt),Ge=We(ee*(ie-.5)),Bt=We(ee*(ie+ln-.5)),G[At]=Bt-Ge,ie+=ln}return Fe}function Se(F,H,P,V,G,D){var Q=mn([j.CBANDS,j.CBANDS]),ee,W=0;if(D)for(var le=0;le<H;le++)for(ee=0;ee<H;ee++){var ne=Pe(P[le]-P[ee])*V[ee];Q[le][ee]=ne*G[le]}else for(ee=0;ee<H;ee++)for(var ce=15+Math.min(21/P[ee],12),$=ze(ce),le=0;le<H;le++){var ne=$*je(P[le]-P[ee],ce)*V[ee];Q[le][ee]=ne*G[le]}for(var le=0;le<H;le++){for(ee=0;ee<H&&!(Q[le][ee]>0);ee++);for(F[le][0]=ee,ee=H-1;ee>0&&!(Q[le][ee]>0);ee--);F[le][1]=ee,W+=F[le][1]-F[le][0]+1}for(var pe=Ot(W),be=0,le=0;le<H;le++)for(ee=F[le][0];ee<=F[le][1];ee++)pe[be++]=Q[le][ee];return pe}function te(F){var H=We(F);return H=Math.min(H,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*H))-2.5)}this.psymodel_init=function(F){var H=F.internal_flags,P,V=!0,G=13,D=24,Q=0,ee=0,W=-8.25,le=-4.5,ne=Ot(j.CBANDS),ce=Ot(j.CBANDS),$=Ot(j.CBANDS),pe=F.out_samplerate;switch(F.experimentalZ){default:case 0:V=!0;break;case 1:V=!(F.VBR==Qr.vbr_mtrh||F.VBR==Qr.vbr_mt);break;case 2:V=!1;break;case 3:G=8,Q=-1.75,ee=-.0125,W=-8.25,le=-2.25;break}for(H.ms_ener_ratio_old=.25,H.blocktype_old[0]=H.blocktype_old[1]=j.NORM_TYPE,P=0;P<4;++P){for(var ie=0;ie<j.CBANDS;++ie)H.nb_1[P][ie]=1e20,H.nb_2[P][ie]=1e20,H.nb_s1[P][ie]=H.nb_s2[P][ie]=1;for(var be=0;be<j.SBMAX_l;be++)H.en[P].l[be]=1e20,H.thm[P].l[be]=1e20;for(var ie=0;ie<3;++ie){for(var be=0;be<j.SBMAX_s;be++)H.en[P].s[be][ie]=1e20,H.thm[P].s[be][ie]=1e20;H.nsPsy.lastAttacks[P]=0}for(var ie=0;ie<9;ie++)H.nsPsy.last_en_subshort[P][ie]=10}for(H.loudness_sq_save[0]=H.loudness_sq_save[1]=0,H.npart_l=ue(H.numlines_l,H.bo_l,H.bm_l,ne,ce,H.mld_l,H.PSY.bo_l_weight,pe,j.BLKSIZE,H.scalefac_band.l,j.BLKSIZE/(2*576),j.SBMAX_l),tt(H.npart_l<j.CBANDS),P=0;P<H.npart_l;P++){var De=Q;ne[P]>=G&&(De=ee*(ne[P]-G)/(D-G)+Q*(D-ne[P])/(D-G)),$[P]=Math.pow(10,De/10),H.numlines_l[P]>0?H.rnumlines_l[P]=1/H.numlines_l[P]:H.rnumlines_l[P]=0}H.s3_ll=Se(H.s3ind,H.npart_l,ne,ce,$,V);var ie=0;for(P=0;P<H.npart_l;P++){var Fe;Fe=O0.MAX_VALUE;for(var Ge=0;Ge<H.numlines_l[P];Ge++,ie++){var xe=pe*ie/(1e3*j.BLKSIZE),He;He=this.ATHformula(xe*1e3,F)-20,He=Math.pow(10,.1*He),He*=H.numlines_l[P],Fe>He&&(Fe=He)}H.ATH.cb_l[P]=Fe,Fe=-20+ne[P]*20/10,Fe>6&&(Fe=100),Fe<-15&&(Fe=-15),Fe-=8,H.minval_l[P]=Math.pow(10,Fe/10)*H.numlines_l[P]}for(H.npart_s=ue(H.numlines_s,H.bo_s,H.bm_s,ne,ce,H.mld_s,H.PSY.bo_s_weight,pe,j.BLKSIZE_s,H.scalefac_band.s,j.BLKSIZE_s/(2*192),j.SBMAX_s),tt(H.npart_s<j.CBANDS),ie=0,P=0;P<H.npart_s;P++){var Fe,De=W;ne[P]>=G&&(De=le*(ne[P]-G)/(D-G)+W*(D-ne[P])/(D-G)),$[P]=Math.pow(10,De/10),Fe=O0.MAX_VALUE;for(var Ge=0;Ge<H.numlines_s[P];Ge++,ie++){var xe=pe*ie/(1e3*j.BLKSIZE_s),He;He=this.ATHformula(xe*1e3,F)-20,He=Math.pow(10,.1*He),He*=H.numlines_s[P],Fe>He&&(Fe=He)}H.ATH.cb_s[P]=Fe,Fe=-7+ne[P]*7/12,ne[P]>12&&(Fe*=1+Math.log(1+Fe)*3.1),ne[P]<12&&(Fe*=1+Math.log(1-Fe)*2.3),Fe<-15&&(Fe=-15),Fe-=8,H.minval_s[P]=Math.pow(10,Fe/10)*H.numlines_s[P]}H.s3_ss=Se(H.s3ind_s,H.npart_s,ne,ce,$,V),S(),e.init_fft(H),H.decay=Math.exp(-1*t/(d*pe/192));{var ye;ye=p,(F.exp_nspsytune&2)!=0&&(ye=1),Math.abs(F.msfix)>0&&(ye=F.msfix),F.msfix=ye;for(var Xe=0;Xe<H.npart_l;Xe++)H.s3ind[Xe][1]>H.npart_l-1&&(H.s3ind[Xe][1]=H.npart_l-1)}var Mt=576*H.mode_gr/pe;if(H.ATH.decay=Math.pow(10,-12/10*Mt),H.ATH.adjust=.01,H.ATH.adjustLimit=1,tt(H.bo_l[j.SBMAX_l-1]<=H.npart_l),tt(H.bo_s[j.SBMAX_s-1]<=H.npart_s),F.ATHtype!=-1){var xe,Le=F.out_samplerate/j.BLKSIZE,Je=0;for(xe=0,P=0;P<j.BLKSIZE/2;++P)xe+=Le,H.ATH.eql_w[P]=1/Math.pow(10,this.ATHformula(xe,F)/10),Je+=H.ATH.eql_w[P];for(Je=1/Je,P=j.BLKSIZE/2;--P>=0;)H.ATH.eql_w[P]*=Je}{for(var Xe=ie=0;Xe<H.npart_s;++Xe)for(P=0;P<H.numlines_s[Xe];++P)++ie;for(var Xe=ie=0;Xe<H.npart_l;++Xe)for(P=0;P<H.numlines_l[Xe];++P)++ie}for(ie=0,P=0;P<H.npart_l;P++){var xe=pe*(ie+H.numlines_l[P]/2)/(1*j.BLKSIZE);H.mld_cb_l[P]=te(xe),ie+=H.numlines_l[P]}for(;P<j.CBANDS;++P)H.mld_cb_l[P]=1;for(ie=0,P=0;P<H.npart_s;P++){var xe=pe*(ie+H.numlines_s[P]/2)/(1*j.BLKSIZE_s);H.mld_cb_s[P]=te(xe),ie+=H.numlines_s[P]}for(;P<j.CBANDS;++P)H.mld_cb_s[P]=1;return 0};function Oe(F,H){F<-.3&&(F=3410),F/=1e3,F=Math.max(.1,F);var P=3.64*Math.pow(F,-.8)-6.8*Math.exp(-.6*Math.pow(F-3.4,2))+6*Math.exp(-.15*Math.pow(F-8.7,2))+(.6+.04*H)*.001*Math.pow(F,4);return P}this.ATHformula=function(F,H){var P;switch(H.ATHtype){case 0:P=Oe(F,9);break;case 1:P=Oe(F,-1);break;case 2:P=Oe(F,0);break;case 3:P=Oe(F,1)+6;break;case 4:P=Oe(F,H.ATHcurve);break;default:P=Oe(F,0);break}return P}}function U3(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=bt.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var cr={};cr.SFBMAX=j.SBMAX_s*3;var V3=Ie.new_float,Tr=Ie.new_int;function Po(){this.xr=V3(576),this.l3_enc=Tr(576),this.scalefac=Tr(cr.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=Tr(3),this.subblock_gain=Tr(3+1),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=Tr(cr.SFBMAX),this.window=Tr(cr.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=Tr(4),this.max_nonzero_coeff=0;var e=this;function t(r){return new Int32Array(r)}function n(r){return new Float32Array(r)}this.assign=function(r){e.xr=n(r.xr),e.l3_enc=t(r.l3_enc),e.scalefac=t(r.scalefac),e.xrpow_max=r.xrpow_max,e.part2_3_length=r.part2_3_length,e.big_values=r.big_values,e.count1=r.count1,e.global_gain=r.global_gain,e.scalefac_compress=r.scalefac_compress,e.block_type=r.block_type,e.mixed_block_flag=r.mixed_block_flag,e.table_select=t(r.table_select),e.subblock_gain=t(r.subblock_gain),e.region0_count=r.region0_count,e.region1_count=r.region1_count,e.preflag=r.preflag,e.scalefac_scale=r.scalefac_scale,e.count1table_select=r.count1table_select,e.part2_length=r.part2_length,e.sfb_lmax=r.sfb_lmax,e.sfb_smin=r.sfb_smin,e.psy_lmax=r.psy_lmax,e.sfbmax=r.sfbmax,e.psymax=r.psymax,e.sfbdivide=r.sfbdivide,e.width=t(r.width),e.window=t(r.window),e.count1bits=r.count1bits,e.sfb_partition_table=r.sfb_partition_table.slice(0),e.slen=t(r.slen),e.max_nonzero_coeff=r.max_nonzero_coeff}}var F0=Ie.new_int;function Y3(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[F0(4),F0(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new Po}var Uo=Ie.System,Vo=Ie.new_int;function jn(e,t,n,r){this.l=Vo(1+j.SBMAX_l),this.s=Vo(1+j.SBMAX_s),this.psfb21=Vo(1+j.PSFB21),this.psfb12=Vo(1+j.PSFB12);var o=this.l,i=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],Uo.arraycopy(this.arrL,0,o,0,Math.min(this.arrL.length,this.l.length)),Uo.arraycopy(this.arrS,0,i,0,Math.min(this.arrS.length,this.s.length)),Uo.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),Uo.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var Ms=Ie.new_float,X3=Ie.new_float_n,K3=Ie.new_int;function G3(){this.last_en_subshort=X3([4,9]),this.lastAttacks=K3(4),this.pefirbuf=Ms(19),this.longfact=Ms(j.SBMAX_l),this.shortfact=Ms(j.SBMAX_s),this.attackthre=0,this.attackthre_s=0}function W3(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var Z3=Ie.new_byte,Q3=Ie.new_double,hn=Ie.new_float,Rr=Ie.new_float_n,kn=Ie.new_int,Yo=Ie.new_int_n;ut.MFSIZE=3*1152+j.ENCDELAY-j.MDCTDELAY,ut.MAX_HEADER_BUF=256,ut.MAX_BITS_PER_CHANNEL=4095,ut.MAX_BITS_PER_GRANULE=7680,ut.BPC=320;function ut(){var e=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=Rr([2,ut.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new Y3,this.ms_ratio=hn(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=kn(2),this.CurrentStep=kn(2),this.masking_lower=0,this.bv_scf=kn(576),this.pseudohalf=kn(cr.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*ut.BPC+1),this.itime=Q3(2),this.sideinfo_len=0,this.sb_sample=Rr([2,2,18,j.SBLIMIT]),this.amp_filter=hn(32);function t(){this.write_timing=0,this.ptr=0,this.buf=Z3(e)}this.header=new Array(ut.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new jn,this.minval_l=hn(j.CBANDS),this.minval_s=hn(j.CBANDS),this.nb_1=Rr([4,j.CBANDS]),this.nb_2=Rr([4,j.CBANDS]),this.nb_s1=Rr([4,j.CBANDS]),this.nb_s2=Rr([4,j.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=hn(4),this.loudness_sq=Rr([2,2]),this.loudness_sq_save=hn(2),this.mld_l=hn(j.SBMAX_l),this.mld_s=hn(j.SBMAX_s),this.bm_l=kn(j.SBMAX_l),this.bo_l=kn(j.SBMAX_l),this.bm_s=kn(j.SBMAX_s),this.bo_s=kn(j.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=Yo([j.CBANDS,2]),this.s3ind_s=Yo([j.CBANDS,2]),this.numlines_s=kn(j.CBANDS),this.numlines_l=kn(j.CBANDS),this.rnumlines_l=hn(j.CBANDS),this.mld_cb_l=hn(j.CBANDS),this.mld_cb_s=hn(j.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=hn(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=kn(2),this.nsPsy=new G3,this.VBR_seek_table=new W3,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=Yo([16,4+1]),this.bitrate_blockType_Hist=Yo([16,4+1+1]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var n=0;n<this.en.length;n++)this.en[n]=new Do;for(var n=0;n<this.thm.length;n++)this.thm[n]=new Do;for(var n=0;n<this.header.length;n++)this.header[n]=new t}var Cr=Ie.new_float;function J3(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=Cr(j.SBMAX_l),this.s=Cr(j.SBMAX_s),this.psfb21=Cr(j.PSFB21),this.psfb12=Cr(j.PSFB12),this.cb_l=Cr(j.CBANDS),this.cb_s=Cr(j.CBANDS),this.eql_w=Cr(j.BLKSIZE/2)}var $t=Ie.System,L0=Ie.Arrays;It.STEPS_per_dB=100,It.MAX_dB=120,It.GAIN_NOT_ENOUGH_SAMPLES=-24601,It.GAIN_ANALYSIS_ERROR=0,It.GAIN_ANALYSIS_OK=1,It.INIT_GAIN_ANALYSIS_ERROR=0,It.INIT_GAIN_ANALYSIS_OK=1,It.YULE_ORDER=10,It.MAX_ORDER=It.YULE_ORDER,It.MAX_SAMP_FREQ=48e3,It.RMS_WINDOW_TIME_NUMERATOR=1,It.RMS_WINDOW_TIME_DENOMINATOR=20,It.MAX_SAMPLES_PER_WINDOW=It.MAX_SAMP_FREQ*It.RMS_WINDOW_TIME_NUMERATOR/It.RMS_WINDOW_TIME_DENOMINATOR+1;function It(){var e=64.82,t=.95,n=It.RMS_WINDOW_TIME_NUMERATOR,r=It.RMS_WINDOW_TIME_DENOMINATOR,o=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],i=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function a(c,p,h,s,I,B){for(;I--!=0;)h[s]=1e-10+c[p+0]*B[0]-h[s-1]*B[1]+c[p-1]*B[2]-h[s-2]*B[3]+c[p-2]*B[4]-h[s-3]*B[5]+c[p-3]*B[6]-h[s-4]*B[7]+c[p-4]*B[8]-h[s-5]*B[9]+c[p-5]*B[10]-h[s-6]*B[11]+c[p-6]*B[12]-h[s-7]*B[13]+c[p-7]*B[14]-h[s-8]*B[15]+c[p-8]*B[16]-h[s-9]*B[17]+c[p-9]*B[18]-h[s-10]*B[19]+c[p-10]*B[20],++s,++p}function l(c,p,h,s,I,B){for(;I--!=0;)h[s]=c[p+0]*B[0]-h[s-1]*B[1]+c[p-1]*B[2]-h[s-2]*B[3]+c[p-2]*B[4],++s,++p}function d(c,p){for(var h=0;h<MAX_ORDER;h++)c.linprebuf[h]=c.lstepbuf[h]=c.loutbuf[h]=c.rinprebuf[h]=c.rstepbuf[h]=c.routbuf[h]=0;switch(0|p){case 48e3:c.reqindex=0;break;case 44100:c.reqindex=1;break;case 32e3:c.reqindex=2;break;case 24e3:c.reqindex=3;break;case 22050:c.reqindex=4;break;case 16e3:c.reqindex=5;break;case 12e3:c.reqindex=6;break;case 11025:c.reqindex=7;break;case 8e3:c.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return c.sampleWindow=0|(p*n+r-1)/r,c.lsum=0,c.rsum=0,c.totsamp=0,L0.ill(c.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(c,p){return d(c,p)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(c.linpre=MAX_ORDER,c.rinpre=MAX_ORDER,c.lstep=MAX_ORDER,c.rstep=MAX_ORDER,c.lout=MAX_ORDER,c.rout=MAX_ORDER,L0.fill(c.B,0),INIT_GAIN_ANALYSIS_OK)};function f(c){return c*c}this.AnalyzeSamples=function(c,p,h,s,I,B,R){var g,E,L,T,C,v,A;if(B==0)return GAIN_ANALYSIS_OK;switch(A=0,C=B,R){case 1:s=p,I=h;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(B<MAX_ORDER?($t.arraycopy(p,h,c.linprebuf,MAX_ORDER,B),$t.arraycopy(s,I,c.rinprebuf,MAX_ORDER,B)):($t.arraycopy(p,h,c.linprebuf,MAX_ORDER,MAX_ORDER),$t.arraycopy(s,I,c.rinprebuf,MAX_ORDER,MAX_ORDER));C>0;){v=C>c.sampleWindow-c.totsamp?c.sampleWindow-c.totsamp:C,A<MAX_ORDER?(g=c.linpre+A,E=c.linprebuf,L=c.rinpre+A,T=c.rinprebuf,v>MAX_ORDER-A&&(v=MAX_ORDER-A)):(g=h+A,E=p,L=I+A,T=s),a(E,g,c.lstepbuf,c.lstep+c.totsamp,v,o[c.reqindex]),a(T,L,c.rstepbuf,c.rstep+c.totsamp,v,o[c.reqindex]),l(c.lstepbuf,c.lstep+c.totsamp,c.loutbuf,c.lout+c.totsamp,v,i[c.reqindex]),l(c.rstepbuf,c.rstep+c.totsamp,c.routbuf,c.rout+c.totsamp,v,i[c.reqindex]),g=c.lout+c.totsamp,E=c.loutbuf,L=c.rout+c.totsamp,T=c.routbuf;for(var S=v%8;S--!=0;)c.lsum+=f(E[g++]),c.rsum+=f(T[L++]);for(S=v/8;S--!=0;)c.lsum+=f(E[g+0])+f(E[g+1])+f(E[g+2])+f(E[g+3])+f(E[g+4])+f(E[g+5])+f(E[g+6])+f(E[g+7]),g+=8,c.rsum+=f(T[L+0])+f(T[L+1])+f(T[L+2])+f(T[L+3])+f(T[L+4])+f(T[L+5])+f(T[L+6])+f(T[L+7]),L+=8;if(C-=v,A+=v,c.totsamp+=v,c.totsamp==c.sampleWindow){var b=It.STEPS_per_dB*10*Math.log10((c.lsum+c.rsum)/c.totsamp*.5+1e-37),x=b<=0?0:0|b;x>=c.A.length&&(x=c.A.length-1),c.A[x]++,c.lsum=c.rsum=0,$t.arraycopy(c.loutbuf,c.totsamp,c.loutbuf,0,MAX_ORDER),$t.arraycopy(c.routbuf,c.totsamp,c.routbuf,0,MAX_ORDER),$t.arraycopy(c.lstepbuf,c.totsamp,c.lstepbuf,0,MAX_ORDER),$t.arraycopy(c.rstepbuf,c.totsamp,c.rstepbuf,0,MAX_ORDER),c.totsamp=0}if(c.totsamp>c.sampleWindow)return GAIN_ANALYSIS_ERROR}return B<MAX_ORDER?($t.arraycopy(c.linprebuf,B,c.linprebuf,0,MAX_ORDER-B),$t.arraycopy(c.rinprebuf,B,c.rinprebuf,0,MAX_ORDER-B),$t.arraycopy(p,h,c.linprebuf,MAX_ORDER-B,B),$t.arraycopy(s,I,c.rinprebuf,MAX_ORDER-B,B)):($t.arraycopy(p,h+B-MAX_ORDER,c.linprebuf,0,MAX_ORDER),$t.arraycopy(s,I+B-MAX_ORDER,c.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function m(c,p){var h,s=0;for(h=0;h<p;h++)s+=c[h];if(s==0)return GAIN_NOT_ENOUGH_SAMPLES;var I=0|Math.ceil(s*(1-t));for(h=p;h-- >0&&!((I-=c[h])<=0););return e-h/It.STEPS_per_dB}this.GetTitleGain=function(c){for(var p=m(c.A,c.A.length),h=0;h<c.A.length;h++)c.B[h]+=c.A[h],c.A[h]=0;for(var h=0;h<MAX_ORDER;h++)c.linprebuf[h]=c.lstepbuf[h]=c.loutbuf[h]=c.rinprebuf[h]=c.rstepbuf[h]=c.routbuf[h]=0;return c.totsamp=0,c.lsum=c.rsum=0,p}}var $r=Ie.new_float,j0=Ie.new_int;function $3(){this.linprebuf=$r(void 0*2),this.linpre=0,this.lstepbuf=$r(void 0+void 0),this.lstep=0,this.loutbuf=$r(void 0+void 0),this.lout=0,this.rinprebuf=$r(void 0*2),this.rinpre=0,this.rstepbuf=$r(void 0+void 0),this.rstep=0,this.routbuf=$r(void 0+void 0),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=j0(0|void 0*void 0),this.B=j0(0|void 0*void 0)}function H0(e){this.bits=e}var N0=Ie.new_float,e_=Ie.new_int,D0=Ie.assert;function t_(e){var t=e;this.quantize=t,this.iteration_loop=function(n,r,o,i){var a=n.internal_flags,l=N0(cr.SFBMAX),d=N0(576),f=e_(2),m=0,c,p=a.l3_side,h=new H0(m);this.quantize.rv.ResvFrameBegin(n,h),m=h.bits;for(var s=0;s<a.mode_gr;s++){c=this.quantize.qupvt.on_pe(n,r,f,m,s,s),a.mode_ext==j.MPG_MD_MS_LR&&(this.quantize.ms_convert(a.l3_side,s),this.quantize.qupvt.reduce_side(f,o[s],m,c));for(var I=0;I<a.channels_out;I++){var B,R,g=p.tt[s][I];g.block_type!=j.SHORT_TYPE?(B=0,R=a.PSY.mask_adjust-B):(B=0,R=a.PSY.mask_adjust_short-B),a.masking_lower=Math.pow(10,R*.1),this.quantize.init_outer_loop(a,g),this.quantize.init_xrpow(a,g,d)&&(this.quantize.qupvt.calc_xmin(n,i[s][I],g,l),this.quantize.outer_loop(n,g,l,d,I,f[I])),this.quantize.iteration_finish_one(a,s,I),D0(g.part2_3_length<=ut.MAX_BITS_PER_CHANNEL),D0(g.part2_3_length<=f[I])}}this.quantize.rv.ResvFrameEnd(a,m)}}function ft(e,t,n,r){this.xlen=e,this.linmax=t,this.table=n,this.hlen=r}var se={};se.t1HB=[1,1,1,0],se.t2HB=[1,2,1,3,1,1,3,2,0],se.t3HB=[3,2,1,1,1,1,3,2,0],se.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],se.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],se.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],se.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],se.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],se.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],se.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],se.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],se.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],se.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],se.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],se.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],se.t32HB=[1<<0,5<<1,4<<1,5<<2,6<<1,5<<2,4<<2,4<<3,7<<1,3<<2,6<<2,0<<3,7<<2,2<<3,3<<3,1<<4],se.t33HB=[15<<0,14<<1,13<<1,12<<2,11<<1,10<<2,9<<2,8<<3,7<<1,6<<2,5<<2,4<<3,3<<2,2<<3,1<<3,0<<4],se.t1l=[1,4,3,5],se.t2l=[1,4,7,4,5,7,6,7,8],se.t3l=[2,3,7,4,4,7,6,7,8],se.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],se.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],se.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],se.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],se.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],se.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],se.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],se.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],se.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],se.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],se.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],se.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],se.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],se.t32l=[1+0,4+1,4+1,5+2,4+1,6+2,5+2,6+3,4+1,5+2,5+2,6+3,5+2,6+3,6+3,6+4],se.t33l=[4+0,4+1,4+1,4+2,4+1,4+2,4+2,4+3,4+1,4+2,4+2,4+3,4+2,4+3,4+3,4+4],se.ht=[new ft(0,0,null,null),new ft(2,0,se.t1HB,se.t1l),new ft(3,0,se.t2HB,se.t2l),new ft(3,0,se.t3HB,se.t3l),new ft(0,0,null,null),new ft(4,0,se.t5HB,se.t5l),new ft(4,0,se.t6HB,se.t6l),new ft(6,0,se.t7HB,se.t7l),new ft(6,0,se.t8HB,se.t8l),new ft(6,0,se.t9HB,se.t9l),new ft(8,0,se.t10HB,se.t10l),new ft(8,0,se.t11HB,se.t11l),new ft(8,0,se.t12HB,se.t12l),new ft(16,0,se.t13HB,se.t13l),new ft(0,0,null,se.t16_5l),new ft(16,0,se.t15HB,se.t15l),new ft(1,1,se.t16HB,se.t16l),new ft(2,3,se.t16HB,se.t16l),new ft(3,7,se.t16HB,se.t16l),new ft(4,15,se.t16HB,se.t16l),new ft(6,63,se.t16HB,se.t16l),new ft(8,255,se.t16HB,se.t16l),new ft(10,1023,se.t16HB,se.t16l),new ft(13,8191,se.t16HB,se.t16l),new ft(4,15,se.t24HB,se.t24l),new ft(5,31,se.t24HB,se.t24l),new ft(6,63,se.t24HB,se.t24l),new ft(7,127,se.t24HB,se.t24l),new ft(8,255,se.t24HB,se.t24l),new ft(9,511,se.t24HB,se.t24l),new ft(11,2047,se.t24HB,se.t24l),new ft(13,8191,se.t24HB,se.t24l),new ft(0,0,se.t32HB,se.t32l),new ft(0,0,se.t33HB,se.t33l)],se.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],se.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],se.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],se.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],se.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],se.scfsi_band=[0,6,11,16,21];var Ir=Ie.VbrMode,Xo=Ie.Float,As=Ie.Util,Br=Ie.new_float,n_=Ie.new_int,Li=Ie.assert;Pt.Q_MAX=256+1,Pt.Q_MAX2=116,Pt.LARGE_BITS=1e5,Pt.IXMAX_VAL=8206;function Pt(){var e=null,t=null,n=null;this.setModules=function(g,E,L){e=g,t=E,n=L};function r(g){return c[g+Pt.Q_MAX2]}this.IPOW20=function(g){return p[g]};var o=2220446049250313e-31,i=Pt.IXMAX_VAL,a=i+2,l=Pt.Q_MAX,d=Pt.Q_MAX2,f=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var m=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=m,this.sfBandIndex=[new jn([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new jn([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new jn([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new jn([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new jn([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new jn([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new jn([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new jn([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new jn([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var c=Br(l+d+1),p=Br(l),h=Br(a),s=Br(a);this.adj43=s;function I(g,E){var L=n.ATHformula(E,g);return L-=f,L=Math.pow(10,L/10+g.ATHlower),L}function B(g){for(var E=g.internal_flags.ATH.l,L=g.internal_flags.ATH.psfb21,T=g.internal_flags.ATH.s,C=g.internal_flags.ATH.psfb12,v=g.internal_flags,A=g.out_samplerate,S=0;S<j.SBMAX_l;S++){var b=v.scalefac_band.l[S],x=v.scalefac_band.l[S+1];E[S]=Xo.MAX_VALUE;for(var _=b;_<x;_++){var y=_*A/1152,k=I(g,y);E[S]=Math.min(E[S],k)}}for(var S=0;S<j.PSFB21;S++){var b=v.scalefac_band.psfb21[S],x=v.scalefac_band.psfb21[S+1];L[S]=Xo.MAX_VALUE;for(var _=b;_<x;_++){var y=_*A/1152,k=I(g,y);L[S]=Math.min(L[S],k)}}for(var S=0;S<j.SBMAX_s;S++){var b=v.scalefac_band.s[S],x=v.scalefac_band.s[S+1];T[S]=Xo.MAX_VALUE;for(var _=b;_<x;_++){var y=_*A/384,k=I(g,y);T[S]=Math.min(T[S],k)}T[S]*=v.scalefac_band.s[S+1]-v.scalefac_band.s[S]}for(var S=0;S<j.PSFB12;S++){var b=v.scalefac_band.psfb12[S],x=v.scalefac_band.psfb12[S+1];C[S]=Xo.MAX_VALUE;for(var _=b;_<x;_++){var y=_*A/384,k=I(g,y);C[S]=Math.min(C[S],k)}C[S]*=v.scalefac_band.s[13]-v.scalefac_band.s[12]}if(g.noATH){for(var S=0;S<j.SBMAX_l;S++)E[S]=1e-20;for(var S=0;S<j.PSFB21;S++)L[S]=1e-20;for(var S=0;S<j.SBMAX_s;S++)T[S]=1e-20;for(var S=0;S<j.PSFB12;S++)C[S]=1e-20}v.ATH.floor=10*Math.log10(I(g,-1))}this.iteration_init=function(g){var E=g.internal_flags,L=E.l3_side,T;if(E.iteration_init_init==0){for(E.iteration_init_init=1,L.main_data_begin=0,B(g),h[0]=0,T=1;T<a;T++)h[T]=Math.pow(T,4/3);for(T=0;T<a-1;T++)s[T]=T+1-Math.pow(.5*(h[T]+h[T+1]),.75);for(s[T]=.5,T=0;T<l;T++)p[T]=Math.pow(2,(T-210)*-.1875);for(T=0;T<=l+d;T++)c[T]=Math.pow(2,(T-210-d)*.25);e.huffman_init(E);{var C,v,A,S;for(T=g.exp_nspsytune>>2&63,T>=32&&(T-=64),C=Math.pow(10,T/4/10),T=g.exp_nspsytune>>8&63,T>=32&&(T-=64),v=Math.pow(10,T/4/10),T=g.exp_nspsytune>>14&63,T>=32&&(T-=64),A=Math.pow(10,T/4/10),T=g.exp_nspsytune>>20&63,T>=32&&(T-=64),S=A*Math.pow(10,T/4/10),T=0;T<j.SBMAX_l;T++){var b;T<=6?b=C:T<=13?b=v:T<=20?b=A:b=S,E.nsPsy.longfact[T]=b}for(T=0;T<j.SBMAX_s;T++){var b;T<=5?b=C:T<=10?b=v:T<=11?b=A:b=S,E.nsPsy.shortfact[T]=b}}}},this.on_pe=function(g,E,L,T,C,v){var A=g.internal_flags,S=0,b,x=n_(2),_,y=new H0(S),k=t.ResvMaxBits(g,T,y,v);S=y.bits;var w=S+k;for(w>ut.MAX_BITS_PER_GRANULE&&(w=ut.MAX_BITS_PER_GRANULE),b=0,_=0;_<A.channels_out;++_)L[_]=Math.min(ut.MAX_BITS_PER_CHANNEL,S/A.channels_out),x[_]=0|L[_]*E[C][_]/700-L[_],x[_]>T*3/4&&(x[_]=T*3/4),x[_]<0&&(x[_]=0),x[_]+L[_]>ut.MAX_BITS_PER_CHANNEL&&(x[_]=Math.max(0,ut.MAX_BITS_PER_CHANNEL-L[_])),b+=x[_];if(b>k)for(_=0;_<A.channels_out;++_)x[_]=k*x[_]/b;for(_=0;_<A.channels_out;++_)L[_]+=x[_],k-=x[_];for(b=0,_=0;_<A.channels_out;++_)b+=L[_];if(b>ut.MAX_BITS_PER_GRANULE){var N=0;for(_=0;_<A.channels_out;++_)L[_]*=ut.MAX_BITS_PER_GRANULE,L[_]/=b,N+=L[_]}return w},this.reduce_side=function(g,E,L,T){Li(g[0]+g[1]<=ut.MAX_BITS_PER_GRANULE);var C=.33*(.5-E)/.5;C<0&&(C=0),C>.5&&(C=.5);var v=0|C*.5*(g[0]+g[1]);v>ut.MAX_BITS_PER_CHANNEL-g[0]&&(v=ut.MAX_BITS_PER_CHANNEL-g[0]),v<0&&(v=0),g[1]>=125&&(g[1]-v>125?(g[0]<L&&(g[0]+=v),g[1]-=v):(g[0]+=g[1]-125,g[1]=125)),v=g[0]+g[1],v>T&&(g[0]=T*g[0]/v,g[1]=T*g[1]/v),Li(g[0]<=ut.MAX_BITS_PER_CHANNEL),Li(g[1]<=ut.MAX_BITS_PER_CHANNEL),Li(g[0]+g[1]<=ut.MAX_BITS_PER_GRANULE)},this.athAdjust=function(g,E,L){var T=90.30873362,C=94.82444863,v=As.FAST_LOG10_X(E,10),A=g*g,S=0;return v-=L,A>1e-20&&(S=1+As.FAST_LOG10_X(A,10/T)),S<0&&(S=0),v*=S,v+=L+T-C,Math.pow(10,.1*v)},this.calc_xmin=function(g,E,L,T){var C=0,v=g.internal_flags,A,S=0,b=0,x=v.ATH,_=L.xr,y=g.VBR==Ir.vbr_mtrh?1:0,k=v.masking_lower;for((g.VBR==Ir.vbr_mtrh||g.VBR==Ir.vbr_mt)&&(k=1),A=0;A<L.psy_lmax;A++){var w,N,X,q,U,u;g.VBR==Ir.vbr_rh||g.VBR==Ir.vbr_mtrh?N=athAdjust(x.adjust,x.l[A],x.floor):N=x.adjust*x.l[A],U=L.width[A],X=N/U,q=o,u=U>>1,w=0;do{var M,Z;M=_[S]*_[S],w+=M,q+=M<X?M:X,S++,Z=_[S]*_[S],w+=Z,q+=Z<X?Z:X,S++}while(--u>0);if(w>N&&b++,A==j.SBPSY_l){var O=N*v.nsPsy.longfact[A];q<O&&(q=O)}if(y!=0&&(N=q),!g.ATHonly){var me=E.en.l[A];if(me>0){var O;O=w*E.thm.l[A]*k/me,y!=0&&(O*=v.nsPsy.longfact[A]),N<O&&(N=O)}}y!=0?T[C++]=N:T[C++]=N*v.nsPsy.longfact[A]}var Me=575;if(L.block_type!=j.SHORT_TYPE)for(var ve=576;ve--!=0&&pn.EQ(_[ve],0);)Me=ve;L.max_nonzero_coeff=Me;for(var ge=L.sfb_smin;A<L.psymax;ge++,A+=3){var U,Ne,Ce;for(g.VBR==Ir.vbr_rh||g.VBR==Ir.vbr_mtrh?Ce=athAdjust(x.adjust,x.s[ge],x.floor):Ce=x.adjust*x.s[ge],U=L.width[A],Ne=0;Ne<3;Ne++){var w=0,N,X,q,u=U>>1;X=Ce/U,q=o;do{var M,Z;M=_[S]*_[S],w+=M,q+=M<X?M:X,S++,Z=_[S]*_[S],w+=Z,q+=Z<X?Z:X,S++}while(--u>0);if(w>Ce&&b++,ge==j.SBPSY_s){var O=Ce*v.nsPsy.shortfact[ge];q<O&&(q=O)}if(y!=0?N=q:N=Ce,!g.ATHonly&&!g.ATHshort){var me=E.en.s[ge][Ne];if(me>0){var O;O=w*E.thm.s[ge][Ne]*k/me,y!=0&&(O*=v.nsPsy.shortfact[ge]),N<O&&(N=O)}}y!=0?T[C++]=N:T[C++]=N*v.nsPsy.shortfact[ge]}g.useTemporal&&(T[C-3]>T[C-3+1]&&(T[C-3+1]+=(T[C-3]-T[C-3+1])*v.decay),T[C-3+1]>T[C-3+2]&&(T[C-3+2]+=(T[C-3+1]-T[C-3+2])*v.decay))}return b};function R(g){this.s=g}this.calc_noise_core=function(g,E,L,T){var C=0,v=E.s,A=g.l3_enc;if(v>g.count1)for(;L--!=0;){var S;S=g.xr[v],v++,C+=S*S,S=g.xr[v],v++,C+=S*S}else if(v>g.big_values){var b=Br(2);for(b[0]=0,b[1]=T;L--!=0;){var S;S=Math.abs(g.xr[v])-b[A[v]],v++,C+=S*S,S=Math.abs(g.xr[v])-b[A[v]],v++,C+=S*S}}else for(;L--!=0;){var S;S=Math.abs(g.xr[v])-h[A[v]]*T,v++,C+=S*S,S=Math.abs(g.xr[v])-h[A[v]]*T,v++,C+=S*S}return E.s=v,C},this.calc_noise=function(g,E,L,T,C){var v=0,A=0,S,b,x=0,_=0,y=0,k=-20,w=0,N=g.scalefac,X=0;for(T.over_SSD=0,S=0;S<g.psymax;S++){var q=g.global_gain-(N[X++]+(g.preflag!=0?m[S]:0)<<g.scalefac_scale+1)-g.subblock_gain[g.window[S]]*8,U=0;if(C!=null&&C.step[S]==q)U=C.noise[S],w+=g.width[S],L[v++]=U/E[A++],U=C.noise_log[S];else{var u=r(q);if(b=g.width[S]>>1,w+g.width[S]>g.max_nonzero_coeff){var M;M=g.max_nonzero_coeff-w+1,M>0?b=M>>1:b=0}var Z=new R(w);U=this.calc_noise_core(g,Z,b,u),w=Z.s,C!=null&&(C.step[S]=q,C.noise[S]=U),U=L[v++]=U/E[A++],U=As.FAST_LOG10(Math.max(U,1e-20)),C!=null&&(C.noise_log[S]=U)}if(C!=null&&(C.global_gain=g.global_gain),y+=U,U>0){var O;O=Math.max(0|U*10+.5,1),T.over_SSD+=O*O,x++,_+=U}k=Math.max(k,U)}return T.over_count=x,T.tot_noise=y,T.over_noise=_,T.max_noise=k,x},this.set_pinfo=function(g,E,L,T,C){var v=g.internal_flags,A,S,b,x,_,y=E.scalefac_scale==0?.5:1,k=E.scalefac,w=Br(L3Side.SFBMAX),N=Br(L3Side.SFBMAX),X=new CalcNoiseResult;calc_xmin(g,L,E,w),calc_noise(E,w,N,X,null);var q=0;for(S=E.sfb_lmax,E.block_type!=j.SHORT_TYPE&&E.mixed_block_flag==0&&(S=22),A=0;A<S;A++){var U=v.scalefac_band.l[A],u=v.scalefac_band.l[A+1],M=u-U;for(x=0;q<u;q++)x+=E.xr[q]*E.xr[q];x/=M,_=1e15,v.pinfo.en[T][C][A]=_*x,v.pinfo.xfsf[T][C][A]=_*w[A]*N[A]/M,L.en.l[A]>0&&!g.ATHonly?x=x/L.en.l[A]:x=0,v.pinfo.thr[T][C][A]=_*Math.max(x*L.thm.l[A],v.ATH.l[A]),v.pinfo.LAMEsfb[T][C][A]=0,E.preflag!=0&&A>=11&&(v.pinfo.LAMEsfb[T][C][A]=-y*m[A]),A<j.SBPSY_l&&(Li(k[A]>=0),v.pinfo.LAMEsfb[T][C][A]-=y*k[A])}if(E.block_type==j.SHORT_TYPE)for(S=A,A=E.sfb_smin;A<j.SBMAX_s;A++)for(var U=v.scalefac_band.s[A],u=v.scalefac_band.s[A+1],M=u-U,Z=0;Z<3;Z++){for(x=0,b=U;b<u;b++)x+=E.xr[q]*E.xr[q],q++;x=Math.max(x/M,1e-20),_=1e15,v.pinfo.en_s[T][C][3*A+Z]=_*x,v.pinfo.xfsf_s[T][C][3*A+Z]=_*w[S]*N[S]/M,L.en.s[A][Z]>0?x=x/L.en.s[A][Z]:x=0,(g.ATHonly||g.ATHshort)&&(x=0),v.pinfo.thr_s[T][C][3*A+Z]=_*Math.max(x*L.thm.s[A][Z],v.ATH.s[A]),v.pinfo.LAMEsfb_s[T][C][3*A+Z]=-2*E.subblock_gain[Z],A<j.SBPSY_s&&(v.pinfo.LAMEsfb_s[T][C][3*A+Z]-=y*k[S]),S++}v.pinfo.LAMEqss[T][C]=E.global_gain,v.pinfo.LAMEmainbits[T][C]=E.part2_3_length+E.part2_length,v.pinfo.LAMEsfbits[T][C]=E.part2_length,v.pinfo.over[T][C]=X.over_count,v.pinfo.max_noise[T][C]=X.max_noise*10,v.pinfo.over_noise[T][C]=X.over_noise*10,v.pinfo.tot_noise[T][C]=X.tot_noise*10,v.pinfo.over_SSD[T][C]=X.over_SSD}}var r_=Ie.System,i_=Ie.Arrays,ji=Ie.new_int,Es=Ie.assert;function Hi(){var e=null;this.qupvt=null,this.setModules=function(b){this.qupvt=b,e=b};function t(b){this.bits=0|b}var n=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function r(b,x,_,y,k,w){var N=.5946/x;for(b=b>>1;b--!=0;)k[w++]=N>_[y++]?0:1,k[w++]=N>_[y++]?0:1}function o(b,x,_,y,k,w){b=b>>1;var N=b%2;for(b=b>>1;b--!=0;){var X,q,U,u,M,Z,O,me;X=_[y++]*x,q=_[y++]*x,M=0|X,U=_[y++]*x,Z=0|q,u=_[y++]*x,O=0|U,X+=e.adj43[M],me=0|u,q+=e.adj43[Z],k[w++]=0|X,U+=e.adj43[O],k[w++]=0|q,u+=e.adj43[me],k[w++]=0|U,k[w++]=0|u}if(N!=0){var X,q,M,Z;X=_[y++]*x,q=_[y++]*x,M=0|X,Z=0|q,X+=e.adj43[M],q+=e.adj43[Z],k[w++]=0|X,k[w++]=0|q}}function i(b,x,_,y,k){var w,N,X=0,q,U=0,u=0,M=0,Z=x,O=0,me=Z,Me=0,ve=b,ge=0;for(q=k!=null&&y.global_gain==k.global_gain,y.block_type==j.SHORT_TYPE?N=38:N=21,w=0;w<=N;w++){var Ne=-1;if((q||y.block_type==j.NORM_TYPE)&&(Ne=y.global_gain-(y.scalefac[w]+(y.preflag!=0?e.pretab[w]:0)<<y.scalefac_scale+1)-y.subblock_gain[y.window[w]]*8),Es(y.width[w]>=0),q&&k.step[w]==Ne)U!=0&&(o(U,_,ve,ge,me,Me),U=0),u!=0&&(r(u,_,ve,ge,me,Me),u=0);else{var Ce=y.width[w];if(X+y.width[w]>y.max_nonzero_coeff){var he;he=y.max_nonzero_coeff-X+1,i_.fill(x,y.max_nonzero_coeff,576,0),Ce=he,Ce<0&&(Ce=0),w=N+1}if(U==0&&u==0&&(me=Z,Me=O,ve=b,ge=M),k!=null&&k.sfb_count1>0&&w>=k.sfb_count1&&k.step[w]>0&&Ne>=k.step[w]?(U!=0&&(o(U,_,ve,ge,me,Me),U=0,me=Z,Me=O,ve=b,ge=M),u+=Ce):(u!=0&&(r(u,_,ve,ge,me,Me),u=0,me=Z,Me=O,ve=b,ge=M),U+=Ce),Ce<=0){u!=0&&(r(u,_,ve,ge,me,Me),u=0),U!=0&&(o(U,_,ve,ge,me,Me),U=0);break}}w<=N&&(O+=y.width[w],M+=y.width[w],X+=y.width[w])}U!=0&&(o(U,_,ve,ge,me,Me),U=0),u!=0&&(r(u,_,ve,ge,me,Me),u=0)}function a(b,x,_){var y=0,k=0;do{var w=b[x++],N=b[x++];y<w&&(y=w),k<N&&(k=N)}while(x<_);return y<k&&(y=k),y}function l(b,x,_,y,k,w){var N=se.ht[y].xlen*65536+se.ht[k].xlen,X=0,q;do{var U=b[x++],u=b[x++];U!=0&&(U>14&&(U=15,X+=N),U*=16),u!=0&&(u>14&&(u=15,X+=N),U+=u),X+=se.largetbl[U]}while(x<_);return q=X&65535,X>>=16,X>q&&(X=q,y=k),w.bits+=X,y}function d(b,x,_,y){var k=0,w=se.ht[1].hlen;do{var N=b[x+0]*2+b[x+1];x+=2,k+=w[N]}while(x<_);return y.bits+=k,1}function f(b,x,_,y,k){var w=0,N,X=se.ht[y].xlen,q;y==2?q=se.table23:q=se.table56;do{var U=b[x+0]*X+b[x+1];x+=2,w+=q[U]}while(x<_);return N=w&65535,w>>=16,w>N&&(w=N,y++),k.bits+=w,y}function m(b,x,_,y,k){var w=0,N=0,X=0,q=se.ht[y].xlen,U=se.ht[y].hlen,u=se.ht[y+1].hlen,M=se.ht[y+2].hlen;do{var Z=b[x+0]*q+b[x+1];x+=2,w+=U[Z],N+=u[Z],X+=M[Z]}while(x<_);var O=y;return w>N&&(w=N,O++),w>X&&(w=X,O=y+2),k.bits+=w,O}var c=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function p(b,x,_,y){var k=a(b,x,_);switch(k){case 0:return k;case 1:return d(b,x,_,y);case 2:case 3:return f(b,x,_,c[k-1],y);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return m(b,x,_,c[k-1],y);default:if(k>Pt.IXMAX_VAL)return y.bits=Pt.LARGE_BITS,-1;k-=15;var w;for(w=24;w<32&&!(se.ht[w].linmax>=k);w++);var N;for(N=w-8;N<24&&!(se.ht[N].linmax>=k);N++);return l(b,x,_,N,w,y)}}this.noquant_count_bits=function(b,x,_){var y=x.l3_enc,k=Math.min(576,x.max_nonzero_coeff+2>>1<<1);for(_!=null&&(_.sfb_count1=0);k>1&&(y[k-1]|y[k-2])==0;k-=2);x.count1=k;for(var w=0,N=0;k>3;k-=4){var X;if(((y[k-1]|y[k-2]|y[k-3]|y[k-4])&2147483647)>1)break;X=((y[k-4]*2+y[k-3])*2+y[k-2])*2+y[k-1],w+=se.t32l[X],N+=se.t33l[X]}var q=w;if(x.count1table_select=0,w>N&&(q=N,x.count1table_select=1),x.count1bits=q,x.big_values=k,k==0)return q;if(x.block_type==j.SHORT_TYPE)w=3*b.scalefac_band.s[3],w>x.big_values&&(w=x.big_values),N=x.big_values;else if(x.block_type==j.NORM_TYPE){if(w=x.region0_count=b.bv_scf[k-2],N=x.region1_count=b.bv_scf[k-1],N=b.scalefac_band.l[w+N+2],w=b.scalefac_band.l[w+1],N<k){var U=new t(q);x.table_select[2]=p(y,N,k,U),q=U.bits}}else x.region0_count=7,x.region1_count=j.SBMAX_l-1-7-1,w=b.scalefac_band.l[7+1],N=k,w>N&&(w=N);if(w=Math.min(w,k),N=Math.min(N,k),w>0){var U=new t(q);x.table_select[0]=p(y,0,w,U),q=U.bits}if(w<N){var U=new t(q);x.table_select[1]=p(y,w,N,U),q=U.bits}if(b.use_best_huffman==2&&(x.part2_3_length=q,best_huffman_divide(b,x),q=x.part2_3_length),_!=null&&x.block_type==j.NORM_TYPE){for(var u=0;b.scalefac_band.l[u]<x.big_values;)u++;_.sfb_count1=u}return q},this.count_bits=function(b,x,_,y){var k=_.l3_enc,w=Pt.IXMAX_VAL/e.IPOW20(_.global_gain);if(_.xrpow_max>w)return Pt.LARGE_BITS;if(i(x,k,e.IPOW20(_.global_gain),_,y),(b.substep_shaping&2)!=0)for(var N=0,X=_.global_gain+_.scalefac_scale,q=.634521682242439/e.IPOW20(X),U=0;U<_.sfbmax;U++){var u=_.width[U];if(b.pseudohalf[U]==0)N+=u;else{var M;for(M=N,N+=u;M<N;++M)k[M]=x[M]>=q?k[M]:0}}return this.noquant_count_bits(b,_,y)};function h(b,x,_,y,k,w,N){for(var X=x.big_values,q=0;q<=7+15;q++)y[q]=Pt.LARGE_BITS;for(var q=0;q<16;q++){var U=b.scalefac_band.l[q+1];if(U>=X)break;var u=0,M=new t(u),Z=p(_,0,U,M);u=M.bits;for(var O=0;O<8;O++){var me=b.scalefac_band.l[q+O+2];if(me>=X)break;var Me=u;M=new t(Me);var ve=p(_,U,me,M);Me=M.bits,y[q+O]>Me&&(y[q+O]=Me,k[q+O]=q,w[q+O]=Z,N[q+O]=ve)}}}function s(b,x,_,y,k,w,N,X){for(var q=x.big_values,U=2;U<j.SBMAX_l+1;U++){var u=b.scalefac_band.l[U];if(u>=q)break;var M=k[U-2]+x.count1bits;if(_.part2_3_length<=M)break;var Z=new t(M),O=p(y,u,q,Z);M=Z.bits,!(_.part2_3_length<=M)&&(_.assign(x),_.part2_3_length=M,_.region0_count=w[U-2],_.region1_count=U-2-w[U-2],_.table_select[0]=N[U-2],_.table_select[1]=X[U-2],_.table_select[2]=O)}}this.best_huffman_divide=function(b,x){var _=new Po,y=x.l3_enc,k=ji(7+15+1),w=ji(7+15+1),N=ji(7+15+1),X=ji(7+15+1);if(!(x.block_type==j.SHORT_TYPE&&b.mode_gr==1)){_.assign(x),x.block_type==j.NORM_TYPE&&(h(b,x,y,k,w,N,X),s(b,_,x,y,k,w,N,X));var q=_.big_values;if(!(q==0||(y[q-2]|y[q-1])>1)&&(q=x.count1+2,!(q>576))){_.assign(x),_.count1=q;for(var U=0,u=0;q>_.big_values;q-=4){var M=((y[q-4]*2+y[q-3])*2+y[q-2])*2+y[q-1];U+=se.t32l[M],u+=se.t33l[M]}if(_.big_values=q,_.count1table_select=0,U>u&&(U=u,_.count1table_select=1),_.count1bits=U,_.block_type==j.NORM_TYPE)s(b,_,x,y,k,w,N,X);else{if(_.part2_3_length=U,U=b.scalefac_band.l[7+1],U>q&&(U=q),U>0){var Z=new t(_.part2_3_length);_.table_select[0]=p(y,0,U,Z),_.part2_3_length=Z.bits}if(q>U){var Z=new t(_.part2_3_length);_.table_select[1]=p(y,U,q,Z),_.part2_3_length=Z.bits}x.part2_3_length>_.part2_3_length&&x.assign(_)}}}};var I=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],B=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],R=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],g=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];Hi.slen1_tab=R,Hi.slen2_tab=g;function E(b,x){for(var _,y=x.tt[1][b],k=x.tt[0][b],w=0;w<se.scfsi_band.length-1;w++){for(_=se.scfsi_band[w];_<se.scfsi_band[w+1]&&!(k.scalefac[_]!=y.scalefac[_]&&y.scalefac[_]>=0);_++);if(_==se.scfsi_band[w+1]){for(_=se.scfsi_band[w];_<se.scfsi_band[w+1];_++)y.scalefac[_]=-1;x.scfsi[b][w]=1}}var N=0,X=0;for(_=0;_<11;_++)y.scalefac[_]!=-1&&(X++,N<y.scalefac[_]&&(N=y.scalefac[_]));for(var q=0,U=0;_<j.SBPSY_l;_++)y.scalefac[_]!=-1&&(U++,q<y.scalefac[_]&&(q=y.scalefac[_]));for(var w=0;w<16;w++)if(N<I[w]&&q<B[w]){var u=R[w]*X+g[w]*U;y.part2_length>u&&(y.part2_length=u,y.scalefac_compress=w)}}this.best_scalefac_store=function(b,x,_,y){var k=y.tt[x][_],w,N,X,q,U=0;for(X=0,w=0;w<k.sfbmax;w++){var u=k.width[w];for(X+=u,q=-u;q<0&&k.l3_enc[q+X]==0;q++);q==0&&(k.scalefac[w]=U=-2)}if(k.scalefac_scale==0&&k.preflag==0){var M=0;for(w=0;w<k.sfbmax;w++)k.scalefac[w]>0&&(M|=k.scalefac[w]);if((M&1)==0&&M!=0){for(w=0;w<k.sfbmax;w++)k.scalefac[w]>0&&(k.scalefac[w]>>=1);k.scalefac_scale=U=1}}if(k.preflag==0&&k.block_type!=j.SHORT_TYPE&&b.mode_gr==2){for(w=11;w<j.SBPSY_l&&!(k.scalefac[w]<e.pretab[w]&&k.scalefac[w]!=-2);w++);if(w==j.SBPSY_l){for(w=11;w<j.SBPSY_l;w++)k.scalefac[w]>0&&(k.scalefac[w]-=e.pretab[w]);k.preflag=U=1}}for(N=0;N<4;N++)y.scfsi[_][N]=0;for(b.mode_gr==2&&x==1&&y.tt[0][_].block_type!=j.SHORT_TYPE&&y.tt[1][_].block_type!=j.SHORT_TYPE&&(E(_,y),U=0),w=0;w<k.sfbmax;w++)k.scalefac[w]==-2&&(k.scalefac[w]=0);U!=0&&(b.mode_gr==2?this.scale_bitcount(k):this.scale_bitcount_lsf(b,k))};function L(b,x){for(var _=0;_<x;++_)if(b[_]<0)return!1;return!0}var T=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],C=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],v=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(b){var x,_,y=0,k=0,w,N=b.scalefac;if(Es(L(N,b.sfbmax)),b.block_type==j.SHORT_TYPE)w=T,b.mixed_block_flag!=0&&(w=C);else if(w=v,b.preflag==0){for(_=11;_<j.SBPSY_l&&!(N[_]<e.pretab[_]);_++);if(_==j.SBPSY_l)for(b.preflag=1,_=11;_<j.SBPSY_l;_++)N[_]-=e.pretab[_]}for(_=0;_<b.sfbdivide;_++)y<N[_]&&(y=N[_]);for(;_<b.sfbmax;_++)k<N[_]&&(k=N[_]);for(b.part2_length=Pt.LARGE_BITS,x=0;x<16;x++)y<I[x]&&k<B[x]&&b.part2_length>w[x]&&(b.part2_length=w[x],b.scalefac_compress=x);return b.part2_length==Pt.LARGE_BITS};var A=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(b,x){var _,y,k,w,N,X,q,U,u=ji(4),M=x.scalefac;for(x.preflag!=0?_=2:_=0,q=0;q<4;q++)u[q]=0;if(x.block_type==j.SHORT_TYPE){y=1;var Z=e.nr_of_sfb_block[_][y];for(U=0,k=0;k<4;k++)for(w=Z[k]/3,q=0;q<w;q++,U++)for(N=0;N<3;N++)M[U*3+N]>u[k]&&(u[k]=M[U*3+N])}else{y=0;var Z=e.nr_of_sfb_block[_][y];for(U=0,k=0;k<4;k++)for(w=Z[k],q=0;q<w;q++,U++)M[U]>u[k]&&(u[k]=M[U])}for(X=!1,k=0;k<4;k++)u[k]>A[_][k]&&(X=!0);if(!X){var O,me,Me,ve;for(x.sfb_partition_table=e.nr_of_sfb_block[_][y],k=0;k<4;k++)x.slen[k]=S[u[k]];switch(O=x.slen[0],me=x.slen[1],Me=x.slen[2],ve=x.slen[3],_){case 0:x.scalefac_compress=(O*5+me<<4)+(Me<<2)+ve;break;case 1:x.scalefac_compress=400+(O*5+me<<2)+Me;break;case 2:x.scalefac_compress=500+O*3+me;break;default:r_.err.printf(`intensity stereo not implemented yet
`);break}}if(!X)for(Es(x.sfb_partition_table!=null),x.part2_length=0,k=0;k<4;k++)x.part2_length+=x.slen[k]*x.sfb_partition_table[k];return X};var S=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(b){for(var x=2;x<=576;x+=2){for(var _=0,y;b.scalefac_band.l[++_]<x;);for(y=n[_][0];b.scalefac_band.l[y+1]>x;)y--;for(y<0&&(y=n[_][0]),b.bv_scf[x-2]=y,y=n[_][1];b.scalefac_band.l[y+b.bv_scf[x-2]+2]>x;)y--;y<0&&(y=n[_][1]),b.bv_scf[x-1]=y}}}var Hn=Ie.System,o_=Ie.Arrays,a_=Ie.new_byte,s_=Ie.new_float_n,l_=Ie.new_int,Ft=Ie.assert;pn.EQ=function(e,t){return Math.abs(e)>Math.abs(t)?Math.abs(e-t)<=Math.abs(e)*1e-6:Math.abs(e-t)<=Math.abs(t)*1e-6},pn.NEQ=function(e,t){return!pn.EQ(e,t)};function pn(){var e=this,t=32773,n=null,r=null,o=null,i=null;this.setModules=function(A,S,b,x){n=A,r=S,o=b,i=x};var a=null,l=0,d=0,f=0;this.getframebits=function(A){var S=A.internal_flags,b;S.bitrate_index!=0?b=se.bitrate_table[A.version][S.bitrate_index]:b=A.brate;var x=0|(A.version+1)*72e3*b/A.out_samplerate+S.padding;return 8*x};function m(A){Hn.arraycopy(A.header[A.w_ptr].buf,0,a,d,A.sideinfo_len),d+=A.sideinfo_len,l+=A.sideinfo_len*8,A.w_ptr=A.w_ptr+1&ut.MAX_HEADER_BUF-1}function c(A,S,b){for(;b>0;){var x;f==0&&(f=8,d++,Ft(A.header[A.w_ptr].write_timing>=l),A.header[A.w_ptr].write_timing==l&&m(A),a[d]=0),x=Math.min(b,f),b-=x,f-=x,a[d]|=S>>b<<f,l+=x}}function p(A,S,b){for(;b>0;){var x;f==0&&(f=8,d++,a[d]=0),x=Math.min(b,f),b-=x,f-=x,a[d]|=S>>b<<f,l+=x}}function h(A,S){var b=A.internal_flags,x;if(S>=8&&(c(b,76,8),S-=8),S>=8&&(c(b,65,8),S-=8),S>=8&&(c(b,77,8),S-=8),S>=8&&(c(b,69,8),S-=8),S>=32){var _=o.getLameShortVersion();if(S>=32)for(x=0;x<_.length&&S>=8;++x)S-=8,c(b,_.charAt(x),8)}for(;S>=1;S-=1)c(b,b.ancillary_flag,1),b.ancillary_flag^=A.disable_reservoir?0:1}function s(A,S,b){for(var x=A.header[A.h_ptr].ptr;b>0;){var _=Math.min(b,8-(x&7));b-=_,A.header[A.h_ptr].buf[x>>3]|=S>>b<<8-(x&7)-_,x+=_}A.header[A.h_ptr].ptr=x}function I(A,S){A<<=8;for(var b=0;b<8;b++)A<<=1,S<<=1,((S^A)&65536)!=0&&(S^=t);return S}this.CRC_writeheader=function(A,S){var b=65535;b=I(S[2]&255,b),b=I(S[3]&255,b);for(var x=6;x<A.sideinfo_len;x++)b=I(S[x]&255,b);S[4]=byte(b>>8),S[5]=byte(b&255)};function B(A,S){var b=A.internal_flags,x,_,y;if(x=b.l3_side,b.header[b.h_ptr].ptr=0,o_.fill(b.header[b.h_ptr].buf,0,b.sideinfo_len,0),A.out_samplerate<16e3?s(b,4094,12):s(b,4095,12),s(b,A.version,1),s(b,4-3,2),s(b,A.error_protection?0:1,1),s(b,b.bitrate_index,4),s(b,b.samplerate_index,2),s(b,b.padding,1),s(b,A.extension,1),s(b,A.mode.ordinal(),2),s(b,b.mode_ext,2),s(b,A.copyright,1),s(b,A.original,1),s(b,A.emphasis,2),A.error_protection&&s(b,0,16),A.version==1){for(Ft(x.main_data_begin>=0),s(b,x.main_data_begin,9),b.channels_out==2?s(b,x.private_bits,3):s(b,x.private_bits,5),y=0;y<b.channels_out;y++){var k;for(k=0;k<4;k++)s(b,x.scfsi[y][k],1)}for(_=0;_<2;_++)for(y=0;y<b.channels_out;y++){var w=x.tt[_][y];s(b,w.part2_3_length+w.part2_length,12),s(b,w.big_values/2,9),s(b,w.global_gain,8),s(b,w.scalefac_compress,4),w.block_type!=j.NORM_TYPE?(s(b,1,1),s(b,w.block_type,2),s(b,w.mixed_block_flag,1),w.table_select[0]==14&&(w.table_select[0]=16),s(b,w.table_select[0],5),w.table_select[1]==14&&(w.table_select[1]=16),s(b,w.table_select[1],5),s(b,w.subblock_gain[0],3),s(b,w.subblock_gain[1],3),s(b,w.subblock_gain[2],3)):(s(b,0,1),w.table_select[0]==14&&(w.table_select[0]=16),s(b,w.table_select[0],5),w.table_select[1]==14&&(w.table_select[1]=16),s(b,w.table_select[1],5),w.table_select[2]==14&&(w.table_select[2]=16),s(b,w.table_select[2],5),Ft(w.region0_count>=0&&w.region0_count<16),Ft(w.region1_count>=0&&w.region1_count<8),s(b,w.region0_count,4),s(b,w.region1_count,3)),s(b,w.preflag,1),s(b,w.scalefac_scale,1),s(b,w.count1table_select,1)}}else for(Ft(x.main_data_begin>=0),s(b,x.main_data_begin,8),s(b,x.private_bits,b.channels_out),_=0,y=0;y<b.channels_out;y++){var w=x.tt[_][y];s(b,w.part2_3_length+w.part2_length,12),s(b,w.big_values/2,9),s(b,w.global_gain,8),s(b,w.scalefac_compress,9),w.block_type!=j.NORM_TYPE?(s(b,1,1),s(b,w.block_type,2),s(b,w.mixed_block_flag,1),w.table_select[0]==14&&(w.table_select[0]=16),s(b,w.table_select[0],5),w.table_select[1]==14&&(w.table_select[1]=16),s(b,w.table_select[1],5),s(b,w.subblock_gain[0],3),s(b,w.subblock_gain[1],3),s(b,w.subblock_gain[2],3)):(s(b,0,1),w.table_select[0]==14&&(w.table_select[0]=16),s(b,w.table_select[0],5),w.table_select[1]==14&&(w.table_select[1]=16),s(b,w.table_select[1],5),w.table_select[2]==14&&(w.table_select[2]=16),s(b,w.table_select[2],5),Ft(w.region0_count>=0&&w.region0_count<16),Ft(w.region1_count>=0&&w.region1_count<8),s(b,w.region0_count,4),s(b,w.region1_count,3)),s(b,w.scalefac_scale,1),s(b,w.count1table_select,1)}A.error_protection&&CRC_writeheader(b,b.header[b.h_ptr].buf);{var N=b.h_ptr;Ft(b.header[N].ptr==b.sideinfo_len*8),b.h_ptr=N+1&ut.MAX_HEADER_BUF-1,b.header[b.h_ptr].write_timing=b.header[N].write_timing+S,b.h_ptr==b.w_ptr&&Hn.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function R(A,S){var b=se.ht[S.count1table_select+32],x,_=0,y=S.big_values,k=S.big_values;for(Ft(S.count1table_select<2),x=(S.count1-S.big_values)/4;x>0;--x){var w=0,N=0,X;X=S.l3_enc[y+0],X!=0&&(N+=8,S.xr[k+0]<0&&w++),X=S.l3_enc[y+1],X!=0&&(N+=4,w*=2,S.xr[k+1]<0&&w++),X=S.l3_enc[y+2],X!=0&&(N+=2,w*=2,S.xr[k+2]<0&&w++),X=S.l3_enc[y+3],X!=0&&(N++,w*=2,S.xr[k+3]<0&&w++),y+=4,k+=4,c(A,w+b.table[N],b.hlen[N]),_+=b.hlen[N]}return _}function g(A,S,b,x,_){var y=se.ht[S],k=0;if(S==0)return k;for(var w=b;w<x;w+=2){var N=0,X=0,q=y.xlen,U=y.xlen,u=0,M=_.l3_enc[w],Z=_.l3_enc[w+1];if(M!=0&&(_.xr[w]<0&&u++,N--),S>15){if(M>14){var O=M-15;Ft(O<=y.linmax),u|=O<<1,X=q,M=15}if(Z>14){var me=Z-15;Ft(me<=y.linmax),u<<=q,u|=me,X+=q,Z=15}U=16}Z!=0&&(u<<=1,_.xr[w+1]<0&&u++,N--),M=M*U+Z,X-=N,N+=y.hlen[M],c(A,y.table[M],N),c(A,u,X),k+=N+X}return k}function E(A,S){var b=3*A.scalefac_band.s[3];b>S.big_values&&(b=S.big_values);var x=g(A,S.table_select[0],0,b,S);return x+=g(A,S.table_select[1],b,S.big_values,S),x}function L(A,S){var b,x,_,y;b=S.big_values;var k=S.region0_count+1;return Ft(k<A.scalefac_band.l.length),_=A.scalefac_band.l[k],k+=S.region1_count+1,Ft(k<A.scalefac_band.l.length),y=A.scalefac_band.l[k],_>b&&(_=b),y>b&&(y=b),x=g(A,S.table_select[0],0,_,S),x+=g(A,S.table_select[1],_,y,S),x+=g(A,S.table_select[2],y,b,S),x}function T(A){var S,b,x,_,y=0,k=A.internal_flags,w=k.l3_side;if(A.version==1)for(S=0;S<2;S++)for(b=0;b<k.channels_out;b++){var N=w.tt[S][b],X=Hi.slen1_tab[N.scalefac_compress],q=Hi.slen2_tab[N.scalefac_compress];for(_=0,x=0;x<N.sfbdivide;x++)N.scalefac[x]!=-1&&(c(k,N.scalefac[x],X),_+=X);for(;x<N.sfbmax;x++)N.scalefac[x]!=-1&&(c(k,N.scalefac[x],q),_+=q);Ft(_==N.part2_length),N.block_type==j.SHORT_TYPE?_+=E(k,N):_+=L(k,N),_+=R(k,N),Ft(_==N.part2_3_length+N.part2_length),y+=_}else for(S=0,b=0;b<k.channels_out;b++){var N=w.tt[S][b],U,u,M=0;if(Ft(N.sfb_partition_table!=null),_=0,x=0,u=0,N.block_type==j.SHORT_TYPE){for(;u<4;u++){var Z=N.sfb_partition_table[u]/3,O=N.slen[u];for(U=0;U<Z;U++,x++)c(k,Math.max(N.scalefac[x*3+0],0),O),c(k,Math.max(N.scalefac[x*3+1],0),O),c(k,Math.max(N.scalefac[x*3+2],0),O),M+=3*O}_+=E(k,N)}else{for(;u<4;u++){var Z=N.sfb_partition_table[u],O=N.slen[u];for(U=0;U<Z;U++,x++)c(k,Math.max(N.scalefac[x],0),O),M+=O}_+=L(k,N)}_+=R(k,N),Ft(_==N.part2_3_length),Ft(M==N.part2_length),y+=M+_}return y}function C(){this.total=0}function v(A,S){var b=A.internal_flags,x,_,y,k,w;return w=b.w_ptr,k=b.h_ptr-1,k==-1&&(k=ut.MAX_HEADER_BUF-1),x=b.header[k].write_timing-l,S.total=x,x>=0&&(_=1+k-w,k<w&&(_=1+k-w+ut.MAX_HEADER_BUF),x-=_*8*b.sideinfo_len),y=e.getframebits(A),x+=y,S.total+=y,S.total%8!=0?S.total=1+S.total/8:S.total=S.total/8,S.total+=d+1,x<0&&Hn.err.println(`strange error flushing buffer ... 
`),x}this.flush_bitstream=function(A){var S=A.internal_flags,b,x,_=S.h_ptr-1;if(_==-1&&(_=ut.MAX_HEADER_BUF-1),b=S.l3_side,!((x=v(A,new C))<0)){if(h(A,x),Ft(S.header[_].write_timing+this.getframebits(A)==l),S.ResvSize=0,b.main_data_begin=0,S.findReplayGain){var y=n.GetTitleGain(S.rgdata);Ft(NEQ(y,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),S.RadioGain=Math.floor(y*10+.5)|0}S.findPeakSample&&(S.noclipGainChange=Math.ceil(Math.log10(S.PeakSample/32767)*20*10)|0,S.noclipGainChange>0&&(EQ(A.scale,1)||EQ(A.scale,0))?S.noclipScale=Math.floor(32767/S.PeakSample*100)/100:S.noclipScale=-1)}},this.add_dummy_byte=function(A,S,b){for(var x=A.internal_flags,_;b-- >0;)for(p(x,S,8),_=0;_<ut.MAX_HEADER_BUF;++_)x.header[_].write_timing+=8},this.format_bitstream=function(A){var S=A.internal_flags,b;b=S.l3_side;var x=this.getframebits(A);h(A,b.resvDrain_pre),B(A,x);var _=8*S.sideinfo_len;if(_+=T(A),h(A,b.resvDrain_post),_+=b.resvDrain_post,b.main_data_begin+=(x-_)/8,v(A,new C)!=S.ResvSize&&Hn.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),b.main_data_begin*8!=S.ResvSize&&(Hn.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*b.main_data_begin,S.ResvSize,b.resvDrain_post,b.resvDrain_pre,8*S.sideinfo_len,_-b.resvDrain_post-8*S.sideinfo_len,_,_%8,x),Hn.err.println("This is a fatal error.  It has several possible causes:"),Hn.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),Hn.err.println(" 9%%  Your system is overclocked"),Hn.err.println(" 1%%  bug in LAME encoding library"),S.ResvSize=b.main_data_begin*8),l>1e9){var y;for(y=0;y<ut.MAX_HEADER_BUF;++y)S.header[y].write_timing-=l;l=0}return 0},this.copy_buffer=function(A,S,b,x,_){var y=d+1;if(y<=0)return 0;if(x!=0&&y>x)return-1;if(Hn.arraycopy(a,0,S,b,y),d=-1,f=0,_!=0){var k=l_(1);if(k[0]=A.nMusicCRC,i.updateMusicCRC(k,S,b,y),A.nMusicCRC=k[0],y>0&&(A.VBR_seek_table.nBytesWritten+=y),A.decode_on_the_fly){for(var w=s_([2,1152]),N=y,X=-1,q;X!=0;)if(X=r.hip_decode1_unclipped(A.hip,S,b,N,w[0],w[1]),N=0,X==-1&&(X=0),X>0){if(A.findPeakSample){for(q=0;q<X;q++)w[0][q]>A.PeakSample?A.PeakSample=w[0][q]:-w[0][q]>A.PeakSample&&(A.PeakSample=-w[0][q]);if(A.channels_out>1)for(q=0;q<X;q++)w[1][q]>A.PeakSample?A.PeakSample=w[1][q]:-w[1][q]>A.PeakSample&&(A.PeakSample=-w[1][q])}if(A.findReplayGain&&n.AnalyzeSamples(A.rgdata,w[0],0,w[1],0,X,A.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return y},this.init_bit_stream_w=function(A){a=a_($e.LAME_MAXMP3BUFFER),A.h_ptr=A.w_ptr=0,A.header[A.h_ptr].write_timing=0,d=-1,f=0,l=0}}var c_=Ie.System,St=Ie.VbrMode,Ts=Ie.ShortBlock,Or=Ie.new_float,q0=Ie.new_int_n,f_=Ie.new_short_n,fr=Ie.assert;function $e(){var e=this,t=128*1024;$e.V9=410,$e.V8=420,$e.V7=430,$e.V6=440,$e.V5=450,$e.V4=460,$e.V3=470,$e.V2=480,$e.V1=490,$e.V0=500,$e.R3MIX=1e3,$e.STANDARD=1001,$e.EXTREME=1002,$e.INSANE=1003,$e.STANDARD_FAST=1004,$e.EXTREME_FAST=1005,$e.MEDIUM=1006,$e.MEDIUM_FAST=1007;var n=16384+t;$e.LAME_MAXMP3BUFFER=n;var r,o,i,a,l,d=new Ss,f,m,c;this.enc=new j,this.setModules=function(u,M,Z,O,me,Me,ve,ge,Ne){r=u,o=M,i=Z,a=O,l=me,f=Me,m=ge,c=Ne,this.enc.setModules(o,d,a,f)};function p(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=Or(j.SBMAX_l),this.bo_s_weight=Or(j.SBMAX_s)}function h(){this.lowerlimit=0}function s(u,M){this.lowpass=M}var I=4294479419;function B(u){var M;return u.class_id=I,M=u.internal_flags=new ut,u.mode=bt.NOT_SET,u.original=1,u.in_samplerate=44100,u.num_channels=2,u.num_samples=-1,u.bWriteVbrTag=!0,u.quality=-1,u.short_blocks=null,M.subblock_gain=-1,u.lowpassfreq=0,u.highpassfreq=0,u.lowpasswidth=-1,u.highpasswidth=-1,u.VBR=St.vbr_off,u.VBR_q=4,u.ATHcurve=-1,u.VBR_mean_bitrate_kbps=128,u.VBR_min_bitrate_kbps=0,u.VBR_max_bitrate_kbps=0,u.VBR_hard_min=0,M.VBR_min_bitrate=1,M.VBR_max_bitrate=13,u.quant_comp=-1,u.quant_comp_short=-1,u.msfix=-1,M.resample_ratio=1,M.OldValue[0]=180,M.OldValue[1]=180,M.CurrentStep[0]=4,M.CurrentStep[1]=4,M.masking_lower=1,M.nsPsy.attackthre=-1,M.nsPsy.attackthre_s=-1,u.scale=-1,u.athaa_type=-1,u.ATHtype=-1,u.athaa_loudapprox=-1,u.athaa_sensitivity=0,u.useTemporal=null,u.interChRatio=-1,M.mf_samples_to_encode=j.ENCDELAY+j.POSTDELAY,u.encoder_padding=0,M.mf_size=j.ENCDELAY-j.MDCTDELAY,u.findReplayGain=!1,u.decode_on_the_fly=!1,M.decode_on_the_fly=!1,M.findReplayGain=!1,M.findPeakSample=!1,M.RadioGain=0,M.AudiophileGain=0,M.noclipGainChange=0,M.noclipScale=-1,u.preset=0,u.write_id3tag_automatic=!0,0}this.lame_init=function(){var u=new U3;return B(u),u.lame_allocated_gfp=1,u};function R(u){return u>1?0:u<=0?1:Math.cos(Math.PI/2*u)}this.nearestBitrateFullIndex=function(u){var M=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],Z=0,O=0,me=0,Me=0;Me=M[16],me=16,O=M[16],Z=16;for(var ve=0;ve<16;ve++)if(Math.max(u,M[ve+1])!=u){Me=M[ve+1],me=ve+1,O=M[ve],Z=ve;break}return Me-u>u-O?Z:me};function g(u,M){var Z=44100;return M>=48e3?Z=48e3:M>=44100?Z=44100:M>=32e3?Z=32e3:M>=24e3?Z=24e3:M>=22050?Z=22050:M>=16e3?Z=16e3:M>=12e3?Z=12e3:M>=11025?Z=11025:M>=8e3&&(Z=8e3),u==-1?Z:(u<=15960&&(Z=44100),u<=15250&&(Z=32e3),u<=11220&&(Z=24e3),u<=9970&&(Z=22050),u<=7230&&(Z=16e3),u<=5420&&(Z=12e3),u<=4510&&(Z=11025),u<=3970&&(Z=8e3),M<Z?M>44100?48e3:M>32e3?44100:M>24e3?32e3:M>22050?24e3:M>16e3?22050:M>12e3?16e3:M>11025?12e3:M>8e3?11025:8e3:Z)}function E(u,M){switch(u){case 44100:return M.version=1,0;case 48e3:return M.version=1,1;case 32e3:return M.version=1,2;case 22050:return M.version=0,0;case 24e3:return M.version=0,1;case 16e3:return M.version=0,2;case 11025:return M.version=0,0;case 12e3:return M.version=0,1;case 8e3:return M.version=0,2;default:return M.version=0,-1}}function L(u,M,Z){Z<16e3&&(M=2);for(var O=se.bitrate_table[M][1],me=2;me<=14;me++)se.bitrate_table[M][me]>0&&Math.abs(se.bitrate_table[M][me]-u)<Math.abs(O-u)&&(O=se.bitrate_table[M][me]);return O}function T(u,M,Z){Z<16e3&&(M=2);for(var O=0;O<=14;O++)if(se.bitrate_table[M][O]>0&&se.bitrate_table[M][O]==u)return O;return-1}function C(u,M){var Z=[new s(8,2e3),new s(16,3700),new s(24,3900),new s(32,5500),new s(40,7e3),new s(48,7500),new s(56,1e4),new s(64,11e3),new s(80,13500),new s(96,15100),new s(112,15600),new s(128,17e3),new s(160,17500),new s(192,18600),new s(224,19400),new s(256,19700),new s(320,20500)],O=e.nearestBitrateFullIndex(M);u.lowerlimit=Z[O].lowpass}function v(u){var M=u.internal_flags,Z=32,O=-1;if(M.lowpass1>0){for(var me=999,Me=0;Me<=31;Me++){var ve=Me/31;ve>=M.lowpass2&&(Z=Math.min(Z,Me)),M.lowpass1<ve&&ve<M.lowpass2&&(me=Math.min(me,Me))}me==999?M.lowpass1=(Z-.75)/31:M.lowpass1=(me-.75)/31,M.lowpass2=Z/31}if(M.highpass2>0&&M.highpass2<.9*(.75/31)&&(M.highpass1=0,M.highpass2=0,c_.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),M.highpass2>0){for(var ge=-1,Me=0;Me<=31;Me++){var ve=Me/31;ve<=M.highpass1&&(O=Math.max(O,Me)),M.highpass1<ve&&ve<M.highpass2&&(ge=Math.max(ge,Me))}M.highpass1=O/31,ge==-1?M.highpass2=(O+.75)/31:M.highpass2=(ge+.75)/31}for(var Me=0;Me<32;Me++){var Ne,Ce,ve=Me/31;M.highpass2>M.highpass1?Ne=R((M.highpass2-ve)/(M.highpass2-M.highpass1+1e-20)):Ne=1,M.lowpass2>M.lowpass1?Ce=R((ve-M.lowpass1)/(M.lowpass2-M.lowpass1+1e-20)):Ce=1,M.amp_filter[Me]=Ne*Ce}}function A(u){var M=u.internal_flags;switch(u.quality){default:case 9:M.psymodel=0,M.noise_shaping=0,M.noise_shaping_amp=0,M.noise_shaping_stop=0,M.use_best_huffman=0,M.full_outer_loop=0;break;case 8:u.quality=7;case 7:M.psymodel=1,M.noise_shaping=0,M.noise_shaping_amp=0,M.noise_shaping_stop=0,M.use_best_huffman=0,M.full_outer_loop=0;break;case 6:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.noise_shaping_amp=0,M.noise_shaping_stop=0,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=0,M.full_outer_loop=0;break;case 5:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.noise_shaping_amp=0,M.noise_shaping_stop=0,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=0,M.full_outer_loop=0;break;case 4:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.noise_shaping_amp=0,M.noise_shaping_stop=0,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=1,M.full_outer_loop=0;break;case 3:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.noise_shaping_amp=1,M.noise_shaping_stop=1,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=1,M.full_outer_loop=0;break;case 2:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.substep_shaping==0&&(M.substep_shaping=2),M.noise_shaping_amp=1,M.noise_shaping_stop=1,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=1,M.full_outer_loop=0;break;case 1:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.substep_shaping==0&&(M.substep_shaping=2),M.noise_shaping_amp=2,M.noise_shaping_stop=1,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=1,M.full_outer_loop=0;break;case 0:M.psymodel=1,M.noise_shaping==0&&(M.noise_shaping=1),M.substep_shaping==0&&(M.substep_shaping=2),M.noise_shaping_amp=2,M.noise_shaping_stop=1,M.subblock_gain==-1&&(M.subblock_gain=1),M.use_best_huffman=1,M.full_outer_loop=0;break}}function S(u){var M=u.internal_flags;u.frameNum=0,u.write_id3tag_automatic&&m.id3tag_write_v2(u),M.bitrate_stereoMode_Hist=q0([16,4+1]),M.bitrate_blockType_Hist=q0([16,4+1+1]),M.PeakSample=0,u.bWriteVbrTag&&f.InitVbrTag(u)}this.lame_init_params=function(u){var M=u.internal_flags;if(M.Class_ID=0,M.ATH==null&&(M.ATH=new J3),M.PSY==null&&(M.PSY=new p),M.rgdata==null&&(M.rgdata=new $3),M.channels_in=u.num_channels,M.channels_in==1&&(u.mode=bt.MONO),M.channels_out=u.mode==bt.MONO?1:2,M.mode_ext=j.MPG_MD_MS_LR,u.mode==bt.MONO&&(u.force_ms=!1),u.VBR==St.vbr_off&&u.VBR_mean_bitrate_kbps!=128&&u.brate==0&&(u.brate=u.VBR_mean_bitrate_kbps),u.VBR==St.vbr_off||u.VBR==St.vbr_mtrh||u.VBR==St.vbr_mt||(u.free_format=!1),u.VBR==St.vbr_off&&u.brate==0&&pn.EQ(u.compression_ratio,0)&&(u.compression_ratio=11.025),u.VBR==St.vbr_off&&u.compression_ratio>0&&(u.out_samplerate==0&&(u.out_samplerate=map2MP3Frequency(int(.97*u.in_samplerate))),u.brate=0|u.out_samplerate*16*M.channels_out/(1e3*u.compression_ratio),M.samplerate_index=E(u.out_samplerate,u),u.free_format||(u.brate=L(u.brate,u.version,u.out_samplerate))),u.out_samplerate!=0&&(u.out_samplerate<16e3?(u.VBR_mean_bitrate_kbps=Math.max(u.VBR_mean_bitrate_kbps,8),u.VBR_mean_bitrate_kbps=Math.min(u.VBR_mean_bitrate_kbps,64)):u.out_samplerate<32e3?(u.VBR_mean_bitrate_kbps=Math.max(u.VBR_mean_bitrate_kbps,8),u.VBR_mean_bitrate_kbps=Math.min(u.VBR_mean_bitrate_kbps,160)):(u.VBR_mean_bitrate_kbps=Math.max(u.VBR_mean_bitrate_kbps,32),u.VBR_mean_bitrate_kbps=Math.min(u.VBR_mean_bitrate_kbps,320))),u.lowpassfreq==0){var Z=16e3;switch(u.VBR){case St.vbr_off:{var O=new h;C(O,u.brate),Z=O.lowerlimit;break}case St.vbr_abr:{var O=new h;C(O,u.VBR_mean_bitrate_kbps),Z=O.lowerlimit;break}case St.vbr_rh:{var me=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(u.VBR_q>=0&&u.VBR_q<=9){var Me=me[u.VBR_q],ve=me[u.VBR_q+1],ge=u.VBR_q_frac;Z=linear_int(Me,ve,ge)}else Z=19500;break}default:{var me=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(u.VBR_q>=0&&u.VBR_q<=9){var Me=me[u.VBR_q],ve=me[u.VBR_q+1],ge=u.VBR_q_frac;Z=linear_int(Me,ve,ge)}else Z=19500}}u.mode==bt.MONO&&(u.VBR==St.vbr_off||u.VBR==St.vbr_abr)&&(Z*=1.5),u.lowpassfreq=Z|0}if(u.out_samplerate==0&&(2*u.lowpassfreq>u.in_samplerate&&(u.lowpassfreq=u.in_samplerate/2),u.out_samplerate=g(u.lowpassfreq|0,u.in_samplerate)),u.lowpassfreq=Math.min(20500,u.lowpassfreq),u.lowpassfreq=Math.min(u.out_samplerate/2,u.lowpassfreq),u.VBR==St.vbr_off&&(u.compression_ratio=u.out_samplerate*16*M.channels_out/(1e3*u.brate)),u.VBR==St.vbr_abr&&(u.compression_ratio=u.out_samplerate*16*M.channels_out/(1e3*u.VBR_mean_bitrate_kbps)),u.bWriteVbrTag||(u.findReplayGain=!1,u.decode_on_the_fly=!1,M.findPeakSample=!1),M.findReplayGain=u.findReplayGain,M.decode_on_the_fly=u.decode_on_the_fly,M.decode_on_the_fly&&(M.findPeakSample=!0),M.findReplayGain&&r.InitGainAnalysis(M.rgdata,u.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return u.internal_flags=null,-6;switch(M.decode_on_the_fly&&!u.decode_only&&(M.hip!=null&&c.hip_decode_exit(M.hip),M.hip=c.hip_decode_init()),M.mode_gr=u.out_samplerate<=24e3?1:2,u.framesize=576*M.mode_gr,u.encoder_delay=j.ENCDELAY,M.resample_ratio=u.in_samplerate/u.out_samplerate,u.VBR){case St.vbr_mt:case St.vbr_rh:case St.vbr_mtrh:{var Ne=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];u.compression_ratio=Ne[u.VBR_q]}break;case St.vbr_abr:u.compression_ratio=u.out_samplerate*16*M.channels_out/(1e3*u.VBR_mean_bitrate_kbps);break;default:u.compression_ratio=u.out_samplerate*16*M.channels_out/(1e3*u.brate);break}if(u.mode==bt.NOT_SET&&(u.mode=bt.JOINT_STEREO),u.highpassfreq>0?(M.highpass1=2*u.highpassfreq,u.highpasswidth>=0?M.highpass2=2*(u.highpassfreq+u.highpasswidth):M.highpass2=(1+0)*2*u.highpassfreq,M.highpass1/=u.out_samplerate,M.highpass2/=u.out_samplerate):(M.highpass1=0,M.highpass2=0),u.lowpassfreq>0?(M.lowpass2=2*u.lowpassfreq,u.lowpasswidth>=0?(M.lowpass1=2*(u.lowpassfreq-u.lowpasswidth),M.lowpass1<0&&(M.lowpass1=0)):M.lowpass1=(1-0)*2*u.lowpassfreq,M.lowpass1/=u.out_samplerate,M.lowpass2/=u.out_samplerate):(M.lowpass1=0,M.lowpass2=0),v(u),M.samplerate_index=E(u.out_samplerate,u),M.samplerate_index<0)return u.internal_flags=null,-1;if(u.VBR==St.vbr_off){if(u.free_format)M.bitrate_index=0;else if(u.brate=L(u.brate,u.version,u.out_samplerate),M.bitrate_index=T(u.brate,u.version,u.out_samplerate),M.bitrate_index<=0)return u.internal_flags=null,-1}else M.bitrate_index=1;u.analysis&&(u.bWriteVbrTag=!1),M.pinfo!=null&&(u.bWriteVbrTag=!1),o.init_bit_stream_w(M);for(var Ce=M.samplerate_index+3*u.version+6*(u.out_samplerate<16e3?1:0),he=0;he<j.SBMAX_l+1;he++)M.scalefac_band.l[he]=a.sfBandIndex[Ce].l[he];for(var he=0;he<j.PSFB21+1;he++){var Ye=(M.scalefac_band.l[22]-M.scalefac_band.l[21])/j.PSFB21,rt=M.scalefac_band.l[21]+he*Ye;M.scalefac_band.psfb21[he]=rt}M.scalefac_band.psfb21[j.PSFB21]=576;for(var he=0;he<j.SBMAX_s+1;he++)M.scalefac_band.s[he]=a.sfBandIndex[Ce].s[he];for(var he=0;he<j.PSFB12+1;he++){var Ye=(M.scalefac_band.s[13]-M.scalefac_band.s[12])/j.PSFB12,rt=M.scalefac_band.s[12]+he*Ye;M.scalefac_band.psfb12[he]=rt}M.scalefac_band.psfb12[j.PSFB12]=192,u.version==1?M.sideinfo_len=M.channels_out==1?4+17:4+32:M.sideinfo_len=M.channels_out==1?4+9:4+17,u.error_protection&&(M.sideinfo_len+=2),S(u),M.Class_ID=I;{var z;for(z=0;z<19;z++)M.nsPsy.pefirbuf[z]=700*M.mode_gr*M.channels_out;u.ATHtype==-1&&(u.ATHtype=4)}switch(fr(u.VBR_q<=9),fr(u.VBR_q>=0),u.VBR){case St.vbr_mt:u.VBR=St.vbr_mtrh;case St.vbr_mtrh:{u.useTemporal==null&&(u.useTemporal=!1),i.apply_preset(u,500-u.VBR_q*10,0),u.quality<0&&(u.quality=LAME_DEFAULT_QUALITY),u.quality<5&&(u.quality=0),u.quality>5&&(u.quality=5),M.PSY.mask_adjust=u.maskingadjust,M.PSY.mask_adjust_short=u.maskingadjust_short,u.experimentalY?M.sfb21_extra=!1:M.sfb21_extra=u.out_samplerate>44e3,M.iteration_loop=new VBRNewIterationLoop(l);break}case St.vbr_rh:{i.apply_preset(u,500-u.VBR_q*10,0),M.PSY.mask_adjust=u.maskingadjust,M.PSY.mask_adjust_short=u.maskingadjust_short,u.experimentalY?M.sfb21_extra=!1:M.sfb21_extra=u.out_samplerate>44e3,u.quality>6&&(u.quality=6),u.quality<0&&(u.quality=LAME_DEFAULT_QUALITY),M.iteration_loop=new VBROldIterationLoop(l);break}default:{var Y;M.sfb21_extra=!1,u.quality<0&&(u.quality=LAME_DEFAULT_QUALITY),Y=u.VBR,Y==St.vbr_off&&(u.VBR_mean_bitrate_kbps=u.brate),i.apply_preset(u,u.VBR_mean_bitrate_kbps,0),u.VBR=Y,M.PSY.mask_adjust=u.maskingadjust,M.PSY.mask_adjust_short=u.maskingadjust_short,Y==St.vbr_off?M.iteration_loop=new t_(l):M.iteration_loop=new ABRIterationLoop(l);break}}if(fr(u.scale>=0),u.VBR!=St.vbr_off){if(M.VBR_min_bitrate=1,M.VBR_max_bitrate=14,u.out_samplerate<16e3&&(M.VBR_max_bitrate=8),u.VBR_min_bitrate_kbps!=0&&(u.VBR_min_bitrate_kbps=L(u.VBR_min_bitrate_kbps,u.version,u.out_samplerate),M.VBR_min_bitrate=T(u.VBR_min_bitrate_kbps,u.version,u.out_samplerate),M.VBR_min_bitrate<0)||u.VBR_max_bitrate_kbps!=0&&(u.VBR_max_bitrate_kbps=L(u.VBR_max_bitrate_kbps,u.version,u.out_samplerate),M.VBR_max_bitrate=T(u.VBR_max_bitrate_kbps,u.version,u.out_samplerate),M.VBR_max_bitrate<0))return-1;u.VBR_min_bitrate_kbps=se.bitrate_table[u.version][M.VBR_min_bitrate],u.VBR_max_bitrate_kbps=se.bitrate_table[u.version][M.VBR_max_bitrate],u.VBR_mean_bitrate_kbps=Math.min(se.bitrate_table[u.version][M.VBR_max_bitrate],u.VBR_mean_bitrate_kbps),u.VBR_mean_bitrate_kbps=Math.max(se.bitrate_table[u.version][M.VBR_min_bitrate],u.VBR_mean_bitrate_kbps)}return u.tune&&(M.PSY.mask_adjust+=u.tune_value_a,M.PSY.mask_adjust_short+=u.tune_value_a),A(u),fr(u.scale>=0),u.athaa_type<0?M.ATH.useAdjust=3:M.ATH.useAdjust=u.athaa_type,M.ATH.aaSensitivityP=Math.pow(10,u.athaa_sensitivity/-10),u.short_blocks==null&&(u.short_blocks=Ts.short_block_allowed),u.short_blocks==Ts.short_block_allowed&&(u.mode==bt.JOINT_STEREO||u.mode==bt.STEREO)&&(u.short_blocks=Ts.short_block_coupled),u.quant_comp<0&&(u.quant_comp=1),u.quant_comp_short<0&&(u.quant_comp_short=0),u.msfix<0&&(u.msfix=0),u.exp_nspsytune=u.exp_nspsytune|1,u.internal_flags.nsPsy.attackthre<0&&(u.internal_flags.nsPsy.attackthre=Ss.NSATTACKTHRE),u.internal_flags.nsPsy.attackthre_s<0&&(u.internal_flags.nsPsy.attackthre_s=Ss.NSATTACKTHRE_S),fr(u.scale>=0),u.scale<0&&(u.scale=1),u.ATHtype<0&&(u.ATHtype=4),u.ATHcurve<0&&(u.ATHcurve=4),u.athaa_loudapprox<0&&(u.athaa_loudapprox=2),u.interChRatio<0&&(u.interChRatio=0),u.useTemporal==null&&(u.useTemporal=!0),M.slot_lag=M.frac_SpF=0,u.VBR==St.vbr_off&&(M.slot_lag=M.frac_SpF=(u.version+1)*72e3*u.brate%u.out_samplerate|0),a.iteration_init(u),d.psymodel_init(u),fr(u.scale>=0),0};function b(u,M){(u.in_buffer_0==null||u.in_buffer_nsamples<M)&&(u.in_buffer_0=Or(M),u.in_buffer_1=Or(M),u.in_buffer_nsamples=M)}this.lame_encode_flush=function(u,M,Z,O){var me=u.internal_flags,Me=f_([2,1152]),ve=0,ge,Ne,Ce,he,Ye=me.mf_samples_to_encode-j.POSTDELAY,rt=x(u);if(me.mf_samples_to_encode<1)return 0;for(ge=0,u.in_samplerate!=u.out_samplerate&&(Ye+=16*u.out_samplerate/u.in_samplerate),Ce=u.framesize-Ye%u.framesize,Ce<576&&(Ce+=u.framesize),u.encoder_padding=Ce,he=(Ye+Ce)/u.framesize;he>0&&ve>=0;){var z=rt-me.mf_size,Y=u.frameNum;z*=u.in_samplerate,z/=u.out_samplerate,z>1152&&(z=1152),z<1&&(z=1),Ne=O-ge,O==0&&(Ne=0),ve=this.lame_encode_buffer(u,Me[0],Me[1],z,M,Z,Ne),Z+=ve,ge+=ve,he-=Y!=u.frameNum?1:0}if(me.mf_samples_to_encode=0,ve<0||(Ne=O-ge,O==0&&(Ne=0),o.flush_bitstream(u),ve=o.copy_buffer(me,M,Z,Ne,1),ve<0))return ve;if(Z+=ve,ge+=ve,Ne=O-ge,O==0&&(Ne=0),u.write_id3tag_automatic){if(m.id3tag_write_v1(u),ve=o.copy_buffer(me,M,Z,Ne,0),ve<0)return ve;ge+=ve}return ge},this.lame_encode_buffer=function(u,M,Z,O,me,Me,ve){var ge=u.internal_flags,Ne=[null,null];if(ge.Class_ID!=I)return-3;if(O==0)return 0;b(ge,O),Ne[0]=ge.in_buffer_0,Ne[1]=ge.in_buffer_1;for(var Ce=0;Ce<O;Ce++)Ne[0][Ce]=M[Ce],ge.channels_in>1&&(Ne[1][Ce]=Z[Ce]);return _(u,Ne[0],Ne[1],O,me,Me,ve)};function x(u){var M=j.BLKSIZE+u.framesize-j.FFTOFFSET;return M=Math.max(M,512+u.framesize-32),M}function _(u,M,Z,O,me,Me,ve){var ge=u.internal_flags,Ne=0,Ce,he,Ye,rt,z,Y=[null,null],re=[null,null];if(ge.Class_ID!=I)return-3;if(O==0)return 0;if(z=o.copy_buffer(ge,me,Me,ve,0),z<0)return z;if(Me+=z,Ne+=z,re[0]=M,re[1]=Z,pn.NEQ(u.scale,0)&&pn.NEQ(u.scale,1))for(he=0;he<O;++he)re[0][he]*=u.scale,ge.channels_out==2&&(re[1][he]*=u.scale);if(pn.NEQ(u.scale_left,0)&&pn.NEQ(u.scale_left,1))for(he=0;he<O;++he)re[0][he]*=u.scale_left;if(pn.NEQ(u.scale_right,0)&&pn.NEQ(u.scale_right,1))for(he=0;he<O;++he)re[1][he]*=u.scale_right;if(u.num_channels==2&&ge.channels_out==1)for(he=0;he<O;++he)re[0][he]=.5*(re[0][he]+re[1][he]),re[1][he]=0;rt=x(u),Y[0]=ge.mfbuf[0],Y[1]=ge.mfbuf[1];for(var fe=0;O>0;){var de=[null,null],Ae=0,Re=0;de[0]=re[0],de[1]=re[1];var ke=new k;if(U(u,Y,de,fe,O,ke),Ae=ke.n_in,Re=ke.n_out,ge.findReplayGain&&!ge.decode_on_the_fly&&r.AnalyzeSamples(ge.rgdata,Y[0],ge.mf_size,Y[1],ge.mf_size,Re,ge.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(O-=Ae,fe+=Ae,ge.channels_out==2,ge.mf_size+=Re,fr(ge.mf_size<=ut.MFSIZE),ge.mf_samples_to_encode<1&&(ge.mf_samples_to_encode=j.ENCDELAY+j.POSTDELAY),ge.mf_samples_to_encode+=Re,ge.mf_size>=rt){var Ee=ve-Ne;if(ve==0&&(Ee=0),Ce=y(u,Y[0],Y[1],me,Me,Ee),Ce<0)return Ce;for(Me+=Ce,Ne+=Ce,ge.mf_size-=u.framesize,ge.mf_samples_to_encode-=u.framesize,Ye=0;Ye<ge.channels_out;Ye++)for(he=0;he<ge.mf_size;he++)Y[Ye][he]=Y[Ye][he+u.framesize]}}return Ne}function y(u,M,Z,O,me,Me){var ve=e.enc.lame_encode_mp3_frame(u,M,Z,O,me,Me);return u.frameNum++,ve}function k(){this.n_in=0,this.n_out=0}function w(){this.num_used=0}function N(u,M){return M!=0?N(M,u%M):u}function X(u,M,Z){var O=Math.PI*M;u/=Z,u<0&&(u=0),u>1&&(u=1);var me=u-.5,Me=.42-.5*Math.cos(2*u*Math.PI)+.08*Math.cos(4*u*Math.PI);return Math.abs(me)<1e-9?O/Math.PI:Me*Math.sin(Z*O*me)/(Math.PI*Z*me)}function q(u,M,Z,O,me,Me,ve,ge,Ne){var Ce=u.internal_flags,he,Ye=0,rt,z=u.out_samplerate/N(u.out_samplerate,u.in_samplerate);z>ut.BPC&&(z=ut.BPC);var Y=Math.abs(Ce.resample_ratio-Math.floor(.5+Ce.resample_ratio))<1e-4?1:0,re=1/Ce.resample_ratio;re>1&&(re=1);var fe=31;fe%2==0&&--fe,fe+=Y;var de=fe+1;if(Ce.fill_buffer_resample_init==0){for(Ce.inbuf_old[0]=Or(de),Ce.inbuf_old[1]=Or(de),he=0;he<=2*z;++he)Ce.blackfilt[he]=Or(de);for(Ce.itime[0]=0,Ce.itime[1]=0,Ye=0;Ye<=2*z;Ye++){var Ae=0,Re=(Ye-z)/(2*z);for(he=0;he<=fe;he++)Ae+=Ce.blackfilt[Ye][he]=X(he-Re,re,fe);for(he=0;he<=fe;he++)Ce.blackfilt[Ye][he]/=Ae}Ce.fill_buffer_resample_init=1}var ke=Ce.inbuf_old[Ne];for(rt=0;rt<O;rt++){var Ee,_e;if(Ee=rt*Ce.resample_ratio,Ye=0|Math.floor(Ee-Ce.itime[Ne]),fe+Ye-fe/2>=ve)break;var Re=Ee-Ce.itime[Ne]-(Ye+.5*(fe%2));_e=0|Math.floor(Re*2*z+z+.5);var qe=0;for(he=0;he<=fe;++he){var je=0|he+Ye-fe/2,ze;ze=je<0?ke[de+je]:me[Me+je],qe+=ze*Ce.blackfilt[_e][he]}M[Z+rt]=qe}if(ge.num_used=Math.min(ve,fe+Ye-fe/2),Ce.itime[Ne]+=ge.num_used-rt*Ce.resample_ratio,ge.num_used>=de)for(he=0;he<de;he++)ke[he]=me[Me+ge.num_used+he-de];else{var Pe=de-ge.num_used;for(he=0;he<Pe;++he)ke[he]=ke[he+ge.num_used];for(Ye=0;he<de;++he,++Ye)ke[he]=me[Me+Ye];fr(Ye==ge.num_used)}return rt}function U(u,M,Z,O,me,Me){var ve=u.internal_flags;if(ve.resample_ratio<.9999||ve.resample_ratio>1.0001)for(var ge=0;ge<ve.channels_out;ge++){var Ne=new w;Me.n_out=q(u,M[ge],ve.mf_size,u.framesize,Z[ge],O,me,Ne,ge),Me.n_in=Ne.num_used}else{Me.n_out=Math.min(u.framesize,me),Me.n_in=Me.n_out;for(var Ce=0;Ce<Me.n_out;++Ce)M[0][ve.mf_size+Ce]=Z[0][O+Ce],ve.channels_out==2&&(M[1][ve.mf_size+Ce]=Z[1][O+Ce])}}}var Nn=Ie.VbrMode;function u_(){function e(f,m,c,p,h,s,I,B,R,g,E,L,T,C,v){this.vbr_q=f,this.quant_comp=m,this.quant_comp_s=c,this.expY=p,this.st_lrm=h,this.st_s=s,this.masking_adj=I,this.masking_adj_short=B,this.ath_lower=R,this.ath_curve=g,this.ath_sensitivity=E,this.interch=L,this.safejoint=T,this.sfb21mod=C,this.msfix=v}function t(f,m,c,p,h,s,I,B,R,g,E,L,T,C){this.quant_comp=m,this.quant_comp_s=c,this.safejoint=p,this.nsmsfix=h,this.st_lrm=s,this.st_s=I,this.nsbass=B,this.scale=R,this.masking_adj=g,this.ath_lower=E,this.ath_curve=L,this.interch=T,this.sfscale=C}var n;this.setModules=function(f){n=f};var r=[new e(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new e(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new e(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new e(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new e(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new e(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new e(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new e(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new e(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],o=[new e(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new e(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new e(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new e(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new e(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new e(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new e(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new e(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new e(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function i(f,m,c){var p=f.VBR==Nn.vbr_rh?r:o,h=f.VBR_q_frac,s=p[m],I=p[m+1],B=s;s.st_lrm=s.st_lrm+h*(I.st_lrm-s.st_lrm),s.st_s=s.st_s+h*(I.st_s-s.st_s),s.masking_adj=s.masking_adj+h*(I.masking_adj-s.masking_adj),s.masking_adj_short=s.masking_adj_short+h*(I.masking_adj_short-s.masking_adj_short),s.ath_lower=s.ath_lower+h*(I.ath_lower-s.ath_lower),s.ath_curve=s.ath_curve+h*(I.ath_curve-s.ath_curve),s.ath_sensitivity=s.ath_sensitivity+h*(I.ath_sensitivity-s.ath_sensitivity),s.interch=s.interch+h*(I.interch-s.interch),s.msfix=s.msfix+h*(I.msfix-s.msfix),d(f,B.vbr_q),c!=0?f.quant_comp=B.quant_comp:Math.abs(f.quant_comp- -1)>0||(f.quant_comp=B.quant_comp),c!=0?f.quant_comp_short=B.quant_comp_s:Math.abs(f.quant_comp_short- -1)>0||(f.quant_comp_short=B.quant_comp_s),B.expY!=0&&(f.experimentalY=B.expY!=0),c!=0?f.internal_flags.nsPsy.attackthre=B.st_lrm:Math.abs(f.internal_flags.nsPsy.attackthre- -1)>0||(f.internal_flags.nsPsy.attackthre=B.st_lrm),c!=0?f.internal_flags.nsPsy.attackthre_s=B.st_s:Math.abs(f.internal_flags.nsPsy.attackthre_s- -1)>0||(f.internal_flags.nsPsy.attackthre_s=B.st_s),c!=0?f.maskingadjust=B.masking_adj:Math.abs(f.maskingadjust-0)>0||(f.maskingadjust=B.masking_adj),c!=0?f.maskingadjust_short=B.masking_adj_short:Math.abs(f.maskingadjust_short-0)>0||(f.maskingadjust_short=B.masking_adj_short),c!=0?f.ATHlower=-B.ath_lower/10:Math.abs(-f.ATHlower*10-0)>0||(f.ATHlower=-B.ath_lower/10),c!=0?f.ATHcurve=B.ath_curve:Math.abs(f.ATHcurve- -1)>0||(f.ATHcurve=B.ath_curve),c!=0?f.athaa_sensitivity=B.ath_sensitivity:Math.abs(f.athaa_sensitivity- -1)>0||(f.athaa_sensitivity=B.ath_sensitivity),B.interch>0&&(c!=0?f.interChRatio=B.interch:Math.abs(f.interChRatio- -1)>0||(f.interChRatio=B.interch)),B.safejoint>0&&(f.exp_nspsytune=f.exp_nspsytune|B.safejoint),B.sfb21mod>0&&(f.exp_nspsytune=f.exp_nspsytune|B.sfb21mod<<20),c!=0?f.msfix=B.msfix:Math.abs(f.msfix- -1)>0||(f.msfix=B.msfix),c==0&&(f.VBR_q=m,f.VBR_q_frac=h)}var a=[new t(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new t(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new t(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new t(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new t(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new t(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new t(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new t(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new t(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new t(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new t(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new t(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new t(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new t(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new t(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function l(f,m,c){var p=m,h=n.nearestBitrateFullIndex(m);if(f.VBR=Nn.vbr_abr,f.VBR_mean_bitrate_kbps=p,f.VBR_mean_bitrate_kbps=Math.min(f.VBR_mean_bitrate_kbps,320),f.VBR_mean_bitrate_kbps=Math.max(f.VBR_mean_bitrate_kbps,8),f.brate=f.VBR_mean_bitrate_kbps,f.VBR_mean_bitrate_kbps>320&&(f.disable_reservoir=!0),a[h].safejoint>0&&(f.exp_nspsytune=f.exp_nspsytune|2),a[h].sfscale>0&&(f.internal_flags.noise_shaping=2),Math.abs(a[h].nsbass)>0){var s=int(a[h].nsbass*4);s<0&&(s+=64),f.exp_nspsytune=f.exp_nspsytune|s<<2}return c!=0?f.quant_comp=a[h].quant_comp:Math.abs(f.quant_comp- -1)>0||(f.quant_comp=a[h].quant_comp),c!=0?f.quant_comp_short=a[h].quant_comp_s:Math.abs(f.quant_comp_short- -1)>0||(f.quant_comp_short=a[h].quant_comp_s),c!=0?f.msfix=a[h].nsmsfix:Math.abs(f.msfix- -1)>0||(f.msfix=a[h].nsmsfix),c!=0?f.internal_flags.nsPsy.attackthre=a[h].st_lrm:Math.abs(f.internal_flags.nsPsy.attackthre- -1)>0||(f.internal_flags.nsPsy.attackthre=a[h].st_lrm),c!=0?f.internal_flags.nsPsy.attackthre_s=a[h].st_s:Math.abs(f.internal_flags.nsPsy.attackthre_s- -1)>0||(f.internal_flags.nsPsy.attackthre_s=a[h].st_s),c!=0?f.scale=a[h].scale:Math.abs(f.scale- -1)>0||(f.scale=a[h].scale),c!=0?f.maskingadjust=a[h].masking_adj:Math.abs(f.maskingadjust-0)>0||(f.maskingadjust=a[h].masking_adj),a[h].masking_adj>0?c!=0?f.maskingadjust_short=a[h].masking_adj*.9:Math.abs(f.maskingadjust_short-0)>0||(f.maskingadjust_short=a[h].masking_adj*.9):c!=0?f.maskingadjust_short=a[h].masking_adj*1.1:Math.abs(f.maskingadjust_short-0)>0||(f.maskingadjust_short=a[h].masking_adj*1.1),c!=0?f.ATHlower=-a[h].ath_lower/10:Math.abs(-f.ATHlower*10-0)>0||(f.ATHlower=-a[h].ath_lower/10),c!=0?f.ATHcurve=a[h].ath_curve:Math.abs(f.ATHcurve- -1)>0||(f.ATHcurve=a[h].ath_curve),c!=0?f.interChRatio=a[h].interch:Math.abs(f.interChRatio- -1)>0||(f.interChRatio=a[h].interch),m}this.apply_preset=function(f,m,c){switch(m){case $e.R3MIX:{m=$e.V3,f.VBR=Nn.vbr_mtrh;break}case $e.MEDIUM:{m=$e.V4,f.VBR=Nn.vbr_rh;break}case $e.MEDIUM_FAST:{m=$e.V4,f.VBR=Nn.vbr_mtrh;break}case $e.STANDARD:{m=$e.V2,f.VBR=Nn.vbr_rh;break}case $e.STANDARD_FAST:{m=$e.V2,f.VBR=Nn.vbr_mtrh;break}case $e.EXTREME:{m=$e.V0,f.VBR=Nn.vbr_rh;break}case $e.EXTREME_FAST:{m=$e.V0,f.VBR=Nn.vbr_mtrh;break}case $e.INSANE:return m=320,f.preset=m,l(f,m,c),f.VBR=Nn.vbr_off,m}switch(f.preset=m,m){case $e.V9:return i(f,9,c),m;case $e.V8:return i(f,8,c),m;case $e.V7:return i(f,7,c),m;case $e.V6:return i(f,6,c),m;case $e.V5:return i(f,5,c),m;case $e.V4:return i(f,4,c),m;case $e.V3:return i(f,3,c),m;case $e.V2:return i(f,2,c),m;case $e.V1:return i(f,1,c),m;case $e.V0:return i(f,0,c),m}return m>=8&&m<=320?l(f,m,c):(f.preset=0,m)};function d(f,m){var c=0;return m<0&&(c=-1,m=0),m>9&&(c=-1,m=9),f.VBR_q=m,f.VBR_q_frac=0,c}}function d_(){this.setModules=function(e,t){}}function Rs(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var z0=Ie.new_float,b_=Ie.new_int;function m_(){this.global_gain=0,this.sfb_count1=0,this.step=b_(39),this.noise=z0(39),this.noise_log=z0(39)}var ur=Ie.System,P0=Ie.VbrMode,Cs=Ie.Util,ei=Ie.Arrays,Ni=Ie.new_float,Di=Ie.assert;function h_(){var e;this.rv=null;var t;this.qupvt=null;var n,r=new d_,o;this.setModules=function(R,g,E,L){e=R,t=g,this.rv=g,n=E,this.qupvt=E,o=L,r.setModules(n,o)},this.ms_convert=function(R,g){for(var E=0;E<576;++E){var L=R.tt[g][0].xr[E],T=R.tt[g][1].xr[E];R.tt[g][0].xr[E]=(L+T)*(Cs.SQRT2*.5),R.tt[g][1].xr[E]=(L-T)*(Cs.SQRT2*.5)}};function i(R,g,E,L){L=0;for(var T=0;T<=E;++T){var C=Math.abs(R.xr[T]);L+=C,g[T]=Math.sqrt(C*Math.sqrt(C)),g[T]>R.xrpow_max&&(R.xrpow_max=g[T])}return L}this.init_xrpow=function(R,g,E){var L=0,T=0|g.max_nonzero_coeff;if(g.xrpow_max=0,ei.fill(E,T,576,0),L=i(g,E,T,L),L>1e-20){var C=0;(R.substep_shaping&2)!=0&&(C=1);for(var v=0;v<g.psymax;v++)R.pseudohalf[v]=C;return!0}return ei.fill(g.l3_enc,0,576,0),!1};function a(R,g){var E=R.ATH,L=g.xr;if(g.block_type!=j.SHORT_TYPE)for(var T=!1,C=j.PSFB21-1;C>=0&&!T;C--){var v=R.scalefac_band.psfb21[C],A=R.scalefac_band.psfb21[C+1],S=n.athAdjust(E.adjust,E.psfb21[C],E.floor);R.nsPsy.longfact[21]>1e-12&&(S*=R.nsPsy.longfact[21]);for(var b=A-1;b>=v;b--)if(Math.abs(L[b])<S)L[b]=0;else{T=!0;break}}else for(var x=0;x<3;x++)for(var T=!1,C=j.PSFB12-1;C>=0&&!T;C--){var v=R.scalefac_band.s[12]*3+(R.scalefac_band.s[13]-R.scalefac_band.s[12])*x+(R.scalefac_band.psfb12[C]-R.scalefac_band.psfb12[0]),A=v+(R.scalefac_band.psfb12[C+1]-R.scalefac_band.psfb12[C]),_=n.athAdjust(E.adjust,E.psfb12[C],E.floor);R.nsPsy.shortfact[12]>1e-12&&(_*=R.nsPsy.shortfact[12]);for(var b=A-1;b>=v;b--)if(Math.abs(L[b])<_)L[b]=0;else{T=!0;break}}}this.init_outer_loop=function(R,g){g.part2_3_length=0,g.big_values=0,g.count1=0,g.global_gain=210,g.scalefac_compress=0,g.table_select[0]=0,g.table_select[1]=0,g.table_select[2]=0,g.subblock_gain[0]=0,g.subblock_gain[1]=0,g.subblock_gain[2]=0,g.subblock_gain[3]=0,g.region0_count=0,g.region1_count=0,g.preflag=0,g.scalefac_scale=0,g.count1table_select=0,g.part2_length=0,g.sfb_lmax=j.SBPSY_l,g.sfb_smin=j.SBPSY_s,g.psy_lmax=R.sfb21_extra?j.SBMAX_l:j.SBPSY_l,g.psymax=g.psy_lmax,g.sfbmax=g.sfb_lmax,g.sfbdivide=11;for(var E=0;E<j.SBMAX_l;E++)g.width[E]=R.scalefac_band.l[E+1]-R.scalefac_band.l[E],g.window[E]=3;if(g.block_type==j.SHORT_TYPE){var L=Ni(576);g.sfb_smin=0,g.sfb_lmax=0,g.mixed_block_flag!=0&&(g.sfb_smin=3,g.sfb_lmax=R.mode_gr*2+4),g.psymax=g.sfb_lmax+3*((R.sfb21_extra?j.SBMAX_s:j.SBPSY_s)-g.sfb_smin),g.sfbmax=g.sfb_lmax+3*(j.SBPSY_s-g.sfb_smin),g.sfbdivide=g.sfbmax-18,g.psy_lmax=g.sfb_lmax;var T=R.scalefac_band.l[g.sfb_lmax];ur.arraycopy(g.xr,0,L,0,576);for(var E=g.sfb_smin;E<j.SBMAX_s;E++)for(var C=R.scalefac_band.s[E],v=R.scalefac_band.s[E+1],A=0;A<3;A++)for(var S=C;S<v;S++)g.xr[T++]=L[3*S+A];for(var b=g.sfb_lmax,E=g.sfb_smin;E<j.SBMAX_s;E++)g.width[b]=g.width[b+1]=g.width[b+2]=R.scalefac_band.s[E+1]-R.scalefac_band.s[E],g.window[b]=0,g.window[b+1]=1,g.window[b+2]=2,b+=3}g.count1bits=0,g.sfb_partition_table=n.nr_of_sfb_block[0][0],g.slen[0]=0,g.slen[1]=0,g.slen[2]=0,g.slen[3]=0,g.max_nonzero_coeff=575,ei.fill(g.scalefac,0),a(R,g)};function l(R){this.ordinal=R}l.BINSEARCH_NONE=new l(0),l.BINSEARCH_UP=new l(1),l.BINSEARCH_DOWN=new l(2);function d(R,g,E,L,T){var C,v=R.CurrentStep[L],A=!1,S=R.OldValue[L],b=l.BINSEARCH_NONE;for(g.global_gain=S,E-=g.part2_length;;){var x;if(C=o.count_bits(R,T,g,null),v==1||C==E)break;C>E?(b==l.BINSEARCH_DOWN&&(A=!0),A&&(v/=2),b=l.BINSEARCH_UP,x=v):(b==l.BINSEARCH_UP&&(A=!0),A&&(v/=2),b=l.BINSEARCH_DOWN,x=-v),g.global_gain+=x,g.global_gain<0&&(g.global_gain=0,A=!0),g.global_gain>255&&(g.global_gain=255,A=!0)}for(Di(g.global_gain>=0),Di(g.global_gain<256);C>E&&g.global_gain<255;)g.global_gain++,C=o.count_bits(R,T,g,null);return R.CurrentStep[L]=S-g.global_gain>=4?4:2,R.OldValue[L]=g.global_gain,g.part2_3_length=C,C}this.trancate_smallspectrums=function(R,g,E,L){var T=Ni(cr.SFBMAX);if(!((R.substep_shaping&4)==0&&g.block_type==j.SHORT_TYPE||(R.substep_shaping&128)!=0)){n.calc_noise(g,E,T,new Rs,null);for(var v=0;v<576;v++){var C=0;g.l3_enc[v]!=0&&(C=Math.abs(g.xr[v])),L[v]=C}var v=0,A=8;g.block_type==j.SHORT_TYPE&&(A=6);do{var S,b,x,_,y=g.width[A];if(v+=y,!(T[A]>=1)&&(ei.sort(L,v-y,y),!BitStream.EQ(L[v-1],0))){S=(1-T[A])*E[A],b=0,_=0;do{var k;for(x=1;_+x<y&&!BitStream.NEQ(L[_+v-y],L[_+v+x-y]);x++);if(k=L[_+v-y]*L[_+v-y]*x,S<k){_!=0&&(b=L[_+v-y-1]);break}S-=k,_+=x}while(_<y);if(!BitStream.EQ(b,0))do Math.abs(g.xr[v-y])<=b&&(g.l3_enc[v-y]=0);while(--y>0)}}while(++A<g.psymax);g.part2_3_length=o.noquant_count_bits(R,g,null)}};function f(R){for(var g=0;g<R.sfbmax;g++)if(R.scalefac[g]+R.subblock_gain[R.window[g]]==0)return!1;return!0}function m(R){return Cs.FAST_LOG10(.368+.632*R*R*R)}function c(R,g){for(var E=1e-37,L=0;L<g.psymax;L++)E+=m(R[L]);return Math.max(1e-20,E)}function p(R,g,E,L,T){var C;switch(R){default:case 9:{g.over_count>0?(C=E.over_SSD<=g.over_SSD,E.over_SSD==g.over_SSD&&(C=E.bits<g.bits)):C=E.max_noise<0&&E.max_noise*10+E.bits<=g.max_noise*10+g.bits;break}case 0:C=E.over_count<g.over_count||E.over_count==g.over_count&&E.over_noise<g.over_noise||E.over_count==g.over_count&&BitStream.EQ(E.over_noise,g.over_noise)&&E.tot_noise<g.tot_noise;break;case 8:E.max_noise=c(T,L);case 1:C=E.max_noise<g.max_noise;break;case 2:C=E.tot_noise<g.tot_noise;break;case 3:C=E.tot_noise<g.tot_noise&&E.max_noise<g.max_noise;break;case 4:C=E.max_noise<=0&&g.max_noise>.2||E.max_noise<=0&&g.max_noise<0&&g.max_noise>E.max_noise-.2&&E.tot_noise<g.tot_noise||E.max_noise<=0&&g.max_noise>0&&g.max_noise>E.max_noise-.2&&E.tot_noise<g.tot_noise+g.over_noise||E.max_noise>0&&g.max_noise>-.05&&g.max_noise>E.max_noise-.1&&E.tot_noise+E.over_noise<g.tot_noise+g.over_noise||E.max_noise>0&&g.max_noise>-.1&&g.max_noise>E.max_noise-.15&&E.tot_noise+E.over_noise+E.over_noise<g.tot_noise+g.over_noise+g.over_noise;break;case 5:C=E.over_noise<g.over_noise||BitStream.EQ(E.over_noise,g.over_noise)&&E.tot_noise<g.tot_noise;break;case 6:C=E.over_noise<g.over_noise||BitStream.EQ(E.over_noise,g.over_noise)&&(E.max_noise<g.max_noise||BitStream.EQ(E.max_noise,g.max_noise)&&E.tot_noise<=g.tot_noise);break;case 7:C=E.over_count<g.over_count||E.over_noise<g.over_noise;break}return g.over_count==0&&(C=C&&E.bits<g.bits),C}function h(R,g,E,L,T){var C=R.internal_flags,v;g.scalefac_scale==0?v=1.2968395546510096:v=1.6817928305074292;for(var A=0,S=0;S<g.sfbmax;S++)A<E[S]&&(A=E[S]);var b=C.noise_shaping_amp;switch(b==3&&(T?b=2:b=1),b){case 2:break;case 1:A>1?A=Math.pow(A,.5):A*=.95;break;case 0:default:A>1?A=1:A*=.95;break}for(var x=0,S=0;S<g.sfbmax;S++){var _=g.width[S],y;if(x+=_,!(E[S]<A)){if((C.substep_shaping&2)!=0&&(C.pseudohalf[S]=C.pseudohalf[S]==0?1:0,C.pseudohalf[S]==0&&C.noise_shaping_amp==2))return;for(g.scalefac[S]++,y=-_;y<0;y++)L[x+y]*=v,L[x+y]>g.xrpow_max&&(g.xrpow_max=L[x+y]);if(C.noise_shaping_amp==2)return}}}function s(R,g){for(var E=1.2968395546510096,L=0,T=0;T<R.sfbmax;T++){var C=R.width[T],v=R.scalefac[T];if(R.preflag!=0&&(v+=n.pretab[T]),L+=C,(v&1)!=0){v++;for(var A=-C;A<0;A++)g[L+A]*=E,g[L+A]>R.xrpow_max&&(R.xrpow_max=g[L+A])}R.scalefac[T]=v>>1}R.preflag=0,R.scalefac_scale=1}function I(R,g,E){var L,T=g.scalefac;for(L=0;L<g.sfb_lmax;L++)if(T[L]>=16)return!0;for(var C=0;C<3;C++){var v=0,A=0;for(L=g.sfb_lmax+C;L<g.sfbdivide;L+=3)v<T[L]&&(v=T[L]);for(;L<g.sfbmax;L+=3)A<T[L]&&(A=T[L]);if(!(v<16&&A<8)){if(g.subblock_gain[C]>=7)return!0;g.subblock_gain[C]++;var S=R.scalefac_band.l[g.sfb_lmax];for(L=g.sfb_lmax+C;L<g.sfbmax;L+=3){var b,x=g.width[L],_=T[L];if(_=_-(4>>g.scalefac_scale),_>=0){T[L]=_,S+=x*3;continue}T[L]=0;{var y=210+(_<<g.scalefac_scale+1);b=n.IPOW20(y)}S+=x*(C+1);for(var k=-x;k<0;k++)E[S+k]*=b,E[S+k]>g.xrpow_max&&(g.xrpow_max=E[S+k]);S+=x*(3-C-1)}{var b=n.IPOW20(202);S+=g.width[L]*(C+1);for(var k=-g.width[L];k<0;k++)E[S+k]*=b,E[S+k]>g.xrpow_max&&(g.xrpow_max=E[S+k])}}}return!1}function B(R,g,E,L,T){var C=R.internal_flags;h(R,g,E,L,T);var v=f(g);return v?!1:(C.mode_gr==2?v=o.scale_bitcount(g):v=o.scale_bitcount_lsf(C,g),v?(C.noise_shaping>1&&(ei.fill(C.pseudohalf,0),g.scalefac_scale==0?(s(g,L),v=!1):g.block_type==j.SHORT_TYPE&&C.subblock_gain>0&&(v=I(C,g,L)||f(g))),v||(C.mode_gr==2?v=o.scale_bitcount(g):v=o.scale_bitcount_lsf(C,g)),!v):!0)}this.outer_loop=function(R,g,E,L,T,C){var v=R.internal_flags,A=new Po,S=Ni(576),b=Ni(cr.SFBMAX),x=new Rs,_,y=new m_,k=9999999,w=!1,N=!1,X=0;if(d(v,g,C,T,L),v.noise_shaping==0)return 100;n.calc_noise(g,E,b,x,y),x.bits=g.part2_3_length,A.assign(g);var q=0;for(ur.arraycopy(L,0,S,0,576);!w;){do{var U=new Rs,u,M=255;if((v.substep_shaping&2)!=0?u=20:u=3,v.sfb21_extra&&(b[A.sfbmax]>1||A.block_type==j.SHORT_TYPE&&(b[A.sfbmax+1]>1||b[A.sfbmax+2]>1))||!B(R,A,b,L,N))break;A.scalefac_scale!=0&&(M=254);var Z=C-A.part2_length;if(Z<=0)break;for(;(A.part2_3_length=o.count_bits(v,L,A,y))>Z&&A.global_gain<=M;)A.global_gain++;if(A.global_gain>M)break;if(x.over_count==0){for(;(A.part2_3_length=o.count_bits(v,L,A,y))>k&&A.global_gain<=M;)A.global_gain++;if(A.global_gain>M)break}if(n.calc_noise(A,E,b,U,y),U.bits=A.part2_3_length,g.block_type!=j.SHORT_TYPE?_=R.quant_comp:_=R.quant_comp_short,_=p(_,x,U,A,b)?1:0,_!=0)k=g.part2_3_length,x=U,g.assign(A),q=0,ur.arraycopy(L,0,S,0,576);else if(v.full_outer_loop==0&&(++q>u&&x.over_count==0||v.noise_shaping_amp==3&&N&&q>30||v.noise_shaping_amp==3&&N&&A.global_gain-X>15))break}while(A.global_gain+A.scalefac_scale<255);v.noise_shaping_amp==3?N?w=!0:(A.assign(g),ur.arraycopy(S,0,L,0,576),q=0,X=A.global_gain,N=!0):w=!0}return Di(g.global_gain+g.scalefac_scale<=255),R.VBR==P0.vbr_rh||R.VBR==P0.vbr_mtrh?ur.arraycopy(S,0,L,0,576):(v.substep_shaping&1)!=0&&trancate_smallspectrums(v,g,E,L),x.over_count},this.iteration_finish_one=function(R,g,E){var L=R.l3_side,T=L.tt[g][E];o.best_scalefac_store(R,g,E,L),R.use_best_huffman==1&&o.best_huffman_divide(R,T),t.ResvAdjust(R,T)},this.VBR_encode_granule=function(R,g,E,L,T,C,v){var A=R.internal_flags,S=new Po,b=Ni(576),x=v,_=v+1,y=(v+C)/2,k,w,N=0,X=A.sfb21_extra;Di(x<=LameInternalFlags.MAX_BITS_PER_CHANNEL),ei.fill(S.l3_enc,0);do y>x-42?A.sfb21_extra=!1:A.sfb21_extra=X,w=outer_loop(R,g,E,L,T,y),w<=0?(N=1,_=g.part2_3_length,S.assign(g),ur.arraycopy(L,0,b,0,576),v=_-32,k=v-C,y=(v+C)/2):(C=y+32,k=v-C,y=(v+C)/2,N!=0&&(N=2,g.assign(S),ur.arraycopy(b,0,L,0,576)));while(k>12);A.sfb21_extra=X,N==2&&ur.arraycopy(S.l3_enc,0,g.l3_enc,0,576),Di(g.part2_3_length<=x)},this.get_framebits=function(R,g){var E=R.internal_flags;E.bitrate_index=E.VBR_min_bitrate;var L=e.getframebits(R);E.bitrate_index=1,L=e.getframebits(R);for(var T=1;T<=E.VBR_max_bitrate;T++){E.bitrate_index=T;var C=new MeanBits(L);g[T]=t.ResvFrameBegin(R,C),L=C.bits}},this.VBR_old_prepare=function(R,g,E,L,T,C,v,A,S){var b=R.internal_flags,x,_=0,y=1,k=0;b.bitrate_index=b.VBR_max_bitrate;var w=t.ResvFrameBegin(R,new MeanBits(0))/b.mode_gr;get_framebits(R,C);for(var N=0;N<b.mode_gr;N++){var X=n.on_pe(R,g,A[N],w,N,0);b.mode_ext==j.MPG_MD_MS_LR&&(ms_convert(b.l3_side,N),n.reduce_side(A[N],E[N],w,X));for(var q=0;q<b.channels_out;++q){var U=b.l3_side.tt[N][q];U.block_type!=j.SHORT_TYPE?(_=1.28/(1+Math.exp(3.5-g[N][q]/300))-.05,x=b.PSY.mask_adjust-_):(_=2.56/(1+Math.exp(3.5-g[N][q]/300))-.14,x=b.PSY.mask_adjust_short-_),b.masking_lower=Math.pow(10,x*.1),init_outer_loop(b,U),S[N][q]=n.calc_xmin(R,L[N][q],U,T[N][q]),S[N][q]!=0&&(y=0),v[N][q]=126,k+=A[N][q]}}for(var N=0;N<b.mode_gr;N++)for(var q=0;q<b.channels_out;q++)k>C[b.VBR_max_bitrate]&&(A[N][q]*=C[b.VBR_max_bitrate],A[N][q]/=k),v[N][q]>A[N][q]&&(v[N][q]=A[N][q]);return y},this.bitpressure_strategy=function(R,g,E,L){for(var T=0;T<R.mode_gr;T++)for(var C=0;C<R.channels_out;C++){for(var v=R.l3_side.tt[T][C],A=g[T][C],S=0,b=0;b<v.psy_lmax;b++)A[S++]*=1+.029*b*b/j.SBMAX_l/j.SBMAX_l;if(v.block_type==j.SHORT_TYPE)for(var b=v.sfb_smin;b<j.SBMAX_s;b++)A[S++]*=1+.029*b*b/j.SBMAX_s/j.SBMAX_s,A[S++]*=1+.029*b*b/j.SBMAX_s/j.SBMAX_s,A[S++]*=1+.029*b*b/j.SBMAX_s/j.SBMAX_s;L[T][C]=0|Math.max(E[T][C],.9*L[T][C])}},this.VBR_new_prepare=function(R,g,E,L,T,C){var v=R.internal_flags,A=1,S=0,b=0,x;if(R.free_format){v.bitrate_index=0;var _=new MeanBits(S);x=t.ResvFrameBegin(R,_),S=_.bits,T[0]=x}else{v.bitrate_index=v.VBR_max_bitrate;var _=new MeanBits(S);t.ResvFrameBegin(R,_),S=_.bits,get_framebits(R,T),x=T[v.VBR_max_bitrate]}for(var y=0;y<v.mode_gr;y++){n.on_pe(R,g,C[y],S,y,0),v.mode_ext==j.MPG_MD_MS_LR&&ms_convert(v.l3_side,y);for(var k=0;k<v.channels_out;++k){var w=v.l3_side.tt[y][k];v.masking_lower=Math.pow(10,v.PSY.mask_adjust*.1),init_outer_loop(v,w),n.calc_xmin(R,E[y][k],w,L[y][k])!=0&&(A=0),b+=C[y][k]}}for(var y=0;y<v.mode_gr;y++)for(var k=0;k<v.channels_out;k++)b>x&&(C[y][k]*=x,C[y][k]/=b);return A},this.calc_target_bits=function(R,g,E,L,T,C){var v=R.internal_flags,A=v.l3_side,S,b,x,_,y=0;v.bitrate_index=v.VBR_max_bitrate;var k=new MeanBits(y);for(C[0]=t.ResvFrameBegin(R,k),y=k.bits,v.bitrate_index=1,y=e.getframebits(R)-v.sideinfo_len*8,T[0]=y/(v.mode_gr*v.channels_out),y=R.VBR_mean_bitrate_kbps*R.framesize*1e3,(v.substep_shaping&1)!=0&&(y*=1.09),y/=R.out_samplerate,y-=v.sideinfo_len*8,y/=v.mode_gr*v.channels_out,S=.93+.07*(11-R.compression_ratio)/(11-5.5),S<.9&&(S=.9),S>1&&(S=1),b=0;b<v.mode_gr;b++){var w=0;for(x=0;x<v.channels_out;x++){if(L[b][x]=int(S*y),g[b][x]>700){var N=int((g[b][x]-700)/1.4),X=A.tt[b][x];L[b][x]=int(S*y),X.block_type==j.SHORT_TYPE&&N<y/2&&(N=y/2),N>y*3/2?N=y*3/2:N<0&&(N=0),L[b][x]+=N}L[b][x]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(L[b][x]=LameInternalFlags.MAX_BITS_PER_CHANNEL),w+=L[b][x]}if(w>LameInternalFlags.MAX_BITS_PER_GRANULE)for(x=0;x<v.channels_out;++x)L[b][x]*=LameInternalFlags.MAX_BITS_PER_GRANULE,L[b][x]/=w}if(v.mode_ext==j.MPG_MD_MS_LR)for(b=0;b<v.mode_gr;b++)n.reduce_side(L[b],E[b],y*v.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(_=0,b=0;b<v.mode_gr;b++)for(x=0;x<v.channels_out;x++)L[b][x]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(L[b][x]=LameInternalFlags.MAX_BITS_PER_CHANNEL),_+=L[b][x];if(_>C[0])for(b=0;b<v.mode_gr;b++)for(x=0;x<v.channels_out;x++)L[b][x]*=C[0],L[b][x]/=_}}var U0=Ie.assert;function p_(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,n){var r=t.internal_flags,o,i=r.l3_side,a=e.getframebits(t);n.bits=(a-r.sideinfo_len*8)/r.mode_gr;var l=8*256*r.mode_gr-8;t.brate>320?o=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(o=8*1440,t.strict_ISO&&(o=8*int(32e4/(t.out_samplerate/1152)/8+.5))),r.ResvMax=o-a,r.ResvMax>l&&(r.ResvMax=l),(r.ResvMax<0||t.disable_reservoir)&&(r.ResvMax=0);var d=n.bits*r.mode_gr+Math.min(r.ResvSize,r.ResvMax);return d>o&&(d=o),U0(r.ResvMax%8==0),U0(r.ResvMax>=0),i.resvDrain_pre=0,r.pinfo!=null&&(r.pinfo.mean_bits=n.bits/2,r.pinfo.resvsize=r.ResvSize),d},this.ResvMaxBits=function(t,n,r,o){var i=t.internal_flags,a,l=i.ResvSize,d=i.ResvMax;o!=0&&(l+=n),(i.substep_shaping&1)!=0&&(d*=.9),r.bits=n,l*10>d*9?(a=l-d*9/10,r.bits+=a,i.substep_shaping|=128):(a=0,i.substep_shaping&=127,!t.disable_reservoir&&(i.substep_shaping&1)==0&&(r.bits-=.1*n));var f=l<i.ResvMax*6/10?l:i.ResvMax*6/10;return f-=a,f<0&&(f=0),f},this.ResvAdjust=function(t,n){t.ResvSize-=n.part2_3_length+n.part2_length},this.ResvFrameEnd=function(t,n){var r,o=t.l3_side;t.ResvSize+=n*t.mode_gr;var i=0;o.resvDrain_post=0,o.resvDrain_pre=0,(r=t.ResvSize%8)!=0&&(i+=r),r=t.ResvSize-i-t.ResvMax,r>0&&(i+=r);{var a=Math.min(o.main_data_begin*8,i)/8;o.resvDrain_pre+=8*a,i-=8*a,t.ResvSize-=8*a,o.main_data_begin-=a}o.resvDrain_post+=i,t.ResvSize-=i}}function g_(){var e="http://www.mp3dev.org/",t=3,n=98,r=4,o=0,i=93;this.getLameVersion=function(){return t+"."+n+"."+r},this.getLameShortVersion=function(){return t+"."+n+"."+r},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+n+"r"},this.getPsyVersion=function(){return o+"."+i},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}var v_=Ie.System,Is=Ie.VbrMode,V0=Ie.ShortBlock,x_=Ie.Arrays,Ko=Ie.new_byte,y_=Ie.assert;qi.NUMTOCENTRIES=100,qi.MAXFRAMESIZE=2880;function qi(){var e,t,n;this.setModules=function(y,k,w){e=y,t=k,n=w};var r=1,o=2,i=4,a=8,l=qi.NUMTOCENTRIES,d=qi.MAXFRAMESIZE,f=l+4+4+4+4+4,m=f+9+1+1+8+1+1+3+1+1+2+4+2+2,c=128,p=64,h=32,s=null,I="Xing",B="Info",R=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function g(y,k){if(y.nVbrNumFrames++,y.sum+=k,y.seen++,!(y.seen<y.want)&&(y.pos<y.size&&(y.bag[y.pos]=y.sum,y.pos++,y.seen=0),y.pos==y.size)){for(var w=1;w<y.size;w+=2)y.bag[w/2]=y.bag[w];y.want*=2,y.pos/=2}}function E(y,k){if(!(y.pos<=0))for(var w=1;w<l;++w){var N=w/l,X,q,U=0|Math.floor(N*y.pos);U>y.pos-1&&(U=y.pos-1),X=y.bag[U],q=y.sum;var u=0|256*X/q;u>255&&(u=255),k[w]=255&u}}this.addVbrFrame=function(y){var k=y.internal_flags,w=Tables.bitrate_table[y.version][k.bitrate_index];y_(k.VBR_seek_table.bag!=null),g(k.VBR_seek_table,w)};function L(y,k){var w=y[k+0]&255;return w<<=8,w|=y[k+1]&255,w<<=8,w|=y[k+2]&255,w<<=8,w|=y[k+3]&255,w}function T(y,k,w){y[k+0]=255&(w>>24&255),y[k+1]=255&(w>>16&255),y[k+2]=255&(w>>8&255),y[k+3]=255&(w&255)}function C(y,k,w){y[k+0]=255&(w>>8&255),y[k+1]=255&(w&255)}function v(y,k){return new String(y,k,I.length(),s).equals(I)||new String(y,k,B.length(),s).equals(B)}function A(y,k,w){return 255&(y<<k|w&~(-1<<k))}function S(y,k){var w=y.internal_flags;k[0]=A(k[0],8,255),k[1]=A(k[1],3,7),k[1]=A(k[1],1,y.out_samplerate<16e3?0:1),k[1]=A(k[1],1,y.version),k[1]=A(k[1],2,4-3),k[1]=A(k[1],1,y.error_protection?0:1),k[2]=A(k[2],4,w.bitrate_index),k[2]=A(k[2],2,w.samplerate_index),k[2]=A(k[2],1,0),k[2]=A(k[2],1,y.extension),k[3]=A(k[3],2,y.mode.ordinal()),k[3]=A(k[3],2,w.mode_ext),k[3]=A(k[3],1,y.copyright),k[3]=A(k[3],1,y.original),k[3]=A(k[3],2,y.emphasis),k[0]=255;var N=255&(k[1]&241),X;y.version==1?X=c:y.out_samplerate<16e3?X=h:X=p,y.VBR==Is.vbr_off&&(X=y.brate);var q;y.free_format?q=0:q=255&16*e.BitrateIndex(X,y.version,y.out_samplerate),y.version==1?(k[1]=255&(N|10),N=255&(k[2]&13),k[2]=255&(q|N)):(k[1]=255&(N|2),N=255&(k[2]&13),k[2]=255&(q|N))}this.getVbrTag=function(y){var k=new VBRTagData,w=0;k.flags=0;var N=y[w+1]>>3&1,X=y[w+2]>>2&3,q=y[w+3]>>6&3,U=y[w+2]>>4&15;if(U=Tables.bitrate_table[N][U],y[w+1]>>4==14?k.samprate=Tables.samplerate_table[2][X]:k.samprate=Tables.samplerate_table[N][X],N!=0?q!=3?w+=32+4:w+=17+4:q!=3?w+=17+4:w+=9+4,!v(y,w))return null;w+=4,k.hId=N;var u=k.flags=L(y,w);if(w+=4,(u&r)!=0&&(k.frames=L(y,w),w+=4),(u&o)!=0&&(k.bytes=L(y,w),w+=4),(u&i)!=0){if(k.toc!=null)for(var M=0;M<l;M++)k.toc[M]=y[w+M];w+=l}k.vbrScale=-1,(u&a)!=0&&(k.vbrScale=L(y,w),w+=4),k.headersize=(N+1)*72e3*U/k.samprate,w+=21;var Z=y[w+0]<<4;Z+=y[w+1]>>4;var O=(y[w+1]&15)<<8;return O+=y[w+2]&255,(Z<0||Z>3e3)&&(Z=-1),(O<0||O>3e3)&&(O=-1),k.encDelay=Z,k.encPadding=O,k},this.InitVbrTag=function(y){var k=y.internal_flags,w;y.version==1?w=c:y.out_samplerate<16e3?w=h:w=p,y.VBR==Is.vbr_off&&(w=y.brate);var N=(y.version+1)*72e3*w/y.out_samplerate,X=k.sideinfo_len+m;if(k.VBR_seek_table.TotalFrameSize=N,N<X||N>d){y.bWriteVbrTag=!1;return}k.VBR_seek_table.nVbrNumFrames=0,k.VBR_seek_table.nBytesWritten=0,k.VBR_seek_table.sum=0,k.VBR_seek_table.seen=0,k.VBR_seek_table.want=1,k.VBR_seek_table.pos=0,k.VBR_seek_table.bag==null&&(k.VBR_seek_table.bag=new int[400],k.VBR_seek_table.size=400);var q=Ko(d);S(y,q);for(var U=k.VBR_seek_table.TotalFrameSize,u=0;u<U;++u)t.add_dummy_byte(y,q[u]&255,1)};function b(y,k){var w=k^y;return k=k>>8^R[w&255],k}this.updateMusicCRC=function(y,k,w,N){for(var X=0;X<N;++X)y[0]=b(k[w+X],y[0])};function x(y,k,w,N,X){var q=y.internal_flags,U=0,u=y.encoder_delay,M=y.encoder_padding,Z=100-10*y.VBR_q-y.quality,O=n.getLameVeryShortVersion(),me,Me=0,ve,ge=[1,5,3,2,4,0,3],Ne=0|(y.lowpassfreq/100+.5>255?255:y.lowpassfreq/100+.5),Ce=0,he=0,Ye=0,rt=y.internal_flags.noise_shaping,z=0,Y=0,re=0,fe=0,de=0,Ae=(y.exp_nspsytune&1)!=0,Re=(y.exp_nspsytune&2)!=0,ke=!1,Ee=!1,_e=y.internal_flags.nogap_total,qe=y.internal_flags.nogap_current,je=y.ATHtype,ze=0,Pe;switch(y.VBR){case vbr_abr:Pe=y.VBR_mean_bitrate_kbps;break;case vbr_off:Pe=y.brate;break;default:Pe=y.VBR_min_bitrate_kbps}switch(y.VBR.ordinal()<ge.length?me=ge[y.VBR.ordinal()]:me=0,ve=16*Me+me,q.findReplayGain&&(q.RadioGain>510&&(q.RadioGain=510),q.RadioGain<-510&&(q.RadioGain=-510),he=8192,he|=3072,q.RadioGain>=0?he|=q.RadioGain:(he|=512,he|=-q.RadioGain)),q.findPeakSample&&(Ce=Math.abs(0|q.PeakSample/32767*Math.pow(2,23)+.5)),_e!=-1&&(qe>0&&(Ee=!0),qe<_e-1&&(ke=!0)),ze=je+((Ae?1:0)<<4)+((Re?1:0)<<5)+((ke?1:0)<<6)+((Ee?1:0)<<7),Z<0&&(Z=0),y.mode){case MONO:z=0;break;case STEREO:z=1;break;case DUAL_CHANNEL:z=2;break;case JOINT_STEREO:y.force_ms?z=4:z=3;break;case NOT_SET:default:z=7;break}y.in_samplerate<=32e3?re=0:y.in_samplerate==48e3?re=2:y.in_samplerate>48e3?re=3:re=1,(y.short_blocks==V0.short_block_forced||y.short_blocks==V0.short_block_dispensed||y.lowpassfreq==-1&&y.highpassfreq==-1||y.scale_left<y.scale_right||y.scale_left>y.scale_right||y.disable_reservoir&&y.brate<320||y.noATH||y.ATHonly||je==0||y.in_samplerate<=32e3)&&(Y=1),fe=rt+(z<<2)+(Y<<5)+(re<<6),de=q.nMusicCRC,T(w,N+U,Z),U+=4;for(var We=0;We<9;We++)w[N+U+We]=255&O.charAt(We);U+=9,w[N+U]=255&ve,U++,w[N+U]=255&Ne,U++,T(w,N+U,Ce),U+=4,C(w,N+U,he),U+=2,C(w,N+U,Ye),U+=2,w[N+U]=255&ze,U++,Pe>=255?w[N+U]=255:w[N+U]=255&Pe,U++,w[N+U]=255&u>>4,w[N+U+1]=255&(u<<4)+(M>>8),w[N+U+2]=255&M,U+=3,w[N+U]=255&fe,U++,w[N+U++]=0,C(w,N+U,y.preset),U+=2,T(w,N+U,k),U+=4,C(w,N+U,de),U+=2;for(var ue=0;ue<U;ue++)X=b(w[N+ue],X);return C(w,N+U,X),U+=2,U}function _(y){y.seek(0);var k=Ko(10);y.readFully(k);var w;return new String(k,"ISO-8859-1").startsWith("ID3")?w=0:w=((k[6]&127)<<21|(k[7]&127)<<14|(k[8]&127)<<7|k[9]&127)+k.length,w}this.getLameTagFrame=function(y,k){var w=y.internal_flags;if(!y.bWriteVbrTag||w.Class_ID!=Lame.LAME_ID||w.VBR_seek_table.pos<=0)return 0;if(k.length<w.VBR_seek_table.TotalFrameSize)return w.VBR_seek_table.TotalFrameSize;x_.fill(k,0,w.VBR_seek_table.TotalFrameSize,0),S(y,k);var N=Ko(l);if(y.free_format)for(var X=1;X<l;++X)N[X]=255&255*X/100;else E(w.VBR_seek_table,N);var q=w.sideinfo_len;y.error_protection&&(q-=2),y.VBR==Is.vbr_off?(k[q++]=255&B.charAt(0),k[q++]=255&B.charAt(1),k[q++]=255&B.charAt(2),k[q++]=255&B.charAt(3)):(k[q++]=255&I.charAt(0),k[q++]=255&I.charAt(1),k[q++]=255&I.charAt(2),k[q++]=255&I.charAt(3)),T(k,q,r+o+i+a),q+=4,T(k,q,w.VBR_seek_table.nVbrNumFrames),q+=4;var U=w.VBR_seek_table.nBytesWritten+w.VBR_seek_table.TotalFrameSize;T(k,q,0|U),q+=4,v_.arraycopy(N,0,k,q,N.length),q+=N.length,y.error_protection&&t.CRC_writeheader(w,k);for(var u=0,X=0;X<q;X++)u=b(k[X],u);return q+=x(y,U,k,q,u),w.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(y,k){var w=y.internal_flags;if(w.VBR_seek_table.pos<=0||(k.seek(k.length()),k.length()==0))return-1;var N=_(k);k.seek(N);var X=Ko(d),q=getLameTagFrame(y,X);return q>X.length?-1:(q<1||k.write(X,0,q),0)}}var Y0=Ie.new_byte,w_=Ie.assert;function k_(){this.setModules=function(e,t){}}function S_(){this.setModules=function(e,t,n){}}function M_(){}function A_(){this.setModules=function(e,t){}}function E_(e,t,n){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,n=128);var r=new $e,o=new k_,i=new It,a=new pn,l=new u_,d=new Pt,f=new h_,m=new qi,c=new g_,p=new A_,h=new p_,s=new Hi,I=new S_,B=new M_;r.setModules(i,a,l,d,f,m,c,p,B),a.setModules(i,B,c,m),p.setModules(a,c),l.setModules(r),f.setModules(a,h,d,s),d.setModules(s,h,r.enc.psy),h.setModules(a),s.setModules(d),m.setModules(r,a,c),o.setModules(I,B),I.setModules(c,p,l);var R=r.lame_init();R.num_channels=e,R.in_samplerate=t,R.brate=n,R.mode=bt.STEREO,R.quality=3,R.bWriteVbrTag=!1,R.disable_reservoir=!0,R.write_id3tag_automatic=!1,r.lame_init_params(R);var g=1152,E=0|1.25*g+7200,L=Y0(E);this.encodeBuffer=function(T,C){e==1&&(C=T),w_(T.length==C.length),T.length>g&&(g=T.length,E=0|1.25*g+7200,L=Y0(E));var v=r.lame_encode_buffer(R,T,C,T.length,L,0,E);return new Int8Array(L.subarray(0,v))},this.flush=function(){var T=r.lame_encode_flush(R,L,0,E);return new Int8Array(L.subarray(0,T))}}function Go(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}Go("RIFF"),Go("WAVE"),Go("fmt "),Go("data");class T_{constructor(t){this.bitRate=t.bitRate,this.sampleRate=t.sampleRate,this.dataBuffer=[],this.encoder=new E_(1,this.sampleRate,this.bitRate)}encode(t){const r=this._convertBuffer(t);let o=r.length;for(let i=0;o>=0;i+=1152){const a=r.subarray(i,i+1152),l=this.encoder.encodeBuffer(a);this.dataBuffer.push(new Int8Array(l)),o-=1152}}finish(){this.dataBuffer.push(this.encoder.flush());const t=new Blob(this.dataBuffer,{type:"audio/mp3"});return this.dataBuffer=[],{id:Date.now(),blob:t,url:URL.createObjectURL(t)}}_floatTo16BitPCM(t,n){for(let r=0;r<t.length;r++){const o=Math.max(-1,Math.min(1,t[r]));n[r]=o<0?o*32768:o*32767}}_convertBuffer(t){const n=new Float32Array(t),r=new Int16Array(t.length);return this._floatTo16BitPCM(n,r),r}}class R_{constructor(t={}){this.beforeRecording=t.beforeRecording,this.pauseRecording=t.pauseRecording,this.afterRecording=t.afterRecording,this.micFailed=t.micFailed,this.encoderOptions={bitRate:t.bitRate,sampleRate:t.sampleRate},this.bufferSize=4096,this.records=[],this.isPause=!1,this.isRecording=!1,this.duration=0,this.volume=0,this._duration=0}start(){const t={video:!1,audio:{channelCount:1,echoCancellation:!1}};this.beforeRecording&&this.beforeRecording("start recording"),navigator.mediaDevices.getUserMedia(t).then(this._micCaptured.bind(this)).catch(this._micError.bind(this)),this.isPause=!1,this.isRecording=!0,this.lameEncoder||(this.lameEncoder=new T_(this.encoderOptions))}stop(){this.stream.getTracks().forEach(n=>n.stop()),this.input.disconnect(),this.processor.disconnect(),this.context.close();let t=null;t=this.lameEncoder.finish(),t.duration=this.duration,this.records.push(t),this._duration=0,this.duration=0,this.isPause=!1,this.isRecording=!1,this.afterRecording&&this.afterRecording(t)}pause(){this.stream.getTracks().forEach(t=>t.stop()),this.input.disconnect(),this.processor.disconnect(),this._duration=this.duration,this.isPause=!0,this.pauseRecording&&this.pauseRecording("pause recording")}_micCaptured(t){this.context=new(window.AudioContext||window.webkitAudioContext),this.duration=this._duration,this.input=this.context.createMediaStreamSource(t),this.processor=this.context.createScriptProcessor(this.bufferSize,1,1),this.stream=t,this.processor.onaudioprocess=n=>{const r=n.inputBuffer.getChannelData(0);let o=0;this.lameEncoder&&this.lameEncoder.encode(r);for(let i=0;i<r.length;++i)o+=r[i]*r[i];this.duration=parseFloat(this._duration)+parseFloat(this.context.currentTime.toFixed(2)),this.volume=Math.sqrt(o/r.length).toFixed(2)},this.input.connect(this.processor),this.processor.connect(this.context.destination)}_micError(t){this.micFailed&&this.micFailed(t)}}var X0=window.chrome,Bs=window.navigator,C_=Bs.vendor,I_=typeof window.opr!="undefined",B_=Bs.userAgent.indexOf("Edg")>-1,O_=Bs.userAgent.match("CriOS");function F_(){return O_?!0:X0!==null&&typeof X0!="undefined"&&C_==="Google Inc."&&I_===!1&&B_===!1}function K0(){var e=L_(),t=e.substr(0,4);return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw(n|u)|c55\/|capi|ccwa|cdm|cell|chtm|cldc|cmd|co(mp|nd)|craw|da(it|ll|ng)|dbte|dcs|devi|dica|dmob|do(c|p)o|ds(12|d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(|_)|g1 u|g560|gene|gf5|gmo|go(\.w|od)|gr(ad|un)|haie|hcit|hd(m|p|t)|hei|hi(pt|ta)|hp( i|ip)|hsc|ht(c(| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i(20|go|ma)|i230|iac( ||\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|[a-w])|libw|lynx|m1w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|mcr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|([1-8]|c))|phil|pire|pl(ay|uc)|pn2|po(ck|rt|se)|prox|psio|ptg|qaa|qc(07|12|21|32|60|[2-7]|i)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h|oo|p)|sdk\/|se(c(|0|1)|47|mc|nd|ri)|sgh|shar|sie(|m)|sk0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h|v|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl|tdg|tel(i|m)|tim|tmo|to(pl|sh)|ts(70|m|m3|m5)|tx9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas|your|zeto|zte/i.test(t)}function L_(){var e=navigator.userAgent||navigator.vendor||window.opera||null;if(!e)throw new Error("Failed to look for user agent information.");return e}const G0="SOURCE_USER_FILE_SYSTEM",j_="SOURCE_OPTIWORK_DRIVE",H_={name:"RoomFooter",components:{SvgIcon:jt,EmojiPickerContainer:v0,RoomFiles:Rv,RoomMessageReply:$v,RoomUsersTag:a3,RoomEmojis:u3,RoomTemplatesText:T3,RoomAttachmentPicker:x3},directives:{clickOutside:ki},props:{room:{type:Object,required:!0},roomId:{type:[String,Number],required:!0},roomMessage:{type:String,default:null},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},textMessages:{type:Object,required:!0},showSendIcon:{type:Boolean,required:!0},showFiles:{type:Boolean,required:!0},showAudio:{type:Boolean,required:!0},showEmojis:{type:Boolean,required:!0},showFooter:{type:Boolean,required:!0},acceptedFiles:{type:String,required:!0},captureFiles:{type:String,required:!0},textareaActionEnabled:{type:Boolean,required:!0},textareaAutoFocus:{type:Boolean,required:!0},userTagsEnabled:{type:Boolean,required:!0},emojisSuggestionEnabled:{type:Boolean,required:!0},templatesText:{type:Array,default:null},audioBitRate:{type:Number,required:!0},audioSampleRate:{type:Number,required:!0},initReplyMessage:{type:Object,default:null},initEditMessage:{type:Object,default:null},droppedFiles:{type:Array,default:null},emojiDataSource:{type:String,default:void 0},attachmentOptions:{type:Array,required:!0},currentUserId:{type:String,default:""},textareaHighlight:{type:Boolean,default:!1},externalFiles:{type:Array,default:[]},allowSendingExternalFiles:{type:Boolean,default:null}},emits:["edit-message","send-message","update-edited-message-id","textarea-action-handler","typing-message","attachment-picker-handler","request-permission-to-send-external-files","external-files-removed","new-draft-message"],data(){return{message:"",editedMessage:{},messageReply:null,cursorRangePosition:null,files:[],fileDialog:!1,selectUsersTagItem:null,selectEmojiItem:null,selectTemplatesTextItem:null,format:"mp3",activeUpOrDownEmojis:null,activeUpOrDownUsersTag:null,activeUpOrDownTemplatesText:null,emojisDB:new zf({dataSource:this.emojiDataSource}),emojiOpened:!1,keepKeyboardOpen:!1,filteredEmojis:[],filteredUsersTag:[],selectedUsersTag:[],filteredTemplatesText:[],recorder:this.initRecorder(),isRecording:!1}},computed:{isMessageEmpty(){return!this.files.length&&!this.message.trim()},isFileLoading(){return this.files.some(e=>e.loading)},recordedTime(){return new Date(this.recorder.duration*1e3).toISOString().substr(14,5)},shadowFooter(){return!!this.filteredEmojis.length||!!this.filteredUsersTag.length||!!this.filteredTemplatesText.length||!!this.files.length||!!this.messageReply}},watch:{roomId(e,t){this.$emit("new-draft-message",{roomId:t,content:this.message}),this.resetMessage(!0,!0),(this.roomMessage||this.room.draftMessage)&&(this.message=this.roomMessage||this.room.draftMessage,setTimeout(()=>this.onChangeInput(!1)))},message(e){this.getTextareaRef().value=e},roomMessage:{immediate:!0,handler(e){e&&(this.message=this.roomMessage)}},editedMessage(e){this.$emit("update-edited-message-id",e._id)},initReplyMessage(e){e&&this.replyMessage(e)},initEditMessage(e){e&&this.editMessage(e)},droppedFiles(e){e&&this.onFileChange(e)},externalFiles(e){if(e.length){this.files=this.mergeFiles(this.files,e);return}},allowSendingExternalFiles(e){if(e=="true"){this.sendMessage();return}if(e=="false"){this.resetMessage();return}}},mounted(){const e=K0();let t=!0;this.getTextareaRef().addEventListener("keyup",n=>{n.key==="Enter"&&!n.shiftKey&&!this.fileDialog&&(e?(this.message=this.message+`
`,setTimeout(()=>this.onChangeInput())):t&&!this.filteredEmojis.length&&!this.filteredUsersTag.length&&!this.filteredTemplatesText.length&&this.sendMessage()),t=!n.isComposing,setTimeout(()=>{this.updateFooterLists()},60)}),this.getTextareaRef().addEventListener("click",()=>{e&&(this.keepKeyboardOpen=!0),this.updateFooterLists()}),this.getTextareaRef().addEventListener("blur",()=>{setTimeout(()=>{this.resetFooterList()},100),e&&setTimeout(()=>this.keepKeyboardOpen=!1)})},beforeUnmount(){this.stopRecorder()},methods:{mergeFiles(e,t){const n=t.filter(r=>!e.some(o=>o.id===r.id));return[...e,...n]},getTextareaRef(){return this.$refs.roomTextarea},focusTextarea(e){K0()&&e||!this.getTextareaRef()||(this.getTextareaRef().focus(),this.cursorRangePosition&&setTimeout(()=>{const t=F_()?0:1;this.getTextareaRef().setSelectionRange(this.cursorRangePosition+t,this.cursorRangePosition+t),this.cursorRangePosition=null}))},onChangeInput(e=!0){var t,n,r;(((t=this.getTextareaRef())==null?void 0:t.value)||((n=this.getTextareaRef())==null?void 0:n.value)==="")&&(this.message=(r=this.getTextareaRef())==null?void 0:r.value),this.keepKeyboardOpen=!0,this.resizeTextarea(),e&&this.$emit("typing-message",this.message)},resizeTextarea(){const e=this.getTextareaRef();if(!e)return;const t=window.getComputedStyle(e,null).getPropertyValue("padding-top").replace("px","");e.style.height=0,e.style.height=e.scrollHeight-t*2+"px"},escapeTextarea(){this.filteredEmojis.length?this.filteredEmojis=[]:this.filteredUsersTag.length?this.filteredUsersTag=[]:this.filteredTemplatesText.length?this.filteredTemplatesText=[]:this.resetMessage(),this.$emit("attachment-picker-handler",{cancel:!0})},onPasteImage(e){var n;const t=(n=e.clipboardData)==null?void 0:n.items;t&&Array.from(t).forEach(r=>{if(r.type.includes("image")){const o=r.getAsFile();this.onFileChange([o])}})},updateActiveUpOrDown(e,t){this.filteredEmojis.length?(this.activeUpOrDownEmojis=t,e.preventDefault()):this.filteredUsersTag.length?(this.activeUpOrDownUsersTag=t,e.preventDefault()):this.filteredTemplatesText.length&&(this.activeUpOrDownTemplatesText=t,e.preventDefault())},onCtrlIKeydown(){const e=this.attachmentOptions.find(t=>t.command==="ai");this.$emit("attachment-picker-handler",e)},selectItem(){this.filteredEmojis.length?this.selectEmojiItem=!0:this.filteredUsersTag.length?this.selectUsersTagItem=!0:this.filteredTemplatesText.length&&(this.selectTemplatesTextItem=!0)},selectEmoji(e){if(this.selectEmojiItem=!1,!e)return;const{position:t,endPosition:n}=this.getCharPosition(":");this.message=this.message.substr(0,t-1)+e+this.message.substr(n,this.message.length-1),this.cursorRangePosition=t,this.focusTextarea()},selectTemplateText(e){if(this.selectTemplatesTextItem=!1,!e)return;const{position:t,endPosition:n}=this.getCharPosition("/"),r=this.message.substr(n,n).length?"":" ";this.message=this.message.substr(0,t-1)+e.text+r+this.message.substr(n,this.message.length-1),this.cursorRangePosition=t+e.text.length+r.length+1,this.focusTextarea()},addEmoji(e){this.message+=e.unicode,this.focusTextarea(!0)},launchFilePicker(){this.$refs.file.value="",this.$refs.file.click()},attachmentPickerHandler(e){var t,n;if(e.command){this.$emit("attachment-picker-handler",e);return}this.$refs.file.accept=(t=e.accepts)!=null?t:this.acceptedFiles,e.capture||this.captureFiles?this.$refs.file.capture=(n=e.capture)!=null?n:this.captureFiles:this.$refs.file.removeAttribute("capture"),e.launchFilePicker&&this.launchFilePicker(),this.$emit("attachment-picker-handler",e)},async onFileChange(e){this.fileDialog=!0,this.focusTextarea();for(const t of Array.from(e)){const n=URL.createObjectURL(t),r=t.name.lastIndexOf("."),o=t!=null&&t.type.length?t.type:"text/plain",i=r!==-1;this.files.push({loading:!0,name:i?t.name.substring(0,r):t.name,size:t.size,type:o,extension:i?t.name.substring(r+1):"",localUrl:n,source:G0});const a=await fetch(n).then(d=>d.blob());let l=this.files.find(d=>d.localUrl===n);l&&(l.blob=a,l.loading=!1,delete l.loading)}setTimeout(()=>this.fileDialog=!1,500)},removeFile(e){const t=this.files[e];this.files.splice(e,1),this.focusTextarea(),t.source===j_&&this.$emit("external-files-removed",[t])},toggleRecorder(e){if(this.isRecording=e,!this.recorder.isRecording)setTimeout(()=>this.recorder.start(),200);else try{this.recorder.stop();const t=this.recorder.records[0];this.files.push({blob:t.blob,name:`audio.${this.format}`,size:t.blob.size,duration:t.duration,type:t.blob.type,audio:!0,localUrl:URL.createObjectURL(t.blob),source:G0}),this.recorder=this.initRecorder(),this.sendMessage()}catch{setTimeout(()=>this.stopRecorder(),100)}},stopRecorder(){if(this.recorder.isRecording)try{this.recorder.stop(),this.recorder=this.initRecorder()}catch{setTimeout(()=>this.stopRecorder(),100)}},textareaActionHandler(){this.$emit("textarea-action-handler",this.message)},sendMessage(){var i;const e=this.allowSendingExternalFiles===null,t=this.externalFiles.length>0;if(t&&e){this.$emit("request-permission-to-send-external-files",{...this.room});return}const n=this.allowSendingExternalFiles===!1;if(t&&n){this.resetMessage();return}let r=this.message.trim();if(!this.files.length&&!r||this.isFileLoading)return;this.selectedUsersTag.forEach(a=>{r=r.replace(`@${a.username}`,`<usertag>${a._id}</usertag>`)});const o=this.files.length?this.files:null;this.editedMessage._id?(this.editedMessage.content!==r||((i=this.editedMessage.files)==null?void 0:i.length)||this.files.length)&&this.$emit("edit-message",{messageId:this.editedMessage._id,newContent:r,files:o,replyMessage:this.messageReply,usersTag:this.selectedUsersTag}):this.$emit("send-message",{content:r,files:o,replyMessage:this.messageReply,usersTag:this.selectedUsersTag}),this.$emit("attachment-picker-handler",{cancel:!0}),this.resetMessage(!0)},editMessage(e){this.resetMessage(),this.editedMessage={...e};let t=e.content;const n=t,r="<usertag>",o="</usertag>";[...t.matchAll(new RegExp(r,"gi"))].map(a=>a.index).forEach(a=>{const l=n.substring(a+r.length,n.indexOf(o,a)),d=this.room.users.find(f=>f._id===l);t=t.replace(`${r}${l}${o}`,`@${(d==null?void 0:d.username)||"unknown"}`),this.selectUserTag(d,!0)}),this.message=t,e.files&&(this.files=[...e.files]),setTimeout(()=>this.resizeTextarea())},replyMessage(e){this.editedMessage={},this.messageReply=e,this.focusTextarea()},updateFooterLists(){this.updateFooterList("@"),this.updateFooterList(":"),this.updateFooterList("/")},updateFooterList(e){if(!this.getTextareaRef()||e===":"&&!this.emojisSuggestionEnabled||e==="@"&&(!this.userTagsEnabled||!this.room.users)||e==="/"&&!this.templatesText)return;const t=this.getTextareaRef().selectionStart;let n=t;for(;n>0&&this.message.charAt(n-1)!==e&&(this.message.charAt(n-1)!==" "||e!==":");)n--;const r=this.message.charAt(n-2),o=!r.match(/^[0-9a-zA-Z]+$/);if(this.message.charAt(n-1)===e&&(!r||r===" "||o)){const i=this.message.substring(n,t);e===":"?this.updateEmojis(i):e==="@"?this.updateShowUsersTag(i):e==="/"&&this.updateShowTemplatesText(i)}else this.resetFooterList(e)},updateShowUsersTag(e){this.filteredUsersTag=os(this.room.users,"username",e,!0).filter(t=>t._id!==this.currentUserId&&t.isInRoom)},selectUserTag(e,t=!1){if(this.selectUsersTagItem=!1,!e)return;const{position:n,endPosition:r}=this.getCharPosition("@"),o=this.message.substr(r,r).length?"":" ";this.message=this.message.substr(0,n)+e.username+o+this.message.substr(r,this.message.length-1),this.selectedUsersTag=[...this.selectedUsersTag,{...e}],t||(this.cursorRangePosition=n+e.username.length+o.length+1),this.focusTextarea()},updateShowTemplatesText(e){this.filteredTemplatesText=os(this.templatesText,"tag",e,!0)},getCharPosition(e){let n=this.getTextareaRef().selectionStart;for(;n>0&&this.message.charAt(n-1)!==e;)n--;const r=this.getTextareaRef().selectionEnd;return{position:n,endPosition:r}},async updateEmojis(e){if(!e)return;const t=await this.emojisDB.getEmojiBySearchQuery(e);this.filteredEmojis=t.map(n=>n.unicode)},resetFooterList(e=null){e===":"?this.filteredEmojis=[]:e==="@"?this.filteredUsersTag=[]:e==="/"?this.filteredTemplatesText=[]:(this.filteredEmojis=[],this.filteredUsersTag=[],this.filteredTemplatesText=[])},resetMessage(e=!1,t=!1){t||this.$emit("typing-message",null),this.selectedUsersTag=[],this.resetFooterList(),this.resetTextareaSize(),this.message="",this.editedMessage={},this.messageReply=null,this.files=[],this.emojiOpened=!1,this.preventKeyboardFromClosing(),this.$emit("external-files-removed",this.externalFiles),(this.textareaAutoFocus||!t)&&setTimeout(()=>this.focusTextarea(e))},resetTextareaSize(){this.getTextareaRef()&&(this.getTextareaRef().style.height="20px")},preventKeyboardFromClosing(){this.keepKeyboardOpen&&this.getTextareaRef().focus()},initRecorder(){return this.isRecording=!1,new R_({bitRate:Number(this.audioBitRate),sampleRate:Number(this.audioSampleRate),beforeRecording:null,afterRecording:null,pauseRecording:null,micFailed:this.micFailed})},micFailed(){this.isRecording=!1,this.recorder=this.initRecorder()}}},N_={key:0,class:"vac-icon-textarea-left"},D_={key:1,class:"vac-icon-textarea-left"},q_={key:2,class:"vac-icon-textarea-highlitght"},z_=[oe("i",{class:"bi bi-magic"},null,-1)],P_={key:3,class:"vac-audio-recorder-container"},U_=oe("div",{class:"vac-dot-audio-record"},null,-1),V_={class:"vac-dot-audio-record-time"},Y_=["placeholder"],X_={key:5,class:"vac-icon-textarea"},K_={key:1,class:"vac-emoji-picker"},G_=["accept","capture"],W_={key:4};function Z_(e,t,n,r,o,i){const a=Ke("room-emojis"),l=Ke("room-users-tag"),d=Ke("room-templates-text"),f=Ke("room-message-reply"),m=Ke("room-files"),c=Ke("room-attachment-picker"),p=Ke("svg-icon"),h=Ke("emoji-picker-container"),s=di("click-outside");return Rn((K(),J("div",{id:"room-footer",class:Qe(["vac-room-footer",{"vac-app-box-shadow":i.shadowFooter,"vac-room-footer-highlight":n.textareaHighlight}])},[Be(a,{"filtered-emojis":o.filteredEmojis,"select-item":o.selectEmojiItem,"active-up-or-down":o.activeUpOrDownEmojis,onSelectEmoji:t[0]||(t[0]=I=>i.selectEmoji(I)),onActivateItem:t[1]||(t[1]=I=>o.activeUpOrDownEmojis=0)},null,8,["filtered-emojis","select-item","active-up-or-down"]),Be(l,{"filtered-users-tag":o.filteredUsersTag,"select-item":o.selectUsersTagItem,"active-up-or-down":o.activeUpOrDownUsersTag,onSelectUserTag:t[2]||(t[2]=I=>i.selectUserTag(I)),onActivateItem:t[3]||(t[3]=I=>o.activeUpOrDownUsersTag=0)},null,8,["filtered-users-tag","select-item","active-up-or-down"]),Be(d,{"filtered-templates-text":o.filteredTemplatesText,"select-item":o.selectTemplatesTextItem,"active-up-or-down":o.activeUpOrDownTemplatesText,onSelectTemplateText:t[4]||(t[4]=I=>i.selectTemplateText(I)),onActivateItem:t[5]||(t[5]=I=>o.activeUpOrDownTemplatesText=0)},null,8,["filtered-templates-text","select-item","active-up-or-down"]),Be(f,{room:n.room,"message-reply":o.messageReply,"text-formatting":n.textFormatting,"link-options":n.linkOptions,onResetMessage:i.resetMessage},gt({_:2},[et(e.$slots,(I,B)=>({name:B,fn:Ve(R=>[Te(e.$slots,B,ht(dt(R)))])}))]),1032,["room","message-reply","text-formatting","link-options","onResetMessage"]),Be(m,{files:o.files,onRemoveFile:i.removeFile,onResetMessage:i.resetMessage},gt({_:2},[et(e.$slots,(I,B)=>({name:B,fn:Ve(R=>[Te(e.$slots,B,ht(dt(R)))])}))]),1032,["files","onRemoveFile","onResetMessage"]),oe("div",{class:Qe(["vac-box-footer",{"vac-box-footer-border":!o.files.length}])},[!o.isRecording&&!n.textareaHighlight?(K(),J("div",N_,[n.showFiles?(K(),lt(c,{key:0,"attachment-options":n.attachmentOptions,onAttachmentPickerHandler:i.attachmentPickerHandler},{"paperclip-icon":Ve(()=>[Te(e.$slots,"paperclip-icon")]),_:3},8,["attachment-options","onAttachmentPickerHandler"])):we("",!0)])):we("",!0),n.textareaHighlight?(K(),J("div",D_,[oe("i",{class:"bi bi-x-lg",style:{cursor:"pointer",color:"#5c578f"},onClick:t[6]||(t[6]=I=>e.$emit("attachment-picker-handler",{cancel:!0}))})])):we("",!0),n.textareaHighlight?(K(),J("div",q_,z_)):we("",!0),o.isRecording?(K(),J("div",P_,[oe("div",{class:"vac-svg-button vac-icon-audio-stop",onClick:t[7]||(t[7]=(...I)=>i.stopRecorder&&i.stopRecorder(...I))},[Te(e.$slots,"audio-stop-icon",{},()=>[Be(p,{name:"close-outline"})])]),U_,oe("div",V_,Ue(i.recordedTime),1),oe("div",{class:"vac-svg-button vac-icon-audio-confirm",onClick:t[8]||(t[8]=I=>i.toggleRecorder(!1))},[Te(e.$slots,"audio-check-icon",{},()=>[Be(p,{name:"checkmark"})])])])):we("",!0),o.isRecording?we("",!0):(K(),J("textarea",{key:4,id:"roomTextarea",ref:"roomTextarea",placeholder:n.textareaHighlight?n.textMessages.TYPE_HIGHLIGHT_MESSAGE:n.textMessages.TYPE_MESSAGE,class:Qe(["vac-textarea",{"vac-textarea-outline":o.editedMessage._id,"vac-textarea-highlight":n.textareaHighlight}]),onInput:t[9]||(t[9]=(...I)=>i.onChangeInput&&i.onChangeInput(...I)),onKeydown:[t[10]||(t[10]=rr((...I)=>i.escapeTextarea&&i.escapeTextarea(...I),["esc"])),t[11]||(t[11]=rr(Gt((...I)=>i.selectItem&&i.selectItem(...I),["exact","prevent"]),["enter"])),t[13]||(t[13]=rr(Gt(()=>{},["exact","prevent"]),["tab"])),t[14]||(t[14]=rr((...I)=>i.selectItem&&i.selectItem(...I),["tab"])),t[15]||(t[15]=rr(I=>i.updateActiveUpOrDown(I,-1),["up"])),t[16]||(t[16]=rr(I=>i.updateActiveUpOrDown(I,1),["down"])),t[17]||(t[17]=rr(Gt((...I)=>i.onCtrlIKeydown&&i.onCtrlIKeydown(...I),["ctrl"]),["i"]))],onPaste:t[12]||(t[12]=(...I)=>i.onPasteImage&&i.onPasteImage(...I))},null,42,Y_)),o.isRecording?we("",!0):(K(),J("div",X_,[o.editedMessage._id?(K(),J("div",{key:0,class:"vac-svg-button",onClick:t[18]||(t[18]=(...I)=>i.resetMessage&&i.resetMessage(...I))},[Te(e.$slots,"edit-close-icon",{},()=>[Be(p,{name:"close-outline"})])])):we("",!0),!o.isRecording&&n.showEmojis&&!n.textareaHighlight?Rn((K(),J("div",K_,[Te(e.$slots,"emoji-picker",Na({emojiOpened:o.emojiOpened},{addEmoji:i.addEmoji}),()=>[Be(h,{"emoji-opened":o.emojiOpened,"position-top":!0,"emoji-data-source":n.emojiDataSource,onAddEmoji:i.addEmoji,onOpenEmoji:t[19]||(t[19]=I=>o.emojiOpened=I)},{"emoji-picker-icon":Ve(()=>[Te(e.$slots,"emoji-picker-icon")]),_:3},8,["emoji-opened","emoji-data-source","onAddEmoji"])])])),[[s,()=>o.emojiOpened=!1]]):we("",!0),n.textareaActionEnabled?(K(),J("div",{key:2,class:"vac-svg-button",onClick:t[20]||(t[20]=(...I)=>i.textareaActionHandler&&i.textareaActionHandler(...I))},[Te(e.$slots,"custom-action-icon",{},()=>[Be(p,{name:"deleted"})])])):we("",!0),n.showFiles?(K(),J("input",{key:3,ref:"file",type:"file",multiple:"",accept:n.acceptedFiles,capture:n.captureFiles,style:{display:"none"},onChange:t[21]||(t[21]=I=>i.onFileChange(I.target.files))},null,40,G_)):we("",!0),n.showAudio&&i.isMessageEmpty&&!n.textareaHighlight?(K(),J("div",W_,[oe("div",{class:"vac-svg-button",onClick:t[22]||(t[22]=I=>i.toggleRecorder(!0))},[Te(e.$slots,"microphone-icon",{},()=>[Be(p,{name:"microphone",class:"vac-icon-microphone"})])])])):we("",!0),n.showSendIcon&&!i.isMessageEmpty||n.textareaHighlight?(K(),J("div",{key:5,class:Qe(["vac-svg-button",{"vac-send-disabled":i.isMessageEmpty}]),onClick:t[23]||(t[23]=(...I)=>i.sendMessage&&i.sendMessage(...I))},[Te(e.$slots,"send-icon",{},()=>[Be(p,{name:"send",param:i.isMessageEmpty||i.isFileLoading?"disabled":""},null,8,["param"])])],2)):we("",!0)]))],2)],2)),[[_o,Object.keys(n.room).length&&n.showFooter]])}var Q_=vt(H_,[["render",Z_]]);const J_={name:"MessageReply",components:{AudioPlayer:ks,SvgIcon:jt,FormatMessage:wi},props:{message:{type:Object,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},roomUsers:{type:Array,required:!0}},computed:{replyUsername(){const{senderId:e}=this.message.replyMessage,t=this.roomUsers.find(n=>n._id===e);return t?t.username:""},firstFile(){var e,t;return(t=(e=this.message.replyMessage)==null?void 0:e.files)!=null&&t.length?this.message.replyMessage.files[0]:{}},isAudio(){return Ao(this.firstFile)},isImage(){return Xr(this.firstFile)},isVideo(){return Mi(this.firstFile)},isOtherFile(){var e;return((e=this.message.replyMessage.files)==null?void 0:e.length)&&!this.isAudio&&!this.isVideo&&!this.isImage}}},$_={class:"vac-reply-message"},e4={class:"vac-reply-username"},t4={key:0,class:"vac-image-reply-container"},n4={key:1,class:"vac-video-reply-container"},r4={controls:""},i4=["src"],o4={key:3,class:"vac-file-container"},a4={class:"vac-text-ellipsis"},s4={key:0,class:"vac-text-ellipsis vac-text-extension"},l4={class:"vac-reply-content"};function c4(e,t,n,r,o,i){const a=Ke("audio-player"),l=Ke("svg-icon"),d=Ke("format-message");return K(),J("div",$_,[oe("div",e4,Ue(i.replyUsername),1),i.isImage?(K(),J("div",t4,[oe("div",{class:"vac-message-image vac-message-image-reply",style:_t({"background-image":`url('${i.firstFile.url}')`})},null,4)])):i.isVideo?(K(),J("div",n4,[oe("video",r4,[oe("source",{src:i.firstFile.url},null,8,i4)])])):i.isAudio?(K(),lt(a,{key:2,src:i.firstFile.url,"message-selection-enabled":!1,onUpdateProgressTime:t[0]||(t[0]=f=>e.progressTime=f),onHoverAudioProgress:t[1]||(t[1]=f=>e.hoverAudioProgress=f)},gt({_:2},[et(e.$slots,(f,m)=>({name:m,fn:Ve(c=>[Te(e.$slots,m,ht(dt(c)))])}))]),1032,["src"])):i.isOtherFile?(K(),J("div",o4,[oe("div",null,[Te(e.$slots,"file-icon",{},()=>[Be(l,{name:"file"})])]),oe("div",a4,Ue(i.firstFile.name),1),i.firstFile.extension?(K(),J("div",s4,Ue(i.firstFile.extension),1)):we("",!0)])):we("",!0),oe("div",l4,[Be(d,{"message-id":n.message.replyMessage._id,content:n.message.replyMessage.content,users:n.roomUsers,"text-formatting":n.textFormatting,"link-options":n.linkOptions,reply:!0},null,8,["message-id","content","users","text-formatting","link-options"])])])}var f4=vt(J_,[["render",c4]]);const u4={name:"ProgressBar",props:{progress:{type:Number,default:0}},data(){const r=54*Math.PI;return{radius:35,stroke:4,normalizedRadius:27,circumference:r}},computed:{strokeDashoffset(){return this.circumference-this.progress/100*this.circumference}}},d4={ref:"progress",class:"vac-progress-wrapper"},b4=["height","width"],m4=["stroke-dasharray","stroke-width","r","cx","cy"],h4={class:"vac-progress-text"},p4=oe("span",{class:"vac-progress-pourcent"},"%",-1);function g4(e,t,n,r,o,i){return K(),lt(Rt,{name:"vac-fade-spinner",appear:""},{default:Ve(()=>[oe("div",d4,[(K(),J("svg",{height:o.radius*2,width:o.radius*2},[oe("circle",{stroke:"rgba(255, 255, 255, 0.7)","stroke-dasharray":o.circumference+" "+o.circumference,style:_t({strokeDashoffset:i.strokeDashoffset,strokeLinecap:"round"}),"stroke-width":o.stroke,fill:"transparent",r:o.normalizedRadius,cx:o.radius,cy:o.radius},null,12,m4)],8,b4)),oe("div",{class:"vac-progress-content",style:_t({height:o.radius*2-19+"px",width:o.radius*2-19+"px"})},[oe("div",h4,[_n(Ue(n.progress),1),p4])],4)],512)]),_:1})}var W0=vt(u4,[["render",g4]]);const v4={name:"MessageFile",components:{SvgIcon:jt,Loader:xo,ProgressBar:W0},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},file:{type:Object,required:!0},index:{type:Number,required:!0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["open-file"],data(){return{imageResponsive:"",imageLoading:!1,imageHover:!1}},computed:{isImageLoading(){return this.file.url.indexOf("blob:http")!==-1||this.imageLoading},isImage(){return Xr(this.file)},isVideo(){return Mi(this.file)}},watch:{file:{immediate:!0,handler(){this.checkImgLoad()}}},mounted(){const e=this.$refs["imageRef"+this.index];e&&(this.imageResponsive={maxHeight:e.clientWidth-18,loaderTop:e.clientHeight/2-9})},methods:{checkImgLoad(){if(!Xr(this.file))return;this.imageLoading=!0;const e=new Image;e.src=this.file.url,e.addEventListener("load",()=>this.imageLoading=!1)},openFile(e,t){this.messageSelectionEnabled||(e.stopPropagation(),this.$emit("open-file",{file:this.file,action:t}))}}},_4={class:"vac-message-file-container"},x4={key:0,class:"vac-image-buttons"},y4={controls:""},w4=["src"];function k4(e,t,n,r,o,i){const a=Ke("progress-bar"),l=Ke("loader"),d=Ke("svg-icon");return K(),J("div",_4,[i.isImage?(K(),J("div",{key:0,ref:"imageRef"+n.index,class:"vac-message-image-container",onMouseover:t[2]||(t[2]=f=>o.imageHover=!0),onMouseleave:t[3]||(t[3]=f=>o.imageHover=!1),onClick:t[4]||(t[4]=f=>i.openFile(f,"preview"))},[n.file.progress>=0?(K(),lt(a,{key:0,progress:n.file.progress,style:_t({top:`${o.imageResponsive.loaderTop}px`})},null,8,["progress","style"])):(K(),lt(l,{key:1,show:i.isImageLoading,type:"message-file","message-id":n.message._id,style:_t({top:`${o.imageResponsive.loaderTop}px`})},gt({_:2},[et(e.$slots,(f,m)=>({name:m,fn:Ve(c=>[Te(e.$slots,m,ht(dt(c)))])}))]),1032,["show","message-id","style"])),oe("div",{class:Qe(["vac-message-image",{"vac-blur-loading":i.isImageLoading&&n.message.senderId===n.currentUserId}]),style:_t({"background-image":`url('${i.isImageLoading&&n.file.preview||n.file.url}')`,"max-height":`${o.imageResponsive.maxHeight}px`})},[Be(Rt,{name:"vac-fade-image"},{default:Ve(()=>[!n.messageSelectionEnabled&&o.imageHover&&!i.isImageLoading?(K(),J("div",x4,[oe("div",{class:"vac-svg-button vac-button-view",onClick:t[0]||(t[0]=f=>i.openFile(f,"preview"))},[Te(e.$slots,"eye-icon_"+n.message._id,{},()=>[Be(d,{name:"eye"})])]),oe("div",{class:"vac-svg-button vac-button-download",onClick:t[1]||(t[1]=f=>i.openFile(f,"download"))},[Te(e.$slots,"document-icon_"+n.message._id,{},()=>[Be(d,{name:"document"})])])])):we("",!0)]),_:3})],6)],544)):i.isVideo?(K(),J("div",{key:1,class:"vac-video-container",onClick:t[5]||(t[5]=Gt(f=>i.openFile(f,"preview"),["prevent"]))},[n.file.progress>=0?(K(),lt(a,{key:0,progress:n.file.progress},null,8,["progress"])):we("",!0),oe("video",y4,[oe("source",{src:n.file.url},null,8,w4)])])):we("",!0)])}var S4=vt(v4,[["render",k4]]);const M4={name:"MessageFiles",components:{SvgIcon:jt,FormatMessage:wi,ProgressBar:W0,MessageFile:S4},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},roomUsers:{type:Array,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["open-file","open-user-tag"],computed:{imageVideoFiles(){return this.message.files.filter(e=>kf(e))},otherFiles(){return this.message.files.filter(e=>!kf(e))}},methods:{openFile(e,t,n){this.messageSelectionEnabled||(e.stopPropagation(),this.$emit("open-file",{file:t,action:n}))}}},A4={class:"vac-message-files-container"},E4=["onClick"],T4={class:"vac-svg-button"},R4={class:"vac-text-ellipsis"},C4={key:0,class:"vac-text-ellipsis vac-text-extension"};function I4(e,t,n,r,o,i){const a=Ke("message-file"),l=Ke("progress-bar"),d=Ke("svg-icon"),f=Ke("format-message");return K(),J("div",A4,[(K(!0),J(at,null,et(i.imageVideoFiles,(m,c)=>(K(),J("div",{key:c+"iv"},[Be(a,{file:m,"current-user-id":n.currentUserId,message:n.message,index:c,"message-selection-enabled":n.messageSelectionEnabled,onOpenFile:t[0]||(t[0]=p=>e.$emit("open-file",p))},gt({_:2},[et(e.$slots,(p,h)=>({name:h,fn:Ve(s=>[Te(e.$slots,h,ht(dt(s)))])}))]),1032,["file","current-user-id","message","index","message-selection-enabled"])]))),128)),(K(!0),J(at,null,et(i.otherFiles,(m,c)=>(K(),J("div",{key:c+"a",class:"vac-file-wrapper"},[m.progress>=0?(K(),lt(l,{key:0,progress:m.progress,style:{top:"44px"}},null,8,["progress"])):we("",!0),oe("div",{class:Qe(["vac-file-container",{"vac-file-container-progress":m.progress>=0}]),onClick:p=>i.openFile(p,m,"download")},[oe("div",T4,[Te(e.$slots,"document-icon",{},()=>[Be(d,{name:"document"})])]),oe("div",R4,Ue(m.name),1),m.extension?(K(),J("div",C4,Ue(m.extension),1)):we("",!0)],10,E4)]))),128)),Be(f,{"message-id":n.message._id,content:n.message.content,users:n.roomUsers,"text-formatting":n.textFormatting,"link-options":n.linkOptions,onOpenUserTag:t[1]||(t[1]=m=>e.$emit("open-user-tag",m))},null,8,["message-id","content","users","text-formatting","link-options"])])}var B4=vt(M4,[["render",I4]]);const O4={name:"MessageActions",components:{SvgIcon:jt,EmojiPickerContainer:v0},directives:{clickOutside:ki},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},messageActions:{type:Array,required:!0},showReactionEmojis:{type:Boolean,required:!0},messageHover:{type:Boolean,required:!0},hoverMessageId:{type:[String,Number],default:null},hoverAudioProgress:{type:Boolean,required:!0},emojiDataSource:{type:String,default:void 0}},emits:["update-emoji-opened","update-options-opened","update-message-hover","message-action-handler","send-message-reaction"],data(){return{menuOptionsTop:0,optionsOpened:!1,optionsClosing:!1,emojiOpened:!1}},computed:{isMessageActions(){return this.filteredMessageActions.length&&this.messageHover&&!this.message.deleted&&!this.message.disableActions&&!this.hoverAudioProgress},isMessageReactions(){return this.showReactionEmojis&&this.messageHover&&!this.message.deleted&&!this.message.disableReactions&&!this.hoverAudioProgress},filteredMessageActions(){const e=this.message.senderId===this.currentUserId?this.messageActions:this.messageActions.filter(n=>!n.onlyMe),t=this.getMessageType();return e.filter(n=>!(n!=null&&n.type)||n.type===t)}},watch:{emojiOpened(e){this.$emit("update-emoji-opened",e),e&&(this.optionsOpened=!1)},optionsOpened(e){this.$emit("update-options-opened",e)}},methods:{openOptions(){this.optionsClosing||(this.optionsOpened=!this.optionsOpened,this.optionsOpened&&setTimeout(()=>{const e=g0(this.$el,"#room-footer");if(!e||!this.$refs.menuOptions||!this.$refs.actionIcon)return;const t=this.$refs.menuOptions.getBoundingClientRect().height,n=this.$refs.actionIcon.getBoundingClientRect().top;e.getBoundingClientRect().top-n>t+50?this.menuOptionsTop=30:this.menuOptionsTop=-t}))},closeOptions(){this.optionsOpened=!1,this.optionsClosing=!0,this.updateMessageHover(),setTimeout(()=>this.optionsClosing=!1,100)},openEmoji(){this.emojiOpened=!this.emojiOpened},closeEmoji(){this.emojiOpened=!1,this.updateMessageHover()},updateMessageHover(){this.hoverMessageId!==this.message._id&&this.$emit("update-message-hover",!1)},messageActionHandler(e){this.closeOptions(),this.$emit("message-action-handler",e)},sendMessageReaction(e,t){this.$emit("send-message-reaction",{emoji:e,reaction:t}),this.closeEmoji()},getMessageType(){var e;return((e=this.message.files)==null?void 0:e.length)===0?null:"file"}}},F4={key:"3"},L4={class:"vac-menu-list"},j4=["onClick"];function H4(e,t,n,r,o,i){const a=Ke("svg-icon"),l=Ke("emoji-picker-container"),d=di("click-outside");return K(),J("div",{class:"vac-message-actions-wrapper",style:_t({display:n.message.deleted?"none":""})},[oe("div",{class:"vac-options-container",style:_t({display:n.hoverAudioProgress||!n.messageHover?"none":"initial",width:i.filteredMessageActions.length&&n.showReactionEmojis?"70px":"45px"})},[Be(vo,{name:"vac-slide-left",tag:"span"},{default:Ve(()=>[i.isMessageActions||i.isMessageReactions?(K(),J("div",{key:"1",class:Qe(["vac-blur-container",{"vac-options-me":n.message.senderId===n.currentUserId}])},null,2)):we("",!0),i.isMessageActions?(K(),J("div",{ref:"actionIcon",key:"2",class:"vac-svg-button vac-message-options",onClick:t[0]||(t[0]=(...f)=>i.openOptions&&i.openOptions(...f))},[Te(e.$slots,"dropdown-icon_"+n.message._id,{},()=>[Be(a,{name:"dropdown",param:"message"})])],512)):we("",!0),i.isMessageReactions?Rn((K(),J("div",F4,[Te(e.$slots,"emoji-picker",Na({emojiOpened:o.emojiOpened},{addEmoji:i.sendMessageReaction}),()=>[Be(l,{class:"vac-message-emojis",style:_t({right:i.isMessageActions?"30px":"5px"}),"emoji-opened":o.emojiOpened,"emoji-reaction":!0,"position-right":n.message.senderId===n.currentUserId,"message-id":n.message._id,"emoji-data-source":n.emojiDataSource,onAddEmoji:i.sendMessageReaction,onOpenEmoji:i.openEmoji},gt({_:2},[et(e.$slots,(f,m)=>({name:m,fn:Ve(c=>[Te(e.$slots,m,ht(dt(c)))])}))]),1032,["style","emoji-opened","position-right","message-id","emoji-data-source","onAddEmoji","onOpenEmoji"])])])),[[d,i.closeEmoji]]):we("",!0)]),_:3})],4),i.filteredMessageActions.length?(K(),lt(Rt,{key:0,name:n.message.senderId===n.currentUserId?"vac-slide-left":"vac-slide-right"},{default:Ve(()=>[o.optionsOpened?Rn((K(),J("div",{key:0,ref:"menuOptions",class:Qe(["vac-menu-options",{"vac-menu-left":n.message.senderId!==n.currentUserId}]),style:_t({top:`${o.menuOptionsTop}px`})},[oe("div",L4,[(K(!0),J(at,null,et(i.filteredMessageActions,f=>(K(),J("div",{key:f.name},[oe("div",{class:"vac-menu-item",onClick:m=>i.messageActionHandler(f)},Ue(f.title),9,j4)]))),128))])],6)),[[d,i.closeOptions]]):we("",!0)]),_:1},8,["name"])):we("",!0)],4)}var N4=vt(O4,[["render",H4]]);const D4={name:"MessageReactions",props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0}},emits:["message-reaction-click"],methods:{messageReactionClick(){this.$emit("message-reaction-click")},getTotalReactionCount(){return!this.$props.message.reactions||typeof this.$props.message.reactions!="object"?0:Object.values(this.$props.message.reactions).reduce((t,n)=>t+n.length,0)}}},q4={key:0,class:"reaction-counter"};function z4(e,t,n,r,o,i){return n.message.deleted?we("",!0):(K(),lt(vo,{key:0,name:"vac-slide-left",tag:"span"},{default:Ve(()=>[oe("div",{class:Qe(["vac-message-reactions-container",{"message-me":n.message.senderId===n.currentUserId}])},[oe("div",{class:"vac-reactions-container",onClick:t[0]||(t[0]=a=>i.messageReactionClick())},[(K(!0),J(at,null,et(n.message.reactions,(a,l)=>Rn((K(),J("span",{key:l+0,class:"vac-reactions"},Ue(l),1)),[[_o,a.length]])),128)),i.getTotalReactionCount()>1?(K(),J("span",q4,Ue(i.getTotalReactionCount()),1)):we("",!0)])],2)]),_:1}))}var P4=vt(D4,[["render",z4]]);function U4(e){if(!((r,o)=>o.every(i=>{let a=!1;return(i.type[0]==="array"&&Array.isArray(r[i.key])||i.type.find(l=>l===typeof r[i.key]))&&(a=!0),a&&Os(r,i.key)}))(e,[{key:"roomId",type:["string","number"]},{key:"roomName",type:["string"]},{key:"users",type:["array"]}]))throw new Error("Rooms object is not valid! Must contain at least roomId[String, Number], roomName[String] and users[Array]")}function V4(e){if(!((r,o)=>o.every(i=>i.type.find(l=>l===typeof r[i.key])&&Os(r,i.key)))(e,[{key:"_id",type:["string","number"]},{key:"username",type:["string"]}]))throw new Error("Participants object is not valid! Must contain at least _id[String, Number] and username[String]")}function Y4(e){if(!((r,o)=>o.every(i=>i.type.find(l=>l===typeof r[i.key])&&Os(r,i.key)))(e,[{key:"_id",type:["string","number"]},{key:"senderId",type:["string","number"]}]))throw new Error("Messages object is not valid! Must contain at least _id[String, Number] and senderId[String, Number]")}function Os(e,t){return Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==null&&e[t]!==void 0}const X4={name:"RoomMessage",components:{SvgIcon:jt,FormatMessage:wi,AudioPlayer:ks,MessageReply:f4,MessageFiles:B4,MessageActions:N4,MessageReactions:P4},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},index:{type:Number,required:!0},message:{type:Object,required:!0},messages:{type:Array,required:!0},editedMessageId:{type:[String,Number],default:null},roomUsers:{type:Array,default:()=>[]},messageActions:{type:Array,required:!0},newMessages:{type:Array,default:()=>[]},showReactionEmojis:{type:Boolean,required:!0},showNewMessagesDivider:{type:Boolean,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},usernameOptions:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0},selectedMessages:{type:Array,default:()=>[]},emojiDataSource:{type:String,default:void 0}},emits:["message-added","open-file","open-user-tag","open-failed-message","message-action-handler","send-message-reaction","select-message","unselect-message","message-reaction-click"],data(){return{hoverMessageId:null,messageHover:!1,isSelectingContent:!1,optionsOpened:!1,emojiOpened:!1,newMessage:{},progressTime:"- : -",hoverAudioProgress:!1}},computed:{showUsername(){return!this.usernameOptions.currentUser&&this.message.senderId===this.currentUserId?!1:this.roomUsers.length>=this.usernameOptions.minUsers},showDate(){return this.index>0&&this.message.date!==this.messages[this.index-1].date},messageOffset(){return this.index>0&&this.message.senderId!==this.messages[this.index-1].senderId},isMessageHover(){return this.editedMessageId===this.message._id||this.hoverMessageId===this.message._id},isAudio(){var e;return(e=this.message.files)==null?void 0:e.some(t=>Ao(t))},isCheckmarkVisible(){return this.message.senderId===this.currentUserId&&!this.message.deleted&&(this.message.saved||this.message.distributed||this.message.seen)},hasCurrentUserAvatar(){return this.messages.some(e=>e.senderId===this.currentUserId&&e.avatar)},hasSenderUserAvatar(){return this.messages.some(e=>e.senderId!==this.currentUserId&&e.avatar)},isMessageSelected(){return this.messageSelectionEnabled&&!!this.selectedMessages.find(e=>e._id===this.message._id)}},watch:{newMessages:{immediate:!0,deep:!0,handler(e){if(!e.length||!this.showNewMessagesDivider){this.newMessage={};return}this.newMessage=e.reduce((t,n)=>n.index<t.index?n:t)}},messageSelectionEnabled(){this.resetMessageHover()}},mounted(){Y4(this.message),this.$emit("message-added",{message:this.message,index:this.index,ref:this.$refs.message})},methods:{onHoverMessage(){this.messageSelectionEnabled||(this.messageHover=!this.isSelectingContent&&!0,this.canEditMessage()&&(this.hoverMessageId=this.message._id))},canEditMessage(){return!this.message.deleted},onLeaveMessage(){this.messageSelectionEnabled||(!this.optionsOpened&&!this.emojiOpened&&(this.messageHover=!1),this.hoverMessageId=null)},resetMessageHover(){this.messageHover=!1,this.hoverMessageId=null},openFile(e){this.$emit("open-file",{message:this.message,file:e})},openUserTag(e){this.$emit("open-user-tag",{user:e})},messageActionHandler(e){this.resetMessageHover(),setTimeout(()=>{this.$emit("message-action-handler",{action:e,message:this.message})},300)},sendMessageReaction({emoji:e,reaction:t}){this.$emit("send-message-reaction",{messageId:this.message._id,reaction:e,remove:t&&t.indexOf(this.currentUserId)!==-1}),this.messageHover=!1},messageReactionClick(){this.$emit("message-reaction-click",{messageId:this.message._id,userId:this.currentUserId})},selectMessage(){if(!(!this.messageSelectionEnabled||this.message.system)){if(this.isMessageSelected){this.$emit("unselect-message",this.message._id);return}this.$emit("select-message",this.message)}},startContentSelection(){this.isSelectingContent=!0,this.resetMessageHover()},endContentSelection(){this.hoverMessageId=this.message._id,this.isSelectingContent=!1}}},K4=["id"],G4={key:0,class:"vac-card-date-container"},W4={class:"vac-card-info vac-card-date"},Z4={key:1},Q4={class:"vac-line-new"},J4={key:2,class:"vac-card-info vac-card-system"},$4={key:0,class:"checkbox-message-container"},e5={class:"vac-message-container"},t5={class:"vac-message-card"},n5={key:0,class:"vac-message-dynamic-title"},r5={key:1,class:"vac-message-loading"},i5=[G1('<div class="vac-message-loading-item" style="width:93%;"></div><div class="vac-message-loading-item" style="width:98%;"></div><div class="vac-message-loading-item" style="width:91%;"></div><div class="vac-message-loading-item" style="width:95%;"></div><div class="vac-message-loading-item" style="width:78%;"></div>',5)],o5={key:0,class:"checkbox-message-container"},a5={class:"vac-message-box"},s5={key:1,class:"vac-avatar-offset"},l5=oe("span",{class:"forward-icon"},[oe("svg",{viewBox:"0 0 16 16",height:"16",width:"16",preserveAspectRatio:"xMidYMid meet",class:"",version:"1.1"},[oe("path",{d:"M9.51866667,3.87533333 C9.51866667,3.39333333 10.1006667,3.152 10.4406667,3.49266667 L14.4706667,7.52666667 C14.682,7.738 14.682,8.07933333 14.4706667,8.29066667 L10.4406667,12.3246667 C10.1006667,12.6646667 9.51866667,12.424 9.51866667,11.942 L9.51866667,10.1206667 C6.12133333,10.1206667 3.63266667,11.0906667 1.78266667,13.1946667 C1.61866667,13.3806667 1.31466667,13.2226667 1.38133333,12.984 C2.33466667,9.53533333 4.66466667,6.31466667 9.51866667,5.62066667 L9.51866667,3.87533333 Z",fill:"currentColor"})])],-1),c5={class:"forward-text"},f5={key:0,class:"vac-progress-time"},u5={class:"vac-text-timestamp"},d5={key:0,class:"vac-icon-edited"},b5={key:1},m5=[oe("div",{class:"vac-failure-text"},"!",-1)],h5={key:3,class:"vac-avatar-current-offset"};function p5(e,t,n,r,o,i){var h,s;const a=Ke("format-message"),l=Ke("message-reply"),d=Ke("message-files"),f=Ke("audio-player"),m=Ke("svg-icon"),c=Ke("message-actions"),p=Ke("message-reactions");return K(),J("div",{id:n.message._id,ref:"message",class:Qe(["vac-message-wrapper",{"vac-selection-enabled":n.messageSelectionEnabled,"message-selected":i.isMessageSelected,"message-system":n.message.system}]),onClick:t[9]||(t[9]=(...I)=>i.selectMessage&&i.selectMessage(...I))},[i.showDate?(K(),J("div",G4,[oe("div",W4,Ue(n.message.date),1)])):we("",!0),o.newMessage._id===n.message._id?(K(),J("div",Z4,[Te(e.$slots,"line-new",{},()=>[oe("div",Q4,Ue(n.textMessages.NEW_MESSAGES),1)])])):we("",!0),n.message.system?(K(),J("div",J4,[Te(e.$slots,"message_"+n.message._id,{},()=>[Be(a,{"message-id":n.message._id,content:n.message.content,deleted:!!n.message.deleted,users:n.roomUsers,"text-messages":n.textMessages,"text-formatting":n.textFormatting,"link-options":n.linkOptions,onOpenUserTag:i.openUserTag},gt({_:2},[et(e.$slots,(I,B)=>({name:B,fn:Ve(R=>[Te(e.$slots,B,ht(dt(R)))])}))]),1032,["message-id","content","deleted","users","text-messages","text-formatting","link-options","onOpenUserTag"])])])):n.message.dynamic?(K(),J("div",{key:3,class:Qe(["vac-message-dynamic vac-message-box-container",[`vac-message-dynamic-pos-${(h=n.message.dynamic.position)!=null?h:"center"}`,`vac-message-dynamic-${(s=n.message.dynamic.type)!=null?s:"info"}`]])},[n.messageSelectionEnabled&&!n.message.system?(K(),J("label",$4,[oe("div",{class:Qe(["checkbox",{selected:i.isMessageSelected}])},null,2)])):we("",!0),oe("div",e5,[oe("div",t5,[n.message.dynamic.title?(K(),J("div",n5,[oe("span",null,Ue(n.message.dynamic.title),1)])):we("",!0),n.message.loading?(K(),J("div",r5,i5)):!!n.message.deleted||!n.message.files||!n.message.files.length?(K(),lt(a,{key:2,"message-id":n.message._id,content:n.message.content,deleted:!!n.message.deleted,users:n.roomUsers,"text-formatting":n.textFormatting,"text-messages":n.textMessages,"link-options":n.linkOptions,onOpenUserTag:i.openUserTag,onMousedown:i.startContentSelection,onMouseup:i.endContentSelection},gt({_:2},[et(e.$slots,(I,B)=>({name:B,fn:Ve(R=>[Te(e.$slots,B,ht(dt(R)))])}))]),1032,["message-id","content","deleted","users","text-formatting","text-messages","link-options","onOpenUserTag","onMousedown","onMouseup"])):we("",!0)])])],2)):(K(),J("div",{key:4,class:Qe([{"vac-offset-current":n.message.senderId===n.currentUserId},"vac-message-box-container"])},[n.messageSelectionEnabled&&!n.message.system?(K(),J("label",o5,[oe("div",{class:Qe(["checkbox",{selected:i.isMessageSelected}])},null,2)])):we("",!0),oe("div",a5,[Te(e.$slots,"message_"+n.message._id,{},()=>[n.message.senderId!==n.currentUserId?Te(e.$slots,"message-avatar_"+n.message._id,{key:0},()=>[n.message.avatar&&!n.messageSelectionEnabled?(K(),J("div",{key:0,class:"vac-avatar",style:_t({"background-image":`url('${n.message.avatar}')`})},null,4)):we("",!0)]):we("",!0),i.hasSenderUserAvatar&&!n.message.avatar?(K(),J("div",s5)):we("",!0),oe("div",{class:Qe(["vac-message-container",{"vac-message-container-offset":i.messageOffset}])},[oe("div",{class:Qe(["vac-message-card",{"vac-message-highlight":i.isMessageHover,"vac-message-current":n.message.senderId===n.currentUserId,"vac-message-deleted":n.message.deleted,"vac-item-clickable":n.messageSelectionEnabled,"vac-message-selected":i.isMessageSelected}]),onMouseover:t[5]||(t[5]=(...I)=>i.onHoverMessage&&i.onHoverMessage(...I)),onMouseleave:t[6]||(t[6]=(...I)=>i.onLeaveMessage&&i.onLeaveMessage(...I)),onMousemove:t[7]||(t[7]=I=>o.messageHover=!o.isSelectingContent)},[i.showUsername?(K(),J("div",{key:0,class:Qe(["vac-text-username",{"vac-username-reply":!n.message.deleted&&n.message.replyMessage}])},[oe("span",null,Ue(n.message.username),1)],2)):we("",!0),!n.message.deleted&&n.message.isForwarded?(K(),J("div",{key:1,class:Qe({"message-forwarded-container":!n.message.deleted&&n.message.isForwarded})},[l5,oe("span",c5,Ue(n.textMessages.MESSAGE_FORWARD),1)],2)):we("",!0),!n.message.deleted&&n.message.replyMessage?(K(),lt(l,{key:2,message:n.message,"room-users":n.roomUsers,"text-formatting":n.textFormatting,"link-options":n.linkOptions},gt({_:2},[et(e.$slots,(I,B)=>({name:B,fn:Ve(R=>[Te(e.$slots,B,ht(dt(R)))])}))]),1032,["message","room-users","text-formatting","link-options"])):we("",!0),!!n.message.deleted||!n.message.files||!n.message.files.length?(K(),lt(a,{key:3,"message-id":n.message._id,content:n.message.content,deleted:!!n.message.deleted,users:n.roomUsers,"text-formatting":n.textFormatting,"text-messages":n.textMessages,"link-options":n.linkOptions,onOpenUserTag:i.openUserTag,onMousedown:i.startContentSelection,onMouseup:i.endContentSelection},gt({_:2},[et(e.$slots,(I,B)=>({name:B,fn:Ve(R=>[Te(e.$slots,B,ht(dt(R)))])}))]),1032,["message-id","content","deleted","users","text-formatting","text-messages","link-options","onOpenUserTag","onMousedown","onMouseup"])):!i.isAudio||n.message.files.length>1?(K(),lt(d,{key:4,"current-user-id":n.currentUserId,message:n.message,"room-users":n.roomUsers,"text-formatting":n.textFormatting,"link-options":n.linkOptions,"message-selection-enabled":n.messageSelectionEnabled,onOpenFile:i.openFile,onOpenUserTag:i.openUserTag},gt({_:2},[et(e.$slots,(I,B)=>({name:B,fn:Ve(R=>[Te(e.$slots,B,ht(dt(R)))])}))]),1032,["current-user-id","message","room-users","text-formatting","link-options","message-selection-enabled","onOpenFile","onOpenUserTag"])):(K(),J(at,{key:5},[Be(f,{"message-id":n.message._id,src:n.message.files[0].url,"message-selection-enabled":n.messageSelectionEnabled,onUpdateProgressTime:t[0]||(t[0]=I=>o.progressTime=I),onHoverAudioProgress:t[1]||(t[1]=I=>o.hoverAudioProgress=I)},gt({_:2},[et(e.$slots,(I,B)=>({name:B,fn:Ve(R=>[Te(e.$slots,B,ht(dt(R)))])}))]),1032,["message-id","src","message-selection-enabled"]),n.message.deleted?we("",!0):(K(),J("div",f5,Ue(o.progressTime),1))],64)),oe("div",u5,[n.message.edited&&!n.message.deleted?(K(),J("div",d5,[Te(e.$slots,"pencil-icon_"+n.message._id,{},()=>[_n(Ue(n.textMessages.MESSAGE_EDITED),1)])])):we("",!0),oe("span",null,Ue(n.message.timestamp),1),i.isCheckmarkVisible?(K(),J("span",b5,[Te(e.$slots,"checkmark-icon_"+n.message._id,{},()=>[Be(m,{name:n.message.distributed?"double-checkmark":"checkmark",param:n.message.seen?"seen":"",class:"vac-icon-check"},null,8,["name","param"])])])):we("",!0)]),Be(c,{"current-user-id":n.currentUserId,message:n.message,"message-actions":n.messageActions,"show-reaction-emojis":n.showReactionEmojis,"message-hover":o.messageHover,"hover-message-id":o.hoverMessageId,"hover-audio-progress":o.hoverAudioProgress,"emoji-data-source":n.emojiDataSource,onUpdateMessageHover:t[2]||(t[2]=I=>o.messageHover=!o.isSelectingContent&&I),onUpdateOptionsOpened:t[3]||(t[3]=I=>o.optionsOpened=I),onUpdateEmojiOpened:t[4]||(t[4]=I=>o.emojiOpened=I),onMessageActionHandler:i.messageActionHandler,onSendMessageReaction:i.sendMessageReaction},gt({_:2},[et(e.$slots,(I,B)=>({name:B,fn:Ve(R=>[Te(e.$slots,B,ht(dt(R)))])}))]),1032,["current-user-id","message","message-actions","show-reaction-emojis","message-hover","hover-message-id","hover-audio-progress","emoji-data-source","onMessageActionHandler","onSendMessageReaction"])],34),Be(p,{"current-user-id":n.currentUserId,message:n.message,onMessageReactionClick:i.messageReactionClick},null,8,["current-user-id","message","onMessageReactionClick"])],2),Te(e.$slots,"message-failure_"+n.message._id,{},()=>[n.message.failure&&n.message.senderId===n.currentUserId?(K(),J("div",{key:0,class:Qe(["vac-failure-container vac-svg-button",{"vac-failure-container-avatar":n.message.avatar&&n.message.senderId===n.currentUserId}]),onClick:t[8]||(t[8]=I=>e.$emit("open-failed-message",{message:n.message}))},m5,2)):we("",!0)]),n.message.senderId===n.currentUserId?Te(e.$slots,"message-avatar_"+n.message._id,{key:2},()=>[n.message.avatar&&!n.messageSelectionEnabled?(K(),J("div",{key:0,class:"vac-avatar vac-avatar-current",style:_t({"background-image":`url('${n.message.avatar}')`})},null,4)):we("",!0)]):we("",!0),i.hasCurrentUserAvatar&&!n.message.avatar?(K(),J("div",h5)):we("",!0)])])],2))],10,K4)}var g5=vt(X4,[["render",p5]]);const v5={name:"ChatRoom",components:{Loader:xo,SvgIcon:jt,RoomHeader:Lp,RoomFooter:Q_,RoomMessage:g5},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},roomId:{type:[String,Number],required:!0},loadFirstRoom:{type:Boolean,required:!0},messages:{type:Array,required:!0},roomMessage:{type:String,default:null},messagesLoadedTop:{type:Boolean,required:!0},messagesLoadedBottom:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},messageActions:{type:Array,required:!0},messageSelectionActions:{type:Array,required:!0},autoScroll:{type:Object,required:!0},showSendIcon:{type:Boolean,required:!0},showFiles:{type:Boolean,required:!0},showAudio:{type:Boolean,required:!0},audioBitRate:{type:Number,required:!0},audioSampleRate:{type:Number,required:!0},showEmojis:{type:Boolean,required:!0},showReactionEmojis:{type:Boolean,required:!0},showNewMessagesDivider:{type:Boolean,required:!0},showFooter:{type:Boolean,required:!0},acceptedFiles:{type:String,required:!0},captureFiles:{type:String,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},loadingRooms:{type:Boolean,required:!0},roomInfoEnabled:{type:Boolean,required:!0},textareaActionEnabled:{type:Boolean,required:!0},textareaAutoFocus:{type:Boolean,required:!0},userTagsEnabled:{type:Boolean,required:!0},emojisSuggestionEnabled:{type:Boolean,required:!0},scrollDistance:{type:Number,required:!0},templatesText:{type:Array,default:null},usernameOptions:{type:Object,required:!0},emojiDataSource:{type:String,default:void 0},attachmentOptions:{type:Array,required:!0},call:{type:Object,required:!0},textareaHighlight:{type:Boolean,default:!1},externalFiles:{type:Array,required:!1},allowSendingExternalFiles:{type:Boolean,default:null}},emits:["toggle-rooms-list","room-info","menu-action-handler","message-selection-action-handler","edit-message","send-message","delete-message","message-action-handler","fetch-messages-top","fetch-messages-bottom","send-message-reaction","typing-message","open-file","open-user-tag","open-failed-message","textarea-action-handler","message-reaction-click","attachment-picker-handler","return-to-call","request-permission-to-send-external-files","external-files-removed"],data(){return{editedMessageId:null,initReplyMessage:null,initEditMessage:null,isLoadingInitialMessages:!1,observer:null,scrollIcon:!1,scrollMessagesCount:0,newMessages:[],messageSelectionEnabled:!1,selectedMessages:[],droppedFiles:[]}},computed:{room(){return this.rooms.find(e=>e.roomId===this.roomId)||{}},showNoMessages(){return this.roomId&&!this.messages.length&&!this.isLoadingInitialMessages&&!this.loadingRooms},showNoRoom(){const e=!this.rooms.length&&!this.loadingRooms||!this.roomId&&!this.loadFirstRoom;return e&&this.updateIsLoadingInitialMessages(!1),e},showMessagesStarted(){return this.messages.length&&this.messagesLoadedTop},isCallInProgress(){return this.call&&this.call.statusInProgress}},watch:{roomId:{immediate:!0,handler(){this.onRoomChanged()}},messages:{deep:!0,handler(e,t){e.forEach((n,r)=>{this.showNewMessagesDivider&&!n.seen&&n.senderId!==this.currentUserId&&this.newMessages.push({_id:n._id,index:r})}),(t==null?void 0:t.length)===(e==null?void 0:e.length)-1&&(this.newMessages=[]),(t==null?void 0:t.length)===0&&(e==null?void 0:e.length)>0&&this.updateIsLoadingInitialMessages(!1)}},messagesLoadedTop(e){e&&this.updateIsLoadingInitialMessages(!1)},messagesLoadedBottom(e){e&&this.updateIsLoadingInitialMessages(!1)}},mounted(){this.newMessages=[]},methods:{updateIsLoadingInitialMessages(e){this.isLoadingInitialMessages=e,e||setTimeout(()=>this.initIntersectionObserver())},initIntersectionObserver(){this.observer&&this.observer.disconnect();const e=this.$el.querySelector("#infinite-loader-messages-top"),t=this.$el.querySelector("#infinite-loader-messages-bottom");if(e||t){const n={root:this.$el.querySelector("#messages-list"),rootMargin:`${this.scrollDistance}px`,threshold:0};this.observer=new IntersectionObserver(r=>{r.forEach(o=>{const a=o.target.id==="infinite-loader-messages-top"?"top":"bottom";o.isIntersecting&&this.loadMoreMessages(a)})},n),t&&this.observer.observe(t),e&&this.observer.observe(e)}},preventTopScroll(){const e=this.$refs.scrollContainer,t=e.scrollHeight,n=new ResizeObserver(o=>{e.scrollHeight!==t&&this.$refs.scrollContainer&&(this.$refs.scrollContainer.scrollTo({top:e.scrollHeight-t}),n.disconnect())});for(var r=0;r<e.children.length;r++)n.observe(e.children[r])},touchStart(e){if(!this.singleRoom&&e.changedTouches.length===1){const t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY;addEventListener("touchend",r=>this.touchEnd(r,t,n),{once:!0})}},touchEnd(e,t,n){if(e.changedTouches.length===1){const r=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY,i=r-t>100,a=Math.abs(o-n)>50;i&&!a&&this.$emit("toggle-rooms-list")}},onRoomChanged(){this.updateIsLoadingInitialMessages(!0),this.scrollIcon=!1,this.scrollMessagesCount=0,this.resetMessageSelection();const e=this.$watch(()=>this.messages,t=>{if(!t||!t.length)return;const n=this.$refs.scrollContainer;!n||(e(),setTimeout(()=>{n.scrollTo({top:n.scrollHeight}),this.updateIsLoadingInitialMessages(!1)}))})},resetMessageSelection(){this.messageSelectionEnabled=!1,this.selectedMessages=[]},selectMessage(e){this.selectedMessages.push(e)},unselectMessage(e){this.selectedMessages=this.selectedMessages.filter(t=>t._id!==e)},onMessageAdded({message:e,index:t,ref:n}){if(t!==this.messages.length-1)return;const r=n.offsetHeight+60;setTimeout(()=>{const o=this.$refs.scrollContainer;let i=!1;if(o&&(i=this.getBottomScroll(o)>r),e.senderId===this.currentUserId){if(e._id!==e.indexId)return;i?this.autoScroll.send.newAfterScrollUp&&this.scrollToBottom():this.autoScroll.send.new&&this.scrollToBottom()}else i?this.autoScroll.receive.newAfterScrollUp?this.scrollToBottom():(this.scrollIcon=!0,this.scrollMessagesCount++):this.autoScroll.receive.new?this.scrollToBottom():(this.scrollIcon=!0,this.scrollMessagesCount++)})},onContainerScroll(e){if(!e.target)return;const t=this.getBottomScroll(e.target);t<60&&(this.scrollMessagesCount=0),this.scrollIcon=t>500||this.scrollMessagesCount},loadMoreMessages(e){this.isLoadingInitialMessages||setTimeout(()=>{const t=e==="top",n=t&&(this.messagesLoadedTop||!this.roomId),r=!t&&(this.messagesLoadedBottom||!this.roomId);if(n||r)return;const o=t?"fetch-messages-top":"fetch-messages-bottom";t&&this.preventTopScroll(),this.$emit(o)},500)},messageActionHandler({action:e,message:t}){switch(e.name){case"replyMessage":this.initReplyMessage=t,setTimeout(()=>{this.initReplyMessage=null});return;case"editMessage":this.initEditMessage=t,setTimeout(()=>{this.initEditMessage=null});return;case"deleteMessage":return this.$emit("delete-message",t);case"selectMessages":this.selectedMessages=[t],this.messageSelectionEnabled=!0;return;default:return this.$emit("message-action-handler",{action:e,message:t})}},messageSelectionActionHandler(e){this.$emit("message-selection-action-handler",{action:e,messages:this.selectedMessages}),this.resetMessageSelection()},sendMessageReaction(e){this.$emit("send-message-reaction",e)},messageReactionClick(e){this.$emit("message-reaction-click",e)},getBottomScroll(e){const{scrollHeight:t,clientHeight:n,scrollTop:r}=e;return t-n-r},scrollToBottom(){setTimeout(()=>{const e=this.$refs.scrollContainer;e&&(e.classList.add("vac-scroll-smooth"),e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),setTimeout(()=>e.classList.remove("vac-scroll-smooth")))},50)},openFile({message:e,file:t}){this.$emit("open-file",{message:e,file:t})},openUserTag(e){this.$emit("open-user-tag",e)},onDropFiles(e){this.showFiles&&(this.droppedFiles=e.dataTransfer.files)}}},_5={class:"vac-container-center vac-room-empty"},x5={class:"vac-messages-container"},y5={key:0,class:"vac-text-started"},w5={key:1,class:"vac-text-started"},k5={key:0,id:"infinite-loader-messages-top"},S5={key:1,id:"infinite-loader-messages-bottom"},M5={key:2},A5={key:0,class:"vac-badge-counter vac-messages-count"};function E5(e,t,n,r,o,i){const a=Ke("room-header"),l=Ke("loader"),d=Ke("room-message"),f=Ke("svg-icon"),m=Ke("room-footer");return Rn((K(),J("div",{class:"vac-col-messages",onDrop:t[17]||(t[17]=Gt((...c)=>i.onDropFiles&&i.onDropFiles(...c),["prevent"])),onDragenter:t[18]||(t[18]=Gt(()=>{},["prevent"])),onDragover:t[19]||(t[19]=Gt(()=>{},["prevent"])),onDragleave:t[20]||(t[20]=Gt(()=>{},["prevent"])),onTouchstart:t[21]||(t[21]=(...c)=>i.touchStart&&i.touchStart(...c))},[i.showNoRoom?Te(e.$slots,"no-room-selected",{key:0},()=>[oe("div",_5,[oe("div",null,Ue(n.textMessages.ROOM_EMPTY),1)])]):(K(),lt(a,{key:1,"current-user-id":n.currentUserId,"text-messages":n.textMessages,"single-room":n.singleRoom,"show-rooms-list":n.showRoomsList,"is-mobile":n.isMobile,"room-info-enabled":n.roomInfoEnabled,"menu-actions":n.menuActions,room:i.room,"message-selection-enabled":o.messageSelectionEnabled,"message-selection-actions":n.messageSelectionActions,"selected-messages-total":o.selectedMessages.length,call:n.call,onToggleRoomsList:t[0]||(t[0]=c=>e.$emit("toggle-rooms-list")),onRoomInfo:t[1]||(t[1]=c=>e.$emit("room-info")),onMenuActionHandler:t[2]||(t[2]=c=>e.$emit("menu-action-handler",c)),onMessageSelectionActionHandler:i.messageSelectionActionHandler,onCancelMessageSelection:t[3]||(t[3]=c=>o.messageSelectionEnabled=!1),onReturnToCall:t[4]||(t[4]=c=>e.$emit("return-to-call",c))},gt({_:2},[et(e.$slots,(c,p)=>({name:p,fn:Ve(h=>[Te(e.$slots,p,ht(dt(h)))])}))]),1032,["current-user-id","text-messages","single-room","show-rooms-list","is-mobile","room-info-enabled","menu-actions","room","message-selection-enabled","message-selection-actions","selected-messages-total","call","onMessageSelectionActionHandler"])),oe("div",{id:"messages-list",ref:"scrollContainer",class:Qe(["vac-container-scroll",{"vac-room-call-ongoing":i.isCallInProgress}]),onScroll:t[6]||(t[6]=(...c)=>i.onContainerScroll&&i.onContainerScroll(...c))},[Be(l,{show:o.isLoadingInitialMessages,type:"messages"},gt({_:2},[et(e.$slots,(c,p)=>({name:p,fn:Ve(h=>[Te(e.$slots,p,ht(dt(h)))])}))]),1032,["show"]),oe("div",x5,[oe("div",{class:Qe({"vac-messages-hidden":o.isLoadingInitialMessages})},[Be(Rt,{name:"vac-fade-message"},{default:Ve(()=>[oe("div",null,[i.showNoMessages?(K(),J("div",y5,[Te(e.$slots,"messages-empty",{},()=>[_n(Ue(n.textMessages.MESSAGES_EMPTY),1)])])):we("",!0),i.showMessagesStarted?(K(),J("div",w5,Ue(n.textMessages.CONVERSATION_STARTED)+" "+Ue(n.messages[0].date),1)):we("",!0)])]),_:3}),n.messages.length&&!n.messagesLoadedTop?(K(),J("div",k5,[Be(l,{show:!0,infinite:!0,type:"infinite-messages"},gt({_:2},[et(e.$slots,(c,p)=>({name:p,fn:Ve(h=>[Te(e.$slots,p,ht(dt(h)))])}))]),1024)])):we("",!0),(K(),lt(vo,{key:n.roomId,name:"vac-fade-message",tag:"span"},{default:Ve(()=>[(K(!0),J(at,null,et(n.messages,(c,p)=>(K(),J("div",{key:c.indexId||c._id},[Be(d,{"current-user-id":n.currentUserId,message:c,index:p,messages:n.messages,"edited-message-id":o.editedMessageId,"message-actions":n.messageActions,"room-users":i.room.users,"text-messages":n.textMessages,"new-messages":o.newMessages,"show-reaction-emojis":n.showReactionEmojis&&i.room.isCurrentUserInRoom,"show-new-messages-divider":n.showNewMessagesDivider,"text-formatting":n.textFormatting,"link-options":n.linkOptions,"username-options":n.usernameOptions,"message-selection-enabled":o.messageSelectionEnabled,"selected-messages":o.selectedMessages,"emoji-data-source":n.emojiDataSource,onMessageAdded:i.onMessageAdded,onMessageActionHandler:i.messageActionHandler,onOpenFile:i.openFile,onOpenUserTag:i.openUserTag,onOpenFailedMessage:t[5]||(t[5]=h=>e.$emit("open-failed-message",h)),onSendMessageReaction:i.sendMessageReaction,onSelectMessage:i.selectMessage,onUnselectMessage:i.unselectMessage,onMessageReactionClick:i.messageReactionClick},gt({_:2},[et(e.$slots,(h,s)=>({name:s,fn:Ve(I=>[Te(e.$slots,s,ht(dt(I)))])}))]),1032,["current-user-id","message","index","messages","edited-message-id","message-actions","room-users","text-messages","new-messages","show-reaction-emojis","show-new-messages-divider","text-formatting","link-options","username-options","message-selection-enabled","selected-messages","emoji-data-source","onMessageAdded","onMessageActionHandler","onOpenFile","onOpenUserTag","onSendMessageReaction","onSelectMessage","onUnselectMessage","onMessageReactionClick"])]))),128))]),_:3})),n.messages.length&&!n.messagesLoadedBottom?(K(),J("div",S5,[Be(l,{show:!0,infinite:!0,type:"infinite-messages"},gt({_:2},[et(e.$slots,(c,p)=>({name:p,fn:Ve(h=>[Te(e.$slots,p,ht(dt(h)))])}))]),1024)])):we("",!0)],2)])],34),o.isLoadingInitialMessages?we("",!0):(K(),J("div",M5,[Be(Rt,{name:"vac-bounce"},{default:Ve(()=>[o.scrollIcon?(K(),J("div",{key:0,class:"vac-icon-scroll",onClick:t[7]||(t[7]=(...c)=>i.scrollToBottom&&i.scrollToBottom(...c))},[Be(Rt,{name:"vac-bounce"},{default:Ve(()=>[o.scrollMessagesCount?(K(),J("div",A5,Ue(o.scrollMessagesCount),1)):we("",!0)]),_:1}),Te(e.$slots,"scroll-icon",{},()=>[Be(f,{name:"dropdown",param:"scroll"})])])):we("",!0)]),_:3})])),Be(m,{room:i.room,"room-id":n.roomId,"current-user-id":n.currentUserId,"room-message":n.roomMessage,"text-messages":n.textMessages,"show-send-icon":n.showSendIcon,"show-files":n.showFiles,"show-audio":n.showAudio,"show-emojis":n.showEmojis,"show-footer":n.showFooter,"accepted-files":n.acceptedFiles,"capture-files":n.captureFiles,"textarea-action-enabled":n.textareaActionEnabled,"textarea-auto-focus":n.textareaAutoFocus,"user-tags-enabled":n.userTagsEnabled,"emojis-suggestion-enabled":n.emojisSuggestionEnabled,"templates-text":n.templatesText,"text-formatting":n.textFormatting,"link-options":n.linkOptions,"audio-bit-rate":n.audioBitRate,"audio-sample-rate":n.audioSampleRate,"init-reply-message":o.initReplyMessage,"init-edit-message":o.initEditMessage,"dropped-files":o.droppedFiles,"emoji-data-source":n.emojiDataSource,"attachment-options":n.attachmentOptions,"textarea-highlight":n.textareaHighlight,"external-files":n.externalFiles,"allow-sending-external-files":n.allowSendingExternalFiles,onUpdateEditedMessageId:t[8]||(t[8]=c=>o.editedMessageId=c),onEditMessage:t[9]||(t[9]=c=>e.$emit("edit-message",c)),onSendMessage:t[10]||(t[10]=c=>e.$emit("send-message",c)),onTypingMessage:t[11]||(t[11]=c=>e.$emit("typing-message",c)),onTextareaActionHandler:t[12]||(t[12]=c=>e.$emit("textarea-action-handler",c)),onAttachmentPickerHandler:t[13]||(t[13]=c=>e.$emit("attachment-picker-handler",c)),onRequestPermissionToSendExternalFiles:t[14]||(t[14]=c=>e.$emit("request-permission-to-send-external-files",c)),onExternalFilesRemoved:t[15]||(t[15]=c=>e.$emit("external-files-removed",c)),onNewDraftMessage:t[16]||(t[16]=c=>e.$emit("new-draft-message",c))},gt({_:2},[et(e.$slots,(c,p)=>({name:p,fn:Ve(h=>[Te(e.$slots,p,ht(dt(h)))])}))]),1032,["room","room-id","current-user-id","room-message","text-messages","show-send-icon","show-files","show-audio","show-emojis","show-footer","accepted-files","capture-files","textarea-action-enabled","textarea-auto-focus","user-tags-enabled","emojis-suggestion-enabled","templates-text","text-formatting","link-options","audio-bit-rate","audio-sample-rate","init-reply-message","init-edit-message","dropped-files","emoji-data-source","attachment-options","textarea-highlight","external-files","allow-sending-external-files"])],544)),[[_o,n.isMobile&&!n.showRoomsList||!n.isMobile||n.singleRoom]])}var T5=vt(v5,[["render",E5]]);const R5={name:"MediaPreview",components:{SvgIcon:jt},props:{file:{type:Object,required:!0}},emits:["close-media-preview"],computed:{isImage(){return Xr(this.file)},isVideo(){return Mi(this.file)}},mounted(){this.$refs.modal.focus()},methods:{closeModal(){this.$emit("close-media-preview")}}},C5={key:0,class:"vac-media-preview-container"},I5={key:1,class:"vac-media-preview-container"},B5={controls:"",autoplay:""},O5=["src"],F5={class:"vac-svg-button"};function L5(e,t,n,r,o,i){const a=Ke("svg-icon");return K(),J("div",{ref:"modal",tabindex:"0",class:"vac-media-preview",onClick:t[0]||(t[0]=Gt((...l)=>i.closeModal&&i.closeModal(...l),["stop"])),onKeydown:t[1]||(t[1]=rr((...l)=>i.closeModal&&i.closeModal(...l),["esc"]))},[Be(Rt,{name:"vac-bounce-preview",appear:""},{default:Ve(()=>[i.isImage?(K(),J("div",C5,[oe("div",{class:"vac-image-preview",style:_t({"background-image":`url('${n.file.url}')`})},null,4)])):i.isVideo?(K(),J("div",I5,[oe("video",B5,[oe("source",{src:n.file.url},null,8,O5)])])):we("",!0)]),_:1}),oe("div",F5,[Te(e.$slots,"preview-close-icon",{},()=>[Be(a,{name:"close-outline",param:"preview"})])])],544)}var j5=vt(R5,[["render",L5]]),H5={ROOMS_EMPTY:"No rooms",ROOM_EMPTY:"No room selected",NEW_MESSAGES:"New Messages",MESSAGE_DELETED:"This message was deleted",MESSAGES_EMPTY:"No messages",CONVERSATION_STARTED:"Conversation started on:",TYPE_MESSAGE:"Type message",SEARCH:"Search",IS_ONLINE:"is online",LAST_SEEN:"last seen ",IS_TYPING:"is writing...",CANCEL_SELECT_MESSAGE:"Cancel"};const N5={light:{general:{color:"#0a0a0a",colorButtonClear:"#1976d2",colorButton:"#fff",backgroundColorButton:"#1976d2",backgroundInput:"#fff",colorPlaceholder:"#9ca6af",colorCaret:"#1976d2",colorSpinner:"#333",borderStyle:"1px solid #e1e4e8",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#fff",colorRoomName:"#0a0a0a",colorRoomInfo:"#9ca6af"},footer:{background:"#f8f9fa",borderStyleInput:"1px solid #e1e4e8",borderInputSelected:"#1976d2",backgroundReply:"#e5e5e6",backgroundTagActive:"#e5e5e6",backgroundTag:"#f8f9fa"},content:{background:"#f8f9fa"},sidemenu:{background:"#fff",backgroundHover:"#f6f6f6",backgroundActive:"#e5effa",colorActive:"#1976d2",borderColorSearch:"#e1e5e8"},dropdown:{background:"#fff",backgroundHover:"#f6f6f6"},message:{background:"#fff",backgroundMe:"#ccf2cf",color:"#0a0a0a",colorStarted:"#9ca6af",backgroundDeleted:"#dadfe2",backgroundSelected:"#c2dcf2",backgroundSelectedHover:"rgba(202,215,250,0.49)",colorDeleted:"#757e85",colorUsername:"#9ca6af",colorTimestamp:"#828c94",backgroundDate:"#e5effa",colorDate:"#505a62",backgroundSystem:"#e5effa",colorSystem:"#505a62",backgroundMedia:"rgba(0, 0, 0, 0.15)",backgroundReply:"rgba(0, 0, 0, 0.08)",colorReplyUsername:"#0a0a0a",colorReply:"#6e6e6e",colorTag:"#0d579c",backgroundImage:"#ddd",colorNewMessages:"#1976d2",backgroundScrollCounter:"#0696c7",colorScrollCounter:"#fff",backgroundReaction:"#eee",borderStyleReaction:"1px solid #eee",backgroundReactionHover:"#fff",borderStyleReactionHover:"1px solid #ddd",colorReactionCounter:"#0a0a0a",backgroundReactionMe:"#cfecf5",borderStyleReactionMe:"1px solid #3b98b8",backgroundReactionHoverMe:"#cfecf5",borderStyleReactionHoverMe:"1px solid #3b98b8",colorReactionCounterMe:"#0b59b3",backgroundAudioRecord:"#eb4034",backgroundAudioLine:"rgba(0, 0, 0, 0.15)",backgroundAudioProgress:"#455247",backgroundAudioProgressSelector:"#455247",colorFileExtension:"#757e85",forwarded:"#8696a0"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#0a0a0a",colorMessage:"#67717a",colorTimestamp:"#a2aeb8",colorStateOnline:"#4caf50",colorStateOffline:"#9ca6af",backgroundCounterBadge:"#0696c7",colorCounterBadge:"#fff"},emoji:{background:"#fff",search:"#e8e8e8",scroll:"#e8e8e8",scroll_hover:"#d7d7d7"},icons:{search:"#9ca6af",add:"#1976d2",toggle:"#0a0a0a",menu:"#0a0a0a",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#1976d2",closeOutline:"#000",closePreview:"#fff",send:"#1976d2",sendDisabled:"#9ca6af",emoji:"#1976d2",emojiReaction:"rgba(0, 0, 0, 0.3)",document:"#1976d2",pencil:"#9e9e9e",checkmark:"#9e9e9e",checkmarkSeen:"#0696c7",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownRoom:"#9e9e9e",dropdownScroll:"#0a0a0a",microphone:"#1976d2",audioPlay:"#455247",audioPause:"#455247",audioCancel:"#eb4034",audioConfirm:"#1ba65b"}},dark:{general:{color:"#fff",colorButtonClear:"#fff",colorButton:"#fff",backgroundColorButton:"#1976d2",backgroundInput:"#202223",colorPlaceholder:"#596269",colorCaret:"#fff",colorSpinner:"#fff",borderStyle:"none",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#181a1b",colorRoomName:"#fff",colorRoomInfo:"#9ca6af"},footer:{background:"#131415",borderStyleInput:"none",borderInputSelected:"#1976d2",backgroundReply:"#1b1c1c",backgroundTagActive:"#1b1c1c",backgroundTag:"#131415"},content:{background:"#131415"},sidemenu:{background:"#181a1b",backgroundHover:"#202224",backgroundActive:"#151617",colorActive:"#fff",borderColorSearch:"#181a1b"},dropdown:{background:"#2a2c33",backgroundHover:"#26282e"},message:{background:"#22242a",backgroundMe:"#1f7e80",color:"#fff",colorStarted:"#9ca6af",backgroundDeleted:"#1b1c21",backgroundSelected:"#29365f",backgroundSelectedHover:"rgba(32,42,72,0.62)",colorDeleted:"#a2a5a8",colorUsername:"#b3bac9",colorTimestamp:"#ebedf2",backgroundDate:"rgba(0, 0, 0, 0.3)",colorDate:"#bec5cc",backgroundSystem:"rgba(0, 0, 0, 0.3)",colorSystem:"#bec5cc",backgroundMedia:"rgba(0, 0, 0, 0.18)",backgroundReply:"rgba(0, 0, 0, 0.18)",colorReplyUsername:"#fff",colorReply:"#d6d6d6",colorTag:"#f0c60a",backgroundImage:"#ddd",colorNewMessages:"#fff",backgroundScrollCounter:"#1976d2",colorScrollCounter:"#fff",backgroundReaction:"none",borderStyleReaction:"none",backgroundReactionHover:"#202223",borderStyleReactionHover:"none",colorReactionCounter:"#fff",backgroundReactionMe:"#4e9ad1",borderStyleReactionMe:"none",backgroundReactionHoverMe:"#4e9ad1",borderStyleReactionHoverMe:"none",colorReactionCounterMe:"#fff",backgroundAudioRecord:"#eb4034",backgroundAudioLine:"rgba(255, 255, 255, 0.15)",backgroundAudioProgress:"#b7d4d3",backgroundAudioProgressSelector:"#b7d4d3",colorFileExtension:"#a2a5a8",forwarded:"rgba(255, 255, 255, 0.6)"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#fff",colorMessage:"#6c7278",colorTimestamp:"#6c7278",colorStateOnline:"#4caf50",colorStateOffline:"#596269",backgroundCounterBadge:"#1976d2",colorCounterBadge:"#fff"},emoji:{background:"#343740",search:"#161d31",scroll:"#161d31",scroll_hover:"#7367f0"},icons:{search:"#596269",add:"#fff",toggle:"#fff",menu:"#fff",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#fff",closeOutline:"#fff",closePreview:"#fff",send:"#fff",sendDisabled:"#646a70",emoji:"#fff",emojiReaction:"#fff",document:"#1976d2",pencil:"#ebedf2",checkmark:"#ebedf2",checkmarkSeen:"#f0d90a",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownRoom:"#fff",dropdownScroll:"#0a0a0a",microphone:"#fff",audioPlay:"#b7d4d3",audioPause:"#b7d4d3",audioCancel:"#eb4034",audioConfirm:"#1ba65b"}}},D5=({general:e,container:t,header:n,footer:r,sidemenu:o,content:i,dropdown:a,message:l,markdown:d,room:f,emoji:m,icons:c})=>({"--chat-color":e.color,"--chat-color-button-clear":e.colorButtonClear,"--chat-color-button":e.colorButton,"--chat-bg-color-button":e.backgroundColorButton,"--chat-bg-color-input":e.backgroundInput,"--chat-color-spinner":e.colorSpinner,"--chat-color-placeholder":e.colorPlaceholder,"--chat-color-caret":e.colorCaret,"--chat-border-style":e.borderStyle,"--chat-bg-scroll-icon":e.backgroundScrollIcon,"--chat-container-border":t.border,"--chat-container-border-radius":t.borderRadius,"--chat-container-box-shadow":t.boxShadow,"--chat-header-bg-color":n.background,"--chat-header-color-name":n.colorRoomName,"--chat-header-color-info":n.colorRoomInfo,"--chat-footer-bg-color":r.background,"--chat-border-style-input":r.borderStyleInput,"--chat-border-color-input-selected":r.borderInputSelected,"--chat-footer-bg-color-reply":r.backgroundReply,"--chat-footer-bg-color-tag-active":r.backgroundTagActive,"--chat-footer-bg-color-tag":r.backgroundTag,"--chat-content-bg-color":i.background,"--chat-sidemenu-bg-color":o.background,"--chat-sidemenu-bg-color-hover":o.backgroundHover,"--chat-sidemenu-bg-color-active":o.backgroundActive,"--chat-sidemenu-color-active":o.colorActive,"--chat-sidemenu-border-color-search":o.borderColorSearch,"--chat-dropdown-bg-color":a.background,"--chat-dropdown-bg-color-hover":a.backgroundHover,"--chat-message-bg-color":l.background,"--chat-message-bg-color-me":l.backgroundMe,"--chat-message-color-started":l.colorStarted,"--chat-message-bg-color-deleted":l.backgroundDeleted,"--chat-message-bg-color-selected":l.backgroundSelected,"--chat-message-bg-color-selected-hover":l.backgroundSelectedHover,"--chat-message-color-deleted":l.colorDeleted,"--chat-message-color-username":l.colorUsername,"--chat-message-color-forwarded":l.forwarded,"--chat-message-color-timestamp":l.colorTimestamp,"--chat-message-bg-color-date":l.backgroundDate,"--chat-message-color-date":l.colorDate,"--chat-message-bg-color-system":l.backgroundSystem,"--chat-message-color-system":l.colorSystem,"--chat-message-color":l.color,"--chat-message-bg-color-media":l.backgroundMedia,"--chat-message-bg-color-reply":l.backgroundReply,"--chat-message-color-reply-username":l.colorReplyUsername,"--chat-message-color-reply-content":l.colorReply,"--chat-message-color-tag":l.colorTag,"--chat-message-bg-color-image":l.backgroundImage,"--chat-message-color-new-messages":l.colorNewMessages,"--chat-message-bg-color-scroll-counter":l.backgroundScrollCounter,"--chat-message-color-scroll-counter":l.colorScrollCounter,"--chat-message-bg-color-reaction":l.backgroundReaction,"--chat-message-border-style-reaction":l.borderStyleReaction,"--chat-message-bg-color-reaction-hover":l.backgroundReactionHover,"--chat-message-border-style-reaction-hover":l.borderStyleReactionHover,"--chat-message-color-reaction-counter":l.colorReactionCounter,"--chat-message-bg-color-reaction-me":l.backgroundReactionMe,"--chat-message-border-style-reaction-me":l.borderStyleReactionMe,"--chat-message-bg-color-reaction-hover-me":l.backgroundReactionHoverMe,"--chat-message-border-style-reaction-hover-me":l.borderStyleReactionHoverMe,"--chat-message-color-reaction-counter-me":l.colorReactionCounterMe,"--chat-message-bg-color-audio-record":l.backgroundAudioRecord,"--chat-message-bg-color-audio-line":l.backgroundAudioLine,"--chat-message-bg-color-audio-progress":l.backgroundAudioProgress,"--chat-message-bg-color-audio-progress-selector":l.backgroundAudioProgressSelector,"--chat-message-color-file-extension":l.colorFileExtension,"--chat-markdown-bg":d.background,"--chat-markdown-border":d.border,"--chat-markdown-color":d.color,"--chat-markdown-color-multi":d.colorMulti,"--chat-room-color-username":f.colorUsername,"--chat-room-color-message":f.colorMessage,"--chat-room-color-timestamp":f.colorTimestamp,"--chat-room-color-online":f.colorStateOnline,"--chat-room-color-offline":f.colorStateOffline,"--chat-room-bg-color-badge":f.backgroundCounterBadge,"--chat-room-color-badge":f.colorCounterBadge,"--chat-emoji-bg-color":m.background,"--chat-emoji-search-color":m.search,"--chat-emoji-scroll-color":m.scroll,"--chat-emoji-scroll-color-hover":m.scroll_hover,"--chat-icon-color-search":c.search,"--chat-icon-color-add":c.add,"--chat-icon-color-toggle":c.toggle,"--chat-icon-color-menu":c.menu,"--chat-icon-color-close":c.close,"--chat-icon-color-close-image":c.closeImage,"--chat-icon-color-file":c.file,"--chat-icon-color-paperclip":c.paperclip,"--chat-icon-color-close-outline":c.closeOutline,"--chat-icon-color-close-preview":c.closePreview,"--chat-icon-color-send":c.send,"--chat-icon-color-send-disabled":c.sendDisabled,"--chat-icon-color-emoji":c.emoji,"--chat-icon-color-emoji-reaction":c.emojiReaction,"--chat-icon-color-document":c.document,"--chat-icon-color-pencil":c.pencil,"--chat-icon-color-checkmark":c.checkmark,"--chat-icon-color-checkmark-seen":c.checkmarkSeen,"--chat-icon-color-eye":c.eye,"--chat-icon-color-dropdown-message":c.dropdownMessage,"--chat-icon-bg-dropdown-message":c.dropdownMessageBackground,"--chat-icon-color-dropdown-room":c.dropdownRoom,"--chat-icon-color-dropdown-scroll":c.dropdownScroll,"--chat-icon-color-microphone":c.microphone,"--chat-icon-color-audio-play":c.audioPlay,"--chat-icon-color-audio-pause":c.audioPause,"--chat-icon-color-audio-cancel":c.audioCancel,"--chat-icon-color-audio-confirm":c.audioConfirm});var q5=`@charset "UTF-8";.vac-fade-spinner-enter-from{opacity:0}.vac-fade-spinner-enter-active{transition:opacity .8s}.vac-fade-spinner-leave-active{transition:opacity .2s;opacity:0}.vac-fade-image-enter-from{opacity:0}.vac-fade-image-enter-active{transition:opacity 1s}.vac-fade-image-leave-active{transition:opacity .5s;opacity:0}.vac-fade-message-enter-from{opacity:0}.vac-fade-message-enter-active{transition:opacity .5s}.vac-fade-message-leave-active{transition:opacity .2s;opacity:0}.vac-slide-left-enter-active,.vac-slide-right-enter-active{transition:all .3s ease;transition-property:transform,opacity}.vac-slide-left-leave-active,.vac-slide-right-leave-active{transition:all .2s cubic-bezier(1,.5,.8,1)!important;transition-property:transform,opacity}.vac-slide-left-enter-from,.vac-slide-left-leave-to{transform:translate(10px);opacity:0}.vac-slide-right-enter-from,.vac-slide-right-leave-to{transform:translate(-10px);opacity:0}.vac-slide-up-enter-active{transition:all .3s ease}.vac-slide-up-leave-active{transition:all .2s cubic-bezier(1,.5,.8,1)}.vac-slide-up-enter-from,.vac-slide-up-leave-to{transform:translateY(10px);opacity:0}.vac-bounce-enter-active{animation:vac-bounce-in .5s}.vac-bounce-leave-active{animation:vac-bounce-in .3s reverse}@keyframes vac-bounce-in{0%{transform:scale(0)}50%{transform:scale(1.05)}to{transform:scale(1)}}.vac-fade-preview-enter{opacity:0}.vac-fade-preview-enter-active{transition:opacity .1s}.vac-fade-preview-leave-active{transition:opacity .2s;opacity:0}.vac-bounce-preview-enter-active{animation:vac-bounce-image-in .4s}.vac-bounce-preview-leave-active{animation:vac-bounce-image-in .3s reverse}@keyframes vac-bounce-image-in{0%{transform:scale(.6)}to{transform:scale(1)}}.vac-menu-list{border-radius:4px;display:block;cursor:pointer;background:var(--chat-dropdown-bg-color);padding:6px 0}.vac-menu-list :hover{background:var(--chat-dropdown-bg-color-hover);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-menu-list :not(:hover){transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-menu-item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;min-height:30px;padding:5px 16px;position:relative;white-space:nowrap;line-height:30px}.vac-menu-options{position:absolute;right:10px;top:20px;z-index:9999;min-width:150px;display:inline-block;border-radius:4px;font-size:14px;color:var(--chat-color);overflow-y:auto;overflow-x:hidden;contain:content;box-shadow:0 2px 2px -4px #0000001a,0 2px 2px 1px #0000001f,0 1px 8px 1px #0000001f}.vac-app-border{border:var(--chat-border-style)}.vac-app-border-t{border-top:var(--chat-border-style)}.vac-app-border-r{border-right:var(--chat-border-style)}.vac-app-border-b{border-bottom:var(--chat-border-style)}.vac-app-box-shadow{transition:all .5s;box-shadow:0 2px 2px -4px #0000001a,0 2px 2px 1px #0000001f,0 1px 8px 1px #0000001f}.vac-item-clickable{cursor:pointer}.vac-vertical-center{display:flex;align-items:center;height:100%}.vac-vertical-center .vac-vertical-container{width:100%;text-align:center}.vac-svg-button{max-height:30px;display:flex;cursor:pointer;transition:all .2s}.vac-svg-button:hover{transform:scale(1.1);opacity:.7}.vac-avatar{background-size:cover;background-position:center center;background-repeat:no-repeat;background-color:#ddd;height:42px;width:42px;min-height:42px;min-width:42px;margin-right:15px;border-radius:50%}.vac-blur-loading{filter:blur(3px)}.vac-badge-counter{height:13px;width:auto;min-width:13px;border-radius:50%;display:flex;align-items:center;justify-content:center;padding:3px;font-size:11px;font-weight:500}.vac-text-ellipsis{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vac-text-tag{color:var(--chat-message-color-tag);cursor:pointer}.vac-file-container{display:flex;align-content:center;justify-content:center;flex-wrap:wrap;text-align:center;background:var(--chat-bg-color-input);border:var(--chat-border-style-input);border-radius:4px;padding:10px}.vac-file-container svg{height:28px;width:28px}.vac-file-container .vac-text-extension{font-size:12px;color:var(--chat-message-color-file-extension);margin-top:-2px}.markdown p{margin:0}.markdown ol{display:flex;flex-direction:column;list-style-position:inside}.markdown ul{display:flex;flex-direction:column}.markdown code{display:block;font-size:12px;color:var(--chat-markdown-color-multi);background:var(--chat-markdown-bg);border:1px solid var(--chat-markdown-border);border-radius:3px;margin:4px 0;padding:7px}.markdown p code{display:inline-block;font-size:12px;color:var(--chat-markdown-color);background:var(--chat-markdown-bg);border:1px solid var(--chat-markdown-border);border-radius:3px;margin:2px 0;padding:2px 3px}/*!
 * Bootstrap Icons v1.11.1 (https://icons.getbootstrap.com/)
 * Copyright 2019-2023 The Bootstrap Authors
 * Licensed under MIT (https://github.com/twbs/icons/blob/main/LICENSE)
 */@font-face{font-display:block;font-family:bootstrap-icons;src:url(./fonts/bootstrap-icons.woff2?24e3eb84d0bcaf83d77f904c78ac1f47) format("woff2"),url(./fonts/bootstrap-icons.woff?24e3eb84d0bcaf83d77f904c78ac1f47) format("woff")}.bi:before,[class^=bi-]:before,[class*=" bi-"]:before{display:inline-block;font-family:bootstrap-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;line-height:1;vertical-align:-.125em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.bi-123:before{content:"\\f67f"}.bi-alarm-fill:before{content:"\\f101"}.bi-alarm:before{content:"\\f102"}.bi-align-bottom:before{content:"\\f103"}.bi-align-center:before{content:"\\f104"}.bi-align-end:before{content:"\\f105"}.bi-align-middle:before{content:"\\f106"}.bi-align-start:before{content:"\\f107"}.bi-align-top:before{content:"\\f108"}.bi-alt:before{content:"\\f109"}.bi-app-indicator:before{content:"\\f10a"}.bi-app:before{content:"\\f10b"}.bi-archive-fill:before{content:"\\f10c"}.bi-archive:before{content:"\\f10d"}.bi-arrow-90deg-down:before{content:"\\f10e"}.bi-arrow-90deg-left:before{content:"\\f10f"}.bi-arrow-90deg-right:before{content:"\\f110"}.bi-arrow-90deg-up:before{content:"\\f111"}.bi-arrow-bar-down:before{content:"\\f112"}.bi-arrow-bar-left:before{content:"\\f113"}.bi-arrow-bar-right:before{content:"\\f114"}.bi-arrow-bar-up:before{content:"\\f115"}.bi-arrow-clockwise:before{content:"\\f116"}.bi-arrow-counterclockwise:before{content:"\\f117"}.bi-arrow-down-circle-fill:before{content:"\\f118"}.bi-arrow-down-circle:before{content:"\\f119"}.bi-arrow-down-left-circle-fill:before{content:"\\f11a"}.bi-arrow-down-left-circle:before{content:"\\f11b"}.bi-arrow-down-left-square-fill:before{content:"\\f11c"}.bi-arrow-down-left-square:before{content:"\\f11d"}.bi-arrow-down-left:before{content:"\\f11e"}.bi-arrow-down-right-circle-fill:before{content:"\\f11f"}.bi-arrow-down-right-circle:before{content:"\\f120"}.bi-arrow-down-right-square-fill:before{content:"\\f121"}.bi-arrow-down-right-square:before{content:"\\f122"}.bi-arrow-down-right:before{content:"\\f123"}.bi-arrow-down-short:before{content:"\\f124"}.bi-arrow-down-square-fill:before{content:"\\f125"}.bi-arrow-down-square:before{content:"\\f126"}.bi-arrow-down-up:before{content:"\\f127"}.bi-arrow-down:before{content:"\\f128"}.bi-arrow-left-circle-fill:before{content:"\\f129"}.bi-arrow-left-circle:before{content:"\\f12a"}.bi-arrow-left-right:before{content:"\\f12b"}.bi-arrow-left-short:before{content:"\\f12c"}.bi-arrow-left-square-fill:before{content:"\\f12d"}.bi-arrow-left-square:before{content:"\\f12e"}.bi-arrow-left:before{content:"\\f12f"}.bi-arrow-repeat:before{content:"\\f130"}.bi-arrow-return-left:before{content:"\\f131"}.bi-arrow-return-right:before{content:"\\f132"}.bi-arrow-right-circle-fill:before{content:"\\f133"}.bi-arrow-right-circle:before{content:"\\f134"}.bi-arrow-right-short:before{content:"\\f135"}.bi-arrow-right-square-fill:before{content:"\\f136"}.bi-arrow-right-square:before{content:"\\f137"}.bi-arrow-right:before{content:"\\f138"}.bi-arrow-up-circle-fill:before{content:"\\f139"}.bi-arrow-up-circle:before{content:"\\f13a"}.bi-arrow-up-left-circle-fill:before{content:"\\f13b"}.bi-arrow-up-left-circle:before{content:"\\f13c"}.bi-arrow-up-left-square-fill:before{content:"\\f13d"}.bi-arrow-up-left-square:before{content:"\\f13e"}.bi-arrow-up-left:before{content:"\\f13f"}.bi-arrow-up-right-circle-fill:before{content:"\\f140"}.bi-arrow-up-right-circle:before{content:"\\f141"}.bi-arrow-up-right-square-fill:before{content:"\\f142"}.bi-arrow-up-right-square:before{content:"\\f143"}.bi-arrow-up-right:before{content:"\\f144"}.bi-arrow-up-short:before{content:"\\f145"}.bi-arrow-up-square-fill:before{content:"\\f146"}.bi-arrow-up-square:before{content:"\\f147"}.bi-arrow-up:before{content:"\\f148"}.bi-arrows-angle-contract:before{content:"\\f149"}.bi-arrows-angle-expand:before{content:"\\f14a"}.bi-arrows-collapse:before{content:"\\f14b"}.bi-arrows-expand:before{content:"\\f14c"}.bi-arrows-fullscreen:before{content:"\\f14d"}.bi-arrows-move:before{content:"\\f14e"}.bi-aspect-ratio-fill:before{content:"\\f14f"}.bi-aspect-ratio:before{content:"\\f150"}.bi-asterisk:before{content:"\\f151"}.bi-at:before{content:"\\f152"}.bi-award-fill:before{content:"\\f153"}.bi-award:before{content:"\\f154"}.bi-back:before{content:"\\f155"}.bi-backspace-fill:before{content:"\\f156"}.bi-backspace-reverse-fill:before{content:"\\f157"}.bi-backspace-reverse:before{content:"\\f158"}.bi-backspace:before{content:"\\f159"}.bi-badge-3d-fill:before{content:"\\f15a"}.bi-badge-3d:before{content:"\\f15b"}.bi-badge-4k-fill:before{content:"\\f15c"}.bi-badge-4k:before{content:"\\f15d"}.bi-badge-8k-fill:before{content:"\\f15e"}.bi-badge-8k:before{content:"\\f15f"}.bi-badge-ad-fill:before{content:"\\f160"}.bi-badge-ad:before{content:"\\f161"}.bi-badge-ar-fill:before{content:"\\f162"}.bi-badge-ar:before{content:"\\f163"}.bi-badge-cc-fill:before{content:"\\f164"}.bi-badge-cc:before{content:"\\f165"}.bi-badge-hd-fill:before{content:"\\f166"}.bi-badge-hd:before{content:"\\f167"}.bi-badge-tm-fill:before{content:"\\f168"}.bi-badge-tm:before{content:"\\f169"}.bi-badge-vo-fill:before{content:"\\f16a"}.bi-badge-vo:before{content:"\\f16b"}.bi-badge-vr-fill:before{content:"\\f16c"}.bi-badge-vr:before{content:"\\f16d"}.bi-badge-wc-fill:before{content:"\\f16e"}.bi-badge-wc:before{content:"\\f16f"}.bi-bag-check-fill:before{content:"\\f170"}.bi-bag-check:before{content:"\\f171"}.bi-bag-dash-fill:before{content:"\\f172"}.bi-bag-dash:before{content:"\\f173"}.bi-bag-fill:before{content:"\\f174"}.bi-bag-plus-fill:before{content:"\\f175"}.bi-bag-plus:before{content:"\\f176"}.bi-bag-x-fill:before{content:"\\f177"}.bi-bag-x:before{content:"\\f178"}.bi-bag:before{content:"\\f179"}.bi-bar-chart-fill:before{content:"\\f17a"}.bi-bar-chart-line-fill:before{content:"\\f17b"}.bi-bar-chart-line:before{content:"\\f17c"}.bi-bar-chart-steps:before{content:"\\f17d"}.bi-bar-chart:before{content:"\\f17e"}.bi-basket-fill:before{content:"\\f17f"}.bi-basket:before{content:"\\f180"}.bi-basket2-fill:before{content:"\\f181"}.bi-basket2:before{content:"\\f182"}.bi-basket3-fill:before{content:"\\f183"}.bi-basket3:before{content:"\\f184"}.bi-battery-charging:before{content:"\\f185"}.bi-battery-full:before{content:"\\f186"}.bi-battery-half:before{content:"\\f187"}.bi-battery:before{content:"\\f188"}.bi-bell-fill:before{content:"\\f189"}.bi-bell:before{content:"\\f18a"}.bi-bezier:before{content:"\\f18b"}.bi-bezier2:before{content:"\\f18c"}.bi-bicycle:before{content:"\\f18d"}.bi-binoculars-fill:before{content:"\\f18e"}.bi-binoculars:before{content:"\\f18f"}.bi-blockquote-left:before{content:"\\f190"}.bi-blockquote-right:before{content:"\\f191"}.bi-book-fill:before{content:"\\f192"}.bi-book-half:before{content:"\\f193"}.bi-book:before{content:"\\f194"}.bi-bookmark-check-fill:before{content:"\\f195"}.bi-bookmark-check:before{content:"\\f196"}.bi-bookmark-dash-fill:before{content:"\\f197"}.bi-bookmark-dash:before{content:"\\f198"}.bi-bookmark-fill:before{content:"\\f199"}.bi-bookmark-heart-fill:before{content:"\\f19a"}.bi-bookmark-heart:before{content:"\\f19b"}.bi-bookmark-plus-fill:before{content:"\\f19c"}.bi-bookmark-plus:before{content:"\\f19d"}.bi-bookmark-star-fill:before{content:"\\f19e"}.bi-bookmark-star:before{content:"\\f19f"}.bi-bookmark-x-fill:before{content:"\\f1a0"}.bi-bookmark-x:before{content:"\\f1a1"}.bi-bookmark:before{content:"\\f1a2"}.bi-bookmarks-fill:before{content:"\\f1a3"}.bi-bookmarks:before{content:"\\f1a4"}.bi-bookshelf:before{content:"\\f1a5"}.bi-bootstrap-fill:before{content:"\\f1a6"}.bi-bootstrap-reboot:before{content:"\\f1a7"}.bi-bootstrap:before{content:"\\f1a8"}.bi-border-all:before{content:"\\f1a9"}.bi-border-bottom:before{content:"\\f1aa"}.bi-border-center:before{content:"\\f1ab"}.bi-border-inner:before{content:"\\f1ac"}.bi-border-left:before{content:"\\f1ad"}.bi-border-middle:before{content:"\\f1ae"}.bi-border-outer:before{content:"\\f1af"}.bi-border-right:before{content:"\\f1b0"}.bi-border-style:before{content:"\\f1b1"}.bi-border-top:before{content:"\\f1b2"}.bi-border-width:before{content:"\\f1b3"}.bi-border:before{content:"\\f1b4"}.bi-bounding-box-circles:before{content:"\\f1b5"}.bi-bounding-box:before{content:"\\f1b6"}.bi-box-arrow-down-left:before{content:"\\f1b7"}.bi-box-arrow-down-right:before{content:"\\f1b8"}.bi-box-arrow-down:before{content:"\\f1b9"}.bi-box-arrow-in-down-left:before{content:"\\f1ba"}.bi-box-arrow-in-down-right:before{content:"\\f1bb"}.bi-box-arrow-in-down:before{content:"\\f1bc"}.bi-box-arrow-in-left:before{content:"\\f1bd"}.bi-box-arrow-in-right:before{content:"\\f1be"}.bi-box-arrow-in-up-left:before{content:"\\f1bf"}.bi-box-arrow-in-up-right:before{content:"\\f1c0"}.bi-box-arrow-in-up:before{content:"\\f1c1"}.bi-box-arrow-left:before{content:"\\f1c2"}.bi-box-arrow-right:before{content:"\\f1c3"}.bi-box-arrow-up-left:before{content:"\\f1c4"}.bi-box-arrow-up-right:before{content:"\\f1c5"}.bi-box-arrow-up:before{content:"\\f1c6"}.bi-box-seam:before{content:"\\f1c7"}.bi-box:before{content:"\\f1c8"}.bi-braces:before{content:"\\f1c9"}.bi-bricks:before{content:"\\f1ca"}.bi-briefcase-fill:before{content:"\\f1cb"}.bi-briefcase:before{content:"\\f1cc"}.bi-brightness-alt-high-fill:before{content:"\\f1cd"}.bi-brightness-alt-high:before{content:"\\f1ce"}.bi-brightness-alt-low-fill:before{content:"\\f1cf"}.bi-brightness-alt-low:before{content:"\\f1d0"}.bi-brightness-high-fill:before{content:"\\f1d1"}.bi-brightness-high:before{content:"\\f1d2"}.bi-brightness-low-fill:before{content:"\\f1d3"}.bi-brightness-low:before{content:"\\f1d4"}.bi-broadcast-pin:before{content:"\\f1d5"}.bi-broadcast:before{content:"\\f1d6"}.bi-brush-fill:before{content:"\\f1d7"}.bi-brush:before{content:"\\f1d8"}.bi-bucket-fill:before{content:"\\f1d9"}.bi-bucket:before{content:"\\f1da"}.bi-bug-fill:before{content:"\\f1db"}.bi-bug:before{content:"\\f1dc"}.bi-building:before{content:"\\f1dd"}.bi-bullseye:before{content:"\\f1de"}.bi-calculator-fill:before{content:"\\f1df"}.bi-calculator:before{content:"\\f1e0"}.bi-calendar-check-fill:before{content:"\\f1e1"}.bi-calendar-check:before{content:"\\f1e2"}.bi-calendar-date-fill:before{content:"\\f1e3"}.bi-calendar-date:before{content:"\\f1e4"}.bi-calendar-day-fill:before{content:"\\f1e5"}.bi-calendar-day:before{content:"\\f1e6"}.bi-calendar-event-fill:before{content:"\\f1e7"}.bi-calendar-event:before{content:"\\f1e8"}.bi-calendar-fill:before{content:"\\f1e9"}.bi-calendar-minus-fill:before{content:"\\f1ea"}.bi-calendar-minus:before{content:"\\f1eb"}.bi-calendar-month-fill:before{content:"\\f1ec"}.bi-calendar-month:before{content:"\\f1ed"}.bi-calendar-plus-fill:before{content:"\\f1ee"}.bi-calendar-plus:before{content:"\\f1ef"}.bi-calendar-range-fill:before{content:"\\f1f0"}.bi-calendar-range:before{content:"\\f1f1"}.bi-calendar-week-fill:before{content:"\\f1f2"}.bi-calendar-week:before{content:"\\f1f3"}.bi-calendar-x-fill:before{content:"\\f1f4"}.bi-calendar-x:before{content:"\\f1f5"}.bi-calendar:before{content:"\\f1f6"}.bi-calendar2-check-fill:before{content:"\\f1f7"}.bi-calendar2-check:before{content:"\\f1f8"}.bi-calendar2-date-fill:before{content:"\\f1f9"}.bi-calendar2-date:before{content:"\\f1fa"}.bi-calendar2-day-fill:before{content:"\\f1fb"}.bi-calendar2-day:before{content:"\\f1fc"}.bi-calendar2-event-fill:before{content:"\\f1fd"}.bi-calendar2-event:before{content:"\\f1fe"}.bi-calendar2-fill:before{content:"\\f1ff"}.bi-calendar2-minus-fill:before{content:"\\f200"}.bi-calendar2-minus:before{content:"\\f201"}.bi-calendar2-month-fill:before{content:"\\f202"}.bi-calendar2-month:before{content:"\\f203"}.bi-calendar2-plus-fill:before{content:"\\f204"}.bi-calendar2-plus:before{content:"\\f205"}.bi-calendar2-range-fill:before{content:"\\f206"}.bi-calendar2-range:before{content:"\\f207"}.bi-calendar2-week-fill:before{content:"\\f208"}.bi-calendar2-week:before{content:"\\f209"}.bi-calendar2-x-fill:before{content:"\\f20a"}.bi-calendar2-x:before{content:"\\f20b"}.bi-calendar2:before{content:"\\f20c"}.bi-calendar3-event-fill:before{content:"\\f20d"}.bi-calendar3-event:before{content:"\\f20e"}.bi-calendar3-fill:before{content:"\\f20f"}.bi-calendar3-range-fill:before{content:"\\f210"}.bi-calendar3-range:before{content:"\\f211"}.bi-calendar3-week-fill:before{content:"\\f212"}.bi-calendar3-week:before{content:"\\f213"}.bi-calendar3:before{content:"\\f214"}.bi-calendar4-event:before{content:"\\f215"}.bi-calendar4-range:before{content:"\\f216"}.bi-calendar4-week:before{content:"\\f217"}.bi-calendar4:before{content:"\\f218"}.bi-camera-fill:before{content:"\\f219"}.bi-camera-reels-fill:before{content:"\\f21a"}.bi-camera-reels:before{content:"\\f21b"}.bi-camera-video-fill:before{content:"\\f21c"}.bi-camera-video-off-fill:before{content:"\\f21d"}.bi-camera-video-off:before{content:"\\f21e"}.bi-camera-video:before{content:"\\f21f"}.bi-camera:before{content:"\\f220"}.bi-camera2:before{content:"\\f221"}.bi-capslock-fill:before{content:"\\f222"}.bi-capslock:before{content:"\\f223"}.bi-card-checklist:before{content:"\\f224"}.bi-card-heading:before{content:"\\f225"}.bi-card-image:before{content:"\\f226"}.bi-card-list:before{content:"\\f227"}.bi-card-text:before{content:"\\f228"}.bi-caret-down-fill:before{content:"\\f229"}.bi-caret-down-square-fill:before{content:"\\f22a"}.bi-caret-down-square:before{content:"\\f22b"}.bi-caret-down:before{content:"\\f22c"}.bi-caret-left-fill:before{content:"\\f22d"}.bi-caret-left-square-fill:before{content:"\\f22e"}.bi-caret-left-square:before{content:"\\f22f"}.bi-caret-left:before{content:"\\f230"}.bi-caret-right-fill:before{content:"\\f231"}.bi-caret-right-square-fill:before{content:"\\f232"}.bi-caret-right-square:before{content:"\\f233"}.bi-caret-right:before{content:"\\f234"}.bi-caret-up-fill:before{content:"\\f235"}.bi-caret-up-square-fill:before{content:"\\f236"}.bi-caret-up-square:before{content:"\\f237"}.bi-caret-up:before{content:"\\f238"}.bi-cart-check-fill:before{content:"\\f239"}.bi-cart-check:before{content:"\\f23a"}.bi-cart-dash-fill:before{content:"\\f23b"}.bi-cart-dash:before{content:"\\f23c"}.bi-cart-fill:before{content:"\\f23d"}.bi-cart-plus-fill:before{content:"\\f23e"}.bi-cart-plus:before{content:"\\f23f"}.bi-cart-x-fill:before{content:"\\f240"}.bi-cart-x:before{content:"\\f241"}.bi-cart:before{content:"\\f242"}.bi-cart2:before{content:"\\f243"}.bi-cart3:before{content:"\\f244"}.bi-cart4:before{content:"\\f245"}.bi-cash-stack:before{content:"\\f246"}.bi-cash:before{content:"\\f247"}.bi-cast:before{content:"\\f248"}.bi-chat-dots-fill:before{content:"\\f249"}.bi-chat-dots:before{content:"\\f24a"}.bi-chat-fill:before{content:"\\f24b"}.bi-chat-left-dots-fill:before{content:"\\f24c"}.bi-chat-left-dots:before{content:"\\f24d"}.bi-chat-left-fill:before{content:"\\f24e"}.bi-chat-left-quote-fill:before{content:"\\f24f"}.bi-chat-left-quote:before{content:"\\f250"}.bi-chat-left-text-fill:before{content:"\\f251"}.bi-chat-left-text:before{content:"\\f252"}.bi-chat-left:before{content:"\\f253"}.bi-chat-quote-fill:before{content:"\\f254"}.bi-chat-quote:before{content:"\\f255"}.bi-chat-right-dots-fill:before{content:"\\f256"}.bi-chat-right-dots:before{content:"\\f257"}.bi-chat-right-fill:before{content:"\\f258"}.bi-chat-right-quote-fill:before{content:"\\f259"}.bi-chat-right-quote:before{content:"\\f25a"}.bi-chat-right-text-fill:before{content:"\\f25b"}.bi-chat-right-text:before{content:"\\f25c"}.bi-chat-right:before{content:"\\f25d"}.bi-chat-square-dots-fill:before{content:"\\f25e"}.bi-chat-square-dots:before{content:"\\f25f"}.bi-chat-square-fill:before{content:"\\f260"}.bi-chat-square-quote-fill:before{content:"\\f261"}.bi-chat-square-quote:before{content:"\\f262"}.bi-chat-square-text-fill:before{content:"\\f263"}.bi-chat-square-text:before{content:"\\f264"}.bi-chat-square:before{content:"\\f265"}.bi-chat-text-fill:before{content:"\\f266"}.bi-chat-text:before{content:"\\f267"}.bi-chat:before{content:"\\f268"}.bi-check-all:before{content:"\\f269"}.bi-check-circle-fill:before{content:"\\f26a"}.bi-check-circle:before{content:"\\f26b"}.bi-check-square-fill:before{content:"\\f26c"}.bi-check-square:before{content:"\\f26d"}.bi-check:before{content:"\\f26e"}.bi-check2-all:before{content:"\\f26f"}.bi-check2-circle:before{content:"\\f270"}.bi-check2-square:before{content:"\\f271"}.bi-check2:before{content:"\\f272"}.bi-chevron-bar-contract:before{content:"\\f273"}.bi-chevron-bar-down:before{content:"\\f274"}.bi-chevron-bar-expand:before{content:"\\f275"}.bi-chevron-bar-left:before{content:"\\f276"}.bi-chevron-bar-right:before{content:"\\f277"}.bi-chevron-bar-up:before{content:"\\f278"}.bi-chevron-compact-down:before{content:"\\f279"}.bi-chevron-compact-left:before{content:"\\f27a"}.bi-chevron-compact-right:before{content:"\\f27b"}.bi-chevron-compact-up:before{content:"\\f27c"}.bi-chevron-contract:before{content:"\\f27d"}.bi-chevron-double-down:before{content:"\\f27e"}.bi-chevron-double-left:before{content:"\\f27f"}.bi-chevron-double-right:before{content:"\\f280"}.bi-chevron-double-up:before{content:"\\f281"}.bi-chevron-down:before{content:"\\f282"}.bi-chevron-expand:before{content:"\\f283"}.bi-chevron-left:before{content:"\\f284"}.bi-chevron-right:before{content:"\\f285"}.bi-chevron-up:before{content:"\\f286"}.bi-circle-fill:before{content:"\\f287"}.bi-circle-half:before{content:"\\f288"}.bi-circle-square:before{content:"\\f289"}.bi-circle:before{content:"\\f28a"}.bi-clipboard-check:before{content:"\\f28b"}.bi-clipboard-data:before{content:"\\f28c"}.bi-clipboard-minus:before{content:"\\f28d"}.bi-clipboard-plus:before{content:"\\f28e"}.bi-clipboard-x:before{content:"\\f28f"}.bi-clipboard:before{content:"\\f290"}.bi-clock-fill:before{content:"\\f291"}.bi-clock-history:before{content:"\\f292"}.bi-clock:before{content:"\\f293"}.bi-cloud-arrow-down-fill:before{content:"\\f294"}.bi-cloud-arrow-down:before{content:"\\f295"}.bi-cloud-arrow-up-fill:before{content:"\\f296"}.bi-cloud-arrow-up:before{content:"\\f297"}.bi-cloud-check-fill:before{content:"\\f298"}.bi-cloud-check:before{content:"\\f299"}.bi-cloud-download-fill:before{content:"\\f29a"}.bi-cloud-download:before{content:"\\f29b"}.bi-cloud-drizzle-fill:before{content:"\\f29c"}.bi-cloud-drizzle:before{content:"\\f29d"}.bi-cloud-fill:before{content:"\\f29e"}.bi-cloud-fog-fill:before{content:"\\f29f"}.bi-cloud-fog:before{content:"\\f2a0"}.bi-cloud-fog2-fill:before{content:"\\f2a1"}.bi-cloud-fog2:before{content:"\\f2a2"}.bi-cloud-hail-fill:before{content:"\\f2a3"}.bi-cloud-hail:before{content:"\\f2a4"}.bi-cloud-haze-fill:before{content:"\\f2a6"}.bi-cloud-haze:before{content:"\\f2a7"}.bi-cloud-haze2-fill:before{content:"\\f2a8"}.bi-cloud-lightning-fill:before{content:"\\f2a9"}.bi-cloud-lightning-rain-fill:before{content:"\\f2aa"}.bi-cloud-lightning-rain:before{content:"\\f2ab"}.bi-cloud-lightning:before{content:"\\f2ac"}.bi-cloud-minus-fill:before{content:"\\f2ad"}.bi-cloud-minus:before{content:"\\f2ae"}.bi-cloud-moon-fill:before{content:"\\f2af"}.bi-cloud-moon:before{content:"\\f2b0"}.bi-cloud-plus-fill:before{content:"\\f2b1"}.bi-cloud-plus:before{content:"\\f2b2"}.bi-cloud-rain-fill:before{content:"\\f2b3"}.bi-cloud-rain-heavy-fill:before{content:"\\f2b4"}.bi-cloud-rain-heavy:before{content:"\\f2b5"}.bi-cloud-rain:before{content:"\\f2b6"}.bi-cloud-slash-fill:before{content:"\\f2b7"}.bi-cloud-slash:before{content:"\\f2b8"}.bi-cloud-sleet-fill:before{content:"\\f2b9"}.bi-cloud-sleet:before{content:"\\f2ba"}.bi-cloud-snow-fill:before{content:"\\f2bb"}.bi-cloud-snow:before{content:"\\f2bc"}.bi-cloud-sun-fill:before{content:"\\f2bd"}.bi-cloud-sun:before{content:"\\f2be"}.bi-cloud-upload-fill:before{content:"\\f2bf"}.bi-cloud-upload:before{content:"\\f2c0"}.bi-cloud:before{content:"\\f2c1"}.bi-clouds-fill:before{content:"\\f2c2"}.bi-clouds:before{content:"\\f2c3"}.bi-cloudy-fill:before{content:"\\f2c4"}.bi-cloudy:before{content:"\\f2c5"}.bi-code-slash:before{content:"\\f2c6"}.bi-code-square:before{content:"\\f2c7"}.bi-code:before{content:"\\f2c8"}.bi-collection-fill:before{content:"\\f2c9"}.bi-collection-play-fill:before{content:"\\f2ca"}.bi-collection-play:before{content:"\\f2cb"}.bi-collection:before{content:"\\f2cc"}.bi-columns-gap:before{content:"\\f2cd"}.bi-columns:before{content:"\\f2ce"}.bi-command:before{content:"\\f2cf"}.bi-compass-fill:before{content:"\\f2d0"}.bi-compass:before{content:"\\f2d1"}.bi-cone-striped:before{content:"\\f2d2"}.bi-cone:before{content:"\\f2d3"}.bi-controller:before{content:"\\f2d4"}.bi-cpu-fill:before{content:"\\f2d5"}.bi-cpu:before{content:"\\f2d6"}.bi-credit-card-2-back-fill:before{content:"\\f2d7"}.bi-credit-card-2-back:before{content:"\\f2d8"}.bi-credit-card-2-front-fill:before{content:"\\f2d9"}.bi-credit-card-2-front:before{content:"\\f2da"}.bi-credit-card-fill:before{content:"\\f2db"}.bi-credit-card:before{content:"\\f2dc"}.bi-crop:before{content:"\\f2dd"}.bi-cup-fill:before{content:"\\f2de"}.bi-cup-straw:before{content:"\\f2df"}.bi-cup:before{content:"\\f2e0"}.bi-cursor-fill:before{content:"\\f2e1"}.bi-cursor-text:before{content:"\\f2e2"}.bi-cursor:before{content:"\\f2e3"}.bi-dash-circle-dotted:before{content:"\\f2e4"}.bi-dash-circle-fill:before{content:"\\f2e5"}.bi-dash-circle:before{content:"\\f2e6"}.bi-dash-square-dotted:before{content:"\\f2e7"}.bi-dash-square-fill:before{content:"\\f2e8"}.bi-dash-square:before{content:"\\f2e9"}.bi-dash:before{content:"\\f2ea"}.bi-diagram-2-fill:before{content:"\\f2eb"}.bi-diagram-2:before{content:"\\f2ec"}.bi-diagram-3-fill:before{content:"\\f2ed"}.bi-diagram-3:before{content:"\\f2ee"}.bi-diamond-fill:before{content:"\\f2ef"}.bi-diamond-half:before{content:"\\f2f0"}.bi-diamond:before{content:"\\f2f1"}.bi-dice-1-fill:before{content:"\\f2f2"}.bi-dice-1:before{content:"\\f2f3"}.bi-dice-2-fill:before{content:"\\f2f4"}.bi-dice-2:before{content:"\\f2f5"}.bi-dice-3-fill:before{content:"\\f2f6"}.bi-dice-3:before{content:"\\f2f7"}.bi-dice-4-fill:before{content:"\\f2f8"}.bi-dice-4:before{content:"\\f2f9"}.bi-dice-5-fill:before{content:"\\f2fa"}.bi-dice-5:before{content:"\\f2fb"}.bi-dice-6-fill:before{content:"\\f2fc"}.bi-dice-6:before{content:"\\f2fd"}.bi-disc-fill:before{content:"\\f2fe"}.bi-disc:before{content:"\\f2ff"}.bi-discord:before{content:"\\f300"}.bi-display-fill:before{content:"\\f301"}.bi-display:before{content:"\\f302"}.bi-distribute-horizontal:before{content:"\\f303"}.bi-distribute-vertical:before{content:"\\f304"}.bi-door-closed-fill:before{content:"\\f305"}.bi-door-closed:before{content:"\\f306"}.bi-door-open-fill:before{content:"\\f307"}.bi-door-open:before{content:"\\f308"}.bi-dot:before{content:"\\f309"}.bi-download:before{content:"\\f30a"}.bi-droplet-fill:before{content:"\\f30b"}.bi-droplet-half:before{content:"\\f30c"}.bi-droplet:before{content:"\\f30d"}.bi-earbuds:before{content:"\\f30e"}.bi-easel-fill:before{content:"\\f30f"}.bi-easel:before{content:"\\f310"}.bi-egg-fill:before{content:"\\f311"}.bi-egg-fried:before{content:"\\f312"}.bi-egg:before{content:"\\f313"}.bi-eject-fill:before{content:"\\f314"}.bi-eject:before{content:"\\f315"}.bi-emoji-angry-fill:before{content:"\\f316"}.bi-emoji-angry:before{content:"\\f317"}.bi-emoji-dizzy-fill:before{content:"\\f318"}.bi-emoji-dizzy:before{content:"\\f319"}.bi-emoji-expressionless-fill:before{content:"\\f31a"}.bi-emoji-expressionless:before{content:"\\f31b"}.bi-emoji-frown-fill:before{content:"\\f31c"}.bi-emoji-frown:before{content:"\\f31d"}.bi-emoji-heart-eyes-fill:before{content:"\\f31e"}.bi-emoji-heart-eyes:before{content:"\\f31f"}.bi-emoji-laughing-fill:before{content:"\\f320"}.bi-emoji-laughing:before{content:"\\f321"}.bi-emoji-neutral-fill:before{content:"\\f322"}.bi-emoji-neutral:before{content:"\\f323"}.bi-emoji-smile-fill:before{content:"\\f324"}.bi-emoji-smile-upside-down-fill:before{content:"\\f325"}.bi-emoji-smile-upside-down:before{content:"\\f326"}.bi-emoji-smile:before{content:"\\f327"}.bi-emoji-sunglasses-fill:before{content:"\\f328"}.bi-emoji-sunglasses:before{content:"\\f329"}.bi-emoji-wink-fill:before{content:"\\f32a"}.bi-emoji-wink:before{content:"\\f32b"}.bi-envelope-fill:before{content:"\\f32c"}.bi-envelope-open-fill:before{content:"\\f32d"}.bi-envelope-open:before{content:"\\f32e"}.bi-envelope:before{content:"\\f32f"}.bi-eraser-fill:before{content:"\\f330"}.bi-eraser:before{content:"\\f331"}.bi-exclamation-circle-fill:before{content:"\\f332"}.bi-exclamation-circle:before{content:"\\f333"}.bi-exclamation-diamond-fill:before{content:"\\f334"}.bi-exclamation-diamond:before{content:"\\f335"}.bi-exclamation-octagon-fill:before{content:"\\f336"}.bi-exclamation-octagon:before{content:"\\f337"}.bi-exclamation-square-fill:before{content:"\\f338"}.bi-exclamation-square:before{content:"\\f339"}.bi-exclamation-triangle-fill:before{content:"\\f33a"}.bi-exclamation-triangle:before{content:"\\f33b"}.bi-exclamation:before{content:"\\f33c"}.bi-exclude:before{content:"\\f33d"}.bi-eye-fill:before{content:"\\f33e"}.bi-eye-slash-fill:before{content:"\\f33f"}.bi-eye-slash:before{content:"\\f340"}.bi-eye:before{content:"\\f341"}.bi-eyedropper:before{content:"\\f342"}.bi-eyeglasses:before{content:"\\f343"}.bi-facebook:before{content:"\\f344"}.bi-file-arrow-down-fill:before{content:"\\f345"}.bi-file-arrow-down:before{content:"\\f346"}.bi-file-arrow-up-fill:before{content:"\\f347"}.bi-file-arrow-up:before{content:"\\f348"}.bi-file-bar-graph-fill:before{content:"\\f349"}.bi-file-bar-graph:before{content:"\\f34a"}.bi-file-binary-fill:before{content:"\\f34b"}.bi-file-binary:before{content:"\\f34c"}.bi-file-break-fill:before{content:"\\f34d"}.bi-file-break:before{content:"\\f34e"}.bi-file-check-fill:before{content:"\\f34f"}.bi-file-check:before{content:"\\f350"}.bi-file-code-fill:before{content:"\\f351"}.bi-file-code:before{content:"\\f352"}.bi-file-diff-fill:before{content:"\\f353"}.bi-file-diff:before{content:"\\f354"}.bi-file-earmark-arrow-down-fill:before{content:"\\f355"}.bi-file-earmark-arrow-down:before{content:"\\f356"}.bi-file-earmark-arrow-up-fill:before{content:"\\f357"}.bi-file-earmark-arrow-up:before{content:"\\f358"}.bi-file-earmark-bar-graph-fill:before{content:"\\f359"}.bi-file-earmark-bar-graph:before{content:"\\f35a"}.bi-file-earmark-binary-fill:before{content:"\\f35b"}.bi-file-earmark-binary:before{content:"\\f35c"}.bi-file-earmark-break-fill:before{content:"\\f35d"}.bi-file-earmark-break:before{content:"\\f35e"}.bi-file-earmark-check-fill:before{content:"\\f35f"}.bi-file-earmark-check:before{content:"\\f360"}.bi-file-earmark-code-fill:before{content:"\\f361"}.bi-file-earmark-code:before{content:"\\f362"}.bi-file-earmark-diff-fill:before{content:"\\f363"}.bi-file-earmark-diff:before{content:"\\f364"}.bi-file-earmark-easel-fill:before{content:"\\f365"}.bi-file-earmark-easel:before{content:"\\f366"}.bi-file-earmark-excel-fill:before{content:"\\f367"}.bi-file-earmark-excel:before{content:"\\f368"}.bi-file-earmark-fill:before{content:"\\f369"}.bi-file-earmark-font-fill:before{content:"\\f36a"}.bi-file-earmark-font:before{content:"\\f36b"}.bi-file-earmark-image-fill:before{content:"\\f36c"}.bi-file-earmark-image:before{content:"\\f36d"}.bi-file-earmark-lock-fill:before{content:"\\f36e"}.bi-file-earmark-lock:before{content:"\\f36f"}.bi-file-earmark-lock2-fill:before{content:"\\f370"}.bi-file-earmark-lock2:before{content:"\\f371"}.bi-file-earmark-medical-fill:before{content:"\\f372"}.bi-file-earmark-medical:before{content:"\\f373"}.bi-file-earmark-minus-fill:before{content:"\\f374"}.bi-file-earmark-minus:before{content:"\\f375"}.bi-file-earmark-music-fill:before{content:"\\f376"}.bi-file-earmark-music:before{content:"\\f377"}.bi-file-earmark-person-fill:before{content:"\\f378"}.bi-file-earmark-person:before{content:"\\f379"}.bi-file-earmark-play-fill:before{content:"\\f37a"}.bi-file-earmark-play:before{content:"\\f37b"}.bi-file-earmark-plus-fill:before{content:"\\f37c"}.bi-file-earmark-plus:before{content:"\\f37d"}.bi-file-earmark-post-fill:before{content:"\\f37e"}.bi-file-earmark-post:before{content:"\\f37f"}.bi-file-earmark-ppt-fill:before{content:"\\f380"}.bi-file-earmark-ppt:before{content:"\\f381"}.bi-file-earmark-richtext-fill:before{content:"\\f382"}.bi-file-earmark-richtext:before{content:"\\f383"}.bi-file-earmark-ruled-fill:before{content:"\\f384"}.bi-file-earmark-ruled:before{content:"\\f385"}.bi-file-earmark-slides-fill:before{content:"\\f386"}.bi-file-earmark-slides:before{content:"\\f387"}.bi-file-earmark-spreadsheet-fill:before{content:"\\f388"}.bi-file-earmark-spreadsheet:before{content:"\\f389"}.bi-file-earmark-text-fill:before{content:"\\f38a"}.bi-file-earmark-text:before{content:"\\f38b"}.bi-file-earmark-word-fill:before{content:"\\f38c"}.bi-file-earmark-word:before{content:"\\f38d"}.bi-file-earmark-x-fill:before{content:"\\f38e"}.bi-file-earmark-x:before{content:"\\f38f"}.bi-file-earmark-zip-fill:before{content:"\\f390"}.bi-file-earmark-zip:before{content:"\\f391"}.bi-file-earmark:before{content:"\\f392"}.bi-file-easel-fill:before{content:"\\f393"}.bi-file-easel:before{content:"\\f394"}.bi-file-excel-fill:before{content:"\\f395"}.bi-file-excel:before{content:"\\f396"}.bi-file-fill:before{content:"\\f397"}.bi-file-font-fill:before{content:"\\f398"}.bi-file-font:before{content:"\\f399"}.bi-file-image-fill:before{content:"\\f39a"}.bi-file-image:before{content:"\\f39b"}.bi-file-lock-fill:before{content:"\\f39c"}.bi-file-lock:before{content:"\\f39d"}.bi-file-lock2-fill:before{content:"\\f39e"}.bi-file-lock2:before{content:"\\f39f"}.bi-file-medical-fill:before{content:"\\f3a0"}.bi-file-medical:before{content:"\\f3a1"}.bi-file-minus-fill:before{content:"\\f3a2"}.bi-file-minus:before{content:"\\f3a3"}.bi-file-music-fill:before{content:"\\f3a4"}.bi-file-music:before{content:"\\f3a5"}.bi-file-person-fill:before{content:"\\f3a6"}.bi-file-person:before{content:"\\f3a7"}.bi-file-play-fill:before{content:"\\f3a8"}.bi-file-play:before{content:"\\f3a9"}.bi-file-plus-fill:before{content:"\\f3aa"}.bi-file-plus:before{content:"\\f3ab"}.bi-file-post-fill:before{content:"\\f3ac"}.bi-file-post:before{content:"\\f3ad"}.bi-file-ppt-fill:before{content:"\\f3ae"}.bi-file-ppt:before{content:"\\f3af"}.bi-file-richtext-fill:before{content:"\\f3b0"}.bi-file-richtext:before{content:"\\f3b1"}.bi-file-ruled-fill:before{content:"\\f3b2"}.bi-file-ruled:before{content:"\\f3b3"}.bi-file-slides-fill:before{content:"\\f3b4"}.bi-file-slides:before{content:"\\f3b5"}.bi-file-spreadsheet-fill:before{content:"\\f3b6"}.bi-file-spreadsheet:before{content:"\\f3b7"}.bi-file-text-fill:before{content:"\\f3b8"}.bi-file-text:before{content:"\\f3b9"}.bi-file-word-fill:before{content:"\\f3ba"}.bi-file-word:before{content:"\\f3bb"}.bi-file-x-fill:before{content:"\\f3bc"}.bi-file-x:before{content:"\\f3bd"}.bi-file-zip-fill:before{content:"\\f3be"}.bi-file-zip:before{content:"\\f3bf"}.bi-file:before{content:"\\f3c0"}.bi-files-alt:before{content:"\\f3c1"}.bi-files:before{content:"\\f3c2"}.bi-film:before{content:"\\f3c3"}.bi-filter-circle-fill:before{content:"\\f3c4"}.bi-filter-circle:before{content:"\\f3c5"}.bi-filter-left:before{content:"\\f3c6"}.bi-filter-right:before{content:"\\f3c7"}.bi-filter-square-fill:before{content:"\\f3c8"}.bi-filter-square:before{content:"\\f3c9"}.bi-filter:before{content:"\\f3ca"}.bi-flag-fill:before{content:"\\f3cb"}.bi-flag:before{content:"\\f3cc"}.bi-flower1:before{content:"\\f3cd"}.bi-flower2:before{content:"\\f3ce"}.bi-flower3:before{content:"\\f3cf"}.bi-folder-check:before{content:"\\f3d0"}.bi-folder-fill:before{content:"\\f3d1"}.bi-folder-minus:before{content:"\\f3d2"}.bi-folder-plus:before{content:"\\f3d3"}.bi-folder-symlink-fill:before{content:"\\f3d4"}.bi-folder-symlink:before{content:"\\f3d5"}.bi-folder-x:before{content:"\\f3d6"}.bi-folder:before{content:"\\f3d7"}.bi-folder2-open:before{content:"\\f3d8"}.bi-folder2:before{content:"\\f3d9"}.bi-fonts:before{content:"\\f3da"}.bi-forward-fill:before{content:"\\f3db"}.bi-forward:before{content:"\\f3dc"}.bi-front:before{content:"\\f3dd"}.bi-fullscreen-exit:before{content:"\\f3de"}.bi-fullscreen:before{content:"\\f3df"}.bi-funnel-fill:before{content:"\\f3e0"}.bi-funnel:before{content:"\\f3e1"}.bi-gear-fill:before{content:"\\f3e2"}.bi-gear-wide-connected:before{content:"\\f3e3"}.bi-gear-wide:before{content:"\\f3e4"}.bi-gear:before{content:"\\f3e5"}.bi-gem:before{content:"\\f3e6"}.bi-geo-alt-fill:before{content:"\\f3e7"}.bi-geo-alt:before{content:"\\f3e8"}.bi-geo-fill:before{content:"\\f3e9"}.bi-geo:before{content:"\\f3ea"}.bi-gift-fill:before{content:"\\f3eb"}.bi-gift:before{content:"\\f3ec"}.bi-github:before{content:"\\f3ed"}.bi-globe:before{content:"\\f3ee"}.bi-globe2:before{content:"\\f3ef"}.bi-google:before{content:"\\f3f0"}.bi-graph-down:before{content:"\\f3f1"}.bi-graph-up:before{content:"\\f3f2"}.bi-grid-1x2-fill:before{content:"\\f3f3"}.bi-grid-1x2:before{content:"\\f3f4"}.bi-grid-3x2-gap-fill:before{content:"\\f3f5"}.bi-grid-3x2-gap:before{content:"\\f3f6"}.bi-grid-3x2:before{content:"\\f3f7"}.bi-grid-3x3-gap-fill:before{content:"\\f3f8"}.bi-grid-3x3-gap:before{content:"\\f3f9"}.bi-grid-3x3:before{content:"\\f3fa"}.bi-grid-fill:before{content:"\\f3fb"}.bi-grid:before{content:"\\f3fc"}.bi-grip-horizontal:before{content:"\\f3fd"}.bi-grip-vertical:before{content:"\\f3fe"}.bi-hammer:before{content:"\\f3ff"}.bi-hand-index-fill:before{content:"\\f400"}.bi-hand-index-thumb-fill:before{content:"\\f401"}.bi-hand-index-thumb:before{content:"\\f402"}.bi-hand-index:before{content:"\\f403"}.bi-hand-thumbs-down-fill:before{content:"\\f404"}.bi-hand-thumbs-down:before{content:"\\f405"}.bi-hand-thumbs-up-fill:before{content:"\\f406"}.bi-hand-thumbs-up:before{content:"\\f407"}.bi-handbag-fill:before{content:"\\f408"}.bi-handbag:before{content:"\\f409"}.bi-hash:before{content:"\\f40a"}.bi-hdd-fill:before{content:"\\f40b"}.bi-hdd-network-fill:before{content:"\\f40c"}.bi-hdd-network:before{content:"\\f40d"}.bi-hdd-rack-fill:before{content:"\\f40e"}.bi-hdd-rack:before{content:"\\f40f"}.bi-hdd-stack-fill:before{content:"\\f410"}.bi-hdd-stack:before{content:"\\f411"}.bi-hdd:before{content:"\\f412"}.bi-headphones:before{content:"\\f413"}.bi-headset:before{content:"\\f414"}.bi-heart-fill:before{content:"\\f415"}.bi-heart-half:before{content:"\\f416"}.bi-heart:before{content:"\\f417"}.bi-heptagon-fill:before{content:"\\f418"}.bi-heptagon-half:before{content:"\\f419"}.bi-heptagon:before{content:"\\f41a"}.bi-hexagon-fill:before{content:"\\f41b"}.bi-hexagon-half:before{content:"\\f41c"}.bi-hexagon:before{content:"\\f41d"}.bi-hourglass-bottom:before{content:"\\f41e"}.bi-hourglass-split:before{content:"\\f41f"}.bi-hourglass-top:before{content:"\\f420"}.bi-hourglass:before{content:"\\f421"}.bi-house-door-fill:before{content:"\\f422"}.bi-house-door:before{content:"\\f423"}.bi-house-fill:before{content:"\\f424"}.bi-house:before{content:"\\f425"}.bi-hr:before{content:"\\f426"}.bi-hurricane:before{content:"\\f427"}.bi-image-alt:before{content:"\\f428"}.bi-image-fill:before{content:"\\f429"}.bi-image:before{content:"\\f42a"}.bi-images:before{content:"\\f42b"}.bi-inbox-fill:before{content:"\\f42c"}.bi-inbox:before{content:"\\f42d"}.bi-inboxes-fill:before{content:"\\f42e"}.bi-inboxes:before{content:"\\f42f"}.bi-info-circle-fill:before{content:"\\f430"}.bi-info-circle:before{content:"\\f431"}.bi-info-square-fill:before{content:"\\f432"}.bi-info-square:before{content:"\\f433"}.bi-info:before{content:"\\f434"}.bi-input-cursor-text:before{content:"\\f435"}.bi-input-cursor:before{content:"\\f436"}.bi-instagram:before{content:"\\f437"}.bi-intersect:before{content:"\\f438"}.bi-journal-album:before{content:"\\f439"}.bi-journal-arrow-down:before{content:"\\f43a"}.bi-journal-arrow-up:before{content:"\\f43b"}.bi-journal-bookmark-fill:before{content:"\\f43c"}.bi-journal-bookmark:before{content:"\\f43d"}.bi-journal-check:before{content:"\\f43e"}.bi-journal-code:before{content:"\\f43f"}.bi-journal-medical:before{content:"\\f440"}.bi-journal-minus:before{content:"\\f441"}.bi-journal-plus:before{content:"\\f442"}.bi-journal-richtext:before{content:"\\f443"}.bi-journal-text:before{content:"\\f444"}.bi-journal-x:before{content:"\\f445"}.bi-journal:before{content:"\\f446"}.bi-journals:before{content:"\\f447"}.bi-joystick:before{content:"\\f448"}.bi-justify-left:before{content:"\\f449"}.bi-justify-right:before{content:"\\f44a"}.bi-justify:before{content:"\\f44b"}.bi-kanban-fill:before{content:"\\f44c"}.bi-kanban:before{content:"\\f44d"}.bi-key-fill:before{content:"\\f44e"}.bi-key:before{content:"\\f44f"}.bi-keyboard-fill:before{content:"\\f450"}.bi-keyboard:before{content:"\\f451"}.bi-ladder:before{content:"\\f452"}.bi-lamp-fill:before{content:"\\f453"}.bi-lamp:before{content:"\\f454"}.bi-laptop-fill:before{content:"\\f455"}.bi-laptop:before{content:"\\f456"}.bi-layer-backward:before{content:"\\f457"}.bi-layer-forward:before{content:"\\f458"}.bi-layers-fill:before{content:"\\f459"}.bi-layers-half:before{content:"\\f45a"}.bi-layers:before{content:"\\f45b"}.bi-layout-sidebar-inset-reverse:before{content:"\\f45c"}.bi-layout-sidebar-inset:before{content:"\\f45d"}.bi-layout-sidebar-reverse:before{content:"\\f45e"}.bi-layout-sidebar:before{content:"\\f45f"}.bi-layout-split:before{content:"\\f460"}.bi-layout-text-sidebar-reverse:before{content:"\\f461"}.bi-layout-text-sidebar:before{content:"\\f462"}.bi-layout-text-window-reverse:before{content:"\\f463"}.bi-layout-text-window:before{content:"\\f464"}.bi-layout-three-columns:before{content:"\\f465"}.bi-layout-wtf:before{content:"\\f466"}.bi-life-preserver:before{content:"\\f467"}.bi-lightbulb-fill:before{content:"\\f468"}.bi-lightbulb-off-fill:before{content:"\\f469"}.bi-lightbulb-off:before{content:"\\f46a"}.bi-lightbulb:before{content:"\\f46b"}.bi-lightning-charge-fill:before{content:"\\f46c"}.bi-lightning-charge:before{content:"\\f46d"}.bi-lightning-fill:before{content:"\\f46e"}.bi-lightning:before{content:"\\f46f"}.bi-link-45deg:before{content:"\\f470"}.bi-link:before{content:"\\f471"}.bi-linkedin:before{content:"\\f472"}.bi-list-check:before{content:"\\f473"}.bi-list-nested:before{content:"\\f474"}.bi-list-ol:before{content:"\\f475"}.bi-list-stars:before{content:"\\f476"}.bi-list-task:before{content:"\\f477"}.bi-list-ul:before{content:"\\f478"}.bi-list:before{content:"\\f479"}.bi-lock-fill:before{content:"\\f47a"}.bi-lock:before{content:"\\f47b"}.bi-mailbox:before{content:"\\f47c"}.bi-mailbox2:before{content:"\\f47d"}.bi-map-fill:before{content:"\\f47e"}.bi-map:before{content:"\\f47f"}.bi-markdown-fill:before{content:"\\f480"}.bi-markdown:before{content:"\\f481"}.bi-mask:before{content:"\\f482"}.bi-megaphone-fill:before{content:"\\f483"}.bi-megaphone:before{content:"\\f484"}.bi-menu-app-fill:before{content:"\\f485"}.bi-menu-app:before{content:"\\f486"}.bi-menu-button-fill:before{content:"\\f487"}.bi-menu-button-wide-fill:before{content:"\\f488"}.bi-menu-button-wide:before{content:"\\f489"}.bi-menu-button:before{content:"\\f48a"}.bi-menu-down:before{content:"\\f48b"}.bi-menu-up:before{content:"\\f48c"}.bi-mic-fill:before{content:"\\f48d"}.bi-mic-mute-fill:before{content:"\\f48e"}.bi-mic-mute:before{content:"\\f48f"}.bi-mic:before{content:"\\f490"}.bi-minecart-loaded:before{content:"\\f491"}.bi-minecart:before{content:"\\f492"}.bi-moisture:before{content:"\\f493"}.bi-moon-fill:before{content:"\\f494"}.bi-moon-stars-fill:before{content:"\\f495"}.bi-moon-stars:before{content:"\\f496"}.bi-moon:before{content:"\\f497"}.bi-mouse-fill:before{content:"\\f498"}.bi-mouse:before{content:"\\f499"}.bi-mouse2-fill:before{content:"\\f49a"}.bi-mouse2:before{content:"\\f49b"}.bi-mouse3-fill:before{content:"\\f49c"}.bi-mouse3:before{content:"\\f49d"}.bi-music-note-beamed:before{content:"\\f49e"}.bi-music-note-list:before{content:"\\f49f"}.bi-music-note:before{content:"\\f4a0"}.bi-music-player-fill:before{content:"\\f4a1"}.bi-music-player:before{content:"\\f4a2"}.bi-newspaper:before{content:"\\f4a3"}.bi-node-minus-fill:before{content:"\\f4a4"}.bi-node-minus:before{content:"\\f4a5"}.bi-node-plus-fill:before{content:"\\f4a6"}.bi-node-plus:before{content:"\\f4a7"}.bi-nut-fill:before{content:"\\f4a8"}.bi-nut:before{content:"\\f4a9"}.bi-octagon-fill:before{content:"\\f4aa"}.bi-octagon-half:before{content:"\\f4ab"}.bi-octagon:before{content:"\\f4ac"}.bi-option:before{content:"\\f4ad"}.bi-outlet:before{content:"\\f4ae"}.bi-paint-bucket:before{content:"\\f4af"}.bi-palette-fill:before{content:"\\f4b0"}.bi-palette:before{content:"\\f4b1"}.bi-palette2:before{content:"\\f4b2"}.bi-paperclip:before{content:"\\f4b3"}.bi-paragraph:before{content:"\\f4b4"}.bi-patch-check-fill:before{content:"\\f4b5"}.bi-patch-check:before{content:"\\f4b6"}.bi-patch-exclamation-fill:before{content:"\\f4b7"}.bi-patch-exclamation:before{content:"\\f4b8"}.bi-patch-minus-fill:before{content:"\\f4b9"}.bi-patch-minus:before{content:"\\f4ba"}.bi-patch-plus-fill:before{content:"\\f4bb"}.bi-patch-plus:before{content:"\\f4bc"}.bi-patch-question-fill:before{content:"\\f4bd"}.bi-patch-question:before{content:"\\f4be"}.bi-pause-btn-fill:before{content:"\\f4bf"}.bi-pause-btn:before{content:"\\f4c0"}.bi-pause-circle-fill:before{content:"\\f4c1"}.bi-pause-circle:before{content:"\\f4c2"}.bi-pause-fill:before{content:"\\f4c3"}.bi-pause:before{content:"\\f4c4"}.bi-peace-fill:before{content:"\\f4c5"}.bi-peace:before{content:"\\f4c6"}.bi-pen-fill:before{content:"\\f4c7"}.bi-pen:before{content:"\\f4c8"}.bi-pencil-fill:before{content:"\\f4c9"}.bi-pencil-square:before{content:"\\f4ca"}.bi-pencil:before{content:"\\f4cb"}.bi-pentagon-fill:before{content:"\\f4cc"}.bi-pentagon-half:before{content:"\\f4cd"}.bi-pentagon:before{content:"\\f4ce"}.bi-people-fill:before{content:"\\f4cf"}.bi-people:before{content:"\\f4d0"}.bi-percent:before{content:"\\f4d1"}.bi-person-badge-fill:before{content:"\\f4d2"}.bi-person-badge:before{content:"\\f4d3"}.bi-person-bounding-box:before{content:"\\f4d4"}.bi-person-check-fill:before{content:"\\f4d5"}.bi-person-check:before{content:"\\f4d6"}.bi-person-circle:before{content:"\\f4d7"}.bi-person-dash-fill:before{content:"\\f4d8"}.bi-person-dash:before{content:"\\f4d9"}.bi-person-fill:before{content:"\\f4da"}.bi-person-lines-fill:before{content:"\\f4db"}.bi-person-plus-fill:before{content:"\\f4dc"}.bi-person-plus:before{content:"\\f4dd"}.bi-person-square:before{content:"\\f4de"}.bi-person-x-fill:before{content:"\\f4df"}.bi-person-x:before{content:"\\f4e0"}.bi-person:before{content:"\\f4e1"}.bi-phone-fill:before{content:"\\f4e2"}.bi-phone-landscape-fill:before{content:"\\f4e3"}.bi-phone-landscape:before{content:"\\f4e4"}.bi-phone-vibrate-fill:before{content:"\\f4e5"}.bi-phone-vibrate:before{content:"\\f4e6"}.bi-phone:before{content:"\\f4e7"}.bi-pie-chart-fill:before{content:"\\f4e8"}.bi-pie-chart:before{content:"\\f4e9"}.bi-pin-angle-fill:before{content:"\\f4ea"}.bi-pin-angle:before{content:"\\f4eb"}.bi-pin-fill:before{content:"\\f4ec"}.bi-pin:before{content:"\\f4ed"}.bi-pip-fill:before{content:"\\f4ee"}.bi-pip:before{content:"\\f4ef"}.bi-play-btn-fill:before{content:"\\f4f0"}.bi-play-btn:before{content:"\\f4f1"}.bi-play-circle-fill:before{content:"\\f4f2"}.bi-play-circle:before{content:"\\f4f3"}.bi-play-fill:before{content:"\\f4f4"}.bi-play:before{content:"\\f4f5"}.bi-plug-fill:before{content:"\\f4f6"}.bi-plug:before{content:"\\f4f7"}.bi-plus-circle-dotted:before{content:"\\f4f8"}.bi-plus-circle-fill:before{content:"\\f4f9"}.bi-plus-circle:before{content:"\\f4fa"}.bi-plus-square-dotted:before{content:"\\f4fb"}.bi-plus-square-fill:before{content:"\\f4fc"}.bi-plus-square:before{content:"\\f4fd"}.bi-plus:before{content:"\\f4fe"}.bi-power:before{content:"\\f4ff"}.bi-printer-fill:before{content:"\\f500"}.bi-printer:before{content:"\\f501"}.bi-puzzle-fill:before{content:"\\f502"}.bi-puzzle:before{content:"\\f503"}.bi-question-circle-fill:before{content:"\\f504"}.bi-question-circle:before{content:"\\f505"}.bi-question-diamond-fill:before{content:"\\f506"}.bi-question-diamond:before{content:"\\f507"}.bi-question-octagon-fill:before{content:"\\f508"}.bi-question-octagon:before{content:"\\f509"}.bi-question-square-fill:before{content:"\\f50a"}.bi-question-square:before{content:"\\f50b"}.bi-question:before{content:"\\f50c"}.bi-rainbow:before{content:"\\f50d"}.bi-receipt-cutoff:before{content:"\\f50e"}.bi-receipt:before{content:"\\f50f"}.bi-reception-0:before{content:"\\f510"}.bi-reception-1:before{content:"\\f511"}.bi-reception-2:before{content:"\\f512"}.bi-reception-3:before{content:"\\f513"}.bi-reception-4:before{content:"\\f514"}.bi-record-btn-fill:before{content:"\\f515"}.bi-record-btn:before{content:"\\f516"}.bi-record-circle-fill:before{content:"\\f517"}.bi-record-circle:before{content:"\\f518"}.bi-record-fill:before{content:"\\f519"}.bi-record:before{content:"\\f51a"}.bi-record2-fill:before{content:"\\f51b"}.bi-record2:before{content:"\\f51c"}.bi-reply-all-fill:before{content:"\\f51d"}.bi-reply-all:before{content:"\\f51e"}.bi-reply-fill:before{content:"\\f51f"}.bi-reply:before{content:"\\f520"}.bi-rss-fill:before{content:"\\f521"}.bi-rss:before{content:"\\f522"}.bi-rulers:before{content:"\\f523"}.bi-save-fill:before{content:"\\f524"}.bi-save:before{content:"\\f525"}.bi-save2-fill:before{content:"\\f526"}.bi-save2:before{content:"\\f527"}.bi-scissors:before{content:"\\f528"}.bi-screwdriver:before{content:"\\f529"}.bi-search:before{content:"\\f52a"}.bi-segmented-nav:before{content:"\\f52b"}.bi-server:before{content:"\\f52c"}.bi-share-fill:before{content:"\\f52d"}.bi-share:before{content:"\\f52e"}.bi-shield-check:before{content:"\\f52f"}.bi-shield-exclamation:before{content:"\\f530"}.bi-shield-fill-check:before{content:"\\f531"}.bi-shield-fill-exclamation:before{content:"\\f532"}.bi-shield-fill-minus:before{content:"\\f533"}.bi-shield-fill-plus:before{content:"\\f534"}.bi-shield-fill-x:before{content:"\\f535"}.bi-shield-fill:before{content:"\\f536"}.bi-shield-lock-fill:before{content:"\\f537"}.bi-shield-lock:before{content:"\\f538"}.bi-shield-minus:before{content:"\\f539"}.bi-shield-plus:before{content:"\\f53a"}.bi-shield-shaded:before{content:"\\f53b"}.bi-shield-slash-fill:before{content:"\\f53c"}.bi-shield-slash:before{content:"\\f53d"}.bi-shield-x:before{content:"\\f53e"}.bi-shield:before{content:"\\f53f"}.bi-shift-fill:before{content:"\\f540"}.bi-shift:before{content:"\\f541"}.bi-shop-window:before{content:"\\f542"}.bi-shop:before{content:"\\f543"}.bi-shuffle:before{content:"\\f544"}.bi-signpost-2-fill:before{content:"\\f545"}.bi-signpost-2:before{content:"\\f546"}.bi-signpost-fill:before{content:"\\f547"}.bi-signpost-split-fill:before{content:"\\f548"}.bi-signpost-split:before{content:"\\f549"}.bi-signpost:before{content:"\\f54a"}.bi-sim-fill:before{content:"\\f54b"}.bi-sim:before{content:"\\f54c"}.bi-skip-backward-btn-fill:before{content:"\\f54d"}.bi-skip-backward-btn:before{content:"\\f54e"}.bi-skip-backward-circle-fill:before{content:"\\f54f"}.bi-skip-backward-circle:before{content:"\\f550"}.bi-skip-backward-fill:before{content:"\\f551"}.bi-skip-backward:before{content:"\\f552"}.bi-skip-end-btn-fill:before{content:"\\f553"}.bi-skip-end-btn:before{content:"\\f554"}.bi-skip-end-circle-fill:before{content:"\\f555"}.bi-skip-end-circle:before{content:"\\f556"}.bi-skip-end-fill:before{content:"\\f557"}.bi-skip-end:before{content:"\\f558"}.bi-skip-forward-btn-fill:before{content:"\\f559"}.bi-skip-forward-btn:before{content:"\\f55a"}.bi-skip-forward-circle-fill:before{content:"\\f55b"}.bi-skip-forward-circle:before{content:"\\f55c"}.bi-skip-forward-fill:before{content:"\\f55d"}.bi-skip-forward:before{content:"\\f55e"}.bi-skip-start-btn-fill:before{content:"\\f55f"}.bi-skip-start-btn:before{content:"\\f560"}.bi-skip-start-circle-fill:before{content:"\\f561"}.bi-skip-start-circle:before{content:"\\f562"}.bi-skip-start-fill:before{content:"\\f563"}.bi-skip-start:before{content:"\\f564"}.bi-slack:before{content:"\\f565"}.bi-slash-circle-fill:before{content:"\\f566"}.bi-slash-circle:before{content:"\\f567"}.bi-slash-square-fill:before{content:"\\f568"}.bi-slash-square:before{content:"\\f569"}.bi-slash:before{content:"\\f56a"}.bi-sliders:before{content:"\\f56b"}.bi-smartwatch:before{content:"\\f56c"}.bi-snow:before{content:"\\f56d"}.bi-snow2:before{content:"\\f56e"}.bi-snow3:before{content:"\\f56f"}.bi-sort-alpha-down-alt:before{content:"\\f570"}.bi-sort-alpha-down:before{content:"\\f571"}.bi-sort-alpha-up-alt:before{content:"\\f572"}.bi-sort-alpha-up:before{content:"\\f573"}.bi-sort-down-alt:before{content:"\\f574"}.bi-sort-down:before{content:"\\f575"}.bi-sort-numeric-down-alt:before{content:"\\f576"}.bi-sort-numeric-down:before{content:"\\f577"}.bi-sort-numeric-up-alt:before{content:"\\f578"}.bi-sort-numeric-up:before{content:"\\f579"}.bi-sort-up-alt:before{content:"\\f57a"}.bi-sort-up:before{content:"\\f57b"}.bi-soundwave:before{content:"\\f57c"}.bi-speaker-fill:before{content:"\\f57d"}.bi-speaker:before{content:"\\f57e"}.bi-speedometer:before{content:"\\f57f"}.bi-speedometer2:before{content:"\\f580"}.bi-spellcheck:before{content:"\\f581"}.bi-square-fill:before{content:"\\f582"}.bi-square-half:before{content:"\\f583"}.bi-square:before{content:"\\f584"}.bi-stack:before{content:"\\f585"}.bi-star-fill:before{content:"\\f586"}.bi-star-half:before{content:"\\f587"}.bi-star:before{content:"\\f588"}.bi-stars:before{content:"\\f589"}.bi-stickies-fill:before{content:"\\f58a"}.bi-stickies:before{content:"\\f58b"}.bi-sticky-fill:before{content:"\\f58c"}.bi-sticky:before{content:"\\f58d"}.bi-stop-btn-fill:before{content:"\\f58e"}.bi-stop-btn:before{content:"\\f58f"}.bi-stop-circle-fill:before{content:"\\f590"}.bi-stop-circle:before{content:"\\f591"}.bi-stop-fill:before{content:"\\f592"}.bi-stop:before{content:"\\f593"}.bi-stoplights-fill:before{content:"\\f594"}.bi-stoplights:before{content:"\\f595"}.bi-stopwatch-fill:before{content:"\\f596"}.bi-stopwatch:before{content:"\\f597"}.bi-subtract:before{content:"\\f598"}.bi-suit-club-fill:before{content:"\\f599"}.bi-suit-club:before{content:"\\f59a"}.bi-suit-diamond-fill:before{content:"\\f59b"}.bi-suit-diamond:before{content:"\\f59c"}.bi-suit-heart-fill:before{content:"\\f59d"}.bi-suit-heart:before{content:"\\f59e"}.bi-suit-spade-fill:before{content:"\\f59f"}.bi-suit-spade:before{content:"\\f5a0"}.bi-sun-fill:before{content:"\\f5a1"}.bi-sun:before{content:"\\f5a2"}.bi-sunglasses:before{content:"\\f5a3"}.bi-sunrise-fill:before{content:"\\f5a4"}.bi-sunrise:before{content:"\\f5a5"}.bi-sunset-fill:before{content:"\\f5a6"}.bi-sunset:before{content:"\\f5a7"}.bi-symmetry-horizontal:before{content:"\\f5a8"}.bi-symmetry-vertical:before{content:"\\f5a9"}.bi-table:before{content:"\\f5aa"}.bi-tablet-fill:before{content:"\\f5ab"}.bi-tablet-landscape-fill:before{content:"\\f5ac"}.bi-tablet-landscape:before{content:"\\f5ad"}.bi-tablet:before{content:"\\f5ae"}.bi-tag-fill:before{content:"\\f5af"}.bi-tag:before{content:"\\f5b0"}.bi-tags-fill:before{content:"\\f5b1"}.bi-tags:before{content:"\\f5b2"}.bi-telegram:before{content:"\\f5b3"}.bi-telephone-fill:before{content:"\\f5b4"}.bi-telephone-forward-fill:before{content:"\\f5b5"}.bi-telephone-forward:before{content:"\\f5b6"}.bi-telephone-inbound-fill:before{content:"\\f5b7"}.bi-telephone-inbound:before{content:"\\f5b8"}.bi-telephone-minus-fill:before{content:"\\f5b9"}.bi-telephone-minus:before{content:"\\f5ba"}.bi-telephone-outbound-fill:before{content:"\\f5bb"}.bi-telephone-outbound:before{content:"\\f5bc"}.bi-telephone-plus-fill:before{content:"\\f5bd"}.bi-telephone-plus:before{content:"\\f5be"}.bi-telephone-x-fill:before{content:"\\f5bf"}.bi-telephone-x:before{content:"\\f5c0"}.bi-telephone:before{content:"\\f5c1"}.bi-terminal-fill:before{content:"\\f5c2"}.bi-terminal:before{content:"\\f5c3"}.bi-text-center:before{content:"\\f5c4"}.bi-text-indent-left:before{content:"\\f5c5"}.bi-text-indent-right:before{content:"\\f5c6"}.bi-text-left:before{content:"\\f5c7"}.bi-text-paragraph:before{content:"\\f5c8"}.bi-text-right:before{content:"\\f5c9"}.bi-textarea-resize:before{content:"\\f5ca"}.bi-textarea-t:before{content:"\\f5cb"}.bi-textarea:before{content:"\\f5cc"}.bi-thermometer-half:before{content:"\\f5cd"}.bi-thermometer-high:before{content:"\\f5ce"}.bi-thermometer-low:before{content:"\\f5cf"}.bi-thermometer-snow:before{content:"\\f5d0"}.bi-thermometer-sun:before{content:"\\f5d1"}.bi-thermometer:before{content:"\\f5d2"}.bi-three-dots-vertical:before{content:"\\f5d3"}.bi-three-dots:before{content:"\\f5d4"}.bi-toggle-off:before{content:"\\f5d5"}.bi-toggle-on:before{content:"\\f5d6"}.bi-toggle2-off:before{content:"\\f5d7"}.bi-toggle2-on:before{content:"\\f5d8"}.bi-toggles:before{content:"\\f5d9"}.bi-toggles2:before{content:"\\f5da"}.bi-tools:before{content:"\\f5db"}.bi-tornado:before{content:"\\f5dc"}.bi-trash-fill:before{content:"\\f5dd"}.bi-trash:before{content:"\\f5de"}.bi-trash2-fill:before{content:"\\f5df"}.bi-trash2:before{content:"\\f5e0"}.bi-tree-fill:before{content:"\\f5e1"}.bi-tree:before{content:"\\f5e2"}.bi-triangle-fill:before{content:"\\f5e3"}.bi-triangle-half:before{content:"\\f5e4"}.bi-triangle:before{content:"\\f5e5"}.bi-trophy-fill:before{content:"\\f5e6"}.bi-trophy:before{content:"\\f5e7"}.bi-tropical-storm:before{content:"\\f5e8"}.bi-truck-flatbed:before{content:"\\f5e9"}.bi-truck:before{content:"\\f5ea"}.bi-tsunami:before{content:"\\f5eb"}.bi-tv-fill:before{content:"\\f5ec"}.bi-tv:before{content:"\\f5ed"}.bi-twitch:before{content:"\\f5ee"}.bi-twitter:before{content:"\\f5ef"}.bi-type-bold:before{content:"\\f5f0"}.bi-type-h1:before{content:"\\f5f1"}.bi-type-h2:before{content:"\\f5f2"}.bi-type-h3:before{content:"\\f5f3"}.bi-type-italic:before{content:"\\f5f4"}.bi-type-strikethrough:before{content:"\\f5f5"}.bi-type-underline:before{content:"\\f5f6"}.bi-type:before{content:"\\f5f7"}.bi-ui-checks-grid:before{content:"\\f5f8"}.bi-ui-checks:before{content:"\\f5f9"}.bi-ui-radios-grid:before{content:"\\f5fa"}.bi-ui-radios:before{content:"\\f5fb"}.bi-umbrella-fill:before{content:"\\f5fc"}.bi-umbrella:before{content:"\\f5fd"}.bi-union:before{content:"\\f5fe"}.bi-unlock-fill:before{content:"\\f5ff"}.bi-unlock:before{content:"\\f600"}.bi-upc-scan:before{content:"\\f601"}.bi-upc:before{content:"\\f602"}.bi-upload:before{content:"\\f603"}.bi-vector-pen:before{content:"\\f604"}.bi-view-list:before{content:"\\f605"}.bi-view-stacked:before{content:"\\f606"}.bi-vinyl-fill:before{content:"\\f607"}.bi-vinyl:before{content:"\\f608"}.bi-voicemail:before{content:"\\f609"}.bi-volume-down-fill:before{content:"\\f60a"}.bi-volume-down:before{content:"\\f60b"}.bi-volume-mute-fill:before{content:"\\f60c"}.bi-volume-mute:before{content:"\\f60d"}.bi-volume-off-fill:before{content:"\\f60e"}.bi-volume-off:before{content:"\\f60f"}.bi-volume-up-fill:before{content:"\\f610"}.bi-volume-up:before{content:"\\f611"}.bi-vr:before{content:"\\f612"}.bi-wallet-fill:before{content:"\\f613"}.bi-wallet:before{content:"\\f614"}.bi-wallet2:before{content:"\\f615"}.bi-watch:before{content:"\\f616"}.bi-water:before{content:"\\f617"}.bi-whatsapp:before{content:"\\f618"}.bi-wifi-1:before{content:"\\f619"}.bi-wifi-2:before{content:"\\f61a"}.bi-wifi-off:before{content:"\\f61b"}.bi-wifi:before{content:"\\f61c"}.bi-wind:before{content:"\\f61d"}.bi-window-dock:before{content:"\\f61e"}.bi-window-sidebar:before{content:"\\f61f"}.bi-window:before{content:"\\f620"}.bi-wrench:before{content:"\\f621"}.bi-x-circle-fill:before{content:"\\f622"}.bi-x-circle:before{content:"\\f623"}.bi-x-diamond-fill:before{content:"\\f624"}.bi-x-diamond:before{content:"\\f625"}.bi-x-octagon-fill:before{content:"\\f626"}.bi-x-octagon:before{content:"\\f627"}.bi-x-square-fill:before{content:"\\f628"}.bi-x-square:before{content:"\\f629"}.bi-x:before{content:"\\f62a"}.bi-youtube:before{content:"\\f62b"}.bi-zoom-in:before{content:"\\f62c"}.bi-zoom-out:before{content:"\\f62d"}.bi-bank:before{content:"\\f62e"}.bi-bank2:before{content:"\\f62f"}.bi-bell-slash-fill:before{content:"\\f630"}.bi-bell-slash:before{content:"\\f631"}.bi-cash-coin:before{content:"\\f632"}.bi-check-lg:before{content:"\\f633"}.bi-coin:before{content:"\\f634"}.bi-currency-bitcoin:before{content:"\\f635"}.bi-currency-dollar:before{content:"\\f636"}.bi-currency-euro:before{content:"\\f637"}.bi-currency-exchange:before{content:"\\f638"}.bi-currency-pound:before{content:"\\f639"}.bi-currency-yen:before{content:"\\f63a"}.bi-dash-lg:before{content:"\\f63b"}.bi-exclamation-lg:before{content:"\\f63c"}.bi-file-earmark-pdf-fill:before{content:"\\f63d"}.bi-file-earmark-pdf:before{content:"\\f63e"}.bi-file-pdf-fill:before{content:"\\f63f"}.bi-file-pdf:before{content:"\\f640"}.bi-gender-ambiguous:before{content:"\\f641"}.bi-gender-female:before{content:"\\f642"}.bi-gender-male:before{content:"\\f643"}.bi-gender-trans:before{content:"\\f644"}.bi-headset-vr:before{content:"\\f645"}.bi-info-lg:before{content:"\\f646"}.bi-mastodon:before{content:"\\f647"}.bi-messenger:before{content:"\\f648"}.bi-piggy-bank-fill:before{content:"\\f649"}.bi-piggy-bank:before{content:"\\f64a"}.bi-pin-map-fill:before{content:"\\f64b"}.bi-pin-map:before{content:"\\f64c"}.bi-plus-lg:before{content:"\\f64d"}.bi-question-lg:before{content:"\\f64e"}.bi-recycle:before{content:"\\f64f"}.bi-reddit:before{content:"\\f650"}.bi-safe-fill:before{content:"\\f651"}.bi-safe2-fill:before{content:"\\f652"}.bi-safe2:before{content:"\\f653"}.bi-sd-card-fill:before{content:"\\f654"}.bi-sd-card:before{content:"\\f655"}.bi-skype:before{content:"\\f656"}.bi-slash-lg:before{content:"\\f657"}.bi-translate:before{content:"\\f658"}.bi-x-lg:before{content:"\\f659"}.bi-safe:before{content:"\\f65a"}.bi-apple:before{content:"\\f65b"}.bi-microsoft:before{content:"\\f65d"}.bi-windows:before{content:"\\f65e"}.bi-behance:before{content:"\\f65c"}.bi-dribbble:before{content:"\\f65f"}.bi-line:before{content:"\\f660"}.bi-medium:before{content:"\\f661"}.bi-paypal:before{content:"\\f662"}.bi-pinterest:before{content:"\\f663"}.bi-signal:before{content:"\\f664"}.bi-snapchat:before{content:"\\f665"}.bi-spotify:before{content:"\\f666"}.bi-stack-overflow:before{content:"\\f667"}.bi-strava:before{content:"\\f668"}.bi-wordpress:before{content:"\\f669"}.bi-vimeo:before{content:"\\f66a"}.bi-activity:before{content:"\\f66b"}.bi-easel2-fill:before{content:"\\f66c"}.bi-easel2:before{content:"\\f66d"}.bi-easel3-fill:before{content:"\\f66e"}.bi-easel3:before{content:"\\f66f"}.bi-fan:before{content:"\\f670"}.bi-fingerprint:before{content:"\\f671"}.bi-graph-down-arrow:before{content:"\\f672"}.bi-graph-up-arrow:before{content:"\\f673"}.bi-hypnotize:before{content:"\\f674"}.bi-magic:before{content:"\\f675"}.bi-person-rolodex:before{content:"\\f676"}.bi-person-video:before{content:"\\f677"}.bi-person-video2:before{content:"\\f678"}.bi-person-video3:before{content:"\\f679"}.bi-person-workspace:before{content:"\\f67a"}.bi-radioactive:before{content:"\\f67b"}.bi-webcam-fill:before{content:"\\f67c"}.bi-webcam:before{content:"\\f67d"}.bi-yin-yang:before{content:"\\f67e"}.bi-bandaid-fill:before{content:"\\f680"}.bi-bandaid:before{content:"\\f681"}.bi-bluetooth:before{content:"\\f682"}.bi-body-text:before{content:"\\f683"}.bi-boombox:before{content:"\\f684"}.bi-boxes:before{content:"\\f685"}.bi-dpad-fill:before{content:"\\f686"}.bi-dpad:before{content:"\\f687"}.bi-ear-fill:before{content:"\\f688"}.bi-ear:before{content:"\\f689"}.bi-envelope-check-fill:before{content:"\\f68b"}.bi-envelope-check:before{content:"\\f68c"}.bi-envelope-dash-fill:before{content:"\\f68e"}.bi-envelope-dash:before{content:"\\f68f"}.bi-envelope-exclamation-fill:before{content:"\\f691"}.bi-envelope-exclamation:before{content:"\\f692"}.bi-envelope-plus-fill:before{content:"\\f693"}.bi-envelope-plus:before{content:"\\f694"}.bi-envelope-slash-fill:before{content:"\\f696"}.bi-envelope-slash:before{content:"\\f697"}.bi-envelope-x-fill:before{content:"\\f699"}.bi-envelope-x:before{content:"\\f69a"}.bi-explicit-fill:before{content:"\\f69b"}.bi-explicit:before{content:"\\f69c"}.bi-git:before{content:"\\f69d"}.bi-infinity:before{content:"\\f69e"}.bi-list-columns-reverse:before{content:"\\f69f"}.bi-list-columns:before{content:"\\f6a0"}.bi-meta:before{content:"\\f6a1"}.bi-nintendo-switch:before{content:"\\f6a4"}.bi-pc-display-horizontal:before{content:"\\f6a5"}.bi-pc-display:before{content:"\\f6a6"}.bi-pc-horizontal:before{content:"\\f6a7"}.bi-pc:before{content:"\\f6a8"}.bi-playstation:before{content:"\\f6a9"}.bi-plus-slash-minus:before{content:"\\f6aa"}.bi-projector-fill:before{content:"\\f6ab"}.bi-projector:before{content:"\\f6ac"}.bi-qr-code-scan:before{content:"\\f6ad"}.bi-qr-code:before{content:"\\f6ae"}.bi-quora:before{content:"\\f6af"}.bi-quote:before{content:"\\f6b0"}.bi-robot:before{content:"\\f6b1"}.bi-send-check-fill:before{content:"\\f6b2"}.bi-send-check:before{content:"\\f6b3"}.bi-send-dash-fill:before{content:"\\f6b4"}.bi-send-dash:before{content:"\\f6b5"}.bi-send-exclamation-fill:before{content:"\\f6b7"}.bi-send-exclamation:before{content:"\\f6b8"}.bi-send-fill:before{content:"\\f6b9"}.bi-send-plus-fill:before{content:"\\f6ba"}.bi-send-plus:before{content:"\\f6bb"}.bi-send-slash-fill:before{content:"\\f6bc"}.bi-send-slash:before{content:"\\f6bd"}.bi-send-x-fill:before{content:"\\f6be"}.bi-send-x:before{content:"\\f6bf"}.bi-send:before{content:"\\f6c0"}.bi-steam:before{content:"\\f6c1"}.bi-terminal-dash:before{content:"\\f6c3"}.bi-terminal-plus:before{content:"\\f6c4"}.bi-terminal-split:before{content:"\\f6c5"}.bi-ticket-detailed-fill:before{content:"\\f6c6"}.bi-ticket-detailed:before{content:"\\f6c7"}.bi-ticket-fill:before{content:"\\f6c8"}.bi-ticket-perforated-fill:before{content:"\\f6c9"}.bi-ticket-perforated:before{content:"\\f6ca"}.bi-ticket:before{content:"\\f6cb"}.bi-tiktok:before{content:"\\f6cc"}.bi-window-dash:before{content:"\\f6cd"}.bi-window-desktop:before{content:"\\f6ce"}.bi-window-fullscreen:before{content:"\\f6cf"}.bi-window-plus:before{content:"\\f6d0"}.bi-window-split:before{content:"\\f6d1"}.bi-window-stack:before{content:"\\f6d2"}.bi-window-x:before{content:"\\f6d3"}.bi-xbox:before{content:"\\f6d4"}.bi-ethernet:before{content:"\\f6d5"}.bi-hdmi-fill:before{content:"\\f6d6"}.bi-hdmi:before{content:"\\f6d7"}.bi-usb-c-fill:before{content:"\\f6d8"}.bi-usb-c:before{content:"\\f6d9"}.bi-usb-fill:before{content:"\\f6da"}.bi-usb-plug-fill:before{content:"\\f6db"}.bi-usb-plug:before{content:"\\f6dc"}.bi-usb-symbol:before{content:"\\f6dd"}.bi-usb:before{content:"\\f6de"}.bi-boombox-fill:before{content:"\\f6df"}.bi-displayport:before{content:"\\f6e1"}.bi-gpu-card:before{content:"\\f6e2"}.bi-memory:before{content:"\\f6e3"}.bi-modem-fill:before{content:"\\f6e4"}.bi-modem:before{content:"\\f6e5"}.bi-motherboard-fill:before{content:"\\f6e6"}.bi-motherboard:before{content:"\\f6e7"}.bi-optical-audio-fill:before{content:"\\f6e8"}.bi-optical-audio:before{content:"\\f6e9"}.bi-pci-card:before{content:"\\f6ea"}.bi-router-fill:before{content:"\\f6eb"}.bi-router:before{content:"\\f6ec"}.bi-thunderbolt-fill:before{content:"\\f6ef"}.bi-thunderbolt:before{content:"\\f6f0"}.bi-usb-drive-fill:before{content:"\\f6f1"}.bi-usb-drive:before{content:"\\f6f2"}.bi-usb-micro-fill:before{content:"\\f6f3"}.bi-usb-micro:before{content:"\\f6f4"}.bi-usb-mini-fill:before{content:"\\f6f5"}.bi-usb-mini:before{content:"\\f6f6"}.bi-cloud-haze2:before{content:"\\f6f7"}.bi-device-hdd-fill:before{content:"\\f6f8"}.bi-device-hdd:before{content:"\\f6f9"}.bi-device-ssd-fill:before{content:"\\f6fa"}.bi-device-ssd:before{content:"\\f6fb"}.bi-displayport-fill:before{content:"\\f6fc"}.bi-mortarboard-fill:before{content:"\\f6fd"}.bi-mortarboard:before{content:"\\f6fe"}.bi-terminal-x:before{content:"\\f6ff"}.bi-arrow-through-heart-fill:before{content:"\\f700"}.bi-arrow-through-heart:before{content:"\\f701"}.bi-badge-sd-fill:before{content:"\\f702"}.bi-badge-sd:before{content:"\\f703"}.bi-bag-heart-fill:before{content:"\\f704"}.bi-bag-heart:before{content:"\\f705"}.bi-balloon-fill:before{content:"\\f706"}.bi-balloon-heart-fill:before{content:"\\f707"}.bi-balloon-heart:before{content:"\\f708"}.bi-balloon:before{content:"\\f709"}.bi-box2-fill:before{content:"\\f70a"}.bi-box2-heart-fill:before{content:"\\f70b"}.bi-box2-heart:before{content:"\\f70c"}.bi-box2:before{content:"\\f70d"}.bi-braces-asterisk:before{content:"\\f70e"}.bi-calendar-heart-fill:before{content:"\\f70f"}.bi-calendar-heart:before{content:"\\f710"}.bi-calendar2-heart-fill:before{content:"\\f711"}.bi-calendar2-heart:before{content:"\\f712"}.bi-chat-heart-fill:before{content:"\\f713"}.bi-chat-heart:before{content:"\\f714"}.bi-chat-left-heart-fill:before{content:"\\f715"}.bi-chat-left-heart:before{content:"\\f716"}.bi-chat-right-heart-fill:before{content:"\\f717"}.bi-chat-right-heart:before{content:"\\f718"}.bi-chat-square-heart-fill:before{content:"\\f719"}.bi-chat-square-heart:before{content:"\\f71a"}.bi-clipboard-check-fill:before{content:"\\f71b"}.bi-clipboard-data-fill:before{content:"\\f71c"}.bi-clipboard-fill:before{content:"\\f71d"}.bi-clipboard-heart-fill:before{content:"\\f71e"}.bi-clipboard-heart:before{content:"\\f71f"}.bi-clipboard-minus-fill:before{content:"\\f720"}.bi-clipboard-plus-fill:before{content:"\\f721"}.bi-clipboard-pulse:before{content:"\\f722"}.bi-clipboard-x-fill:before{content:"\\f723"}.bi-clipboard2-check-fill:before{content:"\\f724"}.bi-clipboard2-check:before{content:"\\f725"}.bi-clipboard2-data-fill:before{content:"\\f726"}.bi-clipboard2-data:before{content:"\\f727"}.bi-clipboard2-fill:before{content:"\\f728"}.bi-clipboard2-heart-fill:before{content:"\\f729"}.bi-clipboard2-heart:before{content:"\\f72a"}.bi-clipboard2-minus-fill:before{content:"\\f72b"}.bi-clipboard2-minus:before{content:"\\f72c"}.bi-clipboard2-plus-fill:before{content:"\\f72d"}.bi-clipboard2-plus:before{content:"\\f72e"}.bi-clipboard2-pulse-fill:before{content:"\\f72f"}.bi-clipboard2-pulse:before{content:"\\f730"}.bi-clipboard2-x-fill:before{content:"\\f731"}.bi-clipboard2-x:before{content:"\\f732"}.bi-clipboard2:before{content:"\\f733"}.bi-emoji-kiss-fill:before{content:"\\f734"}.bi-emoji-kiss:before{content:"\\f735"}.bi-envelope-heart-fill:before{content:"\\f736"}.bi-envelope-heart:before{content:"\\f737"}.bi-envelope-open-heart-fill:before{content:"\\f738"}.bi-envelope-open-heart:before{content:"\\f739"}.bi-envelope-paper-fill:before{content:"\\f73a"}.bi-envelope-paper-heart-fill:before{content:"\\f73b"}.bi-envelope-paper-heart:before{content:"\\f73c"}.bi-envelope-paper:before{content:"\\f73d"}.bi-filetype-aac:before{content:"\\f73e"}.bi-filetype-ai:before{content:"\\f73f"}.bi-filetype-bmp:before{content:"\\f740"}.bi-filetype-cs:before{content:"\\f741"}.bi-filetype-css:before{content:"\\f742"}.bi-filetype-csv:before{content:"\\f743"}.bi-filetype-doc:before{content:"\\f744"}.bi-filetype-docx:before{content:"\\f745"}.bi-filetype-exe:before{content:"\\f746"}.bi-filetype-gif:before{content:"\\f747"}.bi-filetype-heic:before{content:"\\f748"}.bi-filetype-html:before{content:"\\f749"}.bi-filetype-java:before{content:"\\f74a"}.bi-filetype-jpg:before{content:"\\f74b"}.bi-filetype-js:before{content:"\\f74c"}.bi-filetype-jsx:before{content:"\\f74d"}.bi-filetype-key:before{content:"\\f74e"}.bi-filetype-m4p:before{content:"\\f74f"}.bi-filetype-md:before{content:"\\f750"}.bi-filetype-mdx:before{content:"\\f751"}.bi-filetype-mov:before{content:"\\f752"}.bi-filetype-mp3:before{content:"\\f753"}.bi-filetype-mp4:before{content:"\\f754"}.bi-filetype-otf:before{content:"\\f755"}.bi-filetype-pdf:before{content:"\\f756"}.bi-filetype-php:before{content:"\\f757"}.bi-filetype-png:before{content:"\\f758"}.bi-filetype-ppt:before{content:"\\f75a"}.bi-filetype-psd:before{content:"\\f75b"}.bi-filetype-py:before{content:"\\f75c"}.bi-filetype-raw:before{content:"\\f75d"}.bi-filetype-rb:before{content:"\\f75e"}.bi-filetype-sass:before{content:"\\f75f"}.bi-filetype-scss:before{content:"\\f760"}.bi-filetype-sh:before{content:"\\f761"}.bi-filetype-svg:before{content:"\\f762"}.bi-filetype-tiff:before{content:"\\f763"}.bi-filetype-tsx:before{content:"\\f764"}.bi-filetype-ttf:before{content:"\\f765"}.bi-filetype-txt:before{content:"\\f766"}.bi-filetype-wav:before{content:"\\f767"}.bi-filetype-woff:before{content:"\\f768"}.bi-filetype-xls:before{content:"\\f76a"}.bi-filetype-xml:before{content:"\\f76b"}.bi-filetype-yml:before{content:"\\f76c"}.bi-heart-arrow:before{content:"\\f76d"}.bi-heart-pulse-fill:before{content:"\\f76e"}.bi-heart-pulse:before{content:"\\f76f"}.bi-heartbreak-fill:before{content:"\\f770"}.bi-heartbreak:before{content:"\\f771"}.bi-hearts:before{content:"\\f772"}.bi-hospital-fill:before{content:"\\f773"}.bi-hospital:before{content:"\\f774"}.bi-house-heart-fill:before{content:"\\f775"}.bi-house-heart:before{content:"\\f776"}.bi-incognito:before{content:"\\f777"}.bi-magnet-fill:before{content:"\\f778"}.bi-magnet:before{content:"\\f779"}.bi-person-heart:before{content:"\\f77a"}.bi-person-hearts:before{content:"\\f77b"}.bi-phone-flip:before{content:"\\f77c"}.bi-plugin:before{content:"\\f77d"}.bi-postage-fill:before{content:"\\f77e"}.bi-postage-heart-fill:before{content:"\\f77f"}.bi-postage-heart:before{content:"\\f780"}.bi-postage:before{content:"\\f781"}.bi-postcard-fill:before{content:"\\f782"}.bi-postcard-heart-fill:before{content:"\\f783"}.bi-postcard-heart:before{content:"\\f784"}.bi-postcard:before{content:"\\f785"}.bi-search-heart-fill:before{content:"\\f786"}.bi-search-heart:before{content:"\\f787"}.bi-sliders2-vertical:before{content:"\\f788"}.bi-sliders2:before{content:"\\f789"}.bi-trash3-fill:before{content:"\\f78a"}.bi-trash3:before{content:"\\f78b"}.bi-valentine:before{content:"\\f78c"}.bi-valentine2:before{content:"\\f78d"}.bi-wrench-adjustable-circle-fill:before{content:"\\f78e"}.bi-wrench-adjustable-circle:before{content:"\\f78f"}.bi-wrench-adjustable:before{content:"\\f790"}.bi-filetype-json:before{content:"\\f791"}.bi-filetype-pptx:before{content:"\\f792"}.bi-filetype-xlsx:before{content:"\\f793"}.bi-1-circle-fill:before{content:"\\f796"}.bi-1-circle:before{content:"\\f797"}.bi-1-square-fill:before{content:"\\f798"}.bi-1-square:before{content:"\\f799"}.bi-2-circle-fill:before{content:"\\f79c"}.bi-2-circle:before{content:"\\f79d"}.bi-2-square-fill:before{content:"\\f79e"}.bi-2-square:before{content:"\\f79f"}.bi-3-circle-fill:before{content:"\\f7a2"}.bi-3-circle:before{content:"\\f7a3"}.bi-3-square-fill:before{content:"\\f7a4"}.bi-3-square:before{content:"\\f7a5"}.bi-4-circle-fill:before{content:"\\f7a8"}.bi-4-circle:before{content:"\\f7a9"}.bi-4-square-fill:before{content:"\\f7aa"}.bi-4-square:before{content:"\\f7ab"}.bi-5-circle-fill:before{content:"\\f7ae"}.bi-5-circle:before{content:"\\f7af"}.bi-5-square-fill:before{content:"\\f7b0"}.bi-5-square:before{content:"\\f7b1"}.bi-6-circle-fill:before{content:"\\f7b4"}.bi-6-circle:before{content:"\\f7b5"}.bi-6-square-fill:before{content:"\\f7b6"}.bi-6-square:before{content:"\\f7b7"}.bi-7-circle-fill:before{content:"\\f7ba"}.bi-7-circle:before{content:"\\f7bb"}.bi-7-square-fill:before{content:"\\f7bc"}.bi-7-square:before{content:"\\f7bd"}.bi-8-circle-fill:before{content:"\\f7c0"}.bi-8-circle:before{content:"\\f7c1"}.bi-8-square-fill:before{content:"\\f7c2"}.bi-8-square:before{content:"\\f7c3"}.bi-9-circle-fill:before{content:"\\f7c6"}.bi-9-circle:before{content:"\\f7c7"}.bi-9-square-fill:before{content:"\\f7c8"}.bi-9-square:before{content:"\\f7c9"}.bi-airplane-engines-fill:before{content:"\\f7ca"}.bi-airplane-engines:before{content:"\\f7cb"}.bi-airplane-fill:before{content:"\\f7cc"}.bi-airplane:before{content:"\\f7cd"}.bi-alexa:before{content:"\\f7ce"}.bi-alipay:before{content:"\\f7cf"}.bi-android:before{content:"\\f7d0"}.bi-android2:before{content:"\\f7d1"}.bi-box-fill:before{content:"\\f7d2"}.bi-box-seam-fill:before{content:"\\f7d3"}.bi-browser-chrome:before{content:"\\f7d4"}.bi-browser-edge:before{content:"\\f7d5"}.bi-browser-firefox:before{content:"\\f7d6"}.bi-browser-safari:before{content:"\\f7d7"}.bi-c-circle-fill:before{content:"\\f7da"}.bi-c-circle:before{content:"\\f7db"}.bi-c-square-fill:before{content:"\\f7dc"}.bi-c-square:before{content:"\\f7dd"}.bi-capsule-pill:before{content:"\\f7de"}.bi-capsule:before{content:"\\f7df"}.bi-car-front-fill:before{content:"\\f7e0"}.bi-car-front:before{content:"\\f7e1"}.bi-cassette-fill:before{content:"\\f7e2"}.bi-cassette:before{content:"\\f7e3"}.bi-cc-circle-fill:before{content:"\\f7e6"}.bi-cc-circle:before{content:"\\f7e7"}.bi-cc-square-fill:before{content:"\\f7e8"}.bi-cc-square:before{content:"\\f7e9"}.bi-cup-hot-fill:before{content:"\\f7ea"}.bi-cup-hot:before{content:"\\f7eb"}.bi-currency-rupee:before{content:"\\f7ec"}.bi-dropbox:before{content:"\\f7ed"}.bi-escape:before{content:"\\f7ee"}.bi-fast-forward-btn-fill:before{content:"\\f7ef"}.bi-fast-forward-btn:before{content:"\\f7f0"}.bi-fast-forward-circle-fill:before{content:"\\f7f1"}.bi-fast-forward-circle:before{content:"\\f7f2"}.bi-fast-forward-fill:before{content:"\\f7f3"}.bi-fast-forward:before{content:"\\f7f4"}.bi-filetype-sql:before{content:"\\f7f5"}.bi-fire:before{content:"\\f7f6"}.bi-google-play:before{content:"\\f7f7"}.bi-h-circle-fill:before{content:"\\f7fa"}.bi-h-circle:before{content:"\\f7fb"}.bi-h-square-fill:before{content:"\\f7fc"}.bi-h-square:before{content:"\\f7fd"}.bi-indent:before{content:"\\f7fe"}.bi-lungs-fill:before{content:"\\f7ff"}.bi-lungs:before{content:"\\f800"}.bi-microsoft-teams:before{content:"\\f801"}.bi-p-circle-fill:before{content:"\\f804"}.bi-p-circle:before{content:"\\f805"}.bi-p-square-fill:before{content:"\\f806"}.bi-p-square:before{content:"\\f807"}.bi-pass-fill:before{content:"\\f808"}.bi-pass:before{content:"\\f809"}.bi-prescription:before{content:"\\f80a"}.bi-prescription2:before{content:"\\f80b"}.bi-r-circle-fill:before{content:"\\f80e"}.bi-r-circle:before{content:"\\f80f"}.bi-r-square-fill:before{content:"\\f810"}.bi-r-square:before{content:"\\f811"}.bi-repeat-1:before{content:"\\f812"}.bi-repeat:before{content:"\\f813"}.bi-rewind-btn-fill:before{content:"\\f814"}.bi-rewind-btn:before{content:"\\f815"}.bi-rewind-circle-fill:before{content:"\\f816"}.bi-rewind-circle:before{content:"\\f817"}.bi-rewind-fill:before{content:"\\f818"}.bi-rewind:before{content:"\\f819"}.bi-train-freight-front-fill:before{content:"\\f81a"}.bi-train-freight-front:before{content:"\\f81b"}.bi-train-front-fill:before{content:"\\f81c"}.bi-train-front:before{content:"\\f81d"}.bi-train-lightrail-front-fill:before{content:"\\f81e"}.bi-train-lightrail-front:before{content:"\\f81f"}.bi-truck-front-fill:before{content:"\\f820"}.bi-truck-front:before{content:"\\f821"}.bi-ubuntu:before{content:"\\f822"}.bi-unindent:before{content:"\\f823"}.bi-unity:before{content:"\\f824"}.bi-universal-access-circle:before{content:"\\f825"}.bi-universal-access:before{content:"\\f826"}.bi-virus:before{content:"\\f827"}.bi-virus2:before{content:"\\f828"}.bi-wechat:before{content:"\\f829"}.bi-yelp:before{content:"\\f82a"}.bi-sign-stop-fill:before{content:"\\f82b"}.bi-sign-stop-lights-fill:before{content:"\\f82c"}.bi-sign-stop-lights:before{content:"\\f82d"}.bi-sign-stop:before{content:"\\f82e"}.bi-sign-turn-left-fill:before{content:"\\f82f"}.bi-sign-turn-left:before{content:"\\f830"}.bi-sign-turn-right-fill:before{content:"\\f831"}.bi-sign-turn-right:before{content:"\\f832"}.bi-sign-turn-slight-left-fill:before{content:"\\f833"}.bi-sign-turn-slight-left:before{content:"\\f834"}.bi-sign-turn-slight-right-fill:before{content:"\\f835"}.bi-sign-turn-slight-right:before{content:"\\f836"}.bi-sign-yield-fill:before{content:"\\f837"}.bi-sign-yield:before{content:"\\f838"}.bi-ev-station-fill:before{content:"\\f839"}.bi-ev-station:before{content:"\\f83a"}.bi-fuel-pump-diesel-fill:before{content:"\\f83b"}.bi-fuel-pump-diesel:before{content:"\\f83c"}.bi-fuel-pump-fill:before{content:"\\f83d"}.bi-fuel-pump:before{content:"\\f83e"}.bi-0-circle-fill:before{content:"\\f83f"}.bi-0-circle:before{content:"\\f840"}.bi-0-square-fill:before{content:"\\f841"}.bi-0-square:before{content:"\\f842"}.bi-rocket-fill:before{content:"\\f843"}.bi-rocket-takeoff-fill:before{content:"\\f844"}.bi-rocket-takeoff:before{content:"\\f845"}.bi-rocket:before{content:"\\f846"}.bi-stripe:before{content:"\\f847"}.bi-subscript:before{content:"\\f848"}.bi-superscript:before{content:"\\f849"}.bi-trello:before{content:"\\f84a"}.bi-envelope-at-fill:before{content:"\\f84b"}.bi-envelope-at:before{content:"\\f84c"}.bi-regex:before{content:"\\f84d"}.bi-text-wrap:before{content:"\\f84e"}.bi-sign-dead-end-fill:before{content:"\\f84f"}.bi-sign-dead-end:before{content:"\\f850"}.bi-sign-do-not-enter-fill:before{content:"\\f851"}.bi-sign-do-not-enter:before{content:"\\f852"}.bi-sign-intersection-fill:before{content:"\\f853"}.bi-sign-intersection-side-fill:before{content:"\\f854"}.bi-sign-intersection-side:before{content:"\\f855"}.bi-sign-intersection-t-fill:before{content:"\\f856"}.bi-sign-intersection-t:before{content:"\\f857"}.bi-sign-intersection-y-fill:before{content:"\\f858"}.bi-sign-intersection-y:before{content:"\\f859"}.bi-sign-intersection:before{content:"\\f85a"}.bi-sign-merge-left-fill:before{content:"\\f85b"}.bi-sign-merge-left:before{content:"\\f85c"}.bi-sign-merge-right-fill:before{content:"\\f85d"}.bi-sign-merge-right:before{content:"\\f85e"}.bi-sign-no-left-turn-fill:before{content:"\\f85f"}.bi-sign-no-left-turn:before{content:"\\f860"}.bi-sign-no-parking-fill:before{content:"\\f861"}.bi-sign-no-parking:before{content:"\\f862"}.bi-sign-no-right-turn-fill:before{content:"\\f863"}.bi-sign-no-right-turn:before{content:"\\f864"}.bi-sign-railroad-fill:before{content:"\\f865"}.bi-sign-railroad:before{content:"\\f866"}.bi-building-add:before{content:"\\f867"}.bi-building-check:before{content:"\\f868"}.bi-building-dash:before{content:"\\f869"}.bi-building-down:before{content:"\\f86a"}.bi-building-exclamation:before{content:"\\f86b"}.bi-building-fill-add:before{content:"\\f86c"}.bi-building-fill-check:before{content:"\\f86d"}.bi-building-fill-dash:before{content:"\\f86e"}.bi-building-fill-down:before{content:"\\f86f"}.bi-building-fill-exclamation:before{content:"\\f870"}.bi-building-fill-gear:before{content:"\\f871"}.bi-building-fill-lock:before{content:"\\f872"}.bi-building-fill-slash:before{content:"\\f873"}.bi-building-fill-up:before{content:"\\f874"}.bi-building-fill-x:before{content:"\\f875"}.bi-building-fill:before{content:"\\f876"}.bi-building-gear:before{content:"\\f877"}.bi-building-lock:before{content:"\\f878"}.bi-building-slash:before{content:"\\f879"}.bi-building-up:before{content:"\\f87a"}.bi-building-x:before{content:"\\f87b"}.bi-buildings-fill:before{content:"\\f87c"}.bi-buildings:before{content:"\\f87d"}.bi-bus-front-fill:before{content:"\\f87e"}.bi-bus-front:before{content:"\\f87f"}.bi-ev-front-fill:before{content:"\\f880"}.bi-ev-front:before{content:"\\f881"}.bi-globe-americas:before{content:"\\f882"}.bi-globe-asia-australia:before{content:"\\f883"}.bi-globe-central-south-asia:before{content:"\\f884"}.bi-globe-europe-africa:before{content:"\\f885"}.bi-house-add-fill:before{content:"\\f886"}.bi-house-add:before{content:"\\f887"}.bi-house-check-fill:before{content:"\\f888"}.bi-house-check:before{content:"\\f889"}.bi-house-dash-fill:before{content:"\\f88a"}.bi-house-dash:before{content:"\\f88b"}.bi-house-down-fill:before{content:"\\f88c"}.bi-house-down:before{content:"\\f88d"}.bi-house-exclamation-fill:before{content:"\\f88e"}.bi-house-exclamation:before{content:"\\f88f"}.bi-house-gear-fill:before{content:"\\f890"}.bi-house-gear:before{content:"\\f891"}.bi-house-lock-fill:before{content:"\\f892"}.bi-house-lock:before{content:"\\f893"}.bi-house-slash-fill:before{content:"\\f894"}.bi-house-slash:before{content:"\\f895"}.bi-house-up-fill:before{content:"\\f896"}.bi-house-up:before{content:"\\f897"}.bi-house-x-fill:before{content:"\\f898"}.bi-house-x:before{content:"\\f899"}.bi-person-add:before{content:"\\f89a"}.bi-person-down:before{content:"\\f89b"}.bi-person-exclamation:before{content:"\\f89c"}.bi-person-fill-add:before{content:"\\f89d"}.bi-person-fill-check:before{content:"\\f89e"}.bi-person-fill-dash:before{content:"\\f89f"}.bi-person-fill-down:before{content:"\\f8a0"}.bi-person-fill-exclamation:before{content:"\\f8a1"}.bi-person-fill-gear:before{content:"\\f8a2"}.bi-person-fill-lock:before{content:"\\f8a3"}.bi-person-fill-slash:before{content:"\\f8a4"}.bi-person-fill-up:before{content:"\\f8a5"}.bi-person-fill-x:before{content:"\\f8a6"}.bi-person-gear:before{content:"\\f8a7"}.bi-person-lock:before{content:"\\f8a8"}.bi-person-slash:before{content:"\\f8a9"}.bi-person-up:before{content:"\\f8aa"}.bi-scooter:before{content:"\\f8ab"}.bi-taxi-front-fill:before{content:"\\f8ac"}.bi-taxi-front:before{content:"\\f8ad"}.bi-amd:before{content:"\\f8ae"}.bi-database-add:before{content:"\\f8af"}.bi-database-check:before{content:"\\f8b0"}.bi-database-dash:before{content:"\\f8b1"}.bi-database-down:before{content:"\\f8b2"}.bi-database-exclamation:before{content:"\\f8b3"}.bi-database-fill-add:before{content:"\\f8b4"}.bi-database-fill-check:before{content:"\\f8b5"}.bi-database-fill-dash:before{content:"\\f8b6"}.bi-database-fill-down:before{content:"\\f8b7"}.bi-database-fill-exclamation:before{content:"\\f8b8"}.bi-database-fill-gear:before{content:"\\f8b9"}.bi-database-fill-lock:before{content:"\\f8ba"}.bi-database-fill-slash:before{content:"\\f8bb"}.bi-database-fill-up:before{content:"\\f8bc"}.bi-database-fill-x:before{content:"\\f8bd"}.bi-database-fill:before{content:"\\f8be"}.bi-database-gear:before{content:"\\f8bf"}.bi-database-lock:before{content:"\\f8c0"}.bi-database-slash:before{content:"\\f8c1"}.bi-database-up:before{content:"\\f8c2"}.bi-database-x:before{content:"\\f8c3"}.bi-database:before{content:"\\f8c4"}.bi-houses-fill:before{content:"\\f8c5"}.bi-houses:before{content:"\\f8c6"}.bi-nvidia:before{content:"\\f8c7"}.bi-person-vcard-fill:before{content:"\\f8c8"}.bi-person-vcard:before{content:"\\f8c9"}.bi-sina-weibo:before{content:"\\f8ca"}.bi-tencent-qq:before{content:"\\f8cb"}.bi-wikipedia:before{content:"\\f8cc"}.bi-alphabet-uppercase:before{content:"\\f2a5"}.bi-alphabet:before{content:"\\f68a"}.bi-amazon:before{content:"\\f68d"}.bi-arrows-collapse-vertical:before{content:"\\f690"}.bi-arrows-expand-vertical:before{content:"\\f695"}.bi-arrows-vertical:before{content:"\\f698"}.bi-arrows:before{content:"\\f6a2"}.bi-ban-fill:before{content:"\\f6a3"}.bi-ban:before{content:"\\f6b6"}.bi-bing:before{content:"\\f6c2"}.bi-cake:before{content:"\\f6e0"}.bi-cake2:before{content:"\\f6ed"}.bi-cookie:before{content:"\\f6ee"}.bi-copy:before{content:"\\f759"}.bi-crosshair:before{content:"\\f769"}.bi-crosshair2:before{content:"\\f794"}.bi-emoji-astonished-fill:before{content:"\\f795"}.bi-emoji-astonished:before{content:"\\f79a"}.bi-emoji-grimace-fill:before{content:"\\f79b"}.bi-emoji-grimace:before{content:"\\f7a0"}.bi-emoji-grin-fill:before{content:"\\f7a1"}.bi-emoji-grin:before{content:"\\f7a6"}.bi-emoji-surprise-fill:before{content:"\\f7a7"}.bi-emoji-surprise:before{content:"\\f7ac"}.bi-emoji-tear-fill:before{content:"\\f7ad"}.bi-emoji-tear:before{content:"\\f7b2"}.bi-envelope-arrow-down-fill:before{content:"\\f7b3"}.bi-envelope-arrow-down:before{content:"\\f7b8"}.bi-envelope-arrow-up-fill:before{content:"\\f7b9"}.bi-envelope-arrow-up:before{content:"\\f7be"}.bi-feather:before{content:"\\f7bf"}.bi-feather2:before{content:"\\f7c4"}.bi-floppy-fill:before{content:"\\f7c5"}.bi-floppy:before{content:"\\f7d8"}.bi-floppy2-fill:before{content:"\\f7d9"}.bi-floppy2:before{content:"\\f7e4"}.bi-gitlab:before{content:"\\f7e5"}.bi-highlighter:before{content:"\\f7f8"}.bi-marker-tip:before{content:"\\f802"}.bi-nvme-fill:before{content:"\\f803"}.bi-nvme:before{content:"\\f80c"}.bi-opencollective:before{content:"\\f80d"}.bi-pci-card-network:before{content:"\\f8cd"}.bi-pci-card-sound:before{content:"\\f8ce"}.bi-radar:before{content:"\\f8cf"}.bi-send-arrow-down-fill:before{content:"\\f8d0"}.bi-send-arrow-down:before{content:"\\f8d1"}.bi-send-arrow-up-fill:before{content:"\\f8d2"}.bi-send-arrow-up:before{content:"\\f8d3"}.bi-sim-slash-fill:before{content:"\\f8d4"}.bi-sim-slash:before{content:"\\f8d5"}.bi-sourceforge:before{content:"\\f8d6"}.bi-substack:before{content:"\\f8d7"}.bi-threads-fill:before{content:"\\f8d8"}.bi-threads:before{content:"\\f8d9"}.bi-transparency:before{content:"\\f8da"}.bi-twitter-x:before{content:"\\f8db"}.bi-type-h4:before{content:"\\f8dc"}.bi-type-h5:before{content:"\\f8dd"}.bi-type-h6:before{content:"\\f8de"}.bi-backpack-fill:before{content:"\\f8df"}.bi-backpack:before{content:"\\f8e0"}.bi-backpack2-fill:before{content:"\\f8e1"}.bi-backpack2:before{content:"\\f8e2"}.bi-backpack3-fill:before{content:"\\f8e3"}.bi-backpack3:before{content:"\\f8e4"}.bi-backpack4-fill:before{content:"\\f8e5"}.bi-backpack4:before{content:"\\f8e6"}.bi-brilliance:before{content:"\\f8e7"}.bi-cake-fill:before{content:"\\f8e8"}.bi-cake2-fill:before{content:"\\f8e9"}.bi-duffle-fill:before{content:"\\f8ea"}.bi-duffle:before{content:"\\f8eb"}.bi-exposure:before{content:"\\f8ec"}.bi-gender-neuter:before{content:"\\f8ed"}.bi-highlights:before{content:"\\f8ee"}.bi-luggage-fill:before{content:"\\f8ef"}.bi-luggage:before{content:"\\f8f0"}.bi-mailbox-flag:before{content:"\\f8f1"}.bi-mailbox2-flag:before{content:"\\f8f2"}.bi-noise-reduction:before{content:"\\f8f3"}.bi-passport-fill:before{content:"\\f8f4"}.bi-passport:before{content:"\\f8f5"}.bi-person-arms-up:before{content:"\\f8f6"}.bi-person-raised-hand:before{content:"\\f8f7"}.bi-person-standing-dress:before{content:"\\f8f8"}.bi-person-standing:before{content:"\\f8f9"}.bi-person-walking:before{content:"\\f8fa"}.bi-person-wheelchair:before{content:"\\f8fb"}.bi-shadows:before{content:"\\f8fc"}.bi-suitcase-fill:before{content:"\\f8fd"}.bi-suitcase-lg-fill:before{content:"\\f8fe"}.bi-suitcase-lg:before{content:"\\f8ff"}.bi-suitcase:before{content:"\\f900"}.bi-suitcase2-fill:before{content:"\\f901"}.bi-suitcase2:before{content:"\\f902"}.bi-vignette:before{content:"\\f903"}.vac-card-window{width:100%;display:block;max-width:100%;background:var(--chat-content-bg-color);color:var(--chat-color);overflow-wrap:break-word;white-space:normal;border:var(--chat-container-border);border-radius:var(--chat-container-border-radius);box-shadow:var(--chat-container-box-shadow);-webkit-tap-highlight-color:transparent}.vac-card-window *{font-family:inherit}.vac-card-window a{color:#0d579c;font-weight:500}.vac-card-window .vac-chat-container{height:100%;display:flex}.vac-card-window .vac-chat-container input{min-width:10px}.vac-card-window .vac-chat-container textarea,.vac-card-window .vac-chat-container input[type=text],.vac-card-window .vac-chat-container input[type=search]{-webkit-appearance:none}.vac-media-preview{position:fixed;top:0;left:0;z-index:99;width:100vw;height:100vh;display:flex;align-items:center;background-color:#000c;outline:none}.vac-media-preview .vac-media-preview-container{height:calc(100% - 140px);width:calc(100% - 80px);padding:70px 40px;margin:0 auto}.vac-media-preview .vac-image-preview{width:100%;height:100%;background-size:contain;background-repeat:no-repeat;background-position:center}.vac-media-preview video{width:100%;height:100%}.vac-media-preview .vac-svg-button{position:absolute;top:30px;right:30px;transform:scale(1.4)}@media only screen and (max-width: 768px){.vac-media-preview .vac-svg-button{top:20px;right:20px;transform:scale(1.2)}.vac-media-preview .vac-media-preview-container{width:calc(100% - 40px);padding:70px 20px}}.vac-col-messages{position:relative;height:100%;flex:1;overflow:hidden;display:flex;flex-flow:column}.vac-col-messages .vac-container-center{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.vac-col-messages .vac-room-empty{font-size:14px;color:#9ca6af;font-style:italic;line-height:20px;white-space:pre-line}.vac-col-messages .vac-room-empty div{padding:0 10%}.vac-col-messages .vac-container-scroll{background:var(--chat-content-bg-color);flex:1;overflow-y:auto;margin-right:1px;margin-top:65px;-webkit-overflow-scrolling:touch}.vac-col-messages .vac-container-scroll.vac-scroll-smooth{scroll-behavior:smooth}.vac-col-messages .vac-container-scroll.vac-room-call-ongoing{margin-top:calc(81px + 1rem)!important}.vac-col-messages .vac-messages-container{padding:0}.vac-col-messages .vac-text-started{font-size:14px;color:var(--chat-message-color-started);font-style:italic;text-align:center;margin-top:25px;margin-bottom:20px}.vac-col-messages .vac-icon-scroll{position:absolute;bottom:80px;right:20px;padding:8px;background:var(--chat-bg-scroll-icon);border-radius:50%;box-shadow:0 1px 1px -1px #0003,0 1px 1px #00000024,0 1px 2px #0000001f;display:flex;cursor:pointer;z-index:10}.vac-col-messages .vac-icon-scroll svg{height:25px;width:25px}.vac-col-messages .vac-messages-count{position:absolute;top:-8px;left:11px;background-color:var(--chat-message-bg-color-scroll-counter);color:var(--chat-message-color-scroll-counter)}.vac-col-messages .vac-messages-hidden{opacity:0}@media only screen and (max-width: 768px){.vac-col-messages .vac-container-scroll{margin-top:50px}.vac-col-messages .vac-container-scroll.vac-room-call-ongoing{margin-top:calc(66px + 1rem)!important}.vac-col-messages .vac-text-started{margin-top:20px}.vac-col-messages .vac-icon-scroll{bottom:70px}}.vac-room-header{position:absolute;display:flex;align-items:center;height:64px;width:100%;z-index:10;margin-right:1px;background:var(--chat-header-bg-color);border-top-right-radius:var(--chat-container-border-radius)}.vac-room-header .vac-room-wrapper{display:flex;align-items:center;min-width:0;height:100%;width:100%;padding:0 16px}.vac-room-header .vac-toggle-button{margin-right:15px}.vac-room-header .vac-toggle-button svg{height:26px;width:26px}.vac-room-header .vac-rotate-icon{transform:rotate(180deg)!important}.vac-room-header .vac-rotate-icon-init{transform:rotate(360deg)}.vac-room-header .vac-info-wrapper,.vac-room-header .vac-room-selection{display:flex;align-items:center;min-width:0;width:100%;height:100%}.vac-room-header .vac-room-selection .vac-selection-button{padding:8px 16px;color:var(--chat-color-button);background-color:var(--chat-bg-color-button);border-radius:4px;margin-right:10px;cursor:pointer;transition:all .2s}.vac-room-header .vac-room-selection .vac-selection-button:hover{opacity:.7}.vac-room-header .vac-room-selection .vac-selection-button:active{opacity:.9}.vac-room-header .vac-room-selection .vac-selection-button .vac-selection-button-count{margin-left:6px;opacity:.9}.vac-room-header .vac-room-selection .vac-selection-cancel{display:flex;align-items:center;margin-right:auto;white-space:nowrap;transition:all .2s}.vac-room-header .vac-room-selection .vac-selection-cancel .x-icon{color:var(--chat-message-color-forwarded)}.vac-room-header .vac-room-selection .vac-selection-cancel .vac-selection-count-container{margin-left:14px;font-size:14.5px;color:var(--chat-message-color-forwarded);user-select:none;margin-top:2px}.vac-room-header .vac-room-selection .forward-messages{color:var(--chat-message-color-forwarded)}.vac-room-header .vac-room-name{font-size:17px;font-weight:500;line-height:22px;color:var(--chat-header-color-name)}.vac-room-header .vac-room-info{font-size:13px;line-height:18px;color:var(--chat-header-color-info)}.vac-room-header .vac-room-options{margin-left:auto}@media only screen and (max-width: 768px){.vac-room-header{height:50px}.vac-room-header .vac-room-wrapper{padding:0 10px}.vac-room-header .vac-room-name{font-size:16px;line-height:22px}.vac-room-header .vac-room-info{font-size:12px;line-height:16px}.vac-room-header .vac-avatar{height:37px;width:37px;min-height:37px;min-width:37px}}.vac-room-header .vac-room-call-ongoing{position:absolute;display:flex;align-items:center;justify-content:space-between;top:64px;height:16px;padding:.5rem;width:100%;z-index:10;border-top-right-radius:var(--chat-container-border-radius);background:var(--bs-primary);cursor:pointer}.vac-room-header .vac-room-call-ongoing .vac-room-call-ongoing-title{font-weight:700;margin-right:.5rem;color:#fff}.vac-room-header .vac-room-call-ongoing .vac-room-call-ongoing-duration{font-weight:400;color:#d1d1d1}@media only screen and (max-width: 768px){.vac-room-header .vac-room-call-ongoing{top:50px}}.vac-room-footer{width:100%;border-bottom-right-radius:4px;z-index:10}.vac-box-footer{display:flex;position:relative;background:transparent;padding:10px 8px}.vac-textarea{max-height:300px;overflow-y:auto;height:20px;width:100%;line-height:20px;outline:0;resize:none;border-radius:10px;padding:12px 16px;padding-left:4rem;box-sizing:content-box;font-size:16px;background:var(--chat-bg-color-input);color:var(--chat-color);caret-color:var(--chat-color-caret);border:var(--chat-border-style-input)}.vac-textarea::placeholder{color:var(--chat-color-placeholder);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vac-textarea-outline{border:1px solid var(--chat-border-color-input-selected);box-shadow:inset 0 0 0 1px var(--chat-border-color-input-selected)}.vac-icon-textarea,.vac-icon-textarea-left{display:flex;align-items:center}.vac-icon-textarea i,.vac-icon-textarea svg,.vac-icon-textarea .vac-wrapper,.vac-icon-textarea-left i,.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 7px}.vac-icon-textarea{margin-left:5px}.vac-icon-textarea-left{display:flex;align-items:center;margin-right:5px}.vac-icon-textarea-left i,.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 7px}.vac-icon-microphone{fill:var(--chat-icon-color-microphone);margin:0 7px}.vac-audio-recorder-container{width:100%;min-height:44px;display:flex;justify-content:end;align-items:center}.vac-audio-recorder-container .vac-dot-audio-record{height:15px;width:15px;border-radius:50%;background-color:var(--chat-message-bg-color-audio-record);animation:vac-scaling .8s ease-in-out infinite alternate}@keyframes vac-scaling{0%{transform:scale(1);opacity:.4}to{transform:scale(1.1);opacity:1}}.vac-audio-recorder-container .vac-dot-audio-record-time{font-size:16px;color:var(--chat-color);margin-left:8px;width:50px}.vac-audio-recorder-container .vac-icon-audio-stop,.vac-audio-recorder-container .vac-icon-audio-confirm{min-height:28px;min-width:28px}.vac-audio-recorder-container .vac-icon-audio-stop i,.vac-audio-recorder-container .vac-icon-audio-stop svg,.vac-audio-recorder-container .vac-icon-audio-confirm i,.vac-audio-recorder-container .vac-icon-audio-confirm svg{min-height:28px;min-width:28px}.vac-audio-recorder-container .vac-icon-audio-stop{margin-right:20px}.vac-audio-recorder-container .vac-icon-audio-stop #vac-icon-close-outline{fill:var(--chat-icon-color-audio-cancel)}.vac-audio-recorder-container .vac-icon-audio-confirm{margin-right:3px;margin-left:12px}.vac-audio-recorder-container .vac-icon-audio-confirm #vac-icon-checkmark{fill:var(--chat-icon-color-audio-confirm)}.vac-send-disabled,.vac-send-disabled svg{cursor:none!important;pointer-events:none!important;transform:none!important}.vac-emoji-picker{position:absolute;left:4rem}.vac-icon-textarea-highlitght{position:absolute;left:4rem;top:50%;transform:translateY(-50%);pointer-events:none}.vac-icon-textarea-highlitght i{color:#5c578f}.vac-room-footer-highlight{--chat-icon-color-send: #7367f0;--chat-icon-color-send-disabled: #5c578f}.vac-room-footer-highlight .vac-textarea{padding-left:2.8rem}.vac-room-footer-highlight .vac-box-footer:before{content:"";position:absolute;display:block;top:50%;transform:translateY(-50%);left:42px;right:50px;height:44px;border:1px solid #7367f0;border-radius:10px;animation:border-pulse 1.5s infinite;pointer-events:none}@media only screen and (max-width: 768px){.vac-room-footer{width:100%}.vac-box-footer{padding:7px 2px 7px 7px}.vac-box-footer.vac-box-footer-border{border-top:var(--chat-border-style-input)}.vac-room-footer-highlight .vac-box-footer:before{left:37px;right:40px;height:33px}.vac-textarea{padding:7px;padding-left:4rem;line-height:18px}.vac-textarea::placeholder{color:transparent}.vac-icon-textarea i,.vac-icon-textarea svg,.vac-icon-textarea .vac-wrapper,.vac-icon-textarea-left i,.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 5px!important}}@media only screen and (max-height: 768px){.vac-textarea{max-height:120px}}@keyframes border-pulse{0%{box-shadow:0 0 #7367f066}70%{box-shadow:0 0 0 12px #7367f000}to{box-shadow:0 0 0 5px #7367f000}}.room-attachment-picker-wrapper{position:relative}.room-attachment-picker-wrapper .vac-open-attachment-list-icon{transition:all .3s ease-in-out;font-size:1.5rem;color:var(--chat-icon-color-paperclip)}.room-attachment-picker-wrapper .vac-menu-options{position:absolute;right:0px;top:unset;bottom:32px;z-index:9999}.room-attachment-picker-wrapper .vac-menu-options.vac-menu-left{right:10px;left:unset}.room-attachment-picker-wrapper .vac-menu-options.vac-menu-right{left:10px;right:unset}.room-attachment-picker-wrapper .vac-menu-options .vac-menu-item{display:flex;align-items:center}.room-attachment-picker-wrapper .vac-menu-options .vac-menu-item i{margin-right:.5rem;font-size:1.3rem}@media only screen and (max-width: 768px){.room-attachment-picker-wrapper .vac-options-container{right:3px}}.vac-emojis-container{width:calc(100% - 16px);padding:10px 8px;background:var(--chat-footer-bg-color);display:flex;align-items:center;overflow:auto}.vac-emojis-container .vac-emoji-element{padding:0 8px;font-size:30px;border-radius:4px;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-emojis-container .vac-emoji-element-active{background:var(--chat-footer-bg-color-tag-active)}@media only screen and (max-width: 768px){.vac-emojis-container{width:calc(100% - 10px);padding:7px 5px}.vac-emojis-container .vac-emoji-element{padding:0 7px;font-size:26px}}.vac-reply-container{display:flex;padding:10px 10px 0;background:var(--chat-footer-bg-color);align-items:center;width:calc(100% - 20px)}.vac-reply-container .vac-reply-box{width:100%;overflow:hidden;background:var(--chat-footer-bg-color-reply);border-radius:4px;padding:8px 10px}.vac-reply-container .vac-reply-info{overflow:hidden}.vac-reply-container .vac-reply-username{color:var(--chat-message-color-reply-username);font-size:12px;line-height:15px;margin-bottom:2px}.vac-reply-container .vac-reply-content{font-size:12px;color:var(--chat-message-color-reply-content);white-space:pre-line}.vac-reply-container .vac-icon-reply{margin-left:10px}.vac-reply-container .vac-icon-reply svg{height:20px;width:20px}.vac-reply-container .vac-image-reply{max-height:100px;max-width:200px;margin:4px 10px 0 0;border-radius:4px}.vac-reply-container .vac-audio-reply{margin-right:10px}.vac-reply-container .vac-file-container{max-width:80px}@media only screen and (max-width: 768px){.vac-reply-container{padding:5px 8px;width:calc(100% - 16px)}}.vac-room-files-container{display:flex;align-items:center;padding:10px 6px 0;background:var(--chat-footer-bg-color)}.vac-room-files-container .vac-files-box{display:flex;overflow:auto;width:calc(100% - 30px)}.vac-room-files-container video{height:100px;border:var(--chat-border-style-input);border-radius:4px}.vac-room-files-container .vac-icon-close{margin-left:auto}.vac-room-files-container .vac-icon-close svg{height:20px;width:20px}@media only screen and (max-width: 768px){.vac-files-container{padding:6px 4px 4px 2px}}.vac-room-file-container{display:flex;position:relative;margin:0 4px}.vac-room-file-container .vac-message-image,.vac-room-file-container .vac-optiwork-file{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:cover!important;background-position:center center!important;background-repeat:no-repeat!important;height:100px;width:100px;border:var(--chat-border-style-input);border-radius:4px}.vac-room-file-container .vac-optiwork-file{display:flex;justify-content:center;align-items:center;flex-direction:column;padding:5px}.vac-room-file-container .vac-optiwork-file-icon{font-size:30px}.vac-room-file-container .vac-optiwork-file-name{font-size:smaller;text-align:center;color:#3b3b3b}.vac-room-file-container .vac-file-container{height:80px;width:80px}.vac-room-file-container .vac-icon-remove{position:absolute;top:6px;left:6px;z-index:10}.vac-room-file-container .vac-icon-remove svg{height:20px;width:20px;border-radius:50%}.vac-room-file-container .vac-icon-remove:before{content:" ";position:absolute;width:100%;height:100%;background:rgba(0,0,0,.5);border-radius:50%;z-index:-1}.icon-file-doc{color:#4e8df5}.icon-file-spreadsheat{color:#20a464}.icon-file-presentation{color:#e03303}.icon-file-pdf{color:#dc3545}.icon-file-image{color:#c49011}.icon-file-audio{color:#6f42c1}.icon-file-play{color:#9a252b}.icon-file-archive{color:#6c757d}.icon-file-zip{color:#056562}.icon-file-code{color:#08c4c4}.vac-tags-container{display:flex;flex-direction:column;align-items:center;width:100%}.vac-tags-container .vac-tags-box{display:flex;width:100%;height:54px;overflow:hidden;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-tags-container .vac-tags-box-active{background:var(--chat-footer-bg-color-tag-active)}.vac-tags-container .vac-tags-info{display:flex;overflow:hidden;padding:0 20px;align-items:center}.vac-tags-container .vac-tags-avatar{height:34px;width:34px;min-height:34px;min-width:34px}.vac-tags-container .vac-tags-username{font-size:14px}@media only screen and (max-width: 768px){.vac-tags-container .vac-tags-box{height:50px}.vac-tags-container .vac-tags-info{padding:0 12px}}.vac-template-container{display:flex;flex-direction:column;align-items:center;width:100%}.vac-template-container .vac-template-box{display:flex;width:100%;height:54px;overflow:hidden;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-template-container .vac-template-active{background:var(--chat-footer-bg-color-tag-active)}.vac-template-container .vac-template-info{display:flex;overflow:hidden;padding:0 20px;align-items:center}.vac-template-container .vac-template-tag{font-size:14px;font-weight:700;margin-right:10px}.vac-template-container .vac-template-text{font-size:14px}@media only screen and (max-width: 768px){.vac-template-container .vac-template-box{height:50px}.vac-template-container .vac-template-info{padding:0 12px}}.vac-rooms-container{display:flex;flex-flow:column;flex:0 0 25%;min-width:260px;max-width:500px;position:relative;background:var(--chat-sidemenu-bg-color);height:100%;border-top-left-radius:var(--chat-container-border-radius);border-bottom-left-radius:var(--chat-container-border-radius)}.vac-rooms-container.vac-rooms-container-full{flex:0 0 100%;max-width:100%}.vac-rooms-container .vac-rooms-empty{font-size:14px;color:#9ca6af;font-style:italic;text-align:center;margin:40px 0;line-height:20px;white-space:pre-line}.vac-rooms-container .vac-room-list{flex:1;position:relative;max-width:100%;cursor:pointer;padding:0 10px 5px;overflow-y:auto}.vac-rooms-container .vac-room-item{border-radius:8px;align-items:center;display:flex;flex:1 1 100%;margin-bottom:5px;padding:0 14px;position:relative;min-height:71px;transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-rooms-container .vac-room-item:hover{background:var(--chat-sidemenu-bg-color-hover)}.vac-rooms-container .vac-room-selected{color:var(--chat-sidemenu-color-active)!important;background:var(--chat-sidemenu-bg-color-active)!important}.vac-rooms-container .vac-room-selected:hover{background:var(--chat-sidemenu-bg-color-active)!important}@media only screen and (max-width: 768px){.vac-rooms-container .vac-room-list{padding:0 7px 5px}.vac-rooms-container .vac-room-item{min-height:60px;padding:0 8px}}.vac-rooms-container .rooms-move,.vac-rooms-container .rooms-enter-active,.vac-rooms-container .rooms-leave-active{transition:all 1s cubic-bezier(.075,.82,.165,1)}.vac-rooms-container .rooms-enter-from{opacity:0;transform:translateY(2rem)}.vac-rooms-container .rooms-leave-to{opacity:0}.vac-rooms-container .rooms-leave-active{position:absolute}.vac-rooms-container .no-rooms-found-message{padding:2rem;text-align:center}.vac-rooms-container .vac-ongoing-call{background-color:var(--bs-primary)!important}.vac-rooms-container .vac-rooms-archived{border-radius:8px;align-items:center;display:flex;flex:1 1 100%;margin-bottom:5px;padding:0 14px;position:relative;min-height:71px;transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-rooms-container .vac-rooms-archived:hover{background:var(--chat-sidemenu-bg-color-hover)}.vac-room-container{display:flex;flex:1;align-items:center;width:100%}.vac-room-container .vac-name-container{flex:1}.vac-room-container .vac-title-container{display:flex;align-items:center;line-height:25px}.vac-room-container .vac-state-circle{width:9px;height:9px;border-radius:50%;background-color:var(--chat-room-color-offline);margin-right:6px;transition:.3s}.vac-room-container .vac-state-online{background-color:var(--chat-room-color-online)}.vac-room-container .vac-room-name{flex:1;color:var(--chat-room-color-username);font-weight:500}.vac-room-container .vac-text-date{margin-left:5px;font-size:11px;color:var(--chat-room-color-timestamp)}.vac-room-container .vac-text-last{display:flex;align-items:center;font-size:12px;line-height:19px;color:var(--chat-room-color-message)}.vac-room-container .vac-message-new{color:var(--chat-room-color-username);font-weight:500}.vac-room-container .vac-icon-check{display:flex;vertical-align:middle;height:14px;width:14px;margin-top:-2px;margin-right:2px}.vac-room-container .vac-icon-microphone{height:15px;width:15px;vertical-align:middle;margin:-3px 1px 0 -2px;fill:var(--chat-room-color-message)}.vac-room-container .vac-room-options-container{display:flex;margin-left:auto}.vac-room-container .vac-room-badge{background-color:var(--chat-room-bg-color-badge);color:var(--chat-room-color-badge);margin-left:5px}.vac-room-container .vac-room-mention{color:var(--chat-room-bg-color-badge);font-size:14px;font-weight:600}.vac-room-container .vac-list-room-options{height:19px;width:19px;align-items:center;margin-left:5px}.vac-room-container .vac-pinned-icon,.vac-room-container .vac-muted-icon{margin-left:.5rem;color:#67717a}.vac-room-call-container{display:flex;flex:1;align-items:center;width:100%}.vac-room-call-container .vac-room-info-container{flex:1;display:flex}.vac-room-call-container .vac-name-container{flex:1}.vac-room-call-container .vac-title-container{display:flex;align-items:center;line-height:25px}.vac-room-call-container .vac-room-name{flex:1;color:#fff;font-weight:500}.vac-room-call-container .vac-text-last{display:flex;align-items:center;font-size:12px;line-height:19px;color:#6c7278}.vac-room-call-container.vac-room-call-pending .vac-avatar{box-shadow:0 0 #fff;animation:pulse 1.5s infinite}.vac-call-actions{font-size:1.5rem;display:flex;align-items:center;justify-content:flex-start;padding:1rem 0}.vac-call-actions a.btn{text-decoration:none;color:#fff!important}.vac-call-actions .btn.btn-danger{background:var(--bs-danger)!important;padding:1rem!important;border-radius:50%!important;line-height:0!important}@keyframes pulse{0%{box-shadow:0 0 0 0 var(--bs-primary)}70%{box-shadow:0 0 0 .5rem #ffffff85}to{box-shadow:0 0 0 0 var(--bs-primary)}}.vac-box-empty{margin-top:10px}@media only screen and (max-width: 768px){.vac-box-empty{margin-top:7px}}.vac-box-search{position:sticky;display:flex;align-items:center;height:64px;padding:0 15px}.vac-box-search .vac-icon-search{display:flex;position:absolute;left:30px}.vac-box-search .vac-icon-search svg{width:18px;height:18px}.vac-box-search .vac-input{height:38px;width:100%;background:var(--chat-bg-color-input);color:var(--chat-color);font-size:15px;outline:0;caret-color:var(--chat-color-caret);padding:10px 10px 10px 40px;border:1px solid var(--chat-sidemenu-border-color-search);border-radius:20px}.vac-box-search .vac-input::placeholder{color:var(--chat-color-placeholder)}.vac-box-search .vac-add-icon{margin-left:auto;padding-left:10px}@media only screen and (max-width: 768px){.vac-box-search{height:58px}}.vac-message-wrapper .vac-card-info{border-radius:4px;text-align:center;margin:10px auto;font-size:12px;padding:4px;display:block;overflow-wrap:break-word;position:relative;white-space:normal;box-shadow:0 1px 1px -1px #0000001a,0 1px 1px -1px #0000001c,0 1px 2px -1px #0000001c}.vac-message-wrapper .vac-card-date{max-width:150px;font-weight:500;text-transform:uppercase;color:var(--chat-message-color-date);background-color:var(--chat-message-bg-color-date)}.vac-message-wrapper .vac-card-system{max-width:250px;padding:8px 4px;color:var(--chat-message-color-system);background-color:var(--chat-message-bg-color-system)}.vac-message-wrapper .vac-line-new{color:var(--chat-message-color-new-messages);position:relative;text-align:center;font-size:13px;padding:10px 0}.vac-message-wrapper .vac-line-new:after,.vac-message-wrapper .vac-line-new:before{border-top:1px solid var(--chat-message-color-new-messages);content:"";left:0;position:absolute;top:50%;width:calc(50% - 60px)}.vac-message-wrapper .vac-line-new:before{left:auto;right:0}.vac-message-wrapper .vac-message-box{display:flex;max-width:50%;justify-content:flex-start;line-height:1.4}.vac-message-wrapper .vac-avatar{height:28px;width:28px;min-height:28px;min-width:28px;margin:0 0 2px;align-self:flex-end}.vac-message-wrapper .vac-avatar:not(.vac-avatar-current){margin:0 0 2px 3px}.vac-message-wrapper .vac-avatar-current-offset{margin-right:28px}.vac-message-wrapper .vac-avatar-offset{margin-left:28px}.vac-message-wrapper .vac-failure-container{position:relative;align-self:flex-end;height:20px;width:20px;margin:0 0 2px -4px;border-radius:50%;background-color:#f44336}.vac-message-wrapper .vac-failure-container.vac-failure-container-avatar{margin-right:6px}.vac-message-wrapper .vac-failure-container .vac-failure-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:15px;font-weight:700}.vac-message-wrapper .vac-message-container{position:relative;padding:2px 10px;align-items:end;min-width:100px;box-sizing:content-box}.vac-message-wrapper .vac-message-container-offset{margin-top:10px}.vac-message-wrapper .vac-message-box-container{display:flex}.vac-message-wrapper .vac-message-box-container.vac-offset-current{justify-content:flex-end}.vac-message-wrapper .vac-message-box-container:not(.vac-offset-current){justify-content:flex-start}.vac-message-wrapper .vac-message-card{background-color:var(--chat-message-bg-color);color:var(--chat-message-color);border-radius:8px;font-size:14px;padding:6px 9px 3px;white-space:pre-line;max-width:100%;-webkit-transition-property:box-shadow,opacity;transition-property:box-shadow,opacity;transition:box-shadow .28s cubic-bezier(.4,0,.2,1);will-change:box-shadow;box-shadow:0 1px 1px -1px #0000001a,0 1px 1px -1px #0000001c,0 1px 2px -1px #0000001c}.vac-message-wrapper .vac-message-highlight{box-shadow:0 1px 2px -1px #0000001a,0 1px 2px -1px #0000001c,0 1px 5px -1px #0000001c}.vac-message-wrapper .vac-message-current{background-color:var(--chat-message-bg-color-me)!important}.vac-message-wrapper .vac-message-deleted{color:var(--chat-message-color-deleted)!important;font-size:13px!important;font-style:italic!important;background-color:var(--chat-message-bg-color-deleted)!important}.vac-message-wrapper .vac-message-selected{background-color:var(--chat-message-bg-color-selected)!important;transition:background-color .2s}.vac-message-wrapper .vac-message-image,.vac-message-wrapper .vac-room-file-container .vac-optiwork-file,.vac-room-file-container .vac-message-wrapper .vac-optiwork-file{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:cover!important;background-position:center center!important;background-repeat:no-repeat!important;height:250px;width:250px;max-width:100%;border-radius:4px;margin:4px auto 5px;transition:.4s filter linear}.vac-message-wrapper .vac-text-username{font-size:13px;color:var(--chat-message-color-username);margin-bottom:2px}.vac-message-wrapper .vac-username-reply{margin-bottom:5px}.vac-message-wrapper .vac-text-timestamp{font-size:10px;color:var(--chat-message-color-timestamp);display:flex;align-items:center;justify-content:end}.vac-message-wrapper .vac-progress-time{float:left;margin:-2px 0 0 40px;color:var(--chat-color);font-size:12px}.vac-message-wrapper .vac-icon-edited{-webkit-box-align:center;align-items:center;display:-webkit-inline-box;display:inline-flex;justify-content:center;letter-spacing:normal;line-height:1;text-indent:0;vertical-align:middle;margin:0 4px}.vac-message-wrapper .vac-icon-edited svg{height:12px;width:12px}.vac-message-wrapper .vac-icon-check{height:14px;width:14px;vertical-align:middle;margin:-3px -3px 0 3px}@media only screen and (max-width: 768px){.vac-message-wrapper .vac-message-container{padding:2px 3px 1px}.vac-message-wrapper .vac-message-container-offset{margin-top:10px}.vac-message-wrapper .vac-message-box{max-width:80%}.vac-message-wrapper .vac-avatar{height:25px;width:25px;min-height:25px;min-width:25px;margin:0 6px 1px 0}.vac-message-wrapper .vac-avatar.vac-avatar-current{margin:0 0 1px 6px}.vac-message-wrapper .vac-avatar-current-offset{margin-right:31px}.vac-message-wrapper .vac-avatar-offset{margin-left:31px}.vac-message-wrapper .vac-failure-container{margin-left:2px}.vac-message-wrapper .vac-failure-container.vac-failure-container-avatar{margin-right:0}.vac-message-wrapper .vac-offset-current{margin-left:20%}.vac-message-wrapper .vac-progress-time{margin-left:37px}}.vac-message-wrapper .message-forwarded-container{display:flex;align-items:end;margin-bottom:4px}.vac-message-wrapper .message-forwarded-container .forward-icon{color:var(--chat-message-color-forwarded);display:inline-block}.vac-message-wrapper .message-forwarded-container .forward-text{color:var(--chat-message-color-forwarded);font-style:italic;font-size:.75rem;font-weight:600;margin-left:2px}.vac-message-wrapper.vac-selection-enabled:not(.message-system) .vac-message-box-container{display:flex;align-items:center;cursor:pointer}.vac-message-wrapper.vac-selection-enabled:not(.message-system):hover{background-color:var(--chat-message-bg-color-selected-hover);transition:background-color .2s}.vac-message-wrapper.vac-selection-enabled:not(.message-system).message-selected{background-color:var(--chat-message-bg-color-selected-hover)}.vac-message-wrapper.vac-selection-enabled:not(.message-system) .checkbox-message-container{display:block;position:relative;cursor:pointer;font-size:14px;user-select:none;margin-left:10px;-webkit-tap-highlight-color:transparent}.vac-message-wrapper.vac-selection-enabled:not(.message-system) .checkbox-message-container .checkbox{position:relative;top:0;left:0;height:1.3em;width:1.3em;background-color:#2196f300;border-radius:.25em;transition:all .25s}.vac-message-wrapper.vac-selection-enabled:not(.message-system) .checkbox-message-container .checkbox.selected{background-color:#2196f3}.vac-message-wrapper.vac-selection-enabled:not(.message-system) .checkbox-message-container .checkbox.selected:after{left:.45em;top:.25em;width:.25em;height:.5em;border-color:rgba(255,255,255,0) white white rgba(255,255,255,0);border-width:0 .15em .15em 0;border-radius:0;transform:rotate(45deg)}.vac-message-wrapper.vac-selection-enabled:not(.message-system) .checkbox-message-container .checkbox:after{content:"";position:absolute;transform:rotate(0);border:.1em solid rgba(107,107,107,.6117647059);left:0;top:0;width:1.05em;height:1.05em;border-radius:.25em;transition:all .25s,border-width .1s}@media (min-width: 1700px){.vac-message-wrapper.vac-selection-enabled:not(.message-system) .vac-message-box.vac-offset-current{margin-left:47.6%}.vac-message-wrapper.vac-selection-enabled:not(.message-system) .vac-message-box{max-width:50%}}@media (min-width: 1043px) and (max-width: 1700px){.vac-message-wrapper.vac-selection-enabled:not(.message-system) .vac-message-box.vac-offset-current{margin-left:46%}.vac-message-wrapper.vac-selection-enabled:not(.message-system) .vac-message-box{max-width:50%}}@media (min-width: 768px) and (max-width: 1043px){.vac-message-wrapper.vac-selection-enabled:not(.message-system) .vac-message-box.vac-offset-current{margin-left:44.6%}.vac-message-wrapper.vac-selection-enabled:not(.message-system) .vac-message-box{max-width:50%}}@media (min-width: 443px) and (max-width: 768px){.vac-message-wrapper.vac-selection-enabled:not(.message-system) .vac-message-box.vac-offset-current{margin-left:43.6%}.vac-message-wrapper.vac-selection-enabled:not(.message-system) .vac-message-box{max-width:50%}}@media (max-width: 443px){.vac-message-wrapper.vac-selection-enabled:not(.message-system) .vac-message-box.vac-offset-current{margin-left:39%}.vac-message-wrapper.vac-selection-enabled:not(.message-system) .vac-message-box{max-width:50%}}.vac-message-wrapper.vac-selection-enabled:not(.message-system) .vac-card-date-container{background:var(--chat-content-bg-color);padding-bottom:2px}.vac-message-wrapper .vac-message-dynamic.vac-message-dynamic-pos-center{text-align:center}.vac-message-wrapper .vac-message-dynamic.vac-message-dynamic-pos-center .vac-message-container{max-width:50%;margin:15px auto}.vac-message-wrapper .vac-message-dynamic.vac-message-dynamic-pos-center .vac-message-loading{display:flex;flex-direction:column;align-items:center}.vac-message-wrapper .vac-message-dynamic .vac-message-card{color:var(--chat-message-color-system);background-color:var(--chat-message-bg-color-system);border-radius:4px}.vac-message-wrapper .vac-message-dynamic.vac-message-dynamic-highlight:not(.vac-message-loading) .vac-message-card{animation:border-pulse 1.5s 3}.vac-message-wrapper .vac-message-dynamic .vac-message-dynamic-title{font-size:16px;margin-bottom:5px;font-weight:700}.vac-message-wrapper .vac-message-loading{cursor:progress}.vac-message-wrapper .vac-message-loading .vac-message-loading-item{background-color:gray;animation:pulse 1.5s infinite;border-radius:2px;height:10px}.vac-message-wrapper .vac-message-loading .vac-message-loading-item:not(:last-child){margin-right:5px;margin-bottom:5px}@keyframes pulse{0%{opacity:.2}50%{opacity:1}to{opacity:.2}}@keyframes border-pulse{0%{box-shadow:0 0 0 4px transparent}50%{box-shadow:0 0 0 1px var(--chat-message-bg-color-me)}to{box-shadow:0 0 0 4px transparent}}.vac-audio-player{display:flex;margin:8px 0 5px}.vac-audio-player .vac-svg-button{max-width:18px;margin-left:7px}@media only screen and (max-width: 768px){.vac-audio-player{margin:4px 0 0}.vac-audio-player .vac-svg-button{max-width:16px;margin-left:5px}}.vac-player-bar{display:flex;align-items:center;max-width:calc(100% - 18px);margin-right:7px;margin-left:20px}.vac-player-bar .vac-player-progress{width:190px}.vac-player-bar .vac-player-progress .vac-line-container{position:relative;height:4px;border-radius:5px;background-color:var(--chat-message-bg-color-audio-line)}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-progress{position:absolute;height:inherit;background-color:var(--chat-message-bg-color-audio-progress);border-radius:inherit}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot{position:absolute;top:-5px;margin-left:-7px;height:14px;width:14px;border-radius:50%;background-color:var(--chat-message-bg-color-audio-progress-selector);transition:transform .25s}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot__active{transform:scale(1.2)}@media only screen and (max-width: 768px){.vac-player-bar{margin-right:5px}.vac-player-bar .vac-player-progress .vac-line-container{height:3px}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot{height:12px;width:12px;top:-5px;margin-left:-5px}}.vac-message-actions-wrapper .vac-options-container{position:absolute;top:2px;right:10px;height:40px;width:70px;overflow:hidden;border-top-right-radius:8px}.vac-message-actions-wrapper .vac-blur-container{position:absolute;height:100%;width:100%;left:8px;bottom:10px;background:var(--chat-message-bg-color);filter:blur(3px);border-bottom-left-radius:8px}.vac-message-actions-wrapper .vac-options-me{background:var(--chat-message-bg-color-me)}.vac-message-actions-wrapper .vac-message-options{background:var(--chat-icon-bg-dropdown-message);border-radius:50%;position:absolute;top:7px;right:7px}.vac-message-actions-wrapper .vac-message-options svg{height:17px;width:17px;padding:5px;margin:-5px}.vac-message-actions-wrapper .vac-message-emojis{position:absolute;top:6px;right:30px}.vac-message-actions-wrapper .vac-menu-options{right:15px}.vac-message-actions-wrapper .vac-menu-left{right:-118px}@media only screen and (max-width: 768px){.vac-message-actions-wrapper .vac-options-container{right:3px}.vac-message-actions-wrapper .vac-menu-left{right:-50px}}.vac-message-files-container .vac-file-wrapper{position:relative;width:fit-content}.vac-message-files-container .vac-file-wrapper .vac-file-container{height:60px;width:60px;margin:3px 0 5px;cursor:pointer;transition:all .6s}.vac-message-files-container .vac-file-wrapper .vac-file-container:hover{opacity:.85}.vac-message-files-container .vac-file-wrapper .vac-file-container svg{height:30px;width:30px}.vac-message-files-container .vac-file-wrapper .vac-file-container.vac-file-container-progress{background-color:#0000004d}.vac-message-file-container{position:relative;z-index:0}.vac-message-file-container .vac-message-image-container{cursor:pointer}.vac-message-file-container .vac-image-buttons{position:absolute;width:100%;height:100%;border-radius:4px;background:linear-gradient(to bottom,rgba(0,0,0,0) 55%,rgba(0,0,0,.02) 60%,rgba(0,0,0,.05) 65%,rgba(0,0,0,.1) 70%,rgba(0,0,0,.2) 75%,rgba(0,0,0,.3) 80%,rgba(0,0,0,.5) 85%,rgba(0,0,0,.6) 90%,rgba(0,0,0,.7) 95%,rgba(0,0,0,.8) 100%)}.vac-message-file-container .vac-image-buttons svg{height:26px;width:26px}.vac-message-file-container .vac-image-buttons .vac-button-view,.vac-message-file-container .vac-image-buttons .vac-button-download{position:absolute;bottom:6px;left:7px}.vac-message-file-container .vac-image-buttons :first-child{left:40px}.vac-message-file-container .vac-image-buttons .vac-button-view{max-width:18px;bottom:8px}.vac-message-file-container .vac-video-container{width:350px;max-width:100%;margin:4px auto 5px;cursor:pointer}.vac-message-file-container .vac-video-container video{width:100%;height:100%;border-radius:4px}.vac-message-reactions-container{display:flex}.vac-message-reactions-container.message-me{margin-right:6px;justify-content:end}.vac-message-reactions-container:not(.message-me){justify-content:start;margin-left:6px}.vac-message-reactions-container .vac-reactions-container{display:flex;background-color:var(--chat-message-bg-color);box-shadow:0 1px #00000012,0 0 3px #0000000a;border-radius:50px;align-items:end;width:max-content;cursor:pointer}.vac-message-reactions-container .vac-reactions-container .vac-reactions{user-select:none;font-size:16px;margin:0 2px}.vac-message-reactions-container .vac-reactions-container .reaction-counter{font-family:Segoe UI,Helvetica Neue,Helvetica,Lucida Grande,Arial,Ubuntu,Cantarell,Fira Sans,sans-serif;color:var(--chat-header-color-name);text-align:center;margin:0 3px;padding-right:3px;user-select:none}.vac-reply-message{background:var(--chat-message-bg-color-reply);border-radius:4px;margin:-1px -5px 8px;padding:8px 10px}.vac-reply-message .vac-reply-username{color:var(--chat-message-color-reply-username);font-size:12px;line-height:15px;margin-bottom:2px}.vac-reply-message .vac-image-reply-container{width:70px}.vac-reply-message .vac-image-reply-container .vac-message-image-reply{height:70px;width:70px;margin:4px auto 3px}.vac-reply-message .vac-video-reply-container{width:200px;max-width:100%}.vac-reply-message .vac-video-reply-container video{width:100%;height:100%;border-radius:4px}.vac-reply-message .vac-reply-content{font-size:12px;color:var(--chat-message-color-reply-content)}.vac-reply-message .vac-file-container{height:60px;width:60px}.vac-emoji-wrapper{position:relative;display:flex}.vac-emoji-wrapper .vac-emoji-reaction svg{height:19px;width:19px}.vac-emoji-wrapper .vac-emoji-picker{position:absolute;z-index:9999;bottom:32px;right:10px;width:300px;padding-top:4px;overflow:scroll;box-sizing:border-box;border-radius:.5rem;background:var(--chat-emoji-bg-color);box-shadow:0 1px 2px -2px #0000001a,0 1px 2px -1px #0000001a,0 1px 2px 1px #0000001a;scrollbar-width:none}.vac-emoji-wrapper .vac-emoji-picker::-webkit-scrollbar{display:none}.vac-emoji-wrapper .vac-emoji-picker.vac-picker-reaction{position:fixed;top:initial;right:initial}.vac-emoji-wrapper .vac-emoji-picker emoji-picker{height:100%;width:100%;--emoji-size: 1.2rem;--background: var(--chat-emoji-bg-color);--emoji-padding: .4rem;--border-color: var(--chat-sidemenu-border-color-search);--button-hover-background: var(--chat-sidemenu-bg-color-hover);--button-active-background: var(--chat-sidemenu-bg-color-hover)}.vac-format-message-wrapper .vac-format-container{display:inline}.vac-format-message-wrapper .vac-icon-deleted{height:14px;width:14px;vertical-align:middle;margin:-2px 2px 0 0;fill:var(--chat-message-color-deleted)}.vac-format-message-wrapper .vac-icon-deleted.vac-icon-deleted-room{margin:-3px 1px 0 0;fill:var(--chat-room-color-message)}.vac-format-message-wrapper .vac-image-link-container{background-color:var(--chat-message-bg-color-media);padding:8px;margin:2px auto;border-radius:4px}.vac-format-message-wrapper .vac-image-link{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:contain;background-position:center center!important;background-repeat:no-repeat!important;height:150px;width:150px;max-width:100%;border-radius:4px;margin:0 auto}.vac-format-message-wrapper .vac-image-link-message{max-width:166px;font-size:12px}.vac-loader-wrapper.vac-container-center{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9}.vac-loader-wrapper.vac-container-top{padding:21px}.vac-loader-wrapper.vac-container-top #vac-circle{height:20px;width:20px}.vac-loader-wrapper #vac-circle{margin:auto;height:28px;width:28px;border:3px rgba(0,0,0,.25) solid;border-top:3px var(--chat-color-spinner) solid;border-right:3px var(--chat-color-spinner) solid;border-bottom:3px var(--chat-color-spinner) solid;border-radius:50%;-webkit-animation:vac-spin 1s infinite linear;animation:vac-spin 1s infinite linear}@media only screen and (max-width: 768px){.vac-loader-wrapper #vac-circle{height:24px;width:24px}.vac-loader-wrapper.vac-container-top{padding:18px}.vac-loader-wrapper.vac-container-top #vac-circle{height:16px;width:16px}}@-webkit-keyframes vac-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes vac-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}#vac-icon-search{fill:var(--chat-icon-color-search)}#vac-icon-add{fill:var(--chat-icon-color-add)}#vac-icon-toggle{fill:var(--chat-icon-color-toggle)}#vac-icon-menu{fill:var(--chat-icon-color-menu)}#vac-icon-close{fill:var(--chat-icon-color-close)}#vac-icon-close-image{fill:var(--chat-icon-color-close-image)}#vac-icon-file{fill:var(--chat-icon-color-file)}#vac-icon-paperclip{fill:var(--chat-icon-color-paperclip)}#vac-icon-close-outline{fill:var(--chat-icon-color-close-outline)}#vac-icon-close-outline-preview{fill:var(--chat-icon-color-close-preview)}#vac-icon-send{fill:var(--chat-icon-color-send)}#vac-icon-send-disabled{fill:var(--chat-icon-color-send-disabled)}#vac-icon-emoji{fill:var(--chat-icon-color-emoji)}#vac-icon-emoji-reaction{fill:var(--chat-icon-color-emoji-reaction)}#vac-icon-document{fill:var(--chat-icon-color-document)}#vac-icon-pencil{fill:var(--chat-icon-color-pencil)}#vac-icon-checkmark,#vac-icon-double-checkmark{fill:var(--chat-icon-color-checkmark)}#vac-icon-checkmark-seen,#vac-icon-double-checkmark-seen{fill:var(--chat-icon-color-checkmark-seen)}#vac-icon-eye{fill:var(--chat-icon-color-eye)}#vac-icon-dropdown-message{fill:var(--chat-icon-color-dropdown-message)}#vac-icon-dropdown-room{fill:var(--chat-icon-color-dropdown-room)}#vac-icon-dropdown-scroll{fill:var(--chat-icon-color-dropdown-scroll)}#vac-icon-audio-play{fill:var(--chat-icon-color-audio-play)}#vac-icon-audio-pause{fill:var(--chat-icon-color-audio-pause)}.vac-progress-wrapper{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9}.vac-progress-wrapper circle{transition:stroke-dashoffset .35s;transform:rotate(-90deg);transform-origin:50% 50%}.vac-progress-wrapper .vac-progress-content{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:-1;margin-top:-2px;background-color:#000000b3;border-radius:50%}.vac-progress-wrapper .vac-progress-content .vac-progress-text{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-weight:700;color:#fff}.vac-progress-wrapper .vac-progress-content .vac-progress-text .vac-progress-pourcent{font-size:9px;font-weight:400}
`;const z5={name:"ChatContainer",components:{RoomsList:cp,Room:T5,MediaPreview:j5},props:{height:{type:String,default:"600px"},theme:{type:String,default:"light"},styles:{type:[Object,String],default:()=>({})},responsiveBreakpoint:{type:Number,default:900},singleRoom:{type:[Boolean,String],default:!1},roomsListOpened:{type:[Boolean,String],default:!0},textMessages:{type:[Object,String],default:()=>({})},currentUserId:{type:String,default:""},rooms:{type:[Array,String],default:()=>[]},roomsOrder:{type:String,default:"desc"},loadingRooms:{type:[Boolean,String],default:!1},roomsLoaded:{type:[Boolean,String],default:!1},roomId:{type:String,default:null},loadFirstRoom:{type:[Boolean,String],default:!0},messages:{type:[Array,String],default:()=>[]},messagesLoadedTop:{type:[Boolean,String],default:!1},messagesLoadedBottom:{type:[Boolean,String],default:!1},roomActions:{type:[Array,String],default:()=>[]},menuActions:{type:[Array,String],default:()=>[]},messageActions:{type:[Array,String],default:()=>[{name:"replyMessage",title:"Reply"},{name:"editMessage",title:"Edit Message",onlyMe:!0},{name:"deleteMessage",title:"Delete Message",onlyMe:!0},{name:"selectMessages",title:"Select"}]},messageSelectionActions:{type:[Array,String],default:()=>[]},autoScroll:{type:[Object,String],default:()=>({send:{new:!0,newAfterScrollUp:!0},receive:{new:!0,newAfterScrollUp:!1}})},customSearchRoomEnabled:{type:[Boolean,String],default:!1},showSearch:{type:[Boolean,String],default:!0},showAddRoom:{type:[Boolean,String],default:!0},showSendIcon:{type:[Boolean,String],default:!0},showFiles:{type:[Boolean,String],default:!0},showAudio:{type:[Boolean,String],default:!0},audioBitRate:{type:Number,default:128},audioSampleRate:{type:Number,default:44100},showEmojis:{type:[Boolean,String],default:!0},showReactionEmojis:{type:[Boolean,String],default:!0},showNewMessagesDivider:{type:[Boolean,String],default:!0},showFooter:{type:[Boolean,String],default:!0},textFormatting:{type:[Object,String],default:()=>({disabled:!1})},linkOptions:{type:[Object,String],default:()=>({disabled:!1,target:"_blank",rel:null})},roomInfoEnabled:{type:[Boolean,String],default:!1},textareaActionEnabled:{type:[Boolean,String],default:!1},textareaAutoFocus:{type:[Boolean,String],default:!0},userTagsEnabled:{type:[Boolean,String],default:!0},emojisSuggestionEnabled:{type:[Boolean,String],default:!0},roomMessage:{type:String,default:""},scrollDistance:{type:Number,default:60},acceptedFiles:{type:String,default:"*"},captureFiles:{type:String,default:void 0},templatesText:{type:[Array,String],default:()=>[]},mediaPreviewEnabled:{type:[Boolean,String],default:!0},usernameOptions:{type:[Object,String],default:()=>({minUsers:3,currentUser:!1})},emojiDataSource:{type:String,default:void 0},roomsNotFoundMessage:{type:String,default:""},attachmentOptions:{type:Array,default:()=>[]},call:{type:[Object,String],default:()=>({})},textareaHighlight:{type:Boolean,default:!1},externalFiles:{type:Array,default:()=>[]},allowSendingExternalFiles:{type:Boolean,default:null},showArchivedRooms:{type:Boolean,default:!1}},emits:["toggle-rooms-list","room-info","fetch-messages","fetch-messages-top","fetch-messages-bottom","send-message","edit-message","delete-message","open-file","open-user-tag","open-failed-message","menu-action-handler","message-action-handler","send-message-reaction","typing-message","textarea-action-handler","fetch-more-rooms","add-room","search-room","room-action-handler","message-selection-action-handler","message-reaction-click","attachment-picker-handler","accept-call","hang-up-call","return-to-call","request-permission-to-send-external-files","external-files-removed","click-archived-rooms"],data(){return{slots:[],room:{},loadingMoreRooms:!1,showRoomsList:!0,isMobile:!1,showMediaPreview:!1,previewFile:{}}},computed:{t(){return{...H5,...this.textMessagesCasted}},cssVars(){const e=N5[this.theme],t={};return Object.keys(e).map(n=>{t[n]={...e[n],...this.stylesCasted[n]||{}}}),D5(t)},orderedRooms(){return this.roomsCasted.slice().sort((e,t)=>{const n=e.index||0,r=t.index||0;return this.roomsOrder==="asc"?n<r?-1:r<n?1:0:n>r?-1:r>n?1:0})},singleRoomCasted(){return this.castBoolean(this.singleRoom)},roomsListOpenedCasted(){return this.castBoolean(this.roomsListOpened)},loadingRoomsCasted(){return this.castBoolean(this.loadingRooms)},roomsLoadedCasted(){return this.castBoolean(this.roomsLoaded)},loadFirstRoomCasted(){return this.castBoolean(this.loadFirstRoom)},messagesLoadedTopCasted(){return this.castBoolean(this.messagesLoadedTop)},messagesLoadedBottomCasted(){return this.castBoolean(this.messagesLoadedBottom)},showSearchCasted(){return this.castBoolean(this.showSearch)},showAddRoomCasted(){return this.castBoolean(this.showAddRoom)},showSendIconCasted(){return this.castBoolean(this.showSendIcon)},showFilesCasted(){return this.castBoolean(this.showFiles)},showAudioCasted(){return this.castBoolean(this.showAudio)},showEmojisCasted(){return this.castBoolean(this.showEmojis)},showReactionEmojisCasted(){return this.castBoolean(this.showReactionEmojis)},showNewMessagesDividerCasted(){return this.castBoolean(this.showNewMessagesDivider)},showFooterCasted(){return this.castBoolean(this.showFooter)},roomInfoEnabledCasted(){return this.castBoolean(this.roomInfoEnabled)},textareaActionEnabledCasted(){return this.castBoolean(this.textareaActionEnabled)},textareaAutoFocusCasted(){return this.castBoolean(this.textareaAutoFocus)},userTagsEnabledCasted(){return this.castBoolean(this.userTagsEnabled)},emojisSuggestionEnabledCasted(){return this.castBoolean(this.emojisSuggestionEnabled)},mediaPreviewEnabledCasted(){return this.castBoolean(this.mediaPreviewEnabled)},roomsCasted(){return this.castArray(this.rooms)},messagesCasted(){return this.castArray(this.messages)},roomActionsCasted(){return this.castArray(this.roomActions)},menuActionsCasted(){return this.castArray(this.menuActions)},messageActionsCasted(){return this.castArray(this.messageActions)},messageSelectionActionsCasted(){return this.castArray(this.messageSelectionActions)},templatesTextCasted(){return this.castArray(this.templatesText)},stylesCasted(){return this.castObject(this.styles)},textMessagesCasted(){return this.castObject(this.textMessages)},autoScrollCasted(){return this.castObject(this.autoScroll)},textFormattingCasted(){return this.castObject(this.textFormatting)},linkOptionsCasted(){return this.castObject(this.linkOptions)},usernameOptionsCasted(){return this.castObject(this.usernameOptions)},attachmentOptionsCasted(){return this.castArray(this.attachmentOptions)},callCasted(){return this.castObject(this.call)},textareaHighlightCasted(){return this.castBoolean(this.textareaHighlight)},externalFilesCasted(){return this.castArray(this.externalFiles)},showArchivedRoomsCasted(){return this.castBoolean(this.showArchivedRooms)}},watch:{roomsCasted:{immediate:!0,deep:!0,handler(e,t){if((!e[0]||!e.find(n=>n.roomId===this.room.roomId))&&(this.showRoomsList=!0),!this.loadingMoreRooms&&this.loadFirstRoomCasted&&e[0]&&(!t||e.length!==t.length))if(this.roomId){const n=e.find(r=>r.roomId===this.roomId)||{};this.fetchRoom({room:n})}else!this.isMobile||this.singleRoomCasted?this.fetchRoom({room:this.orderedRooms[0]}):this.showRoomsList=!0}},loadingRoomsCasted(e){e&&(this.room={})},roomId:{immediate:!0,handler(e,t){if(e&&!this.loadingRoomsCasted&&this.roomsCasted.length){const n=this.roomsCasted.find(r=>r.roomId===e);this.fetchRoom({room:n})}else t&&!e&&(this.room={})}},room(e){!e||Object.entries(e).length===0||(U4(e),e.users.forEach(t=>{V4(t)}))},roomsListOpenedCasted:{immediate:!0,handler(e){this.showRoomsList=e}}},created(){this.updateResponsive(),window.addEventListener("resize",e=>{e.isTrusted&&this.updateResponsive()})},updated(){const e=document.querySelectorAll("[slot]");this.slots.length!==e.length&&(this.slots=e)},methods:{castBoolean(e){return e==="true"||e===!0},castArray(e){return e?Array.isArray(e)?e:JSON.parse(e):[]},castObject(e){return e?typeof e=="object"?e:JSON.parse(e):{}},updateResponsive(){this.isMobile=window.innerWidth<Number(this.responsiveBreakpoint)},toggleRoomsList(){this.showRoomsList=!this.showRoomsList,this.isMobile&&(this.room={}),this.$emit("toggle-rooms-list",{opened:this.showRoomsList})},fetchRoom({room:e}){this.room=e,this.fetchMessages({reset:!0}),this.fetchMessagesTop({reset:!0}),this.isMobile&&(this.showRoomsList=!1)},fetchMoreRooms(){this.$emit("fetch-more-rooms")},roomInfo(){this.$emit("room-info",this.room)},addRoom(){this.$emit("add-room")},searchRoom(e){this.$emit("search-room",{value:e,roomId:this.room.roomId})},fetchMessages(e){this.$emit("fetch-messages",{room:this.room,options:e})},fetchMessagesTop(e){this.$emit("fetch-messages-top",{room:this.room,options:e})},fetchMessagesBottom(e){this.$emit("fetch-messages-bottom",{room:this.room,options:e})},sendMessage(e){this.$emit("send-message",{...e,roomId:this.room.roomId})},editMessage(e){this.$emit("edit-message",{...e,roomId:this.room.roomId})},deleteMessage(e){this.$emit("delete-message",{message:e,roomId:this.room.roomId})},openFile({message:e,file:t}){this.mediaPreviewEnabledCasted&&t.action==="preview"?(this.previewFile=t.file,this.showMediaPreview=!0):this.$emit("open-file",{message:e,file:t})},openUserTag({user:e}){this.$emit("open-user-tag",{user:e})},openFailedMessage({message:e}){this.$emit("open-failed-message",{message:e,roomId:this.room.roomId})},menuActionHandler(e){this.$emit("menu-action-handler",{action:e,roomId:this.room.roomId})},roomActionHandler({action:e,roomId:t}){this.$emit("room-action-handler",{action:e,roomId:t})},acceptCallHandler(e){this.$emit("accept-call",e)},hangUpCallHandler(e){this.$emit("hang-up-call",e)},clickArchivedRoomsHandler(){this.$emit("click-archived-rooms")},messageActionHandler(e){this.$emit("message-action-handler",{...e,roomId:this.room.roomId})},messageSelectionActionHandler(e){this.$emit("message-selection-action-handler",{...e,roomId:this.room.roomId})},sendMessageReaction(e){this.$emit("send-message-reaction",{...e,roomId:this.room.roomId})},messageReactionClick(e){this.$emit("message-reaction-click",{...e,roomId:this.room.roomId})},typingMessage(e){this.$emit("typing-message",{message:e,roomId:this.room.roomId})},textareaActionHandler(e){this.$emit("textarea-action-handler",{message:e,roomId:this.room.roomId})},attachmentPickerHandler(e){this.$emit("attachment-picker-handler",{option:e})},returnToCallHandler(e){this.$emit("return-to-call",e)}}},P5={class:"vac-chat-container"};function U5(e,t,n,r,o,i){const a=Ke("rooms-list"),l=Ke("room"),d=Ke("media-preview");return K(),J("div",{class:"vac-card-window",style:_t([{height:n.height},i.cssVars])},[oe("div",P5,[i.singleRoomCasted?we("",!0):(K(),lt(a,{key:0,"current-user-id":n.currentUserId,rooms:i.orderedRooms,"loading-rooms":i.loadingRoomsCasted,"rooms-loaded":i.roomsLoadedCasted,room:o.room,call:i.callCasted,"room-actions":i.roomActionsCasted,"custom-search-room-enabled":n.customSearchRoomEnabled,"text-messages":i.t,"show-search":i.showSearchCasted,"show-add-room":i.showAddRoomCasted,"show-rooms-list":o.showRoomsList&&i.roomsListOpenedCasted,"text-formatting":i.textFormattingCasted,"link-options":i.linkOptionsCasted,"is-mobile":o.isMobile,"scroll-distance":n.scrollDistance,"rooms-not-found-message":n.roomsNotFoundMessage,"show-archived-rooms":i.showArchivedRoomsCasted,onFetchRoom:i.fetchRoom,onFetchMoreRooms:i.fetchMoreRooms,onLoadingMoreRooms:t[0]||(t[0]=f=>o.loadingMoreRooms=f),onAddRoom:i.addRoom,onSearchRoom:i.searchRoom,onRoomActionHandler:i.roomActionHandler,onAcceptCall:i.acceptCallHandler,onHangUpCall:i.hangUpCallHandler,onReturnToCall:i.returnToCallHandler,onClickArchivedRooms:i.clickArchivedRoomsHandler},gt({_:2},[et(o.slots,f=>({name:f.slot,fn:Ve(m=>[Te(e.$slots,f.slot,ht(dt(m)))])}))]),1032,["current-user-id","rooms","loading-rooms","rooms-loaded","room","call","room-actions","custom-search-room-enabled","text-messages","show-search","show-add-room","show-rooms-list","text-formatting","link-options","is-mobile","scroll-distance","rooms-not-found-message","show-archived-rooms","onFetchRoom","onFetchMoreRooms","onAddRoom","onSearchRoom","onRoomActionHandler","onAcceptCall","onHangUpCall","onReturnToCall","onClickArchivedRooms"])),Be(l,{"current-user-id":n.currentUserId,rooms:i.roomsCasted,"room-id":o.room.roomId||"","load-first-room":i.loadFirstRoomCasted,messages:i.messagesCasted,"room-message":n.roomMessage,"messages-loaded-top":i.messagesLoadedTopCasted,"messages-loaded-bottom":i.messagesLoadedBottomCasted,"menu-actions":i.menuActionsCasted,"message-actions":i.messageActionsCasted,"message-selection-actions":i.messageSelectionActionsCasted,"auto-scroll":i.autoScrollCasted,"show-send-icon":i.showSendIconCasted,"show-files":i.showFilesCasted,"show-audio":i.showAudioCasted,"audio-bit-rate":n.audioBitRate,"audio-sample-rate":n.audioSampleRate,"show-emojis":i.showEmojisCasted,"show-reaction-emojis":i.showReactionEmojisCasted,"show-new-messages-divider":i.showNewMessagesDividerCasted,"show-footer":i.showFooterCasted,"text-messages":i.t,"single-room":i.singleRoomCasted,"show-rooms-list":o.showRoomsList&&i.roomsListOpenedCasted,"text-formatting":i.textFormattingCasted,"link-options":i.linkOptionsCasted,"is-mobile":o.isMobile,"loading-rooms":i.loadingRoomsCasted,"room-info-enabled":i.roomInfoEnabledCasted,"textarea-action-enabled":i.textareaActionEnabledCasted,"textarea-auto-focus":i.textareaAutoFocusCasted,"user-tags-enabled":i.userTagsEnabledCasted,"emojis-suggestion-enabled":i.emojisSuggestionEnabledCasted,"scroll-distance":n.scrollDistance,"accepted-files":n.acceptedFiles,"capture-files":n.captureFiles,"templates-text":i.templatesTextCasted,"username-options":i.usernameOptionsCasted,"emoji-data-source":n.emojiDataSource,"attachment-options":i.attachmentOptionsCasted,call:i.callCasted,"textarea-highlight":i.textareaHighlightCasted,"external-files":i.externalFilesCasted,"allow-sending-external-files":n.allowSendingExternalFiles,onToggleRoomsList:i.toggleRoomsList,onRoomInfo:i.roomInfo,onFetchMessages:i.fetchMessages,onFetchMessagesTop:i.fetchMessagesTop,onFetchMessagesBottom:i.fetchMessagesBottom,onSendMessage:i.sendMessage,onEditMessage:i.editMessage,onDeleteMessage:i.deleteMessage,onOpenFile:i.openFile,onOpenUserTag:i.openUserTag,onOpenFailedMessage:i.openFailedMessage,onMenuActionHandler:i.menuActionHandler,onMessageActionHandler:i.messageActionHandler,onMessageSelectionActionHandler:i.messageSelectionActionHandler,onSendMessageReaction:i.sendMessageReaction,onTypingMessage:i.typingMessage,onTextareaActionHandler:i.textareaActionHandler,onMessageReactionClick:i.messageReactionClick,onAttachmentPickerHandler:i.attachmentPickerHandler,onReturnToCall:i.returnToCallHandler,onRequestPermissionToSendExternalFiles:t[1]||(t[1]=f=>e.$emit("request-permission-to-send-external-files",f)),onExternalFilesRemoved:t[2]||(t[2]=f=>e.$emit("external-files-removed",f)),onNewDraftMessage:t[3]||(t[3]=f=>e.$emit("new-draft-message",f))},gt({_:2},[et(o.slots,f=>({name:f.slot,fn:Ve(m=>[Te(e.$slots,f.slot,ht(dt(m)))])}))]),1032,["current-user-id","rooms","room-id","load-first-room","messages","room-message","messages-loaded-top","messages-loaded-bottom","menu-actions","message-actions","message-selection-actions","auto-scroll","show-send-icon","show-files","show-audio","audio-bit-rate","audio-sample-rate","show-emojis","show-reaction-emojis","show-new-messages-divider","show-footer","text-messages","single-room","show-rooms-list","text-formatting","link-options","is-mobile","loading-rooms","room-info-enabled","textarea-action-enabled","textarea-auto-focus","user-tags-enabled","emojis-suggestion-enabled","scroll-distance","accepted-files","capture-files","templates-text","username-options","emoji-data-source","attachment-options","call","textarea-highlight","external-files","allow-sending-external-files","onToggleRoomsList","onRoomInfo","onFetchMessages","onFetchMessagesTop","onFetchMessagesBottom","onSendMessage","onEditMessage","onDeleteMessage","onOpenFile","onOpenUserTag","onOpenFailedMessage","onMenuActionHandler","onMessageActionHandler","onMessageSelectionActionHandler","onSendMessageReaction","onTypingMessage","onTextareaActionHandler","onMessageReactionClick","onAttachmentPickerHandler","onReturnToCall"])]),Be(Rt,{name:"vac-fade-preview",appear:""},{default:Ve(()=>[o.showMediaPreview?(K(),lt(d,{key:0,file:o.previewFile,onCloseMediaPreview:t[4]||(t[4]=f=>o.showMediaPreview=!1)},gt({_:2},[et(o.slots,f=>({name:f.slot,fn:Ve(m=>[Te(e.$slots,f.slot,ht(dt(m)))])}))]),1032,["file"])):we("",!0)]),_:3})],4)}var V5=vt(z5,[["render",U5],["styles",[q5]]]);const Z0=jd(V5),Q0="vue-advanced-chat";function Y5(){customElements.get(Q0)||customElements.define(Q0,Z0)}dr.VueAdvancedChat=Z0,dr.register=Y5,Object.defineProperties(dr,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
