(function(ir,sr){typeof exports=="object"&&typeof module!="undefined"?sr(exports):typeof define=="function"&&define.amd?define(["exports"],sr):(ir=typeof globalThis!="undefined"?globalThis:ir||self,sr(ir["vue-advanced-chat"]={}))})(this,function(ir){"use strict";function sr(e,t){const r=Object.create(null),n=e.split(",");for(let o=0;o<n.length;o++)r[n[o]]=!0;return t?o=>!!r[o.toLowerCase()]:o=>!!r[o]}const sd=sr("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function $s(e){return!!e||e===""}function Ve(e){if(ke(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],o=Je(n)?cd(n):Ve(n);if(o)for(const i in o)t[i]=o[i]}return t}else{if(Je(e))return e;if(Qe(e))return e}}const ad=/;(?![^(]*\))/g,ld=/:(.+)/;function cd(e){const t={};return e.split(ad).forEach(r=>{if(r){const n=r.split(ld);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Ee(e){let t="";if(Je(e))t=e;else if(ke(e))for(let r=0;r<e.length;r++){const n=Ee(e[r]);n&&(t+=n+" ")}else if(Qe(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function De(e){if(!e)return null;let{class:t,style:r}=e;return t&&!Je(t)&&(e.class=Ee(t)),r&&(e.style=Ve(r)),e}const _e=e=>Je(e)?e:e==null?"":ke(e)||Qe(e)&&(e.toString===na||!Ce(e.toString))?JSON.stringify(e,ea,2):String(e),ea=(e,t)=>t&&t.__v_isRef?ea(e,t.value):Pr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,o])=>(r[`${n} =>`]=o,r),{})}:ta(t)?{[`Set(${t.size})`]:[...t.values()]}:Qe(t)&&!ke(t)&&!oa(t)?String(t):t,He={},Rr=[],kt=()=>{},ud=()=>!1,dd=/^on[^a-z]/,qn=e=>dd.test(e),ti=e=>e.startsWith("onUpdate:"),Ze=Object.assign,ri=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},fd=Object.prototype.hasOwnProperty,Pe=(e,t)=>fd.call(e,t),ke=Array.isArray,Pr=e=>Wn(e)==="[object Map]",ta=e=>Wn(e)==="[object Set]",Ce=e=>typeof e=="function",Je=e=>typeof e=="string",ni=e=>typeof e=="symbol",Qe=e=>e!==null&&typeof e=="object",ra=e=>Qe(e)&&Ce(e.then)&&Ce(e.catch),na=Object.prototype.toString,Wn=e=>na.call(e),hd=e=>Wn(e).slice(8,-1),oa=e=>Wn(e)==="[object Object]",oi=e=>Je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Vn=sr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Kn=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},md=/-(\w)/g,pt=Kn(e=>e.replace(md,(t,r)=>r?r.toUpperCase():"")),gd=/\B([A-Z])/g,Ot=Kn(e=>e.replace(gd,"-$1").toLowerCase()),Gn=Kn(e=>e.charAt(0).toUpperCase()+e.slice(1)),ii=Kn(e=>e?`on${Gn(e)}`:""),Xr=(e,t)=>!Object.is(e,t),si=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Yn=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},Xn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ia;const pd=()=>ia||(ia=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Tt;class vd{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&Tt&&(this.parent=Tt,this.index=(Tt.scopes||(Tt.scopes=[])).push(this)-1)}run(t){if(this.active){const r=Tt;try{return Tt=this,t()}finally{Tt=r}}}on(){Tt=this}off(){Tt=this.parent}stop(t){if(this.active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function yd(e,t=Tt){t&&t.active&&t.effects.push(e)}const ai=e=>{const t=new Set(e);return t.w=0,t.n=0,t},sa=e=>(e.w&Kt)>0,aa=e=>(e.n&Kt)>0,bd=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Kt},wd=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const o=t[n];sa(o)&&!aa(o)?o.delete(e):t[r++]=o,o.w&=~Kt,o.n&=~Kt}t.length=r}},li=new WeakMap;let Qr=0,Kt=1;const ci=30;let _t;const ar=Symbol(""),ui=Symbol("");class di{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,yd(this,n)}run(){if(!this.active)return this.fn();let t=_t,r=Gt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=_t,_t=this,Gt=!0,Kt=1<<++Qr,Qr<=ci?bd(this):la(this),this.fn()}finally{Qr<=ci&&wd(this),Kt=1<<--Qr,_t=this.parent,Gt=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){_t===this?this.deferStop=!0:this.active&&(la(this),this.onStop&&this.onStop(),this.active=!1)}}function la(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let Gt=!0;const ca=[];function Mr(){ca.push(Gt),Gt=!1}function Ir(){const e=ca.pop();Gt=e===void 0?!0:e}function ht(e,t,r){if(Gt&&_t){let n=li.get(e);n||li.set(e,n=new Map);let o=n.get(r);o||n.set(r,o=ai()),ua(o)}}function ua(e,t){let r=!1;Qr<=ci?aa(e)||(e.n|=Kt,r=!sa(e)):r=!e.has(_t),r&&(e.add(_t),_t.deps.push(e))}function Bt(e,t,r,n,o,i){const a=li.get(e);if(!a)return;let s=[];if(t==="clear")s=[...a.values()];else if(r==="length"&&ke(e))a.forEach((c,l)=>{(l==="length"||l>=n)&&s.push(c)});else switch(r!==void 0&&s.push(a.get(r)),t){case"add":ke(e)?oi(r)&&s.push(a.get("length")):(s.push(a.get(ar)),Pr(e)&&s.push(a.get(ui)));break;case"delete":ke(e)||(s.push(a.get(ar)),Pr(e)&&s.push(a.get(ui)));break;case"set":Pr(e)&&s.push(a.get(ar));break}if(s.length===1)s[0]&&fi(s[0]);else{const c=[];for(const l of s)l&&c.push(...l);fi(ai(c))}}function fi(e,t){const r=ke(e)?e:[...e];for(const n of r)n.computed&&da(n);for(const n of r)n.computed||da(n)}function da(e,t){(e!==_t||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const kd=sr("__proto__,__v_isRef,__isVue"),fa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ni)),_d=hi(),xd=hi(!1,!0),Ad=hi(!0),ha=Ed();function Ed(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=Le(this);for(let i=0,a=this.length;i<a;i++)ht(n,"get",i+"");const o=n[t](...r);return o===-1||o===!1?n[t](...r.map(Le)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Mr();const n=Le(this)[t].apply(this,r);return Ir(),n}}),e}function hi(e=!1,t=!1){return function(n,o,i){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&i===(e?t?Hd:_a:t?ka:wa).get(n))return n;const a=ke(n);if(!e&&a&&Pe(ha,o))return Reflect.get(ha,o,i);const s=Reflect.get(n,o,i);return(ni(o)?fa.has(o):kd(o))||(e||ht(n,"get",o),t)?s:tt(s)?a&&oi(o)?s:s.value:Qe(s)?e?xa(s):pi(s):s}}const Cd=ma(),Sd=ma(!0);function ma(e=!1){return function(r,n,o,i){let a=r[n];if(Zr(a)&&tt(a)&&!tt(o))return!1;if(!e&&!Zr(o)&&(yi(o)||(o=Le(o),a=Le(a)),!ke(r)&&tt(a)&&!tt(o)))return a.value=o,!0;const s=ke(r)&&oi(n)?Number(n)<r.length:Pe(r,n),c=Reflect.set(r,n,o,i);return r===Le(i)&&(s?Xr(o,a)&&Bt(r,"set",n,o):Bt(r,"add",n,o)),c}}function Od(e,t){const r=Pe(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&Bt(e,"delete",t,void 0),n}function Td(e,t){const r=Reflect.has(e,t);return(!ni(t)||!fa.has(t))&&ht(e,"has",t),r}function Rd(e){return ht(e,"iterate",ke(e)?"length":ar),Reflect.ownKeys(e)}const ga={get:_d,set:Cd,deleteProperty:Od,has:Td,ownKeys:Rd},Pd={get:Ad,set(e,t){return!0},deleteProperty(e,t){return!0}},Md=Ze({},ga,{get:xd,set:Sd}),mi=e=>e,Qn=e=>Reflect.getPrototypeOf(e);function Zn(e,t,r=!1,n=!1){e=e.__v_raw;const o=Le(e),i=Le(t);r||(t!==i&&ht(o,"get",t),ht(o,"get",i));const{has:a}=Qn(o),s=n?mi:r?bi:Jr;if(a.call(o,t))return s(e.get(t));if(a.call(o,i))return s(e.get(i));e!==o&&e.get(t)}function Jn(e,t=!1){const r=this.__v_raw,n=Le(r),o=Le(e);return t||(e!==o&&ht(n,"has",e),ht(n,"has",o)),e===o?r.has(e):r.has(e)||r.has(o)}function $n(e,t=!1){return e=e.__v_raw,!t&&ht(Le(e),"iterate",ar),Reflect.get(e,"size",e)}function pa(e){e=Le(e);const t=Le(this);return Qn(t).has.call(t,e)||(t.add(e),Bt(t,"add",e,e)),this}function va(e,t){t=Le(t);const r=Le(this),{has:n,get:o}=Qn(r);let i=n.call(r,e);i||(e=Le(e),i=n.call(r,e));const a=o.call(r,e);return r.set(e,t),i?Xr(t,a)&&Bt(r,"set",e,t):Bt(r,"add",e,t),this}function ya(e){const t=Le(this),{has:r,get:n}=Qn(t);let o=r.call(t,e);o||(e=Le(e),o=r.call(t,e)),n&&n.call(t,e);const i=t.delete(e);return o&&Bt(t,"delete",e,void 0),i}function ba(){const e=Le(this),t=e.size!==0,r=e.clear();return t&&Bt(e,"clear",void 0,void 0),r}function eo(e,t){return function(n,o){const i=this,a=i.__v_raw,s=Le(a),c=t?mi:e?bi:Jr;return!e&&ht(s,"iterate",ar),a.forEach((l,d)=>n.call(o,c(l),c(d),i))}}function to(e,t,r){return function(...n){const o=this.__v_raw,i=Le(o),a=Pr(i),s=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,l=o[e](...n),d=r?mi:t?bi:Jr;return!t&&ht(i,"iterate",c?ui:ar),{next(){const{value:f,done:v}=l.next();return v?{value:f,done:v}:{value:s?[d(f[0]),d(f[1])]:d(f),done:v}},[Symbol.iterator](){return this}}}}function Yt(e){return function(...t){return e==="delete"?!1:this}}function Id(){const e={get(i){return Zn(this,i)},get size(){return $n(this)},has:Jn,add:pa,set:va,delete:ya,clear:ba,forEach:eo(!1,!1)},t={get(i){return Zn(this,i,!1,!0)},get size(){return $n(this)},has:Jn,add:pa,set:va,delete:ya,clear:ba,forEach:eo(!1,!0)},r={get(i){return Zn(this,i,!0)},get size(){return $n(this,!0)},has(i){return Jn.call(this,i,!0)},add:Yt("add"),set:Yt("set"),delete:Yt("delete"),clear:Yt("clear"),forEach:eo(!0,!1)},n={get(i){return Zn(this,i,!0,!0)},get size(){return $n(this,!0)},has(i){return Jn.call(this,i,!0)},add:Yt("add"),set:Yt("set"),delete:Yt("delete"),clear:Yt("clear"),forEach:eo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=to(i,!1,!1),r[i]=to(i,!0,!1),t[i]=to(i,!1,!0),n[i]=to(i,!0,!0)}),[e,r,t,n]}const[jd,Ld,Nd,Dd]=Id();function gi(e,t){const r=t?e?Dd:Nd:e?Ld:jd;return(n,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(Pe(r,o)&&o in n?r:n,o,i)}const Fd={get:gi(!1,!1)},Bd={get:gi(!1,!0)},Ud={get:gi(!0,!1)},wa=new WeakMap,ka=new WeakMap,_a=new WeakMap,Hd=new WeakMap;function zd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qd(e){return e.__v_skip||!Object.isExtensible(e)?0:zd(hd(e))}function pi(e){return Zr(e)?e:vi(e,!1,ga,Fd,wa)}function Wd(e){return vi(e,!1,Md,Bd,ka)}function xa(e){return vi(e,!0,Pd,Ud,_a)}function vi(e,t,r,n,o){if(!Qe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const a=qd(e);if(a===0)return e;const s=new Proxy(e,a===2?n:r);return o.set(e,s),s}function jr(e){return Zr(e)?jr(e.__v_raw):!!(e&&e.__v_isReactive)}function Zr(e){return!!(e&&e.__v_isReadonly)}function yi(e){return!!(e&&e.__v_isShallow)}function Aa(e){return jr(e)||Zr(e)}function Le(e){const t=e&&e.__v_raw;return t?Le(t):e}function Ea(e){return Yn(e,"__v_skip",!0),e}const Jr=e=>Qe(e)?pi(e):e,bi=e=>Qe(e)?xa(e):e;function Ca(e){Gt&&_t&&(e=Le(e),ua(e.dep||(e.dep=ai())))}function Sa(e,t){e=Le(e),e.dep&&fi(e.dep)}function tt(e){return!!(e&&e.__v_isRef===!0)}function lr(e){return Vd(e,!1)}function Vd(e,t){return tt(e)?e:new Kd(e,t)}class Kd{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Le(t),this._value=r?t:Jr(t)}get value(){return Ca(this),this._value}set value(t){t=this.__v_isShallow?t:Le(t),Xr(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Jr(t),Sa(this))}}function cr(e){return tt(e)?e.value:e}const Gd={get:(e,t,r)=>cr(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const o=e[t];return tt(o)&&!tt(r)?(o.value=r,!0):Reflect.set(e,t,r,n)}};function Oa(e){return jr(e)?e:new Proxy(e,Gd)}class Yd{constructor(t,r,n,o){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new di(t,()=>{this._dirty||(this._dirty=!0,Sa(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const t=Le(this);return Ca(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Xd(e,t,r=!1){let n,o;const i=Ce(e);return i?(n=e,o=kt):(n=e.get,o=e.set),new Yd(n,o,i||!o,r)}function Xt(e,t,r,n){let o;try{o=n?e(...n):e()}catch(i){ro(i,t,r)}return o}function vt(e,t,r,n){if(Ce(e)){const i=Xt(e,t,r,n);return i&&ra(i)&&i.catch(a=>{ro(a,t,r)}),i}const o=[];for(let i=0;i<e.length;i++)o.push(vt(e[i],t,r,n));return o}function ro(e,t,r,n=!0){const o=t?t.vnode:null;if(t){let i=t.parent;const a=t.proxy,s=r;for(;i;){const l=i.ec;if(l){for(let d=0;d<l.length;d++)if(l[d](e,a,s)===!1)return}i=i.parent}const c=t.appContext.config.errorHandler;if(c){Xt(c,null,10,[e,a,s]);return}}Qd(e,r,o,n)}function Qd(e,t,r,n=!0){console.error(e)}let no=!1,wi=!1;const mt=[];let Ut=0;const $r=[];let en=null,Lr=0;const tn=[];let Qt=null,Nr=0;const Ta=Promise.resolve();let ki=null,_i=null;function Ra(e){const t=ki||Ta;return e?t.then(this?e.bind(this):e):t}function Zd(e){let t=Ut+1,r=mt.length;for(;t<r;){const n=t+r>>>1;rn(mt[n])<e?t=n+1:r=n}return t}function Pa(e){(!mt.length||!mt.includes(e,no&&e.allowRecurse?Ut+1:Ut))&&e!==_i&&(e.id==null?mt.push(e):mt.splice(Zd(e.id),0,e),Ma())}function Ma(){!no&&!wi&&(wi=!0,ki=Ta.then(La))}function Jd(e){const t=mt.indexOf(e);t>Ut&&mt.splice(t,1)}function Ia(e,t,r,n){ke(e)?r.push(...e):(!t||!t.includes(e,e.allowRecurse?n+1:n))&&r.push(e),Ma()}function $d(e){Ia(e,en,$r,Lr)}function ef(e){Ia(e,Qt,tn,Nr)}function oo(e,t=null){if($r.length){for(_i=t,en=[...new Set($r)],$r.length=0,Lr=0;Lr<en.length;Lr++)en[Lr]();en=null,Lr=0,_i=null,oo(e,t)}}function ja(e){if(oo(),tn.length){const t=[...new Set(tn)];if(tn.length=0,Qt){Qt.push(...t);return}for(Qt=t,Qt.sort((r,n)=>rn(r)-rn(n)),Nr=0;Nr<Qt.length;Nr++)Qt[Nr]();Qt=null,Nr=0}}const rn=e=>e.id==null?1/0:e.id;function La(e){wi=!1,no=!0,oo(e),mt.sort((r,n)=>rn(r)-rn(n));const t=kt;try{for(Ut=0;Ut<mt.length;Ut++){const r=mt[Ut];r&&r.active!==!1&&Xt(r,null,14)}}finally{Ut=0,mt.length=0,ja(),no=!1,ki=null,(mt.length||$r.length||tn.length)&&La(e)}}function tf(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||He;let o=r;const i=t.startsWith("update:"),a=i&&t.slice(7);if(a&&a in n){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:v}=n[d]||He;v&&(o=r.map(b=>b.trim())),f&&(o=r.map(Xn))}let s,c=n[s=ii(t)]||n[s=ii(pt(t))];!c&&i&&(c=n[s=ii(Ot(t))]),c&&vt(c,e,6,o);const l=n[s+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,vt(l,e,6,o)}}function Na(e,t,r=!1){const n=t.emitsCache,o=n.get(e);if(o!==void 0)return o;const i=e.emits;let a={},s=!1;if(!Ce(e)){const c=l=>{const d=Na(l,t,!0);d&&(s=!0,Ze(a,d))};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!s?(n.set(e,null),null):(ke(i)?i.forEach(c=>a[c]=null):Ze(a,i),n.set(e,a),a)}function io(e,t){return!e||!qn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pe(e,t[0].toLowerCase()+t.slice(1))||Pe(e,Ot(t))||Pe(e,t))}let rt=null,Da=null;function so(e){const t=rt;return rt=e,Da=e&&e.type.__scopeId||null,t}function be(e,t=rt,r){if(!t||e._n)return e;const n=(...o)=>{n._d&&fl(-1);const i=so(t),a=e(...o);return so(i),n._d&&fl(1),a};return n._n=!0,n._c=!0,n._d=!0,n}function m1(){}function xi(e){const{type:t,vnode:r,proxy:n,withProxy:o,props:i,propsOptions:[a],slots:s,attrs:c,emit:l,render:d,renderCache:f,data:v,setupState:b,ctx:C,inheritAttrs:_}=e;let x,H;const W=so(e);try{if(r.shapeFlag&4){const L=o||n;x=Pt(d.call(L,L,f,i,b,v,C)),H=c}else{const L=t;x=Pt(L.length>1?L(i,{attrs:c,slots:s,emit:l}):L(i,null)),H=t.props?c:rf(c)}}catch(L){an.length=0,ro(L,e,1),x=ae(bt)}let j=x;if(H&&_!==!1){const L=Object.keys(H),{shapeFlag:D}=j;L.length&&D&7&&(a&&L.some(ti)&&(H=nf(H,a)),j=Zt(j,H))}return r.dirs&&(j=Zt(j),j.dirs=j.dirs?j.dirs.concat(r.dirs):r.dirs),r.transition&&(j.transition=r.transition),x=j,so(W),x}const rf=e=>{let t;for(const r in e)(r==="class"||r==="style"||qn(r))&&((t||(t={}))[r]=e[r]);return t},nf=(e,t)=>{const r={};for(const n in e)(!ti(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function of(e,t,r){const{props:n,children:o,component:i}=e,{props:a,children:s,patchFlag:c}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?Fa(n,a,l):!!a;if(c&8){const d=t.dynamicProps;for(let f=0;f<d.length;f++){const v=d[f];if(a[v]!==n[v]&&!io(l,v))return!0}}}else return(o||s)&&(!s||!s.$stable)?!0:n===a?!1:n?a?Fa(n,a,l):!0:!!a;return!1}function Fa(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(t[i]!==e[i]&&!io(r,i))return!0}return!1}function sf({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const af=e=>e.__isSuspense;function lf(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):ef(e)}function cf(e,t){if($e){let r=$e.provides;const n=$e.parent&&$e.parent.provides;n===r&&(r=$e.provides=Object.create(n)),r[e]=t}}function Ai(e,t,r=!1){const n=$e||rt;if(n){const o=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return r&&Ce(t)?t.call(n.proxy):t}}function uf(e,t){return Ci(e,null,{flush:"post"})}const Ba={};function Ei(e,t,r){return Ci(e,t,r)}function Ci(e,t,{immediate:r,deep:n,flush:o,onTrack:i,onTrigger:a}=He){const s=$e;let c,l=!1,d=!1;if(tt(e)?(c=()=>e.value,l=yi(e)):jr(e)?(c=()=>e,n=!0):ke(e)?(d=!0,l=e.some(H=>jr(H)||yi(H)),c=()=>e.map(H=>{if(tt(H))return H.value;if(jr(H))return ur(H);if(Ce(H))return Xt(H,s,2)})):Ce(e)?t?c=()=>Xt(e,s,2):c=()=>{if(!(s&&s.isUnmounted))return f&&f(),vt(e,s,3,[v])}:c=kt,t&&n){const H=c;c=()=>ur(H())}let f,v=H=>{f=x.onStop=()=>{Xt(H,s,4)}};if(cn)return v=kt,t?r&&vt(t,s,3,[c(),d?[]:void 0,v]):c(),kt;let b=d?[]:Ba;const C=()=>{if(!!x.active)if(t){const H=x.run();(n||l||(d?H.some((W,j)=>Xr(W,b[j])):Xr(H,b)))&&(f&&f(),vt(t,s,3,[H,b===Ba?void 0:b,v]),b=H)}else x.run()};C.allowRecurse=!!t;let _;o==="sync"?_=C:o==="post"?_=()=>ut(C,s&&s.suspense):_=()=>$d(C);const x=new di(c,_);return t?r?C():b=x.run():o==="post"?ut(x.run.bind(x),s&&s.suspense):x.run(),()=>{x.stop(),s&&s.scope&&ri(s.scope.effects,x)}}function df(e,t,r){const n=this.proxy,o=Je(e)?e.includes(".")?Ua(n,e):()=>n[e]:e.bind(n,n);let i;Ce(t)?i=t:(i=t.handler,r=t);const a=$e;Dr(this);const s=Ci(o,i.bind(n),r);return a?Dr(a):gr(),s}function Ua(e,t){const r=t.split(".");return()=>{let n=e;for(let o=0;o<r.length&&n;o++)n=n[r[o]];return n}}function ur(e,t){if(!Qe(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),tt(e))ur(e.value,t);else if(ke(e))for(let r=0;r<e.length;r++)ur(e[r],t);else if(ta(e)||Pr(e))e.forEach(r=>{ur(r,t)});else if(oa(e))for(const r in e)ur(e[r],t);return e}function Ha(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return co(()=>{e.isMounted=!0}),Ga(()=>{e.isUnmounting=!0}),e}const yt=[Function,Array],za={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yt,onEnter:yt,onAfterEnter:yt,onEnterCancelled:yt,onBeforeLeave:yt,onLeave:yt,onAfterLeave:yt,onLeaveCancelled:yt,onBeforeAppear:yt,onAppear:yt,onAfterAppear:yt,onAppearCancelled:yt},setup(e,{slots:t}){const r=zi(),n=Ha();let o;return()=>{const i=t.default&&Oi(t.default(),!0);if(!i||!i.length)return;let a=i[0];if(i.length>1){for(const _ of i)if(_.type!==bt){a=_;break}}const s=Le(e),{mode:c}=s;if(n.isLeaving)return Si(a);const l=Wa(a);if(!l)return Si(a);const d=nn(l,s,n,r);on(l,d);const f=r.subTree,v=f&&Wa(f);let b=!1;const{getTransitionKey:C}=l.type;if(C){const _=C();o===void 0?o=_:_!==o&&(o=_,b=!0)}if(v&&v.type!==bt&&(!mr(l,v)||b)){const _=nn(v,s,n,r);if(on(v,_),c==="out-in")return n.isLeaving=!0,_.afterLeave=()=>{n.isLeaving=!1,r.update()},Si(a);c==="in-out"&&l.type!==bt&&(_.delayLeave=(x,H,W)=>{const j=qa(n,v);j[String(v.key)]=v,x._leaveCb=()=>{H(),x._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=W})}return a}}};function qa(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function nn(e,t,r,n){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:s,onEnter:c,onAfterEnter:l,onEnterCancelled:d,onBeforeLeave:f,onLeave:v,onAfterLeave:b,onLeaveCancelled:C,onBeforeAppear:_,onAppear:x,onAfterAppear:H,onAppearCancelled:W}=t,j=String(e.key),L=qa(r,e),D=(P,q)=>{P&&vt(P,n,9,q)},S=(P,q)=>{const U=q[1];D(P,q),ke(P)?P.every(F=>F.length<=1)&&U():P.length<=1&&U()},R={mode:i,persisted:a,beforeEnter(P){let q=s;if(!r.isMounted)if(o)q=_||s;else return;P._leaveCb&&P._leaveCb(!0);const U=L[j];U&&mr(e,U)&&U.el._leaveCb&&U.el._leaveCb(),D(q,[P])},enter(P){let q=c,U=l,F=d;if(!r.isMounted)if(o)q=x||c,U=H||l,F=W||d;else return;let I=!1;const O=P._enterCb=p=>{I||(I=!0,p?D(F,[P]):D(U,[P]),R.delayedLeave&&R.delayedLeave(),P._enterCb=void 0)};q?S(q,[P,O]):O()},leave(P,q){const U=String(e.key);if(P._enterCb&&P._enterCb(!0),r.isUnmounting)return q();D(f,[P]);let F=!1;const I=P._leaveCb=O=>{F||(F=!0,q(),O?D(C,[P]):D(b,[P]),P._leaveCb=void 0,L[U]===e&&delete L[U])};L[U]=e,v?S(v,[P,I]):I()},clone(P){return nn(P,t,r,n)}};return R}function Si(e){if(ao(e))return e=Zt(e),e.children=null,e}function Wa(e){return ao(e)?e.children?e.children[0]:void 0:e}function on(e,t){e.shapeFlag&6&&e.component?on(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Oi(e,t=!1,r){let n=[],o=0;for(let i=0;i<e.length;i++){let a=e[i];const s=r==null?a.key:String(r)+String(a.key!=null?a.key:i);a.type===Me?(a.patchFlag&128&&o++,n=n.concat(Oi(a.children,t,s))):(t||a.type!==bt)&&n.push(s!=null?Zt(a,{key:s}):a)}if(o>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function Ti(e){return Ce(e)?{setup:e,name:e.name}:e}const sn=e=>!!e.type.__asyncLoader,ao=e=>e.type.__isKeepAlive;function ff(e,t){Va(e,"a",t)}function hf(e,t){Va(e,"da",t)}function Va(e,t,r=$e){const n=e.__wdc||(e.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(lo(t,n,r),r){let o=r.parent;for(;o&&o.parent;)ao(o.parent.vnode)&&mf(n,t,r,o),o=o.parent}}function mf(e,t,r,n){const o=lo(t,e,n,!0);Ri(()=>{ri(n[t],o)},r)}function lo(e,t,r=$e,n=!1){if(r){const o=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...a)=>{if(r.isUnmounted)return;Mr(),Dr(r);const s=vt(t,r,e,a);return gr(),Ir(),s});return n?o.unshift(i):o.push(i),i}}const Ht=e=>(t,r=$e)=>(!cn||e==="sp")&&lo(e,t,r),gf=Ht("bm"),co=Ht("m"),pf=Ht("bu"),Ka=Ht("u"),Ga=Ht("bum"),Ri=Ht("um"),vf=Ht("sp"),yf=Ht("rtg"),bf=Ht("rtc");function wf(e,t=$e){lo("ec",e,t)}function zt(e,t){const r=rt;if(r===null)return e;const n=yo(r)||r.proxy,o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,s,c,l=He]=t[i];Ce(a)&&(a={mounted:a,updated:a}),a.deep&&ur(s),o.push({dir:a,instance:n,value:s,oldValue:void 0,arg:c,modifiers:l})}return e}function dr(e,t,r,n){const o=e.dirs,i=t&&t.dirs;for(let a=0;a<o.length;a++){const s=o[a];i&&(s.oldValue=i[a].value);let c=s.dir[n];c&&(Mr(),vt(c,r,8,[e.el,s,e,t]),Ir())}}const Pi="components",kf="directives";function ve(e,t){return Mi(Pi,e,!0,t)||e}const Ya=Symbol();function _f(e){return Je(e)?Mi(Pi,e,!1)||e:e||Ya}function uo(e){return Mi(kf,e)}function Mi(e,t,r=!0,n=!1){const o=rt||$e;if(o){const i=o.type;if(e===Pi){const s=Xf(i,!1);if(s&&(s===t||s===pt(t)||s===Gn(pt(t))))return i}const a=Xa(o[e]||i[e],t)||Xa(o.appContext[e],t);return!a&&n?i:a}}function Xa(e,t){return e&&(e[t]||e[pt(t)]||e[Gn(pt(t))])}function Ae(e,t,r,n){let o;const i=r&&r[n];if(ke(e)||Je(e)){o=new Array(e.length);for(let a=0,s=e.length;a<s;a++)o[a]=t(e[a],a,void 0,i&&i[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,i&&i[a])}else if(Qe(e))if(e[Symbol.iterator])o=Array.from(e,(a,s)=>t(a,s,void 0,i&&i[s]));else{const a=Object.keys(e);o=new Array(a.length);for(let s=0,c=a.length;s<c;s++){const l=a[s];o[s]=t(e[l],l,s,i&&i[s])}}else o=[];return r&&(r[n]=o),o}function Fe(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(ke(n))for(let o=0;o<n.length;o++)e[n[o].name]=n[o].fn;else n&&(e[n.name]=n.fn)}return e}function se(e,t,r={},n,o){if(rt.isCE||rt.parent&&sn(rt.parent)&&rt.parent.isCE)return ae("slot",t==="default"?null:{name:t},n&&n());let i=e[t];i&&i._c&&(i._d=!1),N();const a=i&&Qa(i(r)),s=je(Me,{key:r.key||`_${t}`},a||(n?n():[]),a&&e._===1?64:-2);return!o&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),i&&i._c&&(i._d=!0),s}function Qa(e){return e.some(t=>go(t)?!(t.type===bt||t.type===Me&&!Qa(t.children)):!0)?e:null}const Ii=e=>e?gl(e)?yo(e)||e.proxy:Ii(e.parent):null,fo=Ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ii(e.parent),$root:e=>Ii(e.root),$emit:e=>e.emit,$options:e=>$a(e),$forceUpdate:e=>e.f||(e.f=()=>Pa(e.update)),$nextTick:e=>e.n||(e.n=Ra.bind(e.proxy)),$watch:e=>df.bind(e)}),xf={get({_:e},t){const{ctx:r,setupState:n,data:o,props:i,accessCache:a,type:s,appContext:c}=e;let l;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return n[t];case 2:return o[t];case 4:return r[t];case 3:return i[t]}else{if(n!==He&&Pe(n,t))return a[t]=1,n[t];if(o!==He&&Pe(o,t))return a[t]=2,o[t];if((l=e.propsOptions[0])&&Pe(l,t))return a[t]=3,i[t];if(r!==He&&Pe(r,t))return a[t]=4,r[t];ji&&(a[t]=0)}}const d=fo[t];let f,v;if(d)return t==="$attrs"&&ht(e,"get",t),d(e);if((f=s.__cssModules)&&(f=f[t]))return f;if(r!==He&&Pe(r,t))return a[t]=4,r[t];if(v=c.config.globalProperties,Pe(v,t))return v[t]},set({_:e},t,r){const{data:n,setupState:o,ctx:i}=e;return o!==He&&Pe(o,t)?(o[t]=r,!0):n!==He&&Pe(n,t)?(n[t]=r,!0):Pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:o,propsOptions:i}},a){let s;return!!r[a]||e!==He&&Pe(e,a)||t!==He&&Pe(t,a)||(s=i[0])&&Pe(s,a)||Pe(n,a)||Pe(fo,a)||Pe(o.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Pe(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};let ji=!0;function Af(e){const t=$a(e),r=e.proxy,n=e.ctx;ji=!1,t.beforeCreate&&Za(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:a,watch:s,provide:c,inject:l,created:d,beforeMount:f,mounted:v,beforeUpdate:b,updated:C,activated:_,deactivated:x,beforeDestroy:H,beforeUnmount:W,destroyed:j,unmounted:L,render:D,renderTracked:S,renderTriggered:R,errorCaptured:P,serverPrefetch:q,expose:U,inheritAttrs:F,components:I,directives:O,filters:p}=t;if(l&&Ef(l,n,null,e.appContext.config.unwrapInjectedRef),a)for(const g in a){const h=a[g];Ce(h)&&(n[g]=h.bind(r))}if(o){const g=o.call(r,r);Qe(g)&&(e.data=pi(g))}if(ji=!0,i)for(const g in i){const h=i[g],y=Ce(h)?h.bind(r,r):Ce(h.get)?h.get.bind(r,r):kt,m=!Ce(h)&&Ce(h.set)?h.set.bind(r):kt,u=bl({get:y,set:m});Object.defineProperty(n,g,{enumerable:!0,configurable:!0,get:()=>u.value,set:A=>u.value=A})}if(s)for(const g in s)Ja(s[g],n,r,g);if(c){const g=Ce(c)?c.call(r):c;Reflect.ownKeys(g).forEach(h=>{cf(h,g[h])})}d&&Za(d,e,"c");function T(g,h){ke(h)?h.forEach(y=>g(y.bind(r))):h&&g(h.bind(r))}if(T(gf,f),T(co,v),T(pf,b),T(Ka,C),T(ff,_),T(hf,x),T(wf,P),T(bf,S),T(yf,R),T(Ga,W),T(Ri,L),T(vf,q),ke(U))if(U.length){const g=e.exposed||(e.exposed={});U.forEach(h=>{Object.defineProperty(g,h,{get:()=>r[h],set:y=>r[h]=y})})}else e.exposed||(e.exposed={});D&&e.render===kt&&(e.render=D),F!=null&&(e.inheritAttrs=F),I&&(e.components=I),O&&(e.directives=O)}function Ef(e,t,r=kt,n=!1){ke(e)&&(e=Li(e));for(const o in e){const i=e[o];let a;Qe(i)?"default"in i?a=Ai(i.from||o,i.default,!0):a=Ai(i.from||o):a=Ai(i),tt(a)&&n?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):t[o]=a}}function Za(e,t,r){vt(ke(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Ja(e,t,r,n){const o=n.includes(".")?Ua(r,n):()=>r[n];if(Je(e)){const i=t[e];Ce(i)&&Ei(o,i)}else if(Ce(e))Ei(o,e.bind(r));else if(Qe(e))if(ke(e))e.forEach(i=>Ja(i,t,r,n));else{const i=Ce(e.handler)?e.handler.bind(r):t[e.handler];Ce(i)&&Ei(o,i,e)}}function $a(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,s=i.get(t);let c;return s?c=s:!o.length&&!r&&!n?c=t:(c={},o.length&&o.forEach(l=>ho(c,l,a,!0)),ho(c,t,a)),i.set(t,c),c}function ho(e,t,r,n=!1){const{mixins:o,extends:i}=t;i&&ho(e,i,r,!0),o&&o.forEach(a=>ho(e,a,r,!0));for(const a in t)if(!(n&&a==="expose")){const s=Cf[a]||r&&r[a];e[a]=s?s(e[a],t[a]):t[a]}return e}const Cf={data:el,props:fr,emits:fr,methods:fr,computed:fr,beforeCreate:at,created:at,beforeMount:at,mounted:at,beforeUpdate:at,updated:at,beforeDestroy:at,beforeUnmount:at,destroyed:at,unmounted:at,activated:at,deactivated:at,errorCaptured:at,serverPrefetch:at,components:fr,directives:fr,watch:Of,provide:el,inject:Sf};function el(e,t){return t?e?function(){return Ze(Ce(e)?e.call(this,this):e,Ce(t)?t.call(this,this):t)}:t:e}function Sf(e,t){return fr(Li(e),Li(t))}function Li(e){if(ke(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function at(e,t){return e?[...new Set([].concat(e,t))]:t}function fr(e,t){return e?Ze(Ze(Object.create(null),e),t):t}function Of(e,t){if(!e)return t;if(!t)return e;const r=Ze(Object.create(null),e);for(const n in t)r[n]=at(e[n],t[n]);return r}function Tf(e,t,r,n=!1){const o={},i={};Yn(i,po,1),e.propsDefaults=Object.create(null),tl(e,t,o,i);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);r?e.props=n?o:Wd(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function Rf(e,t,r,n){const{props:o,attrs:i,vnode:{patchFlag:a}}=e,s=Le(o),[c]=e.propsOptions;let l=!1;if((n||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let f=0;f<d.length;f++){let v=d[f];if(io(e.emitsOptions,v))continue;const b=t[v];if(c)if(Pe(i,v))b!==i[v]&&(i[v]=b,l=!0);else{const C=pt(v);o[C]=Ni(c,s,C,b,e,!1)}else b!==i[v]&&(i[v]=b,l=!0)}}}else{tl(e,t,o,i)&&(l=!0);let d;for(const f in s)(!t||!Pe(t,f)&&((d=Ot(f))===f||!Pe(t,d)))&&(c?r&&(r[f]!==void 0||r[d]!==void 0)&&(o[f]=Ni(c,s,f,void 0,e,!0)):delete o[f]);if(i!==s)for(const f in i)(!t||!Pe(t,f)&&!0)&&(delete i[f],l=!0)}l&&Bt(e,"set","$attrs")}function tl(e,t,r,n){const[o,i]=e.propsOptions;let a=!1,s;if(t)for(let c in t){if(Vn(c))continue;const l=t[c];let d;o&&Pe(o,d=pt(c))?!i||!i.includes(d)?r[d]=l:(s||(s={}))[d]=l:io(e.emitsOptions,c)||(!(c in n)||l!==n[c])&&(n[c]=l,a=!0)}if(i){const c=Le(r),l=s||He;for(let d=0;d<i.length;d++){const f=i[d];r[f]=Ni(o,c,f,l[f],e,!Pe(l,f))}}return a}function Ni(e,t,r,n,o,i){const a=e[r];if(a!=null){const s=Pe(a,"default");if(s&&n===void 0){const c=a.default;if(a.type!==Function&&Ce(c)){const{propsDefaults:l}=o;r in l?n=l[r]:(Dr(o),n=l[r]=c.call(null,t),gr())}else n=c}a[0]&&(i&&!s?n=!1:a[1]&&(n===""||n===Ot(r))&&(n=!0))}return n}function rl(e,t,r=!1){const n=t.propsCache,o=n.get(e);if(o)return o;const i=e.props,a={},s=[];let c=!1;if(!Ce(e)){const d=f=>{c=!0;const[v,b]=rl(f,t,!0);Ze(a,v),b&&s.push(...b)};!r&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!i&&!c)return n.set(e,Rr),Rr;if(ke(i))for(let d=0;d<i.length;d++){const f=pt(i[d]);nl(f)&&(a[f]=He)}else if(i)for(const d in i){const f=pt(d);if(nl(f)){const v=i[d],b=a[f]=ke(v)||Ce(v)?{type:v}:v;if(b){const C=sl(Boolean,b.type),_=sl(String,b.type);b[0]=C>-1,b[1]=_<0||C<_,(C>-1||Pe(b,"default"))&&s.push(f)}}}const l=[a,s];return n.set(e,l),l}function nl(e){return e[0]!=="$"}function ol(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function il(e,t){return ol(e)===ol(t)}function sl(e,t){return ke(t)?t.findIndex(r=>il(r,e)):Ce(t)&&il(t,e)?0:-1}const al=e=>e[0]==="_"||e==="$stable",Di=e=>ke(e)?e.map(Pt):[Pt(e)],Pf=(e,t,r)=>{if(t._n)return t;const n=be((...o)=>Di(t(...o)),r);return n._c=!1,n},ll=(e,t,r)=>{const n=e._ctx;for(const o in e){if(al(o))continue;const i=e[o];if(Ce(i))t[o]=Pf(o,i,n);else if(i!=null){const a=Di(i);t[o]=()=>a}}},cl=(e,t)=>{const r=Di(t);e.slots.default=()=>r},Mf=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=Le(t),Yn(t,"_",r)):ll(t,e.slots={})}else e.slots={},t&&cl(e,t);Yn(e.slots,po,1)},If=(e,t,r)=>{const{vnode:n,slots:o}=e;let i=!0,a=He;if(n.shapeFlag&32){const s=t._;s?r&&s===1?i=!1:(Ze(o,t),!r&&s===1&&delete o._):(i=!t.$stable,ll(t,o)),a=t}else t&&(cl(e,t),a={default:1});if(i)for(const s in o)!al(s)&&!(s in a)&&delete o[s]};function ul(){return{app:null,config:{isNativeTag:ud,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jf=0;function Lf(e,t){return function(n,o=null){Ce(n)||(n=Object.assign({},n)),o!=null&&!Qe(o)&&(o=null);const i=ul(),a=new Set;let s=!1;const c=i.app={_uid:jf++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:Zf,get config(){return i.config},set config(l){},use(l,...d){return a.has(l)||(l&&Ce(l.install)?(a.add(l),l.install(c,...d)):Ce(l)&&(a.add(l),l(c,...d))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,d){return d?(i.components[l]=d,c):i.components[l]},directive(l,d){return d?(i.directives[l]=d,c):i.directives[l]},mount(l,d,f){if(!s){const v=ae(n,o);return v.appContext=i,d&&t?t(v,l):e(v,l,f),s=!0,c._container=l,l.__vue_app__=c,yo(v.component)||v.component.proxy}},unmount(){s&&(e(null,c._container),delete c._container.__vue_app__)},provide(l,d){return i.provides[l]=d,c}};return c}}function Fi(e,t,r,n,o=!1){if(ke(e)){e.forEach((v,b)=>Fi(v,t&&(ke(t)?t[b]:t),r,n,o));return}if(sn(n)&&!o)return;const i=n.shapeFlag&4?yo(n.component)||n.component.proxy:n.el,a=o?null:i,{i:s,r:c}=e,l=t&&t.r,d=s.refs===He?s.refs={}:s.refs,f=s.setupState;if(l!=null&&l!==c&&(Je(l)?(d[l]=null,Pe(f,l)&&(f[l]=null)):tt(l)&&(l.value=null)),Ce(c))Xt(c,s,12,[a,d]);else{const v=Je(c),b=tt(c);if(v||b){const C=()=>{if(e.f){const _=v?d[c]:c.value;o?ke(_)&&ri(_,i):ke(_)?_.includes(i)||_.push(i):v?(d[c]=[i],Pe(f,c)&&(f[c]=d[c])):(c.value=[i],e.k&&(d[e.k]=c.value))}else v?(d[c]=a,Pe(f,c)&&(f[c]=a)):b&&(c.value=a,e.k&&(d[e.k]=a))};a?(C.id=-1,ut(C,r)):C()}}}const ut=lf;function Nf(e){return Df(e)}function Df(e,t){const r=pd();r.__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:a,createText:s,createComment:c,setText:l,setElementText:d,parentNode:f,nextSibling:v,setScopeId:b=kt,cloneNode:C,insertStaticContent:_}=e,x=(k,E,K,Q=null,Y=null,ne=null,le=!1,re=null,ie=!!E.dynamicChildren)=>{if(k===E)return;k&&!mr(k,E)&&(Q=ue(k),M(k,Y,ne,!0),k=null),E.patchFlag===-2&&(ie=!1,E.dynamicChildren=null);const{type:$,ref:ge,shapeFlag:he}=E;switch($){case Bi:H(k,E,K,Q);break;case bt:W(k,E,K,Q);break;case mo:k==null&&j(E,K,Q,le);break;case Me:O(k,E,K,Q,Y,ne,le,re,ie);break;default:he&1?S(k,E,K,Q,Y,ne,le,re,ie):he&6?p(k,E,K,Q,Y,ne,le,re,ie):(he&64||he&128)&&$.process(k,E,K,Q,Y,ne,le,re,ie,Ie)}ge!=null&&Y&&Fi(ge,k&&k.ref,ne,E||k,!E)},H=(k,E,K,Q)=>{if(k==null)n(E.el=s(E.children),K,Q);else{const Y=E.el=k.el;E.children!==k.children&&l(Y,E.children)}},W=(k,E,K,Q)=>{k==null?n(E.el=c(E.children||""),K,Q):E.el=k.el},j=(k,E,K,Q)=>{[k.el,k.anchor]=_(k.children,E,K,Q,k.el,k.anchor)},L=({el:k,anchor:E},K,Q)=>{let Y;for(;k&&k!==E;)Y=v(k),n(k,K,Q),k=Y;n(E,K,Q)},D=({el:k,anchor:E})=>{let K;for(;k&&k!==E;)K=v(k),o(k),k=K;o(E)},S=(k,E,K,Q,Y,ne,le,re,ie)=>{le=le||E.type==="svg",k==null?R(E,K,Q,Y,ne,le,re,ie):U(k,E,Y,ne,le,re,ie)},R=(k,E,K,Q,Y,ne,le,re)=>{let ie,$;const{type:ge,props:he,shapeFlag:pe,transition:we,patchFlag:Oe,dirs:G}=k;if(k.el&&C!==void 0&&Oe===-1)ie=k.el=C(k.el);else{if(ie=k.el=a(k.type,ne,he&&he.is,he),pe&8?d(ie,k.children):pe&16&&q(k.children,ie,null,Q,Y,ne&&ge!=="foreignObject",le,re),G&&dr(k,null,Q,"created"),he){for(const B in he)B!=="value"&&!Vn(B)&&i(ie,B,null,he[B],ne,k.children,Q,Y,de);"value"in he&&i(ie,"value",null,he.value),($=he.onVnodeBeforeMount)&&Mt($,Q,k)}P(ie,k,k.scopeId,le,Q)}G&&dr(k,null,Q,"beforeMount");const ee=(!Y||Y&&!Y.pendingBranch)&&we&&!we.persisted;ee&&we.beforeEnter(ie),n(ie,E,K),(($=he&&he.onVnodeMounted)||ee||G)&&ut(()=>{$&&Mt($,Q,k),ee&&we.enter(ie),G&&dr(k,null,Q,"mounted")},Y)},P=(k,E,K,Q,Y)=>{if(K&&b(k,K),Q)for(let ne=0;ne<Q.length;ne++)b(k,Q[ne]);if(Y){let ne=Y.subTree;if(E===ne){const le=Y.vnode;P(k,le,le.scopeId,le.slotScopeIds,Y.parent)}}},q=(k,E,K,Q,Y,ne,le,re,ie=0)=>{for(let $=ie;$<k.length;$++){const ge=k[$]=re?Jt(k[$]):Pt(k[$]);x(null,ge,E,K,Q,Y,ne,le,re)}},U=(k,E,K,Q,Y,ne,le)=>{const re=E.el=k.el;let{patchFlag:ie,dynamicChildren:$,dirs:ge}=E;ie|=k.patchFlag&16;const he=k.props||He,pe=E.props||He;let we;K&&hr(K,!1),(we=pe.onVnodeBeforeUpdate)&&Mt(we,K,E,k),ge&&dr(E,k,K,"beforeUpdate"),K&&hr(K,!0);const Oe=Y&&E.type!=="foreignObject";if($?F(k.dynamicChildren,$,re,K,Q,Oe,ne):le||y(k,E,re,null,K,Q,Oe,ne,!1),ie>0){if(ie&16)I(re,E,he,pe,K,Q,Y);else if(ie&2&&he.class!==pe.class&&i(re,"class",null,pe.class,Y),ie&4&&i(re,"style",he.style,pe.style,Y),ie&8){const G=E.dynamicProps;for(let ee=0;ee<G.length;ee++){const B=G[ee],ce=he[B],xe=pe[B];(xe!==ce||B==="value")&&i(re,B,ce,xe,Y,k.children,K,Q,de)}}ie&1&&k.children!==E.children&&d(re,E.children)}else!le&&$==null&&I(re,E,he,pe,K,Q,Y);((we=pe.onVnodeUpdated)||ge)&&ut(()=>{we&&Mt(we,K,E,k),ge&&dr(E,k,K,"updated")},Q)},F=(k,E,K,Q,Y,ne,le)=>{for(let re=0;re<E.length;re++){const ie=k[re],$=E[re],ge=ie.el&&(ie.type===Me||!mr(ie,$)||ie.shapeFlag&70)?f(ie.el):K;x(ie,$,ge,null,Q,Y,ne,le,!0)}},I=(k,E,K,Q,Y,ne,le)=>{if(K!==Q){for(const re in Q){if(Vn(re))continue;const ie=Q[re],$=K[re];ie!==$&&re!=="value"&&i(k,re,$,ie,le,E.children,Y,ne,de)}if(K!==He)for(const re in K)!Vn(re)&&!(re in Q)&&i(k,re,K[re],null,le,E.children,Y,ne,de);"value"in Q&&i(k,"value",K.value,Q.value)}},O=(k,E,K,Q,Y,ne,le,re,ie)=>{const $=E.el=k?k.el:s(""),ge=E.anchor=k?k.anchor:s("");let{patchFlag:he,dynamicChildren:pe,slotScopeIds:we}=E;we&&(re=re?re.concat(we):we),k==null?(n($,K,Q),n(ge,K,Q),q(E.children,K,ge,Y,ne,le,re,ie)):he>0&&he&64&&pe&&k.dynamicChildren?(F(k.dynamicChildren,pe,K,Y,ne,le,re),(E.key!=null||Y&&E===Y.subTree)&&dl(k,E,!0)):y(k,E,K,ge,Y,ne,le,re,ie)},p=(k,E,K,Q,Y,ne,le,re,ie)=>{E.slotScopeIds=re,k==null?E.shapeFlag&512?Y.ctx.activate(E,K,Q,le,ie):w(E,K,Q,Y,ne,le,ie):T(k,E,ie)},w=(k,E,K,Q,Y,ne,le)=>{const re=k.component=Wf(k,Q,Y);if(ao(k)&&(re.ctx.renderer=Ie),Vf(re),re.asyncDep){if(Y&&Y.registerDep(re,g),!k.el){const ie=re.subTree=ae(bt);W(null,ie,E,K)}return}g(re,k,E,K,Y,ne,le)},T=(k,E,K)=>{const Q=E.component=k.component;if(of(k,E,K))if(Q.asyncDep&&!Q.asyncResolved){h(Q,E,K);return}else Q.next=E,Jd(Q.update),Q.update();else E.el=k.el,Q.vnode=E},g=(k,E,K,Q,Y,ne,le)=>{const re=()=>{if(k.isMounted){let{next:ge,bu:he,u:pe,parent:we,vnode:Oe}=k,G=ge,ee;hr(k,!1),ge?(ge.el=Oe.el,h(k,ge,le)):ge=Oe,he&&si(he),(ee=ge.props&&ge.props.onVnodeBeforeUpdate)&&Mt(ee,we,ge,Oe),hr(k,!0);const B=xi(k),ce=k.subTree;k.subTree=B,x(ce,B,f(ce.el),ue(ce),k,Y,ne),ge.el=B.el,G===null&&sf(k,B.el),pe&&ut(pe,Y),(ee=ge.props&&ge.props.onVnodeUpdated)&&ut(()=>Mt(ee,we,ge,Oe),Y)}else{let ge;const{el:he,props:pe}=E,{bm:we,m:Oe,parent:G}=k,ee=sn(E);if(hr(k,!1),we&&si(we),!ee&&(ge=pe&&pe.onVnodeBeforeMount)&&Mt(ge,G,E),hr(k,!0),he&&Ke){const B=()=>{k.subTree=xi(k),Ke(he,k.subTree,k,Y,null)};ee?E.type.__asyncLoader().then(()=>!k.isUnmounted&&B()):B()}else{const B=k.subTree=xi(k);x(null,B,K,Q,k,Y,ne),E.el=B.el}if(Oe&&ut(Oe,Y),!ee&&(ge=pe&&pe.onVnodeMounted)){const B=E;ut(()=>Mt(ge,G,B),Y)}(E.shapeFlag&256||G&&sn(G.vnode)&&G.vnode.shapeFlag&256)&&k.a&&ut(k.a,Y),k.isMounted=!0,E=K=Q=null}},ie=k.effect=new di(re,()=>Pa($),k.scope),$=k.update=()=>ie.run();$.id=k.uid,hr(k,!0),$()},h=(k,E,K)=>{E.component=k;const Q=k.vnode.props;k.vnode=E,k.next=null,Rf(k,E.props,Q,K),If(k,E.children,K),Mr(),oo(void 0,k.update),Ir()},y=(k,E,K,Q,Y,ne,le,re,ie=!1)=>{const $=k&&k.children,ge=k?k.shapeFlag:0,he=E.children,{patchFlag:pe,shapeFlag:we}=E;if(pe>0){if(pe&128){u($,he,K,Q,Y,ne,le,re,ie);return}else if(pe&256){m($,he,K,Q,Y,ne,le,re,ie);return}}we&8?(ge&16&&de($,Y,ne),he!==$&&d(K,he)):ge&16?we&16?u($,he,K,Q,Y,ne,le,re,ie):de($,Y,ne,!0):(ge&8&&d(K,""),we&16&&q(he,K,Q,Y,ne,le,re,ie))},m=(k,E,K,Q,Y,ne,le,re,ie)=>{k=k||Rr,E=E||Rr;const $=k.length,ge=E.length,he=Math.min($,ge);let pe;for(pe=0;pe<he;pe++){const we=E[pe]=ie?Jt(E[pe]):Pt(E[pe]);x(k[pe],we,K,null,Y,ne,le,re,ie)}$>ge?de(k,Y,ne,!0,!1,he):q(E,K,Q,Y,ne,le,re,ie,he)},u=(k,E,K,Q,Y,ne,le,re,ie)=>{let $=0;const ge=E.length;let he=k.length-1,pe=ge-1;for(;$<=he&&$<=pe;){const we=k[$],Oe=E[$]=ie?Jt(E[$]):Pt(E[$]);if(mr(we,Oe))x(we,Oe,K,null,Y,ne,le,re,ie);else break;$++}for(;$<=he&&$<=pe;){const we=k[he],Oe=E[pe]=ie?Jt(E[pe]):Pt(E[pe]);if(mr(we,Oe))x(we,Oe,K,null,Y,ne,le,re,ie);else break;he--,pe--}if($>he){if($<=pe){const we=pe+1,Oe=we<ge?E[we].el:Q;for(;$<=pe;)x(null,E[$]=ie?Jt(E[$]):Pt(E[$]),K,Oe,Y,ne,le,re,ie),$++}}else if($>pe)for(;$<=he;)M(k[$],Y,ne,!0),$++;else{const we=$,Oe=$,G=new Map;for($=Oe;$<=pe;$++){const ct=E[$]=ie?Jt(E[$]):Pt(E[$]);ct.key!=null&&G.set(ct.key,$)}let ee,B=0;const ce=pe-Oe+1;let xe=!1,Ge=0;const et=new Array(ce);for($=0;$<ce;$++)et[$]=0;for($=we;$<=he;$++){const ct=k[$];if(B>=ce){M(ct,Y,ne,!0);continue}let Ft;if(ct.key!=null)Ft=G.get(ct.key);else for(ee=Oe;ee<=pe;ee++)if(et[ee-Oe]===0&&mr(ct,E[ee])){Ft=ee;break}Ft===void 0?M(ct,Y,ne,!0):(et[Ft-Oe]=$+1,Ft>=Ge?Ge=Ft:xe=!0,x(ct,E[Ft],K,null,Y,ne,le,re,ie),B++)}const Js=xe?Ff(et):Rr;for(ee=Js.length-1,$=ce-1;$>=0;$--){const ct=Oe+$,Ft=E[ct],id=ct+1<ge?E[ct+1].el:Q;et[$]===0?x(null,Ft,K,id,Y,ne,le,re,ie):xe&&(ee<0||$!==Js[ee]?A(Ft,K,id,2):ee--)}}},A=(k,E,K,Q,Y=null)=>{const{el:ne,type:le,transition:re,children:ie,shapeFlag:$}=k;if($&6){A(k.component.subTree,E,K,Q);return}if($&128){k.suspense.move(E,K,Q);return}if($&64){le.move(k,E,K,Ie);return}if(le===Me){n(ne,E,K);for(let he=0;he<ie.length;he++)A(ie[he],E,K,Q);n(k.anchor,E,K);return}if(le===mo){L(k,E,K);return}if(Q!==2&&$&1&&re)if(Q===0)re.beforeEnter(ne),n(ne,E,K),ut(()=>re.enter(ne),Y);else{const{leave:he,delayLeave:pe,afterLeave:we}=re,Oe=()=>n(ne,E,K),G=()=>{he(ne,()=>{Oe(),we&&we()})};pe?pe(ne,Oe,G):G()}else n(ne,E,K)},M=(k,E,K,Q=!1,Y=!1)=>{const{type:ne,props:le,ref:re,children:ie,dynamicChildren:$,shapeFlag:ge,patchFlag:he,dirs:pe}=k;if(re!=null&&Fi(re,null,K,k,!0),ge&256){E.ctx.deactivate(k);return}const we=ge&1&&pe,Oe=!sn(k);let G;if(Oe&&(G=le&&le.onVnodeBeforeUnmount)&&Mt(G,E,k),ge&6)fe(k.component,K,Q);else{if(ge&128){k.suspense.unmount(K,Q);return}we&&dr(k,null,E,"beforeUnmount"),ge&64?k.type.remove(k,E,K,Y,Ie,Q):$&&(ne!==Me||he>0&&he&64)?de($,E,K,!1,!0):(ne===Me&&he&384||!Y&&ge&16)&&de(ie,E,K),Q&&X(k)}(Oe&&(G=le&&le.onVnodeUnmounted)||we)&&ut(()=>{G&&Mt(G,E,k),we&&dr(k,null,E,"unmounted")},K)},X=k=>{const{type:E,el:K,anchor:Q,transition:Y}=k;if(E===Me){Z(K,Q);return}if(E===mo){D(k);return}const ne=()=>{o(K),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(k.shapeFlag&1&&Y&&!Y.persisted){const{leave:le,delayLeave:re}=Y,ie=()=>le(K,ne);re?re(k.el,ne,ie):ie()}else ne()},Z=(k,E)=>{let K;for(;k!==E;)K=v(k),o(k),k=K;o(E)},fe=(k,E,K)=>{const{bum:Q,scope:Y,update:ne,subTree:le,um:re}=k;Q&&si(Q),Y.stop(),ne&&(ne.active=!1,M(le,k,E,K)),re&&ut(re,E),ut(()=>{k.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},de=(k,E,K,Q=!1,Y=!1,ne=0)=>{for(let le=ne;le<k.length;le++)M(k[le],E,K,Q,Y)},ue=k=>k.shapeFlag&6?ue(k.component.subTree):k.shapeFlag&128?k.suspense.next():v(k.anchor||k.el),Re=(k,E,K)=>{k==null?E._vnode&&M(E._vnode,null,null,!0):x(E._vnode||null,k,E,null,null,null,K),ja(),E._vnode=k},Ie={p:x,um:M,m:A,r:X,mt:w,mc:q,pc:y,pbc:F,n:ue,o:e};let ye,Ke;return t&&([ye,Ke]=t(Ie)),{render:Re,hydrate:ye,createApp:Lf(Re,ye)}}function hr({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function dl(e,t,r=!1){const n=e.children,o=t.children;if(ke(n)&&ke(o))for(let i=0;i<n.length;i++){const a=n[i];let s=o[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=o[i]=Jt(o[i]),s.el=a.el),r||dl(a,s))}}function Ff(e){const t=e.slice(),r=[0];let n,o,i,a,s;const c=e.length;for(n=0;n<c;n++){const l=e[n];if(l!==0){if(o=r[r.length-1],e[o]<l){t[n]=o,r.push(n);continue}for(i=0,a=r.length-1;i<a;)s=i+a>>1,e[r[s]]<l?i=s+1:a=s;l<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,a=r[i-1];i-- >0;)r[i]=a,a=t[a];return r}const Bf=e=>e.__isTeleport,Me=Symbol(void 0),Bi=Symbol(void 0),bt=Symbol(void 0),mo=Symbol(void 0),an=[];let xt=null;function N(e=!1){an.push(xt=e?null:[])}function Uf(){an.pop(),xt=an[an.length-1]||null}let ln=1;function fl(e){ln+=e}function hl(e){return e.dynamicChildren=ln>0?xt||Rr:null,Uf(),ln>0&&xt&&xt.push(e),e}function V(e,t,r,n,o,i){return hl(J(e,t,r,n,o,i,!0))}function je(e,t,r,n,o){return hl(ae(e,t,r,n,o,!0))}function go(e){return e?e.__v_isVNode===!0:!1}function mr(e,t){return e.type===t.type&&e.key===t.key}const po="__vInternal",ml=({key:e})=>e!=null?e:null,vo=({ref:e,ref_key:t,ref_for:r})=>e!=null?Je(e)||tt(e)||Ce(e)?{i:rt,r:e,k:t,f:!!r}:e:null;function J(e,t=null,r=null,n=0,o=null,i=e===Me?0:1,a=!1,s=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ml(t),ref:t&&vo(t),scopeId:Da,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null};return s?(Ui(c,r),i&128&&e.normalize(c)):r&&(c.shapeFlag|=Je(r)?8:16),ln>0&&!a&&xt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&xt.push(c),c}const ae=Hf;function Hf(e,t=null,r=null,n=0,o=null,i=!1){if((!e||e===Ya)&&(e=bt),go(e)){const s=Zt(e,t,!0);return r&&Ui(s,r),ln>0&&!i&&xt&&(s.shapeFlag&6?xt[xt.indexOf(e)]=s:xt.push(s)),s.patchFlag|=-2,s}if(Qf(e)&&(e=e.__vccOpts),t){t=Ne(t);let{class:s,style:c}=t;s&&!Je(s)&&(t.class=Ee(s)),Qe(c)&&(Aa(c)&&!ke(c)&&(c=Ze({},c)),t.style=Ve(c))}const a=Je(e)?1:af(e)?128:Bf(e)?64:Qe(e)?4:Ce(e)?2:0;return J(e,t,r,n,o,a,i,!0)}function Ne(e){return e?Aa(e)||po in e?Ze({},e):e:null}function Zt(e,t,r=!1){const{props:n,ref:o,patchFlag:i,children:a}=e,s=t?Hi(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&ml(s),ref:t&&t.ref?r&&o?ke(o)?o.concat(vo(t)):[o,vo(t)]:vo(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Me?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zt(e.ssContent),ssFallback:e.ssFallback&&Zt(e.ssFallback),el:e.el,anchor:e.anchor}}function Rt(e=" ",t=0){return ae(Bi,null,e,t)}function oe(e="",t=!1){return t?(N(),je(bt,null,e)):ae(bt,null,e)}function Pt(e){return e==null||typeof e=="boolean"?ae(bt):ke(e)?ae(Me,null,e.slice()):typeof e=="object"?Jt(e):ae(Bi,null,String(e))}function Jt(e){return e.el===null||e.memo?e:Zt(e)}function Ui(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ke(t))r=16;else if(typeof t=="object")if(n&65){const o=t.default;o&&(o._c&&(o._d=!1),Ui(e,o()),o._c&&(o._d=!0));return}else{r=32;const o=t._;!o&&!(po in t)?t._ctx=rt:o===3&&rt&&(rt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ce(t)?(t={default:t,_ctx:rt},r=32):(t=String(t),n&64?(r=16,t=[Rt(t)]):r=8);e.children=t,e.shapeFlag|=r}function Hi(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const o in n)if(o==="class")t.class!==n.class&&(t.class=Ee([t.class,n.class]));else if(o==="style")t.style=Ve([t.style,n.style]);else if(qn(o)){const i=t[o],a=n[o];a&&i!==a&&!(ke(i)&&i.includes(a))&&(t[o]=i?[].concat(i,a):a)}else o!==""&&(t[o]=n[o])}return t}function Mt(e,t,r,n=null){vt(e,t,7,[r,n])}const zf=ul();let qf=0;function Wf(e,t,r){const n=e.type,o=(t?t.appContext:e.appContext)||zf,i={uid:qf++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new vd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rl(n,o),emitsOptions:Na(n,o),emit:null,emitted:null,propsDefaults:He,inheritAttrs:n.inheritAttrs,ctx:He,data:He,props:He,attrs:He,slots:He,refs:He,setupState:He,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=tf.bind(null,i),e.ce&&e.ce(i),i}let $e=null;const zi=()=>$e||rt,Dr=e=>{$e=e,e.scope.on()},gr=()=>{$e&&$e.scope.off(),$e=null};function gl(e){return e.vnode.shapeFlag&4}let cn=!1;function Vf(e,t=!1){cn=t;const{props:r,children:n}=e.vnode,o=gl(e);Tf(e,r,o,t),Mf(e,n);const i=o?Kf(e,t):void 0;return cn=!1,i}function Kf(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=Ea(new Proxy(e.ctx,xf));const{setup:n}=r;if(n){const o=e.setupContext=n.length>1?Yf(e):null;Dr(e),Mr();const i=Xt(n,e,0,[e.props,o]);if(Ir(),gr(),ra(i)){if(i.then(gr,gr),t)return i.then(a=>{pl(e,a,t)}).catch(a=>{ro(a,e,0)});e.asyncDep=i}else pl(e,i,t)}else yl(e,t)}function pl(e,t,r){Ce(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Qe(t)&&(e.setupState=Oa(t)),yl(e,r)}let vl;function yl(e,t,r){const n=e.type;if(!e.render){if(!t&&vl&&!n.render){const o=n.template;if(o){const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:s,compilerOptions:c}=n,l=Ze(Ze({isCustomElement:i,delimiters:s},a),c);n.render=vl(o,l)}}e.render=n.render||kt}Dr(e),Mr(),Af(e),Ir(),gr()}function Gf(e){return new Proxy(e.attrs,{get(t,r){return ht(e,"get","$attrs"),t[r]}})}function Yf(e){const t=n=>{e.exposed=n||{}};let r;return{get attrs(){return r||(r=Gf(e))},slots:e.slots,emit:e.emit,expose:t}}function yo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Oa(Ea(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in fo)return fo[r](e)}}))}function Xf(e,t=!0){return Ce(e)?e.displayName||e.name:e.name||t&&e.__name}function Qf(e){return Ce(e)&&"__vccOpts"in e}const bl=(e,t)=>Xd(e,t,cn);function qi(e,t,r){const n=arguments.length;return n===2?Qe(t)&&!ke(t)?go(t)?ae(e,null,[t]):ae(e,t):ae(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&go(r)&&(r=[r]),ae(e,t,r))}const Zf="3.2.37",Jf="http://www.w3.org/2000/svg",pr=typeof document!="undefined"?document:null,wl=pr&&pr.createElement("template"),$f={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const o=t?pr.createElementNS(Jf,e):pr.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>pr.createTextNode(e),createComment:e=>pr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>pr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,r,n,o,i){const a=r?r.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),r),!(o===i||!(o=o.nextSibling)););else{wl.innerHTML=n?`<svg>${e}</svg>`:e;const s=wl.content;if(n){const c=s.firstChild;for(;c.firstChild;)s.appendChild(c.firstChild);s.removeChild(c)}t.insertBefore(s,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function eh(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function th(e,t,r){const n=e.style,o=Je(r);if(r&&!o){for(const i in r)Wi(n,i,r[i]);if(t&&!Je(t))for(const i in t)r[i]==null&&Wi(n,i,"")}else{const i=n.display;o?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=i)}}const kl=/\s*!important$/;function Wi(e,t,r){if(ke(r))r.forEach(n=>Wi(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=rh(e,t);kl.test(r)?e.setProperty(Ot(n),r.replace(kl,""),"important"):e[n]=r}}const _l=["Webkit","Moz","ms"],Vi={};function rh(e,t){const r=Vi[t];if(r)return r;let n=pt(t);if(n!=="filter"&&n in e)return Vi[t]=n;n=Gn(n);for(let o=0;o<_l.length;o++){const i=_l[o]+n;if(i in e)return Vi[t]=i}return t}const xl="http://www.w3.org/1999/xlink";function nh(e,t,r,n,o){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(xl,t.slice(6,t.length)):e.setAttributeNS(xl,t,r);else{const i=sd(t);r==null||i&&!$s(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}function oh(e,t,r,n,o,i,a){if(t==="innerHTML"||t==="textContent"){n&&a(n,o,i),e[t]=r==null?"":r;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const c=r==null?"":r;(e.value!==c||e.tagName==="OPTION")&&(e.value=c),r==null&&e.removeAttribute(t);return}let s=!1;if(r===""||r==null){const c=typeof e[t];c==="boolean"?r=$s(r):r==null&&c==="string"?(r="",s=!0):c==="number"&&(r=0,s=!0)}try{e[t]=r}catch{}s&&e.removeAttribute(t)}const[Al,ih]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const r=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(r&&Number(r[1])<=53)}return[e,t]})();let Ki=0;const sh=Promise.resolve(),ah=()=>{Ki=0},lh=()=>Ki||(sh.then(ah),Ki=Al());function ch(e,t,r,n){e.addEventListener(t,r,n)}function uh(e,t,r,n){e.removeEventListener(t,r,n)}function dh(e,t,r,n,o=null){const i=e._vei||(e._vei={}),a=i[t];if(n&&a)a.value=n;else{const[s,c]=fh(t);if(n){const l=i[t]=hh(n,o);ch(e,s,l,c)}else a&&(uh(e,s,a,c),i[t]=void 0)}}const El=/(?:Once|Passive|Capture)$/;function fh(e){let t;if(El.test(e)){t={};let r;for(;r=e.match(El);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[Ot(e.slice(2)),t]}function hh(e,t){const r=n=>{const o=n.timeStamp||Al();(ih||o>=r.attached-1)&&vt(mh(n,r.value),t,5,[n])};return r.value=e,r.attached=lh(),r}function mh(e,t){if(ke(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>o=>!o._stopped&&n&&n(o))}else return t}const Cl=/^on[a-z]/,gh=(e,t,r,n,o=!1,i,a,s,c)=>{t==="class"?eh(e,n,o):t==="style"?th(e,r,n):qn(t)?ti(t)||dh(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ph(e,t,n,o))?oh(e,t,n,i,a,s,c):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),nh(e,t,n,o))};function ph(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&Cl.test(t)&&Ce(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Cl.test(t)&&Je(r)?!1:t in e}function vh(e,t){const r=Ti(e);class n extends Gi{constructor(i){super(r,i,t)}}return n.def=r,n}const yh=typeof HTMLElement!="undefined"?HTMLElement:class{};class Gi extends yh{constructor(t,r={},n){super(),this._def=t,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,Ra(()=>{this._connected||(Ul(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);new MutationObserver(n=>{for(const o of n)this._setAttr(o.attributeName)}).observe(this,{attributes:!0});const t=n=>{const{props:o,styles:i}=n,a=!ke(o),s=o?a?Object.keys(o):o:[];let c;if(a)for(const l in this._props){const d=o[l];(d===Number||d&&d.type===Number)&&(this._props[l]=Xn(this._props[l]),(c||(c=Object.create(null)))[l]=!0)}this._numberProps=c;for(const l of Object.keys(this))l[0]!=="_"&&this._setProp(l,this[l],!0,!1);for(const l of s.map(pt))Object.defineProperty(this,l,{get(){return this._getProp(l)},set(d){this._setProp(l,d)}});this._applyStyles(i),this._update()},r=this._def.__asyncLoader;r?r().then(t):t(this._def)}_setAttr(t){let r=this.getAttribute(t);this._numberProps&&this._numberProps[t]&&(r=Xn(r)),this._setProp(pt(t),r,!1)}_getProp(t){return this._props[t]}_setProp(t,r,n=!0,o=!0){r!==this._props[t]&&(this._props[t]=r,o&&this._instance&&this._update(),n&&(r===!0?this.setAttribute(Ot(t),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Ot(t),r+""):r||this.removeAttribute(Ot(t))))}_update(){Ul(this._createVNode(),this.shadowRoot)}_createVNode(){const t=ae(this._def,Ze({},this._props));return this._instance||(t.ce=r=>{this._instance=r,r.isCE=!0,r.emit=(o,...i)=>{this.dispatchEvent(new CustomEvent(o,{detail:i}))};let n=this;for(;n=n&&(n.parentNode||n.host);)if(n instanceof Gi){r.parent=n._instance;break}}),t}_applyStyles(t){t&&t.forEach(r=>{const n=document.createElement("style");n.textContent=r,this.shadowRoot.appendChild(n)})}}function bh(e){const t=zi();if(!t)return;const r=()=>Yi(t.subTree,e(t.proxy));uf(r),co(()=>{const n=new MutationObserver(r);n.observe(t.subTree.el.parentNode,{childList:!0}),Ri(()=>n.disconnect())})}function Yi(e,t){if(e.shapeFlag&128){const r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Yi(r.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Sl(e.el,t);else if(e.type===Me)e.children.forEach(r=>Yi(r,t));else if(e.type===mo){let{el:r,anchor:n}=e;for(;r&&(Sl(r,t),r!==n);)r=r.nextSibling}}function Sl(e,t){if(e.nodeType===1){const r=e.style;for(const n in t)r.setProperty(`--${n}`,t[n])}}const $t="transition",un="animation",Xe=(e,{slots:t})=>qi(za,Rl(e),t);Xe.displayName="Transition";const Ol={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},wh=Xe.props=Ze({},za.props,Ol),vr=(e,t=[])=>{ke(e)?e.forEach(r=>r(...t)):e&&e(...t)},Tl=e=>e?ke(e)?e.some(t=>t.length>1):e.length>1:!1;function Rl(e){const t={};for(const I in e)I in Ol||(t[I]=e[I]);if(e.css===!1)return t;const{name:r="v",type:n,duration:o,enterFromClass:i=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:s=`${r}-enter-to`,appearFromClass:c=i,appearActiveClass:l=a,appearToClass:d=s,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:v=`${r}-leave-active`,leaveToClass:b=`${r}-leave-to`}=e,C=kh(o),_=C&&C[0],x=C&&C[1],{onBeforeEnter:H,onEnter:W,onEnterCancelled:j,onLeave:L,onLeaveCancelled:D,onBeforeAppear:S=H,onAppear:R=W,onAppearCancelled:P=j}=t,q=(I,O,p)=>{er(I,O?d:s),er(I,O?l:a),p&&p()},U=(I,O)=>{I._isLeaving=!1,er(I,f),er(I,b),er(I,v),O&&O()},F=I=>(O,p)=>{const w=I?R:W,T=()=>q(O,I,p);vr(w,[O,T]),Pl(()=>{er(O,I?c:i),qt(O,I?d:s),Tl(w)||Ml(O,n,_,T)})};return Ze(t,{onBeforeEnter(I){vr(H,[I]),qt(I,i),qt(I,a)},onBeforeAppear(I){vr(S,[I]),qt(I,c),qt(I,l)},onEnter:F(!1),onAppear:F(!0),onLeave(I,O){I._isLeaving=!0;const p=()=>U(I,O);qt(I,f),Nl(),qt(I,v),Pl(()=>{!I._isLeaving||(er(I,f),qt(I,b),Tl(L)||Ml(I,n,x,p))}),vr(L,[I,p])},onEnterCancelled(I){q(I,!1),vr(j,[I])},onAppearCancelled(I){q(I,!0),vr(P,[I])},onLeaveCancelled(I){U(I),vr(D,[I])}})}function kh(e){if(e==null)return null;if(Qe(e))return[Xi(e.enter),Xi(e.leave)];{const t=Xi(e);return[t,t]}}function Xi(e){return Xn(e)}function qt(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(t)}function er(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function Pl(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let _h=0;function Ml(e,t,r,n){const o=e._endId=++_h,i=()=>{o===e._endId&&n()};if(r)return setTimeout(i,r);const{type:a,timeout:s,propCount:c}=Il(e,t);if(!a)return n();const l=a+"end";let d=0;const f=()=>{e.removeEventListener(l,v),i()},v=b=>{b.target===e&&++d>=c&&f()};setTimeout(()=>{d<c&&f()},s+1),e.addEventListener(l,v)}function Il(e,t){const r=window.getComputedStyle(e),n=C=>(r[C]||"").split(", "),o=n($t+"Delay"),i=n($t+"Duration"),a=jl(o,i),s=n(un+"Delay"),c=n(un+"Duration"),l=jl(s,c);let d=null,f=0,v=0;t===$t?a>0&&(d=$t,f=a,v=i.length):t===un?l>0&&(d=un,f=l,v=c.length):(f=Math.max(a,l),d=f>0?a>l?$t:un:null,v=d?d===$t?i.length:c.length:0);const b=d===$t&&/\b(transform|all)(,|$)/.test(r[$t+"Property"]);return{type:d,timeout:f,propCount:v,hasTransform:b}}function jl(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>Ll(r)+Ll(e[n])))}function Ll(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Nl(){return document.body.offsetHeight}const Dl=new WeakMap,Fl=new WeakMap,Qi={name:"TransitionGroup",props:Ze({},wh,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=zi(),n=Ha();let o,i;return Ka(()=>{if(!o.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!Ch(o[0].el,r.vnode.el,a))return;o.forEach(xh),o.forEach(Ah);const s=o.filter(Eh);Nl(),s.forEach(c=>{const l=c.el,d=l.style;qt(l,a),d.transform=d.webkitTransform=d.transitionDuration="";const f=l._moveCb=v=>{v&&v.target!==l||(!v||/transform$/.test(v.propertyName))&&(l.removeEventListener("transitionend",f),l._moveCb=null,er(l,a))};l.addEventListener("transitionend",f)})}),()=>{const a=Le(e),s=Rl(a);let c=a.tag||Me;o=i,i=t.default?Oi(t.default()):[];for(let l=0;l<i.length;l++){const d=i[l];d.key!=null&&on(d,nn(d,s,n,r))}if(o)for(let l=0;l<o.length;l++){const d=o[l];on(d,nn(d,s,n,r)),Dl.set(d,d.el.getBoundingClientRect())}return ae(c,null,i)}}};function xh(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Ah(e){Fl.set(e,e.el.getBoundingClientRect())}function Eh(e){const t=Dl.get(e),r=Fl.get(e),n=t.left-r.left,o=t.top-r.top;if(n||o){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${o}px)`,i.transitionDuration="0s",e}}function Ch(e,t,r){const n=e.cloneNode();e._vtc&&e._vtc.forEach(a=>{a.split(/\s+/).forEach(s=>s&&n.classList.remove(s))}),r.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(n);const{hasTransform:i}=Il(n);return o.removeChild(n),i}const Sh=["ctrl","shift","alt","meta"],Oh={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Sh.some(r=>e[`${r}Key`]&&!t.includes(r))},It=(e,t)=>(r,...n)=>{for(let o=0;o<t.length;o++){const i=Oh[t[o]];if(i&&i(r,t))return}return e(r,...n)},Th={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},yr=(e,t)=>r=>{if(!("key"in r))return;const n=Ot(r.key);if(t.some(o=>o===n||Th[o]===n))return e(r)},bo={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):dn(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),dn(e,!0),n.enter(e)):n.leave(e,()=>{dn(e,!1)}):dn(e,t))},beforeUnmount(e,{value:t}){dn(e,t)}};function dn(e,t){e.style.display=t?e._vod:"none"}const Rh=Ze({patchProp:gh},$f);let Bl;function Ph(){return Bl||(Bl=Nf(Rh))}const Ul=(...e)=>{Ph().render(...e)};var ze=(e,t)=>{const r=e.__vccOpts||e;for(const[n,o]of t)r[n]=o;return r};const Mh={name:"AppLoader",props:{show:{type:Boolean,default:!1},infinite:{type:Boolean,default:!1},type:{type:String,required:!0},messageId:{type:String,default:""}}},Ih=J("div",{id:"vac-circle"},null,-1),jh=J("div",{id:"vac-circle"},null,-1),Lh=J("div",{id:"vac-circle"},null,-1),Nh=J("div",{id:"vac-circle"},null,-1),Dh=J("div",{id:"vac-circle"},null,-1),Fh=J("div",{id:"vac-circle"},null,-1);function Bh(e,t,r,n,o,i){return N(),je(Xe,{name:"vac-fade-spinner",appear:""},{default:be(()=>[r.show?(N(),V("div",{key:0,class:Ee(["vac-loader-wrapper",{"vac-container-center":!r.infinite,"vac-container-top":r.infinite}])},[r.type==="rooms"?se(e.$slots,"spinner-icon-rooms",{key:0},()=>[Ih]):oe("",!0),r.type==="infinite-rooms"?se(e.$slots,"spinner-icon-infinite-rooms",{key:1},()=>[jh]):oe("",!0),r.type==="message-file"?se(e.$slots,"spinner-icon-message-file_"+r.messageId,{key:2},()=>[Lh]):oe("",!0),r.type==="room-file"?se(e.$slots,"spinner-icon-room-file",{key:3},()=>[Nh]):oe("",!0),r.type==="messages"?se(e.$slots,"spinner-icon-messages",{key:4},()=>[Dh]):oe("",!0),r.type==="infinite-messages"?se(e.$slots,"spinner-icon-infinite-messages",{key:5},()=>[Fh]):oe("",!0)],2)):oe("",!0)]),_:3})}var wo=ze(Mh,[["render",Bh]]);const Uh={name:"SvgIcon",props:{name:{type:String,default:null},param:{type:String,default:null}},data(){return{svgItem:{search:{path:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},add:{path:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},toggle:{path:"M5,13L9,17L7.6,18.42L1.18,12L7.6,5.58L9,7L5,11H21V13H5M21,6V8H11V6H21M21,16V18H11V16H21Z"},menu:{path:"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"},close:{path:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"},file:{path:"M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},paperclip:{path:"M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z"},"close-outline":{path:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"},send:{path:"M2,21L23,12L2,3V10L17,12L2,14V21Z"},emoji:{path:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"},document:{path:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"},pencil:{path:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"},checkmark:{path:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},"double-checkmark":{path:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"},eye:{path:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},dropdown:{path:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"},deleted:{path:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z"},microphone:{size:"large",path:"M432.8,216.4v39.2c0,45.2-15.3,84.3-45.2,118.4c-29.8,33.2-67.3,52.8-111.6,57.9v40.9h78.4c5.1,0,10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6c0,5.1-1.7,10.2-6,13.6c-4.3,4.3-8.5,6-13.6,6H157.6c-5.1,0-10.2-1.7-13.6-6c-4.3-4.3-6-8.5-6-13.6c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6H236v-40.9c-44.3-5.1-81.8-23.9-111.6-57.9s-45.2-73.3-45.2-118.4v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6s10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6v39.2c0,37.5,13.6,70.7,40,97.1s59.6,40,97.1,40s70.7-13.6,97.1-40c26.4-26.4,40-59.6,40-97.1v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6c5.1,0,10.2,1.7,13.6,6C430.2,206.2,432.8,211.3,432.8,216.4z M353.5,98v157.6c0,27.3-9.4,50.3-29,69c-19.6,19.6-42.6,29-69,29s-50.3-9.4-69-29c-19.6-19.6-29-42.6-29-69V98c0-27.3,9.4-50.3,29-69c19.6-19.6,42.6-29,69-29s50.3,9.4,69,29C344.2,47.7,353.5,71.6,353.5,98z"},"audio-play":{size:"medium",path:"M43.331,21.237L7.233,0.397c-0.917-0.529-2.044-0.529-2.96,0c-0.916,0.528-1.48,1.505-1.48,2.563v41.684   c0,1.058,0.564,2.035,1.48,2.563c0.458,0.268,0.969,0.397,1.48,0.397c0.511,0,1.022-0.133,1.48-0.397l36.098-20.84   c0.918-0.529,1.479-1.506,1.479-2.564S44.247,21.767,43.331,21.237z"},"audio-pause":{size:"medium",path:"M17.991,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C4.729,2.969,7.698,0,11.36,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z",path2:"M42.877,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C29.616,2.969,32.585,0,36.246,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z"}}}},computed:{svgId(){const e=this.param?"-"+this.param:"";return`vac-icon-${this.name}${e}`},size(){const e=this.svgItem[this.name];return e.size==="large"?512:e.size==="medium"?48:24}}},Hh=["viewBox"],zh=["id","d"],qh=["id","d"];function Wh(e,t,r,n,o,i){return N(),V("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"24",height:"24",viewBox:`0 0 ${i.size} ${i.size}`},[J("path",{id:i.svgId,d:o.svgItem[r.name].path},null,8,zh),o.svgItem[r.name].path2?(N(),V("path",{key:0,id:i.svgId,d:o.svgItem[r.name].path2},null,8,qh)):oe("",!0)],8,Hh)}var nt=ze(Uh,[["render",Wh]]);const Vh={name:"RoomsSearch",components:{SvgIcon:nt},props:{textMessages:{type:Object,required:!0},showSearch:{type:Boolean,required:!0},showAddRoom:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0}},emits:["search-room","add-room"],computed:{showSearchBar(){return this.showSearch||this.showAddRoom}}},Kh={key:0,class:"vac-icon-search"},Gh=["placeholder"];function Yh(e,t,r,n,o,i){const a=ve("svg-icon");return N(),V("div",{class:Ee({"vac-box-search":i.showSearchBar,"vac-box-empty":!i.showSearchBar})},[r.showSearch?(N(),V(Me,{key:0},[!r.loadingRooms&&r.rooms.length?(N(),V("div",Kh,[se(e.$slots,"search-icon",{},()=>[ae(a,{name:"search"})])])):oe("",!0),!r.loadingRooms&&r.rooms.length?(N(),V("input",{key:1,type:"search",placeholder:r.textMessages.SEARCH,autocomplete:"off",class:"vac-input",onInput:t[0]||(t[0]=s=>e.$emit("search-room",s))},null,40,Gh)):oe("",!0)],64)):oe("",!0),r.showAddRoom?(N(),V("div",{key:1,class:"vac-svg-button vac-add-icon",onClick:t[1]||(t[1]=s=>e.$emit("add-room"))},[se(e.$slots,"add-icon",{},()=>[ae(a,{name:"add"})])])):oe("",!0)],2)}var Xh=ze(Vh,[["render",Yh]]);function Hl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ot={},Fr={};Fr.__esModule=!0,Fr.inherits=Qh;function Qh(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=Object.create(e.prototype);for(var o in r)n[o]=r[o];return n.constructor=t,t.prototype=n,t}var fn={};fn.__esModule=!0;var Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt={defaultProtocol:"http",events:null,format:ql,formatHref:ql,nl2br:!1,tagName:"a",target:$h,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};fn.defaults=gt,fn.Options=zl,fn.contains=Jh;function zl(e){e=e||{},this.defaultProtocol=e.hasOwnProperty("defaultProtocol")?e.defaultProtocol:gt.defaultProtocol,this.events=e.hasOwnProperty("events")?e.events:gt.events,this.format=e.hasOwnProperty("format")?e.format:gt.format,this.formatHref=e.hasOwnProperty("formatHref")?e.formatHref:gt.formatHref,this.nl2br=e.hasOwnProperty("nl2br")?e.nl2br:gt.nl2br,this.tagName=e.hasOwnProperty("tagName")?e.tagName:gt.tagName,this.target=e.hasOwnProperty("target")?e.target:gt.target,this.validate=e.hasOwnProperty("validate")?e.validate:gt.validate,this.ignoreTags=[],this.attributes=e.attributes||e.linkAttributes||gt.attributes,this.className=e.hasOwnProperty("className")?e.className:e.linkClass||gt.className;for(var t=e.hasOwnProperty("ignoreTags")?e.ignoreTags:gt.ignoreTags,r=0;r<t.length;r++)this.ignoreTags.push(t[r].toUpperCase())}zl.prototype={resolve:function(t){var r=t.toHref(this.defaultProtocol);return{formatted:this.get("format",t.toString(),t),formattedHref:this.get("formatHref",r,t),tagName:this.get("tagName",r,t),className:this.get("className",r,t),target:this.get("target",r,t),events:this.getObject("events",r,t),attributes:this.getObject("attributes",r,t)}},check:function(t){return this.get("validate",t.toString(),t)},get:function(t,r,n){var o=void 0,i=this[t];if(!i)return i;switch(typeof i=="undefined"?"undefined":Zh(i)){case"function":return i(r,n.type);case"object":return o=i.hasOwnProperty(n.type)?i[n.type]:gt[t],typeof o=="function"?o(r,n.type):o}return i},getObject:function(t,r,n){var o=this[t];return typeof o=="function"?o(r,n.type):o}};function Jh(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1}function ql(e){return e}function $h(e,t){return t==="url"?"_blank":null}var jt={},Wt={};Wt.__esModule=!0,Wt.stateify=Wt.TokenState=Wt.CharacterState=void 0;var Wl=Fr;function Zi(){return function(e){this.j=[],this.T=e||null}}var Ji=Zi();Ji.prototype={defaultTransition:!1,on:function(t,r){if(t instanceof Array){for(var n=0;n<t.length;n++)this.j.push([t[n],r]);return this}return this.j.push([t,r]),this},next:function(t){for(var r=0;r<this.j.length;r++){var n=this.j[r],o=n[0],i=n[1];if(this.test(t,o))return i}return this.defaultTransition},accepts:function(){return!!this.T},test:function(t,r){return t===r},emit:function(){return this.T}};var $i=(0,Wl.inherits)(Ji,Zi(),{test:function(t,r){return t===r||r instanceof RegExp&&r.test(t)}}),em=(0,Wl.inherits)(Ji,Zi(),{jump:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.next(new t(""));return n===this.defaultTransition?(n=new this.constructor(r),this.on(t,n)):r&&(n.T=r),n},test:function(t,r){return t instanceof r}});function tm(e,t,r,n){for(var o=0,i=e.length,a=t,s=[],c=void 0;o<i&&(c=a.next(e[o]));)a=c,o++;if(o>=i)return[];for(;o<i-1;)c=new $i(n),s.push(c),a.on(e[o],c),a=c,o++;return c=new $i(r),s.push(c),a.on(e[i-1],c),s}Wt.CharacterState=$i,Wt.TokenState=em,Wt.stateify=tm;var me={},ko={};ko.__esModule=!0;function rm(){return function(e){e&&(this.v=e)}}ko.createTokenClass=rm,me.__esModule=!0,me.AMPERSAND=me.CLOSEPAREN=me.CLOSEANGLEBRACKET=me.CLOSEBRACKET=me.CLOSEBRACE=me.OPENPAREN=me.OPENANGLEBRACKET=me.OPENBRACKET=me.OPENBRACE=me.WS=me.TLD=me.SYM=me.UNDERSCORE=me.SLASH=me.MAILTO=me.PROTOCOL=me.QUERY=me.POUND=me.PLUS=me.NUM=me.NL=me.LOCALHOST=me.PUNCTUATION=me.DOT=me.COLON=me.AT=me.DOMAIN=me.Base=void 0;var Vl=ko,nm=Fr,es=(0,Vl.createTokenClass)();es.prototype={toString:function(){return this.v+""}};function qe(e){var t=e?{v:e}:{};return(0,nm.inherits)(es,(0,Vl.createTokenClass)(),t)}var om=qe(),im=qe("@"),sm=qe(":"),am=qe("."),lm=qe(),cm=qe(),um=qe(`
`),dm=qe(),fm=qe("+"),hm=qe("#"),mm=qe(),gm=qe("mailto:"),pm=qe("?"),vm=qe("/"),ym=qe("_"),bm=qe(),wm=qe(),km=qe(),_m=qe("{"),xm=qe("["),Am=qe("<"),Em=qe("("),Cm=qe("}"),Sm=qe("]"),Om=qe(">"),Tm=qe(")"),Rm=qe("&");me.Base=es,me.DOMAIN=om,me.AT=im,me.COLON=sm,me.DOT=am,me.PUNCTUATION=lm,me.LOCALHOST=cm,me.NL=um,me.NUM=dm,me.PLUS=fm,me.POUND=hm,me.QUERY=pm,me.PROTOCOL=mm,me.MAILTO=gm,me.SLASH=vm,me.UNDERSCORE=ym,me.SYM=bm,me.TLD=wm,me.WS=km,me.OPENBRACE=_m,me.OPENBRACKET=xm,me.OPENANGLEBRACKET=Am,me.OPENPAREN=Em,me.CLOSEBRACE=Cm,me.CLOSEBRACKET=Sm,me.CLOSEANGLEBRACKET=Om,me.CLOSEPAREN=Tm,me.AMPERSAND=Rm,jt.__esModule=!0,jt.start=jt.run=jt.TOKENS=jt.State=void 0;var tr=Wt,Se=me,Pm=Mm(Se);function Mm(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var Kl="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),ts="0123456789".split(""),_o="0123456789abcdefghijklmnopqrstuvwxyz".split(""),Gl=[" ","\f","\r","	","\v","\xA0","\u1680","\u180E"],lt=[],Be=function(t){return new tr.CharacterState(t)},wt=Be(),rs=Be(Se.NUM),Br=Be(Se.DOMAIN),hn=Be(),ns=Be(Se.WS);wt.on("@",Be(Se.AT)).on(".",Be(Se.DOT)).on("+",Be(Se.PLUS)).on("#",Be(Se.POUND)).on("?",Be(Se.QUERY)).on("/",Be(Se.SLASH)).on("_",Be(Se.UNDERSCORE)).on(":",Be(Se.COLON)).on("{",Be(Se.OPENBRACE)).on("[",Be(Se.OPENBRACKET)).on("<",Be(Se.OPENANGLEBRACKET)).on("(",Be(Se.OPENPAREN)).on("}",Be(Se.CLOSEBRACE)).on("]",Be(Se.CLOSEBRACKET)).on(">",Be(Se.CLOSEANGLEBRACKET)).on(")",Be(Se.CLOSEPAREN)).on("&",Be(Se.AMPERSAND)).on([",",";","!",'"',"'"],Be(Se.PUNCTUATION)),wt.on(`
`,Be(Se.NL)).on(Gl,ns),ns.on(Gl,ns);for(var os=0;os<Kl.length;os++){var Im=(0,tr.stateify)(Kl[os],wt,Se.TLD,Se.DOMAIN);lt.push.apply(lt,Im)}var Yl=(0,tr.stateify)("file",wt,Se.DOMAIN,Se.DOMAIN),Xl=(0,tr.stateify)("ftp",wt,Se.DOMAIN,Se.DOMAIN),Ql=(0,tr.stateify)("http",wt,Se.DOMAIN,Se.DOMAIN),Zl=(0,tr.stateify)("mailto",wt,Se.DOMAIN,Se.DOMAIN);lt.push.apply(lt,Yl),lt.push.apply(lt,Xl),lt.push.apply(lt,Ql),lt.push.apply(lt,Zl);var jm=Yl.pop(),Lm=Xl.pop(),Nm=Ql.pop(),Dm=Zl.pop(),xo=Be(Se.DOMAIN),Ao=Be(Se.PROTOCOL),Fm=Be(Se.MAILTO);Lm.on("s",xo).on(":",Ao),Nm.on("s",xo).on(":",Ao),lt.push(xo),jm.on(":",Ao),xo.on(":",Ao),Dm.on(":",Fm);var Bm=(0,tr.stateify)("localhost",wt,Se.LOCALHOST,Se.DOMAIN);lt.push.apply(lt,Bm),wt.on(ts,rs),rs.on("-",hn).on(ts,rs).on(_o,Br),Br.on("-",hn).on(_o,Br);for(var is=0;is<lt.length;is++)lt[is].on("-",hn).on(_o,Br);hn.on("-",hn).on(ts,Br).on(_o,Br),wt.defaultTransition=Be(Se.SYM);var Um=function(t){for(var r=t.replace(/[A-Z]/g,function(v){return v.toLowerCase()}),n=t.length,o=[],i=0;i<n;){for(var a=wt,s=null,c=0,l=null,d=-1;i<n&&(s=a.next(r[i]));)a=s,a.accepts()?(d=0,l=a):d>=0&&d++,c++,i++;if(!(d<0)){i-=d,c-=d;var f=l.emit();o.push(new f(t.substr(i-c,c)))}}return o},Hm=wt;jt.State=tr.CharacterState,jt.TOKENS=Pm,jt.run=Um,jt.start=Hm;var Lt={},dt={};dt.__esModule=!0,dt.URL=dt.TEXT=dt.NL=dt.EMAIL=dt.MAILTOEMAIL=dt.Base=void 0;var Ur=ko,mn=Fr,gn=me;function zm(e){return e instanceof gn.DOMAIN||e instanceof gn.TLD}var br=(0,Ur.createTokenClass)();br.prototype={type:"token",isLink:!1,toString:function(){for(var t=[],r=0;r<this.v.length;r++)t.push(this.v[r].toString());return t.join("")},toHref:function(){return this.toString()},toObject:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(t)}}};var qm=(0,mn.inherits)(br,(0,Ur.createTokenClass)(),{type:"email",isLink:!0}),Wm=(0,mn.inherits)(br,(0,Ur.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),Vm=(0,mn.inherits)(br,(0,Ur.createTokenClass)(),{type:"text"}),Km=(0,mn.inherits)(br,(0,Ur.createTokenClass)(),{type:"nl"}),Gm=(0,mn.inherits)(br,(0,Ur.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",r=!1,n=!1,o=this.v,i=[],a=0;o[a]instanceof gn.PROTOCOL;)r=!0,i.push(o[a].toString().toLowerCase()),a++;for(;o[a]instanceof gn.SLASH;)n=!0,i.push(o[a].toString()),a++;for(;zm(o[a]);)i.push(o[a].toString().toLowerCase()),a++;for(;a<o.length;a++)i.push(o[a].toString());return i=i.join(""),r||n||(i=t+"://"+i),i},hasProtocol:function(){return this.v[0]instanceof gn.PROTOCOL}});dt.Base=br,dt.MAILTOEMAIL=qm,dt.EMAIL=Wm,dt.NL=Km,dt.TEXT=Vm,dt.URL=Gm,Lt.__esModule=!0,Lt.start=Lt.run=Lt.TOKENS=Lt.State=void 0;var Jl=Wt,ft=dt,Ym=Xm(ft),te=me;function Xm(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var Te=function(t){return new Jl.TokenState(t)},Eo=Te(),$l=Te(),ec=Te(),ss=Te(),tc=Te(),rr=Te(),Co=Te(),pn=Te(ft.URL),rc=Te(),nc=Te(ft.URL),Ye=Te(ft.URL),vn=Te(),yn=Te(),bn=Te(),wn=Te(),kn=Te(),wr=Te(ft.URL),kr=Te(ft.URL),_r=Te(ft.URL),xr=Te(ft.URL),_n=Te(),xn=Te(),An=Te(),En=Te(),Hr=Te(),as=Te(),So=Te(ft.EMAIL),oc=Te(),Qm=Te(ft.EMAIL),Ar=Te(ft.MAILTOEMAIL),ls=Te(),zr=Te(),Oo=Te(),ic=Te(),Zm=Te(ft.NL);Eo.on(te.NL,Zm).on(te.PROTOCOL,$l).on(te.MAILTO,ec).on(te.SLASH,ss),$l.on(te.SLASH,ss),ss.on(te.SLASH,tc),Eo.on(te.TLD,rr).on(te.DOMAIN,rr).on(te.LOCALHOST,pn).on(te.NUM,rr),tc.on(te.TLD,Ye).on(te.DOMAIN,Ye).on(te.NUM,Ye).on(te.LOCALHOST,Ye),rr.on(te.DOT,Co),Hr.on(te.DOT,as),Co.on(te.TLD,pn).on(te.DOMAIN,rr).on(te.NUM,rr).on(te.LOCALHOST,rr),as.on(te.TLD,So).on(te.DOMAIN,Hr).on(te.NUM,Hr).on(te.LOCALHOST,Hr),pn.on(te.DOT,Co),So.on(te.DOT,as),pn.on(te.COLON,rc).on(te.SLASH,Ye),rc.on(te.NUM,nc),nc.on(te.SLASH,Ye),So.on(te.COLON,oc),oc.on(te.NUM,Qm);var it=[te.DOMAIN,te.AT,te.LOCALHOST,te.NUM,te.PLUS,te.POUND,te.PROTOCOL,te.SLASH,te.TLD,te.UNDERSCORE,te.SYM,te.AMPERSAND],st=[te.COLON,te.DOT,te.QUERY,te.PUNCTUATION,te.CLOSEBRACE,te.CLOSEBRACKET,te.CLOSEANGLEBRACKET,te.CLOSEPAREN,te.OPENBRACE,te.OPENBRACKET,te.OPENANGLEBRACKET,te.OPENPAREN];Ye.on(te.OPENBRACE,yn).on(te.OPENBRACKET,bn).on(te.OPENANGLEBRACKET,wn).on(te.OPENPAREN,kn),vn.on(te.OPENBRACE,yn).on(te.OPENBRACKET,bn).on(te.OPENANGLEBRACKET,wn).on(te.OPENPAREN,kn),yn.on(te.CLOSEBRACE,Ye),bn.on(te.CLOSEBRACKET,Ye),wn.on(te.CLOSEANGLEBRACKET,Ye),kn.on(te.CLOSEPAREN,Ye),wr.on(te.CLOSEBRACE,Ye),kr.on(te.CLOSEBRACKET,Ye),_r.on(te.CLOSEANGLEBRACKET,Ye),xr.on(te.CLOSEPAREN,Ye),_n.on(te.CLOSEBRACE,Ye),xn.on(te.CLOSEBRACKET,Ye),An.on(te.CLOSEANGLEBRACKET,Ye),En.on(te.CLOSEPAREN,Ye),yn.on(it,wr),bn.on(it,kr),wn.on(it,_r),kn.on(it,xr),yn.on(st,_n),bn.on(st,xn),wn.on(st,An),kn.on(st,En),wr.on(it,wr),kr.on(it,kr),_r.on(it,_r),xr.on(it,xr),wr.on(st,wr),kr.on(st,kr),_r.on(st,_r),xr.on(st,xr),_n.on(it,wr),xn.on(it,kr),An.on(it,_r),En.on(it,xr),_n.on(st,_n),xn.on(st,xn),An.on(st,An),En.on(st,En),Ye.on(it,Ye),vn.on(it,Ye),Ye.on(st,vn),vn.on(st,vn),ec.on(te.TLD,Ar).on(te.DOMAIN,Ar).on(te.NUM,Ar).on(te.LOCALHOST,Ar),Ar.on(it,Ar).on(st,ls),ls.on(it,Ar).on(st,ls);var Cn=[te.DOMAIN,te.NUM,te.PLUS,te.POUND,te.QUERY,te.UNDERSCORE,te.SYM,te.AMPERSAND,te.TLD];rr.on(Cn,zr).on(te.AT,Oo),pn.on(Cn,zr).on(te.AT,Oo),Co.on(Cn,zr),zr.on(Cn,zr).on(te.AT,Oo).on(te.DOT,ic),ic.on(Cn,zr),Oo.on(te.TLD,Hr).on(te.DOMAIN,Hr).on(te.LOCALHOST,So);var Jm=function(t){for(var r=t.length,n=0,o=[],i=[];n<r;){for(var a=Eo,s=null,c=null,l=0,d=null,f=-1;n<r&&!(s=a.next(t[n]));)i.push(t[n++]);for(;n<r&&(c=s||a.next(t[n]));)s=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,n++,l++;if(f<0)for(var v=n-l;v<n;v++)i.push(t[v]);else{i.length>0&&(o.push(new ft.TEXT(i)),i=[]),n-=f,l-=f;var b=d.emit();o.push(new b(t.slice(n-l,n)))}}return i.length>0&&o.push(new ft.TEXT(i)),o};Lt.State=Jl.TokenState,Lt.TOKENS=Ym,Lt.run=Jm,Lt.start=Eo,ot.__esModule=!0,ot.tokenize=ot.test=ot.scanner=ot.parser=ot.options=ot.inherits=ot.find=void 0;var $m=Fr,eg=fn,tg=cs(eg),rg=jt,sc=cs(rg),ng=Lt,ac=cs(ng);function cs(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"});var us=function(t){return ac.run(sc.run(t))},og=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=us(t),o=[],i=0;i<n.length;i++){var a=n[i];a.isLink&&(!r||a.type===r)&&o.push(a.toObject())}return o},ig=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=us(t);return n.length===1&&n[0].isLink&&(!r||n[0].type===r)};ot.find=og,ot.inherits=$m.inherits,ot.options=tg,ot.parser=ac,ot.scanner=sc,ot.test=ig,ot.tokenize=us;var lc=ot,sg=(e,t,r)=>{const n={bold:r.bold,italic:r.italic,strike:r.strike,underline:r.underline,multilineCode:r.multilineCode,inlineCode:r.inlineCode},o={[n.bold]:{end:"\\"+n.bold,allowed_chars:".",type:"bold"},[n.italic]:{end:n.italic,allowed_chars:".",type:"italic"},[n.strike]:{end:n.strike,allowed_chars:".",type:"strike"},[n.underline]:{end:n.underline,allowed_chars:".",type:"underline"},[n.multilineCode]:{end:n.multilineCode,allowed_chars:`(.|
)`,type:"multiline-code"},[n.inlineCode]:{end:n.inlineCode,allowed_chars:".",type:"inline-code"},"<usertag>":{allowed_chars:".",end:"</usertag>",type:"tag"}},i=To(e,o),a=ag(i,o),s=[].concat.apply([],a);return t&&cg(s),s};function To(e,t){let r=[],n=-1,o=null,i=lc.find(e),a=!1;if(i.length>0&&(n=e.indexOf(i[0].value),a=!0),Object.keys(t).forEach(s=>{const c=e.indexOf(s);c>=0&&(n<0||c<n)&&(n=c,o=s,a=!1)}),a&&o!==-1){let s=e.substr(0,n),c=e.substr(n,i[0].value.length),l=e.substr(n+i[0].value.length);return r.push(s),r.push(c),r=r.concat(To(l,t)),r}if(o){let s=e.substr(0,n);const c=o;let l=e.substr(n+c.length);if(e.replace(/\s/g,"").length===c.length*2)return[e];const d=l.match(new RegExp("^("+(t[c].allowed_chars||".")+"*"+(t[c].end?"?":"")+")"+(t[c].end?"("+t[c].end+")":""),"m"));if(!d||!d[1])s=s+c,r.push(s);else{s&&r.push(s);const f={start:c,content:To(d[1],t),end:d[2],type:t[c].type};r.push(f),l=l.substr(d[0].length)}return r=r.concat(To(l,t)),r}else return e?[e]:[]}function ag(e,t){const r=[];return e.forEach(n=>{typeof n=="string"?r.push({types:[],value:n}):t[n.start]&&r.push(lg(n))}),r}function lg(e){const t=[];return cc(e,t,[]),t}function cc(e,t,r){e.content.forEach(n=>{typeof n=="string"?t.push({types:uc(r.concat([e.type])),value:n}):cc(n,t,uc([n.type].concat([e.type]).concat(r)))})}function uc(e){return[...new Set(e)]}function cg(e){const t=[];return e.forEach(r=>{const n=lc.find(r.value);if(n.length){const o=r.value.replace(n[0].value,"");t.push({types:r.types,value:o}),r.types=["url"].concat(r.types),r.href=n[0].href,r.value=n[0].value}t.push(r)}),t}const ds=["png","jpg","jpeg","webp","svg","gif"],dc=["mp4","video/ogg","webm","quicktime"],ug=["mp3","audio/ogg","wav","mpeg"],dg={name:"FormatMessage",components:{SvgIcon:nt},props:{messageId:{type:String,default:""},roomId:{type:String,default:""},roomList:{type:Boolean,default:!1},content:{type:[String,Number],required:!0},deleted:{type:Boolean,default:!1},users:{type:Array,default:()=>[]},linkify:{type:Boolean,default:!0},singleLine:{type:Boolean,default:!1},reply:{type:Boolean,default:!1},textFormatting:{type:Object,required:!0},textMessages:{type:Object,default:()=>{}},linkOptions:{type:Object,required:!0}},emits:["open-user-tag"],computed:{linkifiedMessage(){if(this.deleted)return[{value:this.textMessages.MESSAGE_DELETED}];const e=sg(this.formatTags(this.content),this.linkify&&!this.linkOptions.disabled,this.textFormatting);return e.forEach(t=>{t.url=this.checkType(t,"url"),t.bold=this.checkType(t,"bold"),t.italic=this.checkType(t,"italic"),t.strike=this.checkType(t,"strike"),t.underline=this.checkType(t,"underline"),t.inline=this.checkType(t,"inline-code"),t.multiline=this.checkType(t,"multiline-code"),t.tag=this.checkType(t,"tag"),t.image=this.checkImageType(t),t.value=this.replaceEmojiByElement(t.value)}),e},formattedContent(){return this.deleted?this.textMessages.MESSAGE_DELETED:this.formatTags(this.content)}},methods:{checkType(e,t){return e.types&&e.types.indexOf(t)!==-1},checkImageType(e){let t=e.value.lastIndexOf(".");e.value.lastIndexOf("/")>t&&(t=-1);const n=e.value.substring(t+1,e.value.length),o=t>0&&ds.some(i=>n.toLowerCase().includes(i));return o&&this.setImageSize(e),o},setImageSize(e){const t=new Image;t.src=e.value,t.addEventListener("load",r);function r(n){const o=n.path[0].width/150;e.height=Math.round(n.path[0].height/o)+"px",t.removeEventListener("load",r)}},formatTags(e){const t="<usertag>",r="</usertag>",n=[...e.matchAll(new RegExp(t,"gi"))].map(i=>i.index),o=e;return n.forEach(i=>{const a=o.substring(i+t.length,o.indexOf(r,i)),s=this.users.find(c=>c._id===a);e=e.replaceAll(a,`@${(s==null?void 0:s.username)||"unknown"}`)}),e},openTag(e){if(!this.singleLine&&this.checkType(e,"tag")){const t=this.users.find(r=>e.value.indexOf(r.username)!==-1);this.$emit("open-user-tag",t)}},replaceEmojiByElement(e){let t;return this.singleLine?t=16:t=this.containsOnlyEmojis()?28:20,e.replaceAll(/[\p{Extended_Pictographic}\u{1F3FB}-\u{1F3FF}\u{1F9B0}-\u{1F9B3}]/gu,r=>`<span style="font-size: ${t}px">${r}</span>`)},containsOnlyEmojis(){const e=this.content.replace(new RegExp("[\0-\u1EEFf]","g"),""),t=this.content.replace(new RegExp(`[
\rs]+|( )+`,"g"),"");return e.length===t.length}}},fg={class:"vac-image-link-container"},hg={class:"vac-image-link-message"},mg=["innerHTML"],gg=["innerHTML"];function pg(e,t,r,n,o,i){const a=ve("svg-icon");return N(),V("div",{class:Ee(["vac-format-message-wrapper",{"vac-text-ellipsis":r.singleLine}])},[r.textFormatting.disabled?(N(),V("div",{key:1,innerHTML:i.formattedContent},null,8,gg)):(N(),V("div",{key:0,class:Ee({"vac-text-ellipsis":r.singleLine})},[(N(!0),V(Me,null,Ae(i.linkifiedMessage,(s,c)=>(N(),V("div",{key:c,class:"vac-format-container"},[(N(),je(_f(s.url?"a":"span"),{class:Ee({"vac-text-ellipsis":r.singleLine,"vac-text-bold":s.bold,"vac-text-italic":r.deleted||s.italic,"vac-text-strike":s.strike,"vac-text-underline":s.underline,"vac-text-inline-code":!r.singleLine&&s.inline,"vac-text-multiline-code":!r.singleLine&&s.multiline,"vac-text-tag":!r.singleLine&&!r.reply&&s.tag}),href:s.href,target:s.href?r.linkOptions.target:null,rel:s.href?r.linkOptions.rel:null,onClick:l=>i.openTag(s)},{default:be(()=>[r.deleted?(N(),V(Me,{key:0},[se(e.$slots,r.roomList?"deleted-icon-room_"+r.roomId:"deleted-icon_"+r.messageId,{},()=>[ae(a,{name:"deleted",class:Ee(["vac-icon-deleted",{"vac-icon-deleted-room":r.roomList}])},null,8,["class"])]),Rt(" "+_e(r.textMessages.MESSAGE_DELETED),1)],64)):s.url&&s.image?(N(),V(Me,{key:1},[J("div",fg,[J("div",{class:"vac-image-link",style:Ve({"background-image":`url('${s.value}')`,height:s.height})},null,4)]),J("div",hg,[J("span",null,_e(s.value),1)])],64)):(N(),V("span",{key:2,innerHTML:s.value},null,8,mg))]),_:2},1032,["class","href","target","rel","onClick"]))]))),128))],2))],2)}var Sn=ze(dg,[["render",pg]]);const Er="__v-click-outside",fc=typeof window!="undefined",vg=typeof navigator!="undefined",yg=fc&&("ontouchstart"in window||vg&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],bg=e=>{const t=typeof e=="function";if(!t&&typeof e!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:t?e:e.handler,middleware:e.middleware||(r=>r),events:e.events||yg,isActive:e.isActive!==!1,detectIframe:e.detectIframe!==!1,capture:Boolean(e.capture)}},hc=({event:e,handler:t,middleware:r})=>{r(e)&&t(e)},wg=({el:e,event:t,handler:r,middleware:n})=>{setTimeout(()=>{const{activeElement:o}=document;o&&o.tagName==="IFRAME"&&!e.contains(o)&&hc({event:t,handler:r,middleware:n})},0)},kg=({el:e,event:t,handler:r,middleware:n})=>{const o=t.path||t.composedPath&&t.composedPath();(o?o.indexOf(e)<0:!e.contains(t.target))&&hc({event:t,handler:r,middleware:n})},mc=(e,{value:t})=>{const{events:r,handler:n,middleware:o,isActive:i,detectIframe:a,capture:s}=bg(t);if(!!i){if(e[Er]=r.map(c=>({event:c,srcTarget:document.documentElement,handler:l=>kg({el:e,event:l,handler:n,middleware:o}),capture:s})),a){const c={event:"blur",srcTarget:window,handler:l=>wg({el:e,event:l,handler:n,middleware:o}),capture:s};e[Er]=[...e[Er],c]}e[Er].forEach(({event:c,srcTarget:l,handler:d})=>setTimeout(()=>{!e[Er]||l.addEventListener(c,d,s)},0))}},gc=e=>{(e[Er]||[]).forEach(({event:r,srcTarget:n,handler:o,capture:i})=>n.removeEventListener(r,o,i)),delete e[Er]};var Ro=fc?{beforeMount:mc,updated:(e,{value:t,oldValue:r})=>{JSON.stringify(t)!==JSON.stringify(r)&&(gc(e),mc(e,{value:t}))},unmounted:gc}:{},pc=(e,t,r)=>{if(e.typingUsers&&e.typingUsers.length){const n=e.users.filter(o=>{if(o._id!==t&&e.typingUsers.indexOf(o._id)!==-1&&!(o.status&&o.status.state==="offline"))return!0});return n.length?e.users.length===2?r.IS_TYPING:n.map(o=>o.username).join(", ")+" "+r.IS_TYPING:void 0}};function On(e,t){if(!(!t||!t.type))return e.some(r=>t.type.toLowerCase().includes(r))}function qr(e){return On(ds,e)}function Tn(e){var t;return!((t=e.type)!=null&&t.toLowerCase().startsWith("audio/"))&&On(dc,e)}function vc(e){return On(ds,e)||On(dc,e)}function Po(e){var t;return((t=e==null?void 0:e.type)==null?void 0:t.toLowerCase().startsWith("audio/"))||On(ug,e)}const Rn=/^[a-z0-9]+(-[a-z0-9]+)*$/,Mo=(e,t,r,n="")=>{const o=e.split(":");if(e.slice(0,1)==="@"){if(o.length<2||o.length>3)return null;n=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){const s=o.pop(),c=o.pop(),l={provider:o.length>0?o[0]:n,prefix:c,name:s};return t&&!Io(l)?null:l}const i=o[0],a=i.split("-");if(a.length>1){const s={provider:n,prefix:a.shift(),name:a.join("-")};return t&&!Io(s)?null:s}if(r&&n===""){const s={provider:n,prefix:"",name:i};return t&&!Io(s,r)?null:s}return null},Io=(e,t)=>e?!!((e.provider===""||e.provider.match(Rn))&&(t&&e.prefix===""||e.prefix.match(Rn))&&e.name.match(Rn)):!1,yc=Object.freeze({left:0,top:0,width:16,height:16}),jo=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Lo=Object.freeze({...yc,...jo}),fs=Object.freeze({...Lo,body:"",hidden:!1});function _g(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}function bc(e,t){const r=_g(e,t);for(const n in fs)n in jo?n in e&&!(n in r)&&(r[n]=jo[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function xg(e,t){const r=e.icons,n=e.aliases||Object.create(null),o=Object.create(null);function i(a){if(r[a])return o[a]=[];if(!(a in o)){o[a]=null;const s=n[a]&&n[a].parent,c=s&&i(s);c&&(o[a]=[s].concat(c))}return o[a]}return(t||Object.keys(r).concat(Object.keys(n))).forEach(i),o}function Ag(e,t,r){const n=e.icons,o=e.aliases||Object.create(null);let i={};function a(s){i=bc(n[s]||o[s],i)}return a(t),r.forEach(a),bc(e,i)}function wc(e,t){const r=[];if(typeof e!="object"||typeof e.icons!="object")return r;e.not_found instanceof Array&&e.not_found.forEach(o=>{t(o,null),r.push(o)});const n=xg(e);for(const o in n){const i=n[o];i&&(t(o,Ag(e,o,i)),r.push(o))}return r}const Eg={provider:"",aliases:{},not_found:{},...yc};function hs(e,t){for(const r in t)if(r in e&&typeof e[r]!=typeof t[r])return!1;return!0}function kc(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!hs(e,Eg))return null;const r=t.icons;for(const o in r){const i=r[o];if(!o.match(Rn)||typeof i.body!="string"||!hs(i,fs))return null}const n=t.aliases||Object.create(null);for(const o in n){const i=n[o],a=i.parent;if(!o.match(Rn)||typeof a!="string"||!r[a]&&!n[a]||!hs(i,fs))return null}return t}const _c=Object.create(null);function Cg(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function Cr(e,t){const r=_c[e]||(_c[e]=Object.create(null));return r[t]||(r[t]=Cg(e,t))}function ms(e,t){return kc(t)?wc(t,(r,n)=>{n?e.icons[r]=n:e.missing.add(r)}):[]}function Sg(e,t,r){try{if(typeof r.body=="string")return e.icons[t]={...r},!0}catch{}return!1}let Pn=!1;function xc(e){return typeof e=="boolean"&&(Pn=e),Pn}function Og(e){const t=typeof e=="string"?Mo(e,!0,Pn):e;if(t){const r=Cr(t.provider,t.prefix),n=t.name;return r.icons[n]||(r.missing.has(n)?null:void 0)}}function Tg(e,t){const r=Mo(e,!0,Pn);if(!r)return!1;const n=Cr(r.provider,r.prefix);return Sg(n,r.name,t)}function Rg(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),Pn&&!t&&!e.prefix){let o=!1;return kc(e)&&(e.prefix="",wc(e,(i,a)=>{a&&Tg(i,a)&&(o=!0)})),o}const r=e.prefix;if(!Io({provider:t,prefix:r,name:"a"}))return!1;const n=Cr(t,r);return!!ms(n,e)}const Ac=Object.freeze({width:null,height:null}),Ec=Object.freeze({...Ac,...jo}),Pg=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Mg=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Cc(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const n=e.split(Pg);if(n===null||!n.length)return e;const o=[];let i=n.shift(),a=Mg.test(i);for(;;){if(a){const s=parseFloat(i);isNaN(s)?o.push(i):o.push(Math.ceil(s*t*r)/r)}else o.push(i);if(i=n.shift(),i===void 0)return o.join("");a=!a}}const Ig=e=>e==="unset"||e==="undefined"||e==="none";function jg(e,t){const r={...Lo,...e},n={...Ec,...t},o={left:r.left,top:r.top,width:r.width,height:r.height};let i=r.body;[r,n].forEach(C=>{const _=[],x=C.hFlip,H=C.vFlip;let W=C.rotate;x?H?W+=2:(_.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),_.push("scale(-1 1)"),o.top=o.left=0):H&&(_.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),_.push("scale(1 -1)"),o.top=o.left=0);let j;switch(W<0&&(W-=Math.floor(W/4)*4),W=W%4,W){case 1:j=o.height/2+o.top,_.unshift("rotate(90 "+j.toString()+" "+j.toString()+")");break;case 2:_.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:j=o.width/2+o.left,_.unshift("rotate(-90 "+j.toString()+" "+j.toString()+")");break}W%2===1&&(o.left!==o.top&&(j=o.left,o.left=o.top,o.top=j),o.width!==o.height&&(j=o.width,o.width=o.height,o.height=j)),_.length&&(i='<g transform="'+_.join(" ")+'">'+i+"</g>")});const a=n.width,s=n.height,c=o.width,l=o.height;let d,f;a===null?(f=s===null?"1em":s==="auto"?l:s,d=Cc(f,c/l)):(d=a==="auto"?c:a,f=s===null?Cc(d,l/c):s==="auto"?l:s);const v={},b=(C,_)=>{Ig(_)||(v[C]=_.toString())};return b("width",d),b("height",f),v.viewBox=o.left.toString()+" "+o.top.toString()+" "+c.toString()+" "+l.toString(),{attributes:v,body:i}}const Lg=/\sid="(\S+)"/g,Ng="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Dg=0;function Fg(e,t=Ng){const r=[];let n;for(;n=Lg.exec(e);)r.push(n[1]);if(!r.length)return e;const o="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(i=>{const a=typeof t=="function"?t(i):t+(Dg++).toString(),s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+s+')([")]|\\.[a-z])',"g"),"$1"+a+o+"$3")}),e=e.replace(new RegExp(o,"g"),""),e}const gs=Object.create(null);function Bg(e,t){gs[e]=t}function ps(e){return gs[e]||gs[""]}function vs(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const ys=Object.create(null),Mn=["https://api.simplesvg.com","https://api.unisvg.com"],No=[];for(;Mn.length>0;)Mn.length===1||Math.random()>.5?No.push(Mn.shift()):No.push(Mn.pop());ys[""]=vs({resources:["https://api.iconify.design"].concat(No)});function Ug(e,t){const r=vs(t);return r===null?!1:(ys[e]=r,!0)}function bs(e){return ys[e]}let Sc=(()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}})();function Hg(e,t){const r=bs(e);if(!r)return 0;let n;if(!r.maxURL)n=0;else{let o=0;r.resources.forEach(a=>{o=Math.max(o,a.length)});const i=t+".json?icons=";n=r.maxURL-o-r.path.length-i.length}return n}function zg(e){return e===404}const qg=(e,t,r)=>{const n=[],o=Hg(e,t),i="icons";let a={type:i,provider:e,prefix:t,icons:[]},s=0;return r.forEach((c,l)=>{s+=c.length+1,s>=o&&l>0&&(n.push(a),a={type:i,provider:e,prefix:t,icons:[]},s=c.length),a.icons.push(c)}),n.push(a),n};function Wg(e){if(typeof e=="string"){const t=bs(e);if(t)return t.path}return"/"}const Vg={prepare:qg,send:(e,t,r)=>{if(!Sc){r("abort",424);return}let n=Wg(t.provider);switch(t.type){case"icons":{const i=t.prefix,s=t.icons.join(","),c=new URLSearchParams({icons:s});n+=i+".json?"+c.toString();break}case"custom":{const i=t.uri;n+=i.slice(0,1)==="/"?i.slice(1):i;break}default:r("abort",400);return}let o=503;Sc(e+n).then(i=>{const a=i.status;if(a!==200){setTimeout(()=>{r(zg(a)?"abort":"next",a)});return}return o=501,i.json()}).then(i=>{if(typeof i!="object"||i===null){setTimeout(()=>{i===404?r("abort",i):r("next",o)});return}setTimeout(()=>{r("success",i)})}).catch(()=>{r("next",o)})}};function Kg(e){const t={loaded:[],missing:[],pending:[]},r=Object.create(null);e.sort((o,i)=>o.provider!==i.provider?o.provider.localeCompare(i.provider):o.prefix!==i.prefix?o.prefix.localeCompare(i.prefix):o.name.localeCompare(i.name));let n={provider:"",prefix:"",name:""};return e.forEach(o=>{if(n.name===o.name&&n.prefix===o.prefix&&n.provider===o.provider)return;n=o;const i=o.provider,a=o.prefix,s=o.name,c=r[i]||(r[i]=Object.create(null)),l=c[a]||(c[a]=Cr(i,a));let d;s in l.icons?d=t.loaded:a===""||l.missing.has(s)?d=t.missing:d=t.pending;const f={provider:i,prefix:a,name:s};d.push(f)}),t}function Oc(e,t){e.forEach(r=>{const n=r.loaderCallbacks;n&&(r.loaderCallbacks=n.filter(o=>o.id!==t))})}function Gg(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let r=!1;const n=e.provider,o=e.prefix;t.forEach(i=>{const a=i.icons,s=a.pending.length;a.pending=a.pending.filter(c=>{if(c.prefix!==o)return!0;const l=c.name;if(e.icons[l])a.loaded.push({provider:n,prefix:o,name:l});else if(e.missing.has(l))a.missing.push({provider:n,prefix:o,name:l});else return r=!0,!0;return!1}),a.pending.length!==s&&(r||Oc([e],i.id),i.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),i.abort))})}))}let Yg=0;function Xg(e,t,r){const n=Yg++,o=Oc.bind(null,r,n);if(!t.pending.length)return o;const i={id:n,icons:t,callback:e,abort:o};return r.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(i)}),o}function Qg(e,t=!0,r=!1){const n=[];return e.forEach(o=>{const i=typeof o=="string"?Mo(o,t,r):o;i&&n.push(i)}),n}var Zg={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Jg(e,t,r,n){const o=e.resources.length,i=e.random?Math.floor(Math.random()*o):e.index;let a;if(e.random){let S=e.resources.slice(0);for(a=[];S.length>1;){const R=Math.floor(Math.random()*S.length);a.push(S[R]),S=S.slice(0,R).concat(S.slice(R+1))}a=a.concat(S)}else a=e.resources.slice(i).concat(e.resources.slice(0,i));const s=Date.now();let c="pending",l=0,d,f=null,v=[],b=[];typeof n=="function"&&b.push(n);function C(){f&&(clearTimeout(f),f=null)}function _(){c==="pending"&&(c="aborted"),C(),v.forEach(S=>{S.status==="pending"&&(S.status="aborted")}),v=[]}function x(S,R){R&&(b=[]),typeof S=="function"&&b.push(S)}function H(){return{startTime:s,payload:t,status:c,queriesSent:l,queriesPending:v.length,subscribe:x,abort:_}}function W(){c="failed",b.forEach(S=>{S(void 0,d)})}function j(){v.forEach(S=>{S.status==="pending"&&(S.status="aborted")}),v=[]}function L(S,R,P){const q=R!=="success";switch(v=v.filter(U=>U!==S),c){case"pending":break;case"failed":if(q||!e.dataAfterTimeout)return;break;default:return}if(R==="abort"){d=P,W();return}if(q){d=P,v.length||(a.length?D():W());return}if(C(),j(),!e.random){const U=e.resources.indexOf(S.resource);U!==-1&&U!==e.index&&(e.index=U)}c="completed",b.forEach(U=>{U(P)})}function D(){if(c!=="pending")return;C();const S=a.shift();if(S===void 0){if(v.length){f=setTimeout(()=>{C(),c==="pending"&&(j(),W())},e.timeout);return}W();return}const R={status:"pending",resource:S,callback:(P,q)=>{L(R,P,q)}};v.push(R),l++,f=setTimeout(D,e.rotate),r(S,t,R.callback)}return setTimeout(D),H}function Tc(e){const t={...Zg,...e};let r=[];function n(){r=r.filter(s=>s().status==="pending")}function o(s,c,l){const d=Jg(t,s,c,(f,v)=>{n(),l&&l(f,v)});return r.push(d),d}function i(s){return r.find(c=>s(c))||null}return{query:o,find:i,setIndex:s=>{t.index=s},getIndex:()=>t.index,cleanup:n}}function Rc(){}const ws=Object.create(null);function $g(e){if(!ws[e]){const t=bs(e);if(!t)return;const r=Tc(t),n={config:t,redundancy:r};ws[e]=n}return ws[e]}function ep(e,t,r){let n,o;if(typeof e=="string"){const i=ps(e);if(!i)return r(void 0,424),Rc;o=i.send;const a=$g(e);a&&(n=a.redundancy)}else{const i=vs(e);if(i){n=Tc(i);const a=e.resources?e.resources[0]:"",s=ps(a);s&&(o=s.send)}}return!n||!o?(r(void 0,424),Rc):n.query(t,o,r)().abort}const Pc="iconify2",In="iconify",Mc=In+"-count",Ic=In+"-version",jc=36e5,tp=168;function ks(e,t){try{return e.getItem(t)}catch{}}function _s(e,t,r){try{return e.setItem(t,r),!0}catch{}}function Lc(e,t){try{e.removeItem(t)}catch{}}function xs(e,t){return _s(e,Mc,t.toString())}function As(e){return parseInt(ks(e,Mc))||0}const Do={local:!0,session:!0},Nc={local:new Set,session:new Set};let Es=!1;function rp(e){Es=e}let Fo=typeof window=="undefined"?{}:window;function Dc(e){const t=e+"Storage";try{if(Fo&&Fo[t]&&typeof Fo[t].length=="number")return Fo[t]}catch{}Do[e]=!1}function Fc(e,t){const r=Dc(e);if(!r)return;const n=ks(r,Ic);if(n!==Pc){if(n){const s=As(r);for(let c=0;c<s;c++)Lc(r,In+c.toString())}_s(r,Ic,Pc),xs(r,0);return}const o=Math.floor(Date.now()/jc)-tp,i=s=>{const c=In+s.toString(),l=ks(r,c);if(typeof l=="string"){try{const d=JSON.parse(l);if(typeof d=="object"&&typeof d.cached=="number"&&d.cached>o&&typeof d.provider=="string"&&typeof d.data=="object"&&typeof d.data.prefix=="string"&&t(d,s))return!0}catch{}Lc(r,c)}};let a=As(r);for(let s=a-1;s>=0;s--)i(s)||(s===a-1?(a--,xs(r,a)):Nc[e].add(s))}function Bc(){if(!Es){rp(!0);for(const e in Do)Fc(e,t=>{const r=t.data,n=t.provider,o=r.prefix,i=Cr(n,o);if(!ms(i,r).length)return!1;const a=r.lastModified||-1;return i.lastModifiedCached=i.lastModifiedCached?Math.min(i.lastModifiedCached,a):a,!0})}}function np(e,t){const r=e.lastModifiedCached;if(r&&r>=t)return r===t;if(e.lastModifiedCached=t,r)for(const n in Do)Fc(n,o=>{const i=o.data;return o.provider!==e.provider||i.prefix!==e.prefix||i.lastModified===t});return!0}function op(e,t){Es||Bc();function r(n){let o;if(!Do[n]||!(o=Dc(n)))return;const i=Nc[n];let a;if(i.size)i.delete(a=Array.from(i).shift());else if(a=As(o),!xs(o,a+1))return;const s={cached:Math.floor(Date.now()/jc),provider:e.provider,data:t};return _s(o,In+a.toString(),JSON.stringify(s))}t.lastModified&&!np(e,t.lastModified)||!Object.keys(t.icons).length||(t.not_found&&(t=Object.assign({},t),delete t.not_found),r("local")||r("session"))}function Uc(){}function ip(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,Gg(e)}))}function sp(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:r,prefix:n}=e,o=e.iconsToLoad;delete e.iconsToLoad;let i;if(!o||!(i=ps(r)))return;i.prepare(r,n,o).forEach(s=>{ep(r,s,c=>{if(typeof c!="object")s.icons.forEach(l=>{e.missing.add(l)});else try{const l=ms(e,c);if(!l.length)return;const d=e.pendingIcons;d&&l.forEach(f=>{d.delete(f)}),op(e,c)}catch(l){console.error(l)}ip(e)})})}))}const ap=(e,t)=>{const r=Qg(e,!0,xc()),n=Kg(r);if(!n.pending.length){let c=!0;return t&&setTimeout(()=>{c&&t(n.loaded,n.missing,n.pending,Uc)}),()=>{c=!1}}const o=Object.create(null),i=[];let a,s;return n.pending.forEach(c=>{const{provider:l,prefix:d}=c;if(d===s&&l===a)return;a=l,s=d,i.push(Cr(l,d));const f=o[l]||(o[l]=Object.create(null));f[d]||(f[d]=[])}),n.pending.forEach(c=>{const{provider:l,prefix:d,name:f}=c,v=Cr(l,d),b=v.pendingIcons||(v.pendingIcons=new Set);b.has(f)||(b.add(f),o[l][d].push(f))}),i.forEach(c=>{const{provider:l,prefix:d}=c;o[l][d].length&&sp(c,o[l][d])}),t?Xg(t,n,i):Uc};function lp(e,t){const r={...e};for(const n in t){const o=t[n],i=typeof o;n in Ac?(o===null||o&&(i==="string"||i==="number"))&&(r[n]=o):i===typeof r[n]&&(r[n]=n==="rotate"?o%4:o)}return r}const cp=/[\s,]+/;function up(e,t){t.split(cp).forEach(r=>{switch(r.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function dp(e,t=0){const r=e.replace(/^-?[0-9.]*/,"");function n(o){for(;o<0;)o+=4;return o%4}if(r===""){const o=parseInt(e);return isNaN(o)?0:n(o)}else if(r!==e){let o=0;switch(r){case"%":o=25;break;case"deg":o=90}if(o){let i=parseFloat(e.slice(0,e.length-r.length));return isNaN(i)?0:(i=i/o,i%1===0?n(i):0)}}return t}function fp(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}function hp(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function mp(e){return"data:image/svg+xml,"+hp(e)}function gp(e){return'url("'+mp(e)+'")'}const Hc={...Ec,inline:!1},pp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},vp={display:"inline-block"},Cs={backgroundColor:"currentColor"},zc={backgroundColor:"transparent"},qc={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Wc={webkitMask:Cs,mask:Cs,background:zc};for(const e in Wc){const t=Wc[e];for(const r in qc)t[e+r]=qc[r]}const Bo={};["horizontal","vertical"].forEach(e=>{const t=e.slice(0,1)+"Flip";Bo[e+"-flip"]=t,Bo[e.slice(0,1)+"-flip"]=t,Bo[e+"Flip"]=t});function Vc(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const Kc=(e,t)=>{const r=lp(Hc,t),n={...pp},o=t.mode||"svg",i={},a=t.style,s=typeof a=="object"&&!(a instanceof Array)?a:{};for(let _ in t){const x=t[_];if(x!==void 0)switch(_){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":r[_]=x===!0||x==="true"||x===1;break;case"flip":typeof x=="string"&&up(r,x);break;case"color":i.color=x;break;case"rotate":typeof x=="string"?r[_]=dp(x):typeof x=="number"&&(r[_]=x);break;case"ariaHidden":case"aria-hidden":x!==!0&&x!=="true"&&delete n["aria-hidden"];break;default:{const H=Bo[_];H?(x===!0||x==="true"||x===1)&&(r[H]=!0):Hc[_]===void 0&&(n[_]=x)}}}const c=jg(e,r),l=c.attributes;if(r.inline&&(i.verticalAlign="-0.125em"),o==="svg"){n.style={...i,...s},Object.assign(n,l);let _=0,x=t.id;return typeof x=="string"&&(x=x.replace(/-/g,"_")),n.innerHTML=Fg(c.body,x?()=>x+"ID"+_++:"iconifyVue"),qi("svg",n)}const{body:d,width:f,height:v}=e,b=o==="mask"||(o==="bg"?!1:d.indexOf("currentColor")!==-1),C=fp(d,{...l,width:f+"",height:v+""});return n.style={...i,"--svg":gp(C),width:Vc(l.width),height:Vc(l.height),...vp,...b?Cs:zc,...s},qi("span",n)};if(xc(!0),Bg("",Vg),typeof document!="undefined"&&typeof window!="undefined"){Bc();const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,r="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(n=>{try{(typeof n!="object"||n===null||n instanceof Array||typeof n.icons!="object"||typeof n.prefix!="string"||!Rg(n))&&console.error(r)}catch{console.error(r)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let r in t){const n="IconifyProviders["+r+"] is invalid.";try{const o=t[r];if(typeof o!="object"||!o||o.resources===void 0)continue;Ug(r,o)||console.error(n)}catch{console.error(n)}}}}const yp={...Lo,body:""},Uo=Ti({inheritAttrs:!1,data(){return{iconMounted:!1,counter:0}},mounted(){this._name="",this._loadingIcon=null,this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(e,t){if(typeof e=="object"&&e!==null&&typeof e.body=="string")return this._name="",this.abortLoading(),{data:e};let r;if(typeof e!="string"||(r=Mo(e,!1,!0))===null)return this.abortLoading(),null;const n=Og(r);if(!n)return(!this._loadingIcon||this._loadingIcon.name!==e)&&(this.abortLoading(),this._name="",n!==null&&(this._loadingIcon={name:e,abort:ap([r],()=>{this.counter++})})),null;this.abortLoading(),this._name!==e&&(this._name=e,t&&t(e));const o=["iconify"];return r.prefix!==""&&o.push("iconify--"+r.prefix),r.provider!==""&&o.push("iconify--"+r.provider),{data:n,classes:o}}},render(){this.counter;const e=this.$attrs,t=this.iconMounted?this.getIcon(e.icon,e.onLoad):null;if(!t)return Kc(yp,e);let r=e;return t.classes&&(r={...e,class:(typeof e.class=="string"?e.class+" ":"")+t.classes.join(" ")}),Kc({...Lo,...t.data},r)}}),Gc={width:24,height:24,body:'<path fill="currentColor" d="m8.6 22.5l-1.9-3.2l-3.6-.8l.35-3.7L1 12l2.45-2.8l-.35-3.7l3.6-.8l1.9-3.2L12 2.95l3.4-1.45l1.9 3.2l3.6.8l-.35 3.7L23 12l-2.45 2.8l.35 3.7l-3.6.8l-1.9 3.2l-3.4-1.45l-3.4 1.45Zm2.35-6.95L16.6 9.9l-1.4-1.45l-4.25 4.25l-2.15-2.1L7.4 12l3.55 3.55Z"/>'},bp={name:"RoomsContent",components:{SvgIcon:nt,FormatMessage:Sn,Icon:Uo},directives:{clickOutside:Ro},props:{currentUserId:{type:[String,Number],required:!0},room:{type:Object,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},textMessages:{type:Object,required:!0},roomActions:{type:Array,required:!0}},emits:["room-action-handler"],data(){return{roomMenuOpened:null,icons:{verifiedIcon:Gc}}},computed:{getLastMessage(){const e=this.typingUsers;if(e)return e;const t=this.room.lastMessage.content;if(this.room.users.length<=2)return t;const r=this.room.users.find(n=>n._id===this.room.lastMessage.senderId);return this.room.lastMessage.username?`${this.room.lastMessage.username} - ${t}`:!r||r._id===this.currentUserId?t:`${r.username} - ${t}`},userStatus(){if(!this.room.users||this.room.users.length!==2)return;const e=this.room.users.find(t=>t._id!==this.currentUserId);return e&&e.status?e.status.state:null},typingUsers(){return pc(this.room,this.currentUserId,this.textMessages)},isMessageCheckmarkVisible(){return!this.typingUsers&&this.room.lastMessage&&!this.room.lastMessage.deleted&&this.room.lastMessage.senderId===this.currentUserId&&(this.room.lastMessage.saved||this.room.lastMessage.distributed||this.room.lastMessage.seen)},formattedDuration(){var t,r;const e=(r=(t=this.room.lastMessage)==null?void 0:t.files)==null?void 0:r[0];if(e){if(!e.duration)return`${e.name}.${e.extension}`;let n=Math.floor(e.duration);return(n-(n%=60))/60+(n>9?":":":0")+n}return""},isAudio(){return this.room.lastMessage.files?Po(this.room.lastMessage.files[0]):!1}},methods:{roomActionHandler(e){this.closeRoomMenu(),this.$emit("room-action-handler",{action:e,roomId:this.room.roomId})},closeRoomMenu(){this.roomMenuOpened=null}}},wp={class:"vac-room-container"},kp={class:"vac-name-container vac-text-ellipsis"},_p={class:"vac-title-container"},xp={class:"vac-room-name vac-text-ellipsis"},Ap={key:1,class:"vac-text-date"},Ep={key:0},Cp={key:1,class:"vac-text-ellipsis"},Sp={key:3,class:"vac-text-ellipsis"},Op={class:"vac-room-options-container"},Tp={key:0,class:"vac-badge-counter vac-room-badge"},Rp={key:0,class:"vac-menu-options"},Pp={class:"vac-menu-list"},Mp=["onClick"];function Ip(e,t,r,n,o,i){const a=ve("Icon"),s=ve("svg-icon"),c=ve("format-message"),l=uo("click-outside");return N(),V("div",wp,[se(e.$slots,"room-list-item_"+r.room.roomId,{},()=>[se(e.$slots,"room-list-avatar_"+r.room.roomId,{},()=>[r.room.avatar?(N(),V("div",{key:0,class:"vac-avatar",style:Ve({"background-image":`url('${r.room.avatar}')`})},null,4)):oe("",!0)]),J("div",kp,[J("div",_p,[i.userStatus?(N(),V("div",{key:0,class:Ee(["vac-state-circle",{"vac-state-online":i.userStatus==="online"}])},null,2)):oe("",!0),J("div",xp,[Rt(_e(r.room.roomName)+" ",1),r.room.verified||r.room.official?(N(),je(a,{key:0,inline:!0,style:Ve({color:`${r.room.official?"gold":"#2689d6"}`}),width:"14",icon:o.icons.verifiedIcon},null,8,["style","icon"])):oe("",!0)]),r.room.lastMessage?(N(),V("div",Ap,_e(r.room.lastMessage.timestamp),1)):oe("",!0)]),J("div",{class:Ee(["vac-text-last",{"vac-message-new":r.room.lastMessage&&r.room.lastMessage.new&&!i.typingUsers}])},[i.isMessageCheckmarkVisible?(N(),V("span",Ep,[se(e.$slots,"checkmark-icon_"+r.room.roomId,{},()=>[ae(s,{name:r.room.lastMessage.distributed?"double-checkmark":"checkmark",param:r.room.lastMessage.seen?"seen":"",class:"vac-icon-check"},null,8,["name","param"])])])):oe("",!0),r.room.lastMessage&&!r.room.lastMessage.deleted&&i.isAudio?(N(),V("div",Cp,[se(e.$slots,"microphone-icon_"+r.room.roomId,{},()=>[ae(s,{name:"microphone",class:"vac-icon-microphone"})]),Rt(" "+_e(i.formattedDuration),1)])):r.room.lastMessage?(N(),je(c,{key:2,"message-id":r.room.lastMessage._id,"room-id":r.room.roomId,"room-list":!0,content:i.getLastMessage,deleted:!!r.room.lastMessage.deleted&&!i.typingUsers,users:r.room.users,"text-messages":r.textMessages,linkify:!1,"text-formatting":r.textFormatting,"link-options":r.linkOptions,"single-line":!0},Fe({_:2},[Ae(e.$slots,(d,f)=>({name:f,fn:be(v=>[se(e.$slots,f,De(Ne(v)))])}))]),1032,["message-id","room-id","content","deleted","users","text-messages","text-formatting","link-options"])):oe("",!0),!r.room.lastMessage&&i.typingUsers?(N(),V("div",Sp,_e(i.typingUsers),1)):oe("",!0),J("div",Op,[r.room.unreadCount?(N(),V("div",Tp,_e(r.room.unreadCount),1)):oe("",!0),se(e.$slots,"room-list-options_"+r.room.roomId,{},()=>[r.roomActions.length?(N(),V("div",{key:0,class:"vac-svg-button vac-list-room-options",onClick:t[0]||(t[0]=It(d=>o.roomMenuOpened=r.room.roomId,["stop"]))},[se(e.$slots,"room-list-options-icon_"+r.room.roomId,{},()=>[ae(s,{name:"dropdown",param:"room"})])])):oe("",!0),r.roomActions.length?(N(),je(Xe,{key:1,name:"vac-slide-left"},{default:be(()=>[o.roomMenuOpened===r.room.roomId?zt((N(),V("div",Rp,[J("div",Pp,[(N(!0),V(Me,null,Ae(r.roomActions,d=>(N(),V("div",{key:d.name},[J("div",{class:"vac-menu-item",onClick:It(f=>i.roomActionHandler(d),["stop"])},_e(d.title),9,Mp)]))),128))])])),[[l,i.closeRoomMenu]]):oe("",!0)]),_:1})):oe("",!0)])])],2)])])])}var jp=ze(bp,[["render",Ip]]),Ss=(e,t,r,n=!1)=>!r||r===""?e:e.filter(o=>n?Ho(o[t]).startsWith(Ho(r)):Ho(o[t]).includes(Ho(r)));function Ho(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const Lp={name:"RoomsList",components:{Loader:wo,RoomsSearch:Xh,RoomContent:jp},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},showRoomsList:{type:Boolean,required:!0},showSearch:{type:Boolean,required:!0},showAddRoom:{type:Boolean,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0},roomsLoaded:{type:Boolean,required:!0},room:{type:Object,required:!0},customSearchRoomEnabled:{type:[Boolean,String],default:!1},roomActions:{type:Array,required:!0},scrollDistance:{type:Number,required:!0}},emits:["add-room","search-room","room-action-handler","loading-more-rooms","fetch-room","fetch-more-rooms"],data(){return{filteredRooms:this.rooms||[],observer:null,showLoader:!0,loadingMoreRooms:!1,selectedRoomId:""}},watch:{rooms:{deep:!0,handler(e,t){this.filteredRooms=e,(e.length!==t.length||this.roomsLoaded)&&(this.loadingMoreRooms=!1)}},loadingRooms(e){e||setTimeout(()=>this.initIntersectionObserver())},loadingMoreRooms(e){this.$emit("loading-more-rooms",e)},roomsLoaded:{immediate:!0,handler(e){e&&(this.loadingMoreRooms=!1,this.loadingRooms||(this.showLoader=!1))}},room:{immediate:!0,handler(e){e&&!this.isMobile&&(this.selectedRoomId=e.roomId)}}},methods:{initIntersectionObserver(){this.observer&&(this.showLoader=!0,this.observer.disconnect());const e=this.$el.querySelector("#infinite-loader-rooms");if(e){const t={root:this.$el.querySelector("#rooms-list"),rootMargin:`${this.scrollDistance}px`,threshold:0};this.observer=new IntersectionObserver(r=>{r[0].isIntersecting&&this.loadMoreRooms()},t),this.observer.observe(e)}},searchRoom(e){this.customSearchRoomEnabled?this.$emit("search-room",e.target.value):this.filteredRooms=Ss(this.rooms,"roomName",e.target.value)},openRoom(e){e.roomId===this.room.roomId&&!this.isMobile||(this.isMobile||(this.selectedRoomId=e.roomId),this.$emit("fetch-room",{room:e}))},loadMoreRooms(){if(!this.loadingMoreRooms){if(this.roomsLoaded){this.loadingMoreRooms=!1,this.showLoader=!1;return}this.$emit("fetch-more-rooms"),this.loadingMoreRooms=!0}}}},Np={key:0,class:"vac-rooms-empty"},Dp={key:1,id:"rooms-list",class:"vac-room-list"},Fp=["id","onClick"],Bp={key:0,id:"infinite-loader-rooms"};function Up(e,t,r,n,o,i){const a=ve("rooms-search"),s=ve("loader"),c=ve("room-content");return zt((N(),V("div",{class:Ee(["vac-rooms-container",{"vac-rooms-container-full":r.isMobile,"vac-app-border-r":!r.isMobile}])},[se(e.$slots,"rooms-header"),se(e.$slots,"rooms-list-search",{},()=>[ae(a,{rooms:r.rooms,"loading-rooms":r.loadingRooms,"text-messages":r.textMessages,"show-search":r.showSearch,"show-add-room":r.showAddRoom,onSearchRoom:i.searchRoom,onAddRoom:t[0]||(t[0]=l=>e.$emit("add-room"))},Fe({_:2},[Ae(e.$slots,(l,d)=>({name:d,fn:be(f=>[se(e.$slots,d,De(Ne(f)))])}))]),1032,["rooms","loading-rooms","text-messages","show-search","show-add-room","onSearchRoom"])]),ae(s,{show:r.loadingRooms,type:"rooms"},Fe({_:2},[Ae(e.$slots,(l,d)=>({name:d,fn:be(f=>[se(e.$slots,d,De(Ne(f)))])}))]),1032,["show"]),!r.loadingRooms&&!r.rooms.length?(N(),V("div",Np,[se(e.$slots,"rooms-empty",{},()=>[Rt(_e(r.textMessages.ROOMS_EMPTY),1)])])):oe("",!0),r.loadingRooms?oe("",!0):(N(),V("div",Dp,[(N(!0),V(Me,null,Ae(o.filteredRooms,l=>(N(),V("div",{id:l.roomId,key:l.roomId,class:Ee(["vac-room-item",{"vac-room-selected":o.selectedRoomId===l.roomId}]),onClick:d=>i.openRoom(l)},[ae(c,{"current-user-id":r.currentUserId,room:l,"text-formatting":r.textFormatting,"link-options":r.linkOptions,"text-messages":r.textMessages,"room-actions":r.roomActions,onRoomActionHandler:t[1]||(t[1]=d=>e.$emit("room-action-handler",d))},Fe({_:2},[Ae(e.$slots,(d,f)=>({name:f,fn:be(v=>[se(e.$slots,f,De(Ne(v)))])}))]),1032,["current-user-id","room","text-formatting","link-options","text-messages","room-actions"])],10,Fp))),128)),ae(Xe,{name:"vac-fade-message"},{default:be(()=>[r.rooms.length&&!r.loadingRooms?(N(),V("div",Bp,[ae(s,{show:o.showLoader,infinite:!0,type:"infinite-rooms"},Fe({_:2},[Ae(e.$slots,(l,d)=>({name:d,fn:be(f=>[se(e.$slots,d,De(Ne(f)))])}))]),1032,["show"])])):oe("",!0)]),_:3})]))],2)),[[bo,r.showRoomsList]])}var Hp=ze(Lp,[["render",Up]]);const zp={name:"RoomHeader",components:{SvgIcon:nt,Icon:Uo},directives:{clickOutside:Ro},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},roomInfoEnabled:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},room:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0},messageSelectionActions:{type:Array,required:!0},selectedMessagesTotal:{type:Number,required:!0}},emits:["toggle-rooms-list","room-info","menu-action-handler","cancel-message-selection","message-selection-action-handler"],data(){return{menuOpened:!1,messageSelectionAnimationEnded:!0,icons:{verifiedIcon:Gc}}},computed:{typingUsers(){return pc(this.room,this.currentUserId,this.textMessages)},userStatus(){if(!this.room.users||this.room.users.length!==2)return;const e=this.room.users.find(r=>r._id!==this.currentUserId);if(!(e!=null&&e.status))return;let t="";return e.status.state==="online"?t=this.textMessages.IS_ONLINE:e.status.lastChanged&&(t=this.textMessages.LAST_SEEN+e.status.lastChanged),t}},watch:{messageSelectionEnabled(e){e?this.messageSelectionAnimationEnded=!1:setTimeout(()=>{this.messageSelectionAnimationEnded=!0},300)}},methods:{menuActionHandler(e){this.closeMenu(),this.$emit("menu-action-handler",e)},closeMenu(){this.menuOpened=!1},messageSelectionActionHandler(e){this.$emit("message-selection-action-handler",e)}}},qp={class:"vac-room-header vac-app-border-b"},Wp={class:"vac-room-wrapper"},Vp={key:0,class:"vac-room-selection"},Kp=["id"],Gp=["onClick"],Yp={class:"vac-selection-button-count"},Xp={class:"vac-text-ellipsis"},Qp={class:"vac-room-name vac-text-ellipsis"},Zp={key:0,class:"vac-room-info vac-text-ellipsis"},Jp={key:1,class:"vac-room-info vac-text-ellipsis"},$p={key:0,class:"vac-menu-options"},ev={class:"vac-menu-list"},tv=["onClick"];function rv(e,t,r,n,o,i){const a=ve("svg-icon"),s=ve("Icon"),c=uo("click-outside");return N(),V("div",qp,[se(e.$slots,"room-header",{},()=>[J("div",Wp,[ae(Xe,{name:"vac-slide-up"},{default:be(()=>[r.messageSelectionEnabled?(N(),V("div",Vp,[(N(!0),V(Me,null,Ae(r.messageSelectionActions,l=>(N(),V("div",{id:l.name,key:l.name},[J("div",{class:"vac-selection-button",onClick:d=>i.messageSelectionActionHandler(l)},[Rt(_e(l.title)+" ",1),J("span",Yp,_e(r.selectedMessagesTotal),1)],8,Gp)],8,Kp))),128)),J("div",{class:"vac-selection-cancel vac-item-clickable",onClick:t[0]||(t[0]=l=>e.$emit("cancel-message-selection"))},_e(r.textMessages.CANCEL_SELECT_MESSAGE),1)])):oe("",!0)]),_:1}),!r.messageSelectionEnabled&&o.messageSelectionAnimationEnded?(N(),V(Me,{key:0},[r.singleRoom?oe("",!0):(N(),V("div",{key:0,class:Ee(["vac-svg-button vac-toggle-button",{"vac-rotate-icon-init":!r.isMobile,"vac-rotate-icon":!r.showRoomsList&&!r.isMobile}]),onClick:t[1]||(t[1]=l=>e.$emit("toggle-rooms-list"))},[se(e.$slots,"toggle-icon",{},()=>[ae(a,{name:"toggle"})])],2)),J("div",{class:Ee(["vac-info-wrapper",{"vac-item-clickable":r.roomInfoEnabled}]),onClick:t[2]||(t[2]=l=>e.$emit("room-info"))},[se(e.$slots,"room-header-avatar",{},()=>[r.room.avatar?(N(),V("div",{key:0,class:"vac-avatar",style:Ve({"background-image":`url('${r.room.avatar}')`})},null,4)):oe("",!0)]),se(e.$slots,"room-header-info",{},()=>[J("div",Xp,[J("div",Qp,[Rt(_e(r.room.roomName)+" ",1),r.room.verified||r.room.official?(N(),je(s,{key:0,inline:!0,style:Ve({color:`${r.room.official?"gold":"#2689d6"}`}),width:"14",icon:o.icons.verifiedIcon},null,8,["style","icon"])):oe("",!0)]),i.typingUsers?(N(),V("div",Zp,_e(i.typingUsers),1)):(N(),V("div",Jp,_e(i.userStatus),1))])])],2),r.room.roomId?se(e.$slots,"room-options",{key:1},()=>[r.menuActions.length?(N(),V("div",{key:0,class:"vac-svg-button vac-room-options",onClick:t[3]||(t[3]=l=>o.menuOpened=!o.menuOpened)},[se(e.$slots,"menu-icon",{},()=>[ae(a,{name:"menu"})])])):oe("",!0),r.menuActions.length?(N(),je(Xe,{key:1,name:"vac-slide-left"},{default:be(()=>[o.menuOpened?zt((N(),V("div",$p,[J("div",ev,[(N(!0),V(Me,null,Ae(r.menuActions,l=>(N(),V("div",{key:l.name},[J("div",{class:"vac-menu-item",onClick:d=>i.menuActionHandler(l)},_e(l.title),9,tv)]))),128))])])),[[c,i.closeMenu]]):oe("",!0)]),_:1})):oe("",!0)]):oe("",!0)],64)):oe("",!0)])])])}var nv=ze(zp,[["render",rv]]);function zo(e){if(typeof e!="string"||!e)throw new Error("expected a non-empty string, got: "+e)}function Os(e){if(typeof e!="number")throw new Error("expected a number, got: "+e)}const ov=1,iv=1,Sr="emoji",Wr="keyvalue",Ts="favorites",sv="tokens",Yc="tokens",av="unicode",Xc="count",lv="group",cv="order",Qc="group-order",Rs="eTag",qo="url",Zc="skinTone",Vr="readonly",Ps="readwrite",Jc="skinUnicodes",uv="skinUnicodes",dv="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",fv="en";function hv(e,t){const r=new Set,n=[];for(const o of e){const i=t(o);r.has(i)||(r.add(i),n.push(o))}return n}function $c(e){return hv(e,t=>t.unicode)}function mv(e){function t(r,n,o){const i=n?e.createObjectStore(r,{keyPath:n}):e.createObjectStore(r);if(o)for(const[a,[s,c]]of Object.entries(o))i.createIndex(a,s,{multiEntry:c});return i}t(Wr),t(Sr,av,{[Yc]:[sv,!0],[Qc]:[[lv,cv]],[Jc]:[uv,!0]}),t(Ts,void 0,{[Xc]:[""]})}const Ms={},Wo={},Vo={};function eu(e,t,r){r.onerror=()=>t(r.error),r.onblocked=()=>t(new Error("IDB blocked")),r.onsuccess=()=>e(r.result)}async function gv(e){const t=await new Promise((r,n)=>{const o=indexedDB.open(e,ov);Ms[e]=o,o.onupgradeneeded=i=>{i.oldVersion<iv&&mv(o.result)},eu(r,n,o)});return t.onclose=()=>Is(e),t}function pv(e){return Wo[e]||(Wo[e]=gv(e)),Wo[e]}function Vt(e,t,r,n){return new Promise((o,i)=>{const a=e.transaction(t,r,{durability:"relaxed"}),s=typeof t=="string"?a.objectStore(t):t.map(l=>a.objectStore(l));let c;n(s,a,l=>{c=l}),a.oncomplete=()=>o(c),a.onerror=()=>i(a.error)})}function Is(e){const t=Ms[e],r=t&&t.result;if(r){r.close();const n=Vo[e];if(n)for(const o of n)o()}delete Ms[e],delete Wo[e],delete Vo[e]}function vv(e){return new Promise((t,r)=>{Is(e);const n=indexedDB.deleteDatabase(e);eu(t,r,n)})}function yv(e,t){let r=Vo[e];r||(r=Vo[e]=[]),r.push(t)}const bv=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function Kr(e){return e.split(/[\s_]+/).map(t=>!t.match(/\w/)||bv.has(t)?t.toLowerCase():t.replace(/[)(:,]/g,"").replace(/’/g,"'").toLowerCase()).filter(Boolean)}const wv=2;function tu(e){return e.filter(Boolean).map(t=>t.toLowerCase()).filter(t=>t.length>=wv)}function kv(e){return e.map(({annotation:r,emoticon:n,group:o,order:i,shortcodes:a,skins:s,tags:c,emoji:l,version:d})=>{const f=[...new Set(tu([...(a||[]).map(Kr).flat(),...c.map(Kr).flat(),...Kr(r),n]))].sort(),v={annotation:r,group:o,order:i,tags:c,tokens:f,unicode:l,version:d};if(n&&(v.emoticon=n),a&&(v.shortcodes=a),s){v.skinTones=[],v.skinUnicodes=[],v.skinVersions=[];for(const{tone:b,emoji:C,version:_}of s)v.skinTones.push(b),v.skinUnicodes.push(C),v.skinVersions.push(_)}return v})}function ru(e,t,r,n){e[t](r).onsuccess=o=>n&&n(o.target.result)}function Or(e,t,r){ru(e,"get",t,r)}function nu(e,t,r){ru(e,"getAll",t,r)}function js(e){e.commit&&e.commit()}function _v(e,t){let r=e[0];for(let n=1;n<e.length;n++){const o=e[n];t(r)>t(o)&&(r=o)}return r}function ou(e,t){const r=_v(e,o=>o.length),n=[];for(const o of r)e.some(i=>i.findIndex(a=>t(a)===t(o))===-1)||n.push(o);return n}async function xv(e){return!await Ls(e,Wr,qo)}async function Av(e,t,r){const[n,o]=await Promise.all([Rs,qo].map(i=>Ls(e,Wr,i)));return n===r&&o===t}async function Ev(e,t){return Vt(e,Sr,Vr,(n,o,i)=>{let a;const s=()=>{n.getAll(a&&IDBKeyRange.lowerBound(a,!0),50).onsuccess=c=>{const l=c.target.result;for(const d of l)if(a=d.unicode,t(d))return i(d);if(l.length<50)return i();s()}};s()})}async function iu(e,t,r,n){try{const o=kv(t);await Vt(e,[Sr,Wr],Ps,([i,a],s)=>{let c,l,d=0;function f(){++d===2&&v()}function v(){if(!(c===n&&l===r)){i.clear();for(const b of o)i.put(b);a.put(n,Rs),a.put(r,qo),js(s)}}Or(a,Rs,b=>{c=b,f()}),Or(a,qo,b=>{l=b,f()})})}finally{}}async function Cv(e,t){return Vt(e,Sr,Vr,(r,n,o)=>{const i=IDBKeyRange.bound([t,0],[t+1,0],!1,!0);nu(r.index(Qc),i,o)})}async function su(e,t){const r=tu(Kr(t));return r.length?Vt(e,Sr,Vr,(n,o,i)=>{const a=[],s=()=>{a.length===r.length&&c()},c=()=>{const l=ou(a,d=>d.unicode);i(l.sort((d,f)=>d.order<f.order?-1:1))};for(let l=0;l<r.length;l++){const d=r[l],f=l===r.length-1?IDBKeyRange.bound(d,d+"\uFFFF",!1,!0):IDBKeyRange.only(d);nu(n.index(Yc),f,v=>{a.push(v),s()})}}):[]}async function Sv(e,t){const r=await su(e,t);return r.length?r.filter(n=>(n.shortcodes||[]).map(i=>i.toLowerCase()).includes(t.toLowerCase()))[0]||null:await Ev(e,o=>(o.shortcodes||[]).includes(t.toLowerCase()))||null}async function Ov(e,t){return Vt(e,Sr,Vr,(r,n,o)=>Or(r,t,i=>{if(i)return o(i);Or(r.index(Jc),t,a=>o(a||null))}))}function Ls(e,t,r){return Vt(e,t,Vr,(n,o,i)=>Or(n,r,i))}function Tv(e,t,r,n){return Vt(e,t,Ps,(o,i)=>{o.put(n,r),js(i)})}function Rv(e,t){return Vt(e,Ts,Ps,(r,n)=>Or(r,t,o=>{r.put((o||0)+1,t),js(n)}))}function Pv(e,t,r){return r===0?[]:Vt(e,[Ts,Sr],Vr,([n,o],i,a)=>{const s=[];n.index(Xc).openCursor(void 0,"prev").onsuccess=c=>{const l=c.target.result;if(!l)return a(s);function d(b){if(s.push(b),s.length===r)return a(s);l.continue()}const f=l.primaryKey,v=t.byName(f);if(v)return d(v);Or(o,f,b=>{if(b)return d(b);l.continue()})}})}const Ko="";function Mv(e,t){const r=new Map;for(const o of e){const i=t(o);for(const a of i){let s=r;for(let l=0;l<a.length;l++){const d=a.charAt(l);let f=s.get(d);f||(f=new Map,s.set(d,f)),s=f}let c=s.get(Ko);c||(c=[],s.set(Ko,c)),c.push(o)}}return(o,i)=>{let a=r;for(let l=0;l<o.length;l++){const d=o.charAt(l),f=a.get(d);if(f)a=f;else return[]}if(i)return a.get(Ko)||[];const s=[],c=[a];for(;c.length;){const d=[...c.shift().entries()].sort((f,v)=>f[0]<v[0]?-1:1);for(const[f,v]of d)f===Ko?s.push(...v):c.push(v)}return s}}const Iv=["name","url"];function jv(e){const t=e&&Array.isArray(e),r=t&&e.length&&(!e[0]||Iv.some(n=>!(n in e[0])));if(!t||r)throw new Error("Custom emojis are in the wrong format")}function au(e){jv(e);const t=(v,b)=>v.name.toLowerCase()<b.name.toLowerCase()?-1:1,r=e.sort(t),o=Mv(e,v=>[...new Set((v.shortcodes||[]).map(b=>Kr(b)).flat())]),i=v=>o(v,!0),a=v=>o(v,!1),s=v=>{const b=Kr(v),C=b.map((_,x)=>(x<b.length-1?i:a)(_));return ou(C,_=>_.name).sort(t)},c=new Map,l=new Map;for(const v of e){l.set(v.name.toLowerCase(),v);for(const b of v.shortcodes||[])c.set(b.toLowerCase(),v)}return{all:r,search:s,byShortcode:v=>c.get(v.toLowerCase()),byName:v=>l.get(v.toLowerCase())}}function jn(e){if(!e)return e;if(delete e.tokens,e.skinTones){const t=e.skinTones.length;e.skins=Array(t);for(let r=0;r<t;r++)e.skins[r]={tone:e.skinTones[r],unicode:e.skinUnicodes[r],version:e.skinVersions[r]};delete e.skinTones,delete e.skinUnicodes,delete e.skinVersions}return e}function lu(e){e||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const Lv=["annotation","emoji","group","order","tags","version"];function Nv(e){if(!e||!Array.isArray(e)||!e[0]||typeof e[0]!="object"||Lv.some(t=>!(t in e[0])))throw new Error("Emoji data is in the wrong format")}function cu(e,t){if(Math.floor(e.status/100)!==2)throw new Error("Failed to fetch: "+t+":  "+e.status)}async function Dv(e){const t=await fetch(e,{method:"HEAD"});cu(t,e);const r=t.headers.get("etag");return lu(r),r}async function Ns(e){const t=await fetch(e);cu(t,e);const r=t.headers.get("etag");lu(r);const n=await t.json();return Nv(n),[r,n]}function Fv(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,o=-1;++o<n;)t+=String.fromCharCode(r[o]);return t}function Bv(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),o=-1;++o<t;)n[o]=e.charCodeAt(o);return r}async function uu(e){const t=JSON.stringify(e),r=Bv(t),n=await crypto.subtle.digest("SHA-1",r),o=Fv(n);return btoa(o)}async function Uv(e,t){let r,n=await Dv(t);if(!n){const o=await Ns(t);n=o[0],r=o[1],n||(n=await uu(r))}await Av(e,t,n)||(r||(r=(await Ns(t))[1]),await iu(e,r,t,n))}async function Hv(e,t){let[r,n]=await Ns(t);r||(r=await uu(n)),await iu(e,n,t,r)}class du{constructor({dataSource:t=dv,locale:r=fv,customEmoji:n=[]}={}){this.dataSource=t,this.locale=r,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=au(n),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const t=this._db=await pv(this._dbName);yv(this._dbName,this._clear);const r=this.dataSource;await xv(t)?await Hv(t,r):this._lazyUpdate=Uv(t,r)}async ready(){const t=async()=>(this._ready||(this._ready=this._init()),this._ready);await t(),this._db||await t()}async getEmojiByGroup(t){return Os(t),await this.ready(),$c(await Cv(this._db,t)).map(jn)}async getEmojiBySearchQuery(t){zo(t),await this.ready();const r=this._custom.search(t),n=$c(await su(this._db,t)).map(jn);return[...r,...n]}async getEmojiByShortcode(t){zo(t),await this.ready();const r=this._custom.byShortcode(t);return r||jn(await Sv(this._db,t))}async getEmojiByUnicodeOrName(t){zo(t),await this.ready();const r=this._custom.byName(t);return r||jn(await Ov(this._db,t))}async getPreferredSkinTone(){return await this.ready(),await Ls(this._db,Wr,Zc)||0}async setPreferredSkinTone(t){return Os(t),await this.ready(),Tv(this._db,Wr,Zc,t)}async incrementFavoriteEmojiCount(t){return zo(t),await this.ready(),Rv(this._db,t)}async getTopFavoriteEmoji(t){return Os(t),await this.ready(),(await Pv(this._db,this._custom,t)).map(jn)}set customEmoji(t){this._custom=au(t)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch{}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await Is(this._dbName)}async delete(){await this._shutdown(),await vv(this._dbName)}}function Ln(){}function fu(e){return e()}function hu(){return Object.create(null)}function Nn(e){e.forEach(fu)}function mu(e){return typeof e=="function"}function zv(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Go;function Yo(e,t){return Go||(Go=document.createElement("a")),Go.href=t,e===Go.href}function qv(e){return Object.keys(e).length===0}function Wv(e){return e&&mu(e.destroy)?e.destroy:Ln}function We(e,t){e.appendChild(t)}function At(e,t,r){e.insertBefore(t,r||null)}function Et(e){e.parentNode.removeChild(e)}function Ue(e){return document.createElement(e)}function Nt(e){return document.createTextNode(e)}function Ct(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function z(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function Dt(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function gu(e,t){e.value=t==null?"":t}function nr(e,t,r,n){r===null?e.style.removeProperty(t):e.style.setProperty(t,r,n?"important":"")}let Ds;function Dn(e){Ds=e}const Fn=[],Gr=[],Xo=[],pu=[],vu=Promise.resolve();let Fs=!1;function yu(){Fs||(Fs=!0,vu.then(bu))}function Vv(){return yu(),vu}function Bs(e){Xo.push(e)}const Us=new Set;let Qo=0;function bu(){const e=Ds;do{for(;Qo<Fn.length;){const t=Fn[Qo];Qo++,Dn(t),Kv(t.$$)}for(Dn(null),Fn.length=0,Qo=0;Gr.length;)Gr.pop()();for(let t=0;t<Xo.length;t+=1){const r=Xo[t];Us.has(r)||(Us.add(r),r())}Xo.length=0}while(Fn.length);for(;pu.length;)pu.pop()();Fs=!1,Us.clear(),Dn(e)}function Kv(e){if(e.fragment!==null){e.update(),Nn(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Bs)}}const Gv=new Set;function Yv(e,t){e&&e.i&&(Gv.delete(e),e.i(t))}const Xv=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function Bn(e,t){e.d(1),t.delete(e.key)}function Un(e,t,r,n,o,i,a,s,c,l,d,f){let v=e.length,b=i.length,C=v;const _={};for(;C--;)_[e[C].key]=C;const x=[],H=new Map,W=new Map;for(C=b;C--;){const S=f(o,i,C),R=r(S);let P=a.get(R);P?n&&P.p(S,t):(P=l(R,S),P.c()),H.set(R,x[C]=P),R in _&&W.set(R,Math.abs(C-_[R]))}const j=new Set,L=new Set;function D(S){Yv(S,1),S.m(s,d),a.set(S.key,S),d=S.first,b--}for(;v&&b;){const S=x[b-1],R=e[v-1],P=S.key,q=R.key;S===R?(d=S.first,v--,b--):H.has(q)?!a.has(P)||j.has(P)?D(S):L.has(q)?v--:W.get(P)>W.get(q)?(L.add(P),D(S)):(j.add(q),v--):(c(R,a),v--)}for(;v--;){const S=e[v];H.has(S.key)||c(S,a)}for(;b;)D(x[b-1]);return x}function Qv(e,t,r,n){const{fragment:o,on_mount:i,on_destroy:a,after_update:s}=e.$$;o&&o.m(t,r),n||Bs(()=>{const c=i.map(fu).filter(mu);a?a.push(...c):Nn(c),e.$$.on_mount=[]}),s.forEach(Bs)}function Zv(e,t){const r=e.$$;r.fragment!==null&&(Nn(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function Jv(e,t){e.$$.dirty[0]===-1&&(Fn.push(e),yu(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function $v(e,t,r,n,o,i,a,s=[-1]){const c=Ds;Dn(e);const l=e.$$={fragment:null,ctx:null,props:i,update:Ln,not_equal:o,bound:hu(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:hu(),dirty:s,skip_bound:!1,root:t.target||c.$$.root};a&&a(l.root);let d=!1;l.ctx=r?r(e,t.props||{},(f,v,...b)=>{const C=b.length?b[0]:v;return l.ctx&&o(l.ctx[f],l.ctx[f]=C)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](C),d&&Jv(e,f)),v}):[],l.update(),d=!0,Nn(l.before_update),l.fragment=n?n(l.ctx):!1,t.target&&(l.fragment&&l.fragment.c(),Qv(e,t.target,void 0,void 0),bu()),Dn(c)}class ey{$destroy(){Zv(this,1),this.$destroy=Ln}$on(t,r){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{const o=n.indexOf(r);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!qv(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const wu=[[-1,"\u2728","custom"],[0,"\u{1F600}","smileys-emotion"],[1,"\u{1F44B}","people-body"],[3,"\u{1F431}","animals-nature"],[4,"\u{1F34E}","food-drink"],[5,"\u{1F3E0}\uFE0F","travel-places"],[6,"\u26BD","activities"],[7,"\u{1F4DD}","objects"],[8,"\u26D4\uFE0F","symbols"],[9,"\u{1F3C1}","flags"]].map(([e,t,r])=>({id:e,emoji:t,name:r})),Zo=wu.slice(1),ty=wu[0],ry=2,ku=6,_u=typeof requestIdleCallback=="function"?requestIdleCallback:setTimeout;function xu(e){return e.unicode.includes("\u200D")}const ny={"\u{1FAE0}":14,"\u{1F972}":13.1,"\u{1F97B}":12.1,"\u{1F970}":11,"\u{1F929}":5,"\u{1F471}\u200D\u2640\uFE0F":4,"\u{1F923}":3,"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":2,"\u{1F600}":1,"\u{1F610}\uFE0F":.7,"\u{1F603}":.6},oy=1e3,iy="\u{1F590}\uFE0F",sy=8,ay=["\u{1F60A}","\u{1F612}","\u2665\uFE0F","\u{1F44D}\uFE0F","\u{1F60D}","\u{1F602}","\u{1F62D}","\u263A\uFE0F","\u{1F614}","\u{1F629}","\u{1F60F}","\u{1F495}","\u{1F64C}","\u{1F618}"],Au='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',ly=(e,t)=>e<t?-1:e>t?1:0,Eu=(e,t)=>{const r=document.createElement("canvas");r.width=r.height=1;const n=r.getContext("2d");return n.textBaseline="top",n.font=`100px ${Au}`,n.fillStyle=t,n.scale(.01,.01),n.fillText(e,0,0),n.getImageData(0,0,1,1).data},cy=(e,t)=>{const r=[...e].join(","),n=[...t].join(",");return r===n&&!r.startsWith("0,0,0,")};function uy(e){const t=Eu(e,"#000"),r=Eu(e,"#fff");return t&&r&&cy(t,r)}function dy(){const e=Object.entries(ny);try{for(const[t,r]of e)if(uy(t))return r}catch{}finally{}return e[0][1]}const Hs=new Promise(e=>_u(()=>e(dy()))),zs=new Map,fy="\uFE0F",hy="\uD83C",my="\u200D",gy=127995,py=57339;function vy(e,t){if(t===0)return e;const r=e.indexOf(my);return r!==-1?e.substring(0,r)+String.fromCodePoint(gy+t-1)+e.substring(r):(e.endsWith(fy)&&(e=e.substring(0,e.length-1)),e+hy+String.fromCodePoint(py+t-1))}function or(e){e.preventDefault(),e.stopPropagation()}function qs(e,t,r){return t+=e?-1:1,t<0?t=r.length-1:t>=r.length&&(t=0),t}function Cu(e,t){const r=new Set,n=[];for(const o of e){const i=t(o);r.has(i)||(r.add(i),n.push(o))}return n}function yy(e,t){const r=n=>{const o={};for(const i of n)typeof i.tone=="number"&&i.version<=t&&(o[i.tone]=i.unicode);return o};return e.map(({unicode:n,skins:o,shortcodes:i,url:a,name:s,category:c})=>({unicode:n,name:s,shortcodes:i,url:a,category:c,id:n||s,skins:o&&r(o),title:(i||[]).join(", ")}))}const Jo=requestAnimationFrame;let by=typeof ResizeObserver=="function";function wy(e,t){let r;return by?(r=new ResizeObserver(n=>t(n[0].contentRect.width)),r.observe(e)):Jo(()=>t(e.getBoundingClientRect().width)),{destroy(){r&&r.disconnect()}}}function Su(e){{const t=document.createRange();return t.selectNode(e.firstChild),t.getBoundingClientRect().width}}let Ws;function ky(e,t,r){for(const n of e){const o=r(n),i=Su(o);typeof Ws=="undefined"&&(Ws=Su(t));const a=i/1.8<Ws;zs.set(n.unicode,a)}}function _y(e){return Cu(e,t=>t)}const{Map:Hn}=Xv;function Ou(e,t,r){const n=e.slice();return n[63]=t[r],n[65]=r,n}function Tu(e,t,r){const n=e.slice();return n[66]=t[r],n[65]=r,n}function Ru(e,t,r){const n=e.slice();return n[63]=t[r],n[65]=r,n}function Pu(e,t,r){const n=e.slice();return n[69]=t[r],n}function Mu(e,t,r){const n=e.slice();return n[72]=t[r],n[65]=r,n}function Iu(e,t){let r,n=t[72]+"",o,i,a,s,c,l;return{key:e,first:null,c(){r=Ue("div"),o=Nt(n),z(r,"id",i="skintone-"+t[65]),z(r,"class",a="emoji hide-focus "+(t[65]===t[20]?"active":"")),z(r,"aria-selected",s=t[65]===t[20]),z(r,"role","option"),z(r,"title",c=t[0].skinTones[t[65]]),z(r,"tabindex","-1"),z(r,"aria-label",l=t[0].skinTones[t[65]]),this.first=r},m(d,f){At(d,r,f),We(r,o)},p(d,f){t=d,f[0]&512&&n!==(n=t[72]+"")&&Dt(o,n),f[0]&512&&i!==(i="skintone-"+t[65])&&z(r,"id",i),f[0]&1049088&&a!==(a="emoji hide-focus "+(t[65]===t[20]?"active":""))&&z(r,"class",a),f[0]&1049088&&s!==(s=t[65]===t[20])&&z(r,"aria-selected",s),f[0]&513&&c!==(c=t[0].skinTones[t[65]])&&z(r,"title",c),f[0]&513&&l!==(l=t[0].skinTones[t[65]])&&z(r,"aria-label",l)},d(d){d&&Et(r)}}}function ju(e,t){let r,n,o=t[69].emoji+"",i,a,s,c,l,d,f;function v(){return t[49](t[69])}return{key:e,first:null,c(){r=Ue("button"),n=Ue("div"),i=Nt(o),z(n,"class","nav-emoji emoji"),z(r,"role","tab"),z(r,"class","nav-button"),z(r,"aria-controls",a="tab-"+t[69].id),z(r,"aria-label",s=t[0].categories[t[69].name]),z(r,"aria-selected",c=!t[4]&&t[13].id===t[69].id),z(r,"title",l=t[0].categories[t[69].name]),this.first=r},m(b,C){At(b,r,C),We(r,n),We(n,i),d||(f=Ct(r,"click",v),d=!0)},p(b,C){t=b,C[0]&4096&&o!==(o=t[69].emoji+"")&&Dt(i,o),C[0]&4096&&a!==(a="tab-"+t[69].id)&&z(r,"aria-controls",a),C[0]&4097&&s!==(s=t[0].categories[t[69].name])&&z(r,"aria-label",s),C[0]&12304&&c!==(c=!t[4]&&t[13].id===t[69].id)&&z(r,"aria-selected",c),C[0]&4097&&l!==(l=t[0].categories[t[69].name])&&z(r,"title",l)},d(b){b&&Et(r),d=!1,f()}}}function xy(e){let t,r;return{c(){t=Ue("img"),z(t,"class","custom-emoji"),Yo(t.src,r=e[63].url)||z(t,"src",r),z(t,"alt",""),z(t,"loading","lazy")},m(n,o){At(n,t,o)},p(n,o){o[0]&32768&&!Yo(t.src,r=n[63].url)&&z(t,"src",r)},d(n){n&&Et(t)}}}function Ay(e){let t=e[27](e[63],e[8])+"",r;return{c(){r=Nt(t)},m(n,o){At(n,r,o)},p(n,o){o[0]&33024&&t!==(t=n[27](n[63],n[8])+"")&&Dt(r,t)},d(n){n&&Et(r)}}}function Lu(e,t){let r,n,o,i,a,s,c;function l(v,b){return v[63].unicode?Ay:xy}let d=l(t),f=d(t);return{key:e,first:null,c(){r=Ue("button"),f.c(),z(r,"role",n=t[4]?"option":"menuitem"),z(r,"aria-selected",o=t[4]?t[65]==t[5]:""),z(r,"aria-label",i=t[28](t[63],t[8])),z(r,"title",a=t[63].title),z(r,"class",s="emoji "+(t[4]&&t[65]===t[5]?"active":"")),z(r,"id",c="emo-"+t[63].id),this.first=r},m(v,b){At(v,r,b),f.m(r,null)},p(v,b){t=v,d===(d=l(t))&&f?f.p(t,b):(f.d(1),f=d(t),f&&(f.c(),f.m(r,null))),b[0]&16&&n!==(n=t[4]?"option":"menuitem")&&z(r,"role",n),b[0]&32816&&o!==(o=t[4]?t[65]==t[5]:"")&&z(r,"aria-selected",o),b[0]&33024&&i!==(i=t[28](t[63],t[8]))&&z(r,"aria-label",i),b[0]&32768&&a!==(a=t[63].title)&&z(r,"title",a),b[0]&32816&&s!==(s="emoji "+(t[4]&&t[65]===t[5]?"active":""))&&z(r,"class",s),b[0]&32768&&c!==(c="emo-"+t[63].id)&&z(r,"id",c)},d(v){v&&Et(r),f.d()}}}function Nu(e,t){let r,n=(t[4]?t[0].searchResultsLabel:t[66].category?t[66].category:t[15].length>1?t[0].categories.custom:t[0].categories[t[13].name])+"",o,i,a,s,c=[],l=new Hn,d,f,v,b=t[66].emojis;const C=_=>_[63].id;for(let _=0;_<b.length;_+=1){let x=Ru(t,b,_),H=C(x);l.set(H,c[_]=Lu(H,x))}return{key:e,first:null,c(){r=Ue("div"),o=Nt(n),s=Ue("div");for(let _=0;_<c.length;_+=1)c[_].c();z(r,"id",i="menu-label-"+t[65]),z(r,"class",a="category "+(t[15].length===1&&t[15][0].category===""?"gone":"")),z(r,"aria-hidden","true"),z(s,"class","emoji-menu"),z(s,"role",d=t[4]?"listbox":"menu"),z(s,"aria-labelledby",f="menu-label-"+t[65]),z(s,"id",v=t[4]?"search-results":""),this.first=r},m(_,x){At(_,r,x),We(r,o),At(_,s,x);for(let H=0;H<c.length;H+=1)c[H].m(s,null)},p(_,x){t=_,x[0]&40977&&n!==(n=(t[4]?t[0].searchResultsLabel:t[66].category?t[66].category:t[15].length>1?t[0].categories.custom:t[0].categories[t[13].name])+"")&&Dt(o,n),x[0]&32768&&i!==(i="menu-label-"+t[65])&&z(r,"id",i),x[0]&32768&&a!==(a="category "+(t[15].length===1&&t[15][0].category===""?"gone":""))&&z(r,"class",a),x[0]&402686256&&(b=t[66].emojis,c=Un(c,x,C,1,t,b,l,s,Bn,Lu,null,Ru)),x[0]&16&&d!==(d=t[4]?"listbox":"menu")&&z(s,"role",d),x[0]&32768&&f!==(f="menu-label-"+t[65])&&z(s,"aria-labelledby",f),x[0]&16&&v!==(v=t[4]?"search-results":"")&&z(s,"id",v)},d(_){_&&Et(r),_&&Et(s);for(let x=0;x<c.length;x+=1)c[x].d()}}}function Ey(e){let t,r;return{c(){t=Ue("img"),z(t,"class","custom-emoji"),Yo(t.src,r=e[63].url)||z(t,"src",r),z(t,"alt",""),z(t,"loading","lazy")},m(n,o){At(n,t,o)},p(n,o){o[0]&1024&&!Yo(t.src,r=n[63].url)&&z(t,"src",r)},d(n){n&&Et(t)}}}function Cy(e){let t=e[27](e[63],e[8])+"",r;return{c(){r=Nt(t)},m(n,o){At(n,r,o)},p(n,o){o[0]&1280&&t!==(t=n[27](n[63],n[8])+"")&&Dt(r,t)},d(n){n&&Et(r)}}}function Du(e,t){let r,n,o,i;function a(l,d){return l[63].unicode?Cy:Ey}let s=a(t),c=s(t);return{key:e,first:null,c(){r=Ue("button"),c.c(),z(r,"role","menuitem"),z(r,"aria-label",n=t[28](t[63],t[8])),z(r,"title",o=t[63].title),z(r,"class","emoji"),z(r,"id",i="fav-"+t[63].id),this.first=r},m(l,d){At(l,r,d),c.m(r,null)},p(l,d){t=l,s===(s=a(t))&&c?c.p(t,d):(c.d(1),c=s(t),c&&(c.c(),c.m(r,null))),d[0]&1280&&n!==(n=t[28](t[63],t[8]))&&z(r,"aria-label",n),d[0]&1024&&o!==(o=t[63].title)&&z(r,"title",o),d[0]&1024&&i!==(i="fav-"+t[63].id)&&z(r,"id",i)},d(l){l&&Et(r),c.d()}}}function Sy(e){let t,r,n,o,i,a,s,c,l,d=e[0].searchLabel+"",f,v,b=e[0].searchDescription+"",C,_,x,H,W,j,L,D=e[0].skinToneDescription+"",S,R,P=[],q=new Hn,U,F,I,O,p,w=[],T=new Hn,g,h,y,m,u,A,M,X,Z=[],fe=new Hn,de,ue,Re,Ie,ye,Ke=[],k=new Hn,E,K,Q,Y,ne,le,re=e[9];const ie=G=>G[72];for(let G=0;G<re.length;G+=1){let ee=Mu(e,re,G),B=ie(ee);q.set(B,P[G]=Iu(B,ee))}let $=e[12];const ge=G=>G[69].id;for(let G=0;G<$.length;G+=1){let ee=Pu(e,$,G),B=ge(ee);T.set(B,w[G]=ju(B,ee))}let he=e[15];const pe=G=>G[66].category;for(let G=0;G<he.length;G+=1){let ee=Tu(e,he,G),B=pe(ee);fe.set(B,Z[G]=Nu(B,ee))}let we=e[10];const Oe=G=>G[63].id;for(let G=0;G<we.length;G+=1){let ee=Ou(e,we,G),B=Oe(ee);k.set(B,Ke[G]=Du(B,ee))}return{c(){t=Ue("section"),r=Ue("div"),n=Ue("div"),o=Ue("div"),i=Ue("input"),l=Ue("label"),f=Nt(d),v=Ue("span"),C=Nt(b),_=Ue("div"),x=Ue("button"),H=Nt(e[21]),L=Ue("span"),S=Nt(D),R=Ue("div");for(let G=0;G<P.length;G+=1)P[G].c();p=Ue("div");for(let G=0;G<w.length;G+=1)w[G].c();h=Ue("div"),y=Ue("div"),m=Ue("div"),u=Nt(e[18]),M=Ue("div"),X=Ue("div");for(let G=0;G<Z.length;G+=1)Z[G].c();ye=Ue("div");for(let G=0;G<Ke.length;G+=1)Ke[G].c();Q=Ue("button"),Q.textContent="\u{1F600}",z(r,"class","pad-top"),z(i,"id","search"),z(i,"class","search"),z(i,"type","search"),z(i,"role","combobox"),z(i,"enterkeyhint","search"),z(i,"placeholder",a=e[0].searchLabel),z(i,"autocapitalize","none"),z(i,"autocomplete","off"),z(i,"spellcheck","true"),z(i,"aria-expanded",s=!!(e[4]&&e[1].length)),z(i,"aria-controls","search-results"),z(i,"aria-describedby","search-description"),z(i,"aria-autocomplete","list"),z(i,"aria-activedescendant",c=e[26]?`emo-${e[26]}`:""),z(l,"class","sr-only"),z(l,"for","search"),z(v,"id","search-description"),z(v,"class","sr-only"),z(o,"class","search-wrapper"),z(x,"id","skintone-button"),z(x,"class",W="emoji "+(e[6]?"hide-focus":"")),z(x,"aria-label",e[23]),z(x,"title",e[23]),z(x,"aria-describedby","skintone-description"),z(x,"aria-haspopup","listbox"),z(x,"aria-expanded",e[6]),z(x,"aria-controls","skintone-list"),z(_,"class",j="skintone-button-wrapper "+(e[19]?"expanded":"")),z(L,"id","skintone-description"),z(L,"class","sr-only"),z(R,"id","skintone-list"),z(R,"class",U="skintone-list "+(e[6]?"":"hidden no-animate")),nr(R,"transform","translateY("+(e[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),z(R,"role","listbox"),z(R,"aria-label",F=e[0].skinTonesLabel),z(R,"aria-activedescendant",I="skintone-"+e[20]),z(R,"aria-hidden",O=!e[6]),z(n,"class","search-row"),z(p,"class","nav"),z(p,"role","tablist"),nr(p,"grid-template-columns","repeat("+e[12].length+", 1fr)"),z(p,"aria-label",g=e[0].categoriesLabel),z(y,"class","indicator"),nr(y,"transform","translateX("+(e[24]?-1:1)*e[11]*100+"%)"),z(h,"class","indicator-wrapper"),z(m,"class",A="message "+(e[18]?"":"gone")),z(m,"role","alert"),z(m,"aria-live","polite"),z(M,"class",de="tabpanel "+(!e[14]||e[18]?"gone":"")),z(M,"role",ue=e[4]?"region":"tabpanel"),z(M,"aria-label",Re=e[4]?e[0].searchResultsLabel:e[0].categories[e[13].name]),z(M,"id",Ie=e[4]?"":`tab-${e[13].id}`),z(M,"tabindex","0"),z(ye,"class",E="favorites emoji-menu "+(e[18]?"gone":"")),z(ye,"role","menu"),z(ye,"aria-label",K=e[0].favoritesLabel),nr(ye,"padding-inline-end",e[25]+"px"),z(Q,"aria-hidden","true"),z(Q,"tabindex","-1"),z(Q,"class","abs-pos hidden emoji"),z(t,"class","picker"),z(t,"aria-label",Y=e[0].regionLabel),z(t,"style",e[22])},m(G,ee){At(G,t,ee),We(t,r),We(t,n),We(n,o),We(o,i),gu(i,e[2]),We(o,l),We(l,f),We(o,v),We(v,C),We(n,_),We(_,x),We(x,H),We(n,L),We(L,S),We(n,R);for(let B=0;B<P.length;B+=1)P[B].m(R,null);e[48](R),We(t,p);for(let B=0;B<w.length;B+=1)w[B].m(p,null);We(t,h),We(h,y),We(t,m),We(m,u),We(t,M),We(M,X);for(let B=0;B<Z.length;B+=1)Z[B].m(X,null);e[50](M),We(t,ye);for(let B=0;B<Ke.length;B+=1)Ke[B].m(ye,null);We(t,Q),e[51](Q),e[52](t),ne||(le=[Ct(i,"input",e[47]),Ct(i,"keydown",e[30]),Ct(x,"click",e[35]),Ct(R,"focusout",e[38]),Ct(R,"click",e[34]),Ct(R,"keydown",e[36]),Ct(R,"keyup",e[37]),Ct(p,"keydown",e[32]),Wv(e[29].call(null,X)),Ct(M,"click",e[33]),Ct(ye,"click",e[33])],ne=!0)},p(G,ee){ee[0]&1&&a!==(a=G[0].searchLabel)&&z(i,"placeholder",a),ee[0]&18&&s!==(s=!!(G[4]&&G[1].length))&&z(i,"aria-expanded",s),ee[0]&67108864&&c!==(c=G[26]?`emo-${G[26]}`:"")&&z(i,"aria-activedescendant",c),ee[0]&4&&gu(i,G[2]),ee[0]&1&&d!==(d=G[0].searchLabel+"")&&Dt(f,d),ee[0]&1&&b!==(b=G[0].searchDescription+"")&&Dt(C,b),ee[0]&2097152&&Dt(H,G[21]),ee[0]&64&&W!==(W="emoji "+(G[6]?"hide-focus":""))&&z(x,"class",W),ee[0]&8388608&&z(x,"aria-label",G[23]),ee[0]&8388608&&z(x,"title",G[23]),ee[0]&64&&z(x,"aria-expanded",G[6]),ee[0]&524288&&j!==(j="skintone-button-wrapper "+(G[19]?"expanded":""))&&z(_,"class",j),ee[0]&1&&D!==(D=G[0].skinToneDescription+"")&&Dt(S,D),ee[0]&1049089&&(re=G[9],P=Un(P,ee,ie,1,G,re,q,R,Bn,Iu,null,Mu)),ee[0]&64&&U!==(U="skintone-list "+(G[6]?"":"hidden no-animate"))&&z(R,"class",U),ee[0]&64&&nr(R,"transform","translateY("+(G[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),ee[0]&1&&F!==(F=G[0].skinTonesLabel)&&z(R,"aria-label",F),ee[0]&1048576&&I!==(I="skintone-"+G[20])&&z(R,"aria-activedescendant",I),ee[0]&64&&O!==(O=!G[6])&&z(R,"aria-hidden",O),ee[0]&12305|ee[1]&1&&($=G[12],w=Un(w,ee,ge,1,G,$,T,p,Bn,ju,null,Pu)),ee[0]&4096&&nr(p,"grid-template-columns","repeat("+G[12].length+", 1fr)"),ee[0]&1&&g!==(g=G[0].categoriesLabel)&&z(p,"aria-label",g),ee[0]&16779264&&nr(y,"transform","translateX("+(G[24]?-1:1)*G[11]*100+"%)"),ee[0]&262144&&Dt(u,G[18]),ee[0]&262144&&A!==(A="message "+(G[18]?"":"gone"))&&z(m,"class",A),ee[0]&402694449&&(he=G[15],Z=Un(Z,ee,pe,1,G,he,fe,X,Bn,Nu,null,Tu)),ee[0]&278528&&de!==(de="tabpanel "+(!G[14]||G[18]?"gone":""))&&z(M,"class",de),ee[0]&16&&ue!==(ue=G[4]?"region":"tabpanel")&&z(M,"role",ue),ee[0]&8209&&Re!==(Re=G[4]?G[0].searchResultsLabel:G[0].categories[G[13].name])&&z(M,"aria-label",Re),ee[0]&8208&&Ie!==(Ie=G[4]?"":`tab-${G[13].id}`)&&z(M,"id",Ie),ee[0]&402654464&&(we=G[10],Ke=Un(Ke,ee,Oe,1,G,we,k,ye,Bn,Du,null,Ou)),ee[0]&262144&&E!==(E="favorites emoji-menu "+(G[18]?"gone":""))&&z(ye,"class",E),ee[0]&1&&K!==(K=G[0].favoritesLabel)&&z(ye,"aria-label",K),ee[0]&33554432&&nr(ye,"padding-inline-end",G[25]+"px"),ee[0]&1&&Y!==(Y=G[0].regionLabel)&&z(t,"aria-label",Y),ee[0]&4194304&&z(t,"style",G[22])},i:Ln,o:Ln,d(G){G&&Et(t);for(let ee=0;ee<P.length;ee+=1)P[ee].d();e[48](null);for(let ee=0;ee<w.length;ee+=1)w[ee].d();for(let ee=0;ee<Z.length;ee+=1)Z[ee].d();e[50](null);for(let ee=0;ee<Ke.length;ee+=1)Ke[ee].d();e[51](null),e[52](null),ne=!1,Nn(le)}}}function Oy(e,t,r){let{skinToneEmoji:n}=t,{i18n:o}=t,{database:i}=t,{customEmoji:a}=t,{customCategorySorting:s}=t,c=!0,l=[],d=[],f="",v="",b,C,_,x=!1,H=-1,W,j=!1,L=!1,D,S=0,R=0,P,q,U="",F=[],I=[],O,p=sy,w=!1,T=0,g=0,h=Zo,y,m=!1,u;const A=B=>{b.getRootNode().getElementById(B).focus()},M=(B,ce)=>{b.dispatchEvent(new CustomEvent(B,{detail:ce,bubbles:!0,composed:!0}))},X=(B,ce)=>ce&&B.skins&&B.skins[ce]||B.unicode,Z=(B,ce)=>_y([B.name||X(B,ce),...B.shortcodes||[]]).join(", "),fe=B=>/^skintone-/.test(B.id);Hs.then(B=>{B||r(18,W=o.emojiUnsupportedMessage)});function de(B){return wy(B,ce=>{{const xe=getComputedStyle(b),Ge=parseInt(xe.getPropertyValue("--num-columns"),10),et=xe.getPropertyValue("direction")==="rtl",ct=B.parentElement.getBoundingClientRect().width-ce;r(46,p=Ge),r(25,T=ct),r(24,w=et)}})}function ue(B){const ce=b.getRootNode();ky(B,C,Ge=>ce.getElementById(`emo-${Ge.id}`)),r(1,l=l)}function Re(B){return!B.unicode||!xu(B)||zs.get(B.unicode)}async function Ie(B){const ce=await Hs;return B.filter(({version:xe})=>!xe||xe<=ce)}async function ye(B){return yy(B,await Hs)}async function Ke(B){if(typeof B=="undefined")return[];const ce=B===-1?a:await i.getEmojiByGroup(B);return ye(await Ie(ce))}async function k(B){return ye(await Ie(await i.getEmojiBySearchQuery(B)))}function E(B){if(!x||!l.length)return;const ce=xe=>{or(B),r(5,H=qs(xe,H,l))};switch(B.key){case"ArrowDown":return ce(!1);case"ArrowUp":return ce(!0);case"Enter":if(H!==-1)return or(B),Y(l[H].id);l.length&&r(5,H=0)}}function K(B){r(2,f=""),r(44,v=""),r(5,H=-1),r(11,g=h.findIndex(ce=>ce.id===B.id))}function Q(B){const{target:ce,key:xe}=B,Ge=et=>{et&&(or(B),et.focus())};switch(xe){case"ArrowLeft":return Ge(ce.previousSibling);case"ArrowRight":return Ge(ce.nextSibling);case"Home":return Ge(ce.parentElement.firstChild);case"End":return Ge(ce.parentElement.lastChild)}}async function Y(B){const ce=await i.getEmojiByUnicodeOrName(B),xe=[...l,...I].find(et=>et.id===B),Ge=xe.unicode&&X(xe,S);await i.incrementFavoriteEmojiCount(B),M("emoji-click",{emoji:ce,skinTone:S,...Ge&&{unicode:Ge},...xe.name&&{name:xe.name}})}async function ne(B){const{target:ce}=B;if(!ce.classList.contains("emoji"))return;or(B);const xe=ce.id.substring(4);Y(xe)}async function le(B){const{target:ce}=B;if(!fe(ce))return;or(B);const xe=parseInt(ce.id.slice(9),10);r(8,S=xe),r(6,j=!1),A("skintone-button"),M("skin-tone-change",{skinTone:xe}),i.setPreferredSkinTone(xe)}async function re(B){r(6,j=!j),r(20,R=S),j&&(or(B),Jo(()=>A(`skintone-${R}`)))}function ie(B){if(!j)return;const ce=async xe=>{or(B),r(20,R=xe),await Vv(),A(`skintone-${R}`)};switch(B.key){case"ArrowUp":return ce(qs(!0,R,F));case"ArrowDown":return ce(qs(!1,R,F));case"Home":return ce(0);case"End":return ce(F.length-1);case"Enter":return le(B);case"Escape":return or(B),r(6,j=!1),A("skintone-button")}}function $(B){if(!!j)switch(B.key){case" ":return le(B)}}async function ge(B){const{relatedTarget:ce}=B;(!ce||!fe(ce))&&r(6,j=!1)}function he(){f=this.value,r(2,f)}function pe(B){Gr[B?"unshift":"push"](()=>{D=B,r(7,D)})}const we=B=>K(B);function Oe(B){Gr[B?"unshift":"push"](()=>{_=B,r(3,_)})}function G(B){Gr[B?"unshift":"push"](()=>{C=B,r(17,C)})}function ee(B){Gr[B?"unshift":"push"](()=>{b=B,r(16,b)})}return e.$$set=B=>{"skinToneEmoji"in B&&r(40,n=B.skinToneEmoji),"i18n"in B&&r(0,o=B.i18n),"database"in B&&r(39,i=B.database),"customEmoji"in B&&r(41,a=B.customEmoji),"customCategorySorting"in B&&r(42,s=B.customCategorySorting)},e.$$.update=()=>{if(e.$$.dirty[1]&1280&&a&&i&&r(39,i.customEmoji=a,i),e.$$.dirty[0]&1|e.$$.dirty[1]&256){async function B(){let ce=!1;const xe=setTimeout(()=>{ce=!0,r(18,W=o.loadingMessage)},oy);try{await i.ready(),r(14,m=!0)}catch(Ge){console.error(Ge),r(18,W=o.networkErrorMessage)}finally{clearTimeout(xe),ce&&(ce=!1,r(18,W=""))}}i&&B()}if(e.$$.dirty[0]&6144|e.$$.dirty[1]&1024&&(a&&a.length?r(12,h=[ty,...Zo]):h!==Zo&&(g&&r(11,g--,g),r(12,h=Zo))),e.$$.dirty[0]&4&&_u(()=>{r(44,v=(f||"").trim()),r(5,H=-1)}),e.$$.dirty[0]&6144&&r(13,y=h[g]),e.$$.dirty[0]&24576|e.$$.dirty[1]&8192){async function B(){if(!m)r(1,l=[]),r(4,x=!1);else if(v.length>=ry){const ce=v,xe=await k(ce);ce===v&&(r(1,l=xe),r(4,x=!0))}else if(y){const ce=y.id,xe=await Ke(ce);ce===y.id&&(r(1,l=xe),r(4,x=!1))}}B()}if(e.$$.dirty[0]&4112&&r(22,q=`
  --font-family: ${Au};
  --num-groups: ${h.length}; 
  --indicator-opacity: ${x?0:1}; 
  --num-skintones: ${ku};`),e.$$.dirty[0]&16384|e.$$.dirty[1]&256){async function B(){m&&r(8,S=await i.getPreferredSkinTone())}B()}if(e.$$.dirty[1]&512&&r(9,F=Array(ku).fill().map((B,ce)=>vy(n,ce))),e.$$.dirty[0]&768&&r(21,P=F[S]),e.$$.dirty[0]&257&&r(23,U=o.skinToneLabel.replace("{skinTone}",o.skinTones[S])),e.$$.dirty[0]&16384|e.$$.dirty[1]&256){async function B(){r(45,O=(await Promise.all(ay.map(ce=>i.getEmojiByUnicodeOrName(ce)))).filter(Boolean))}m&&B()}if(e.$$.dirty[0]&16384|e.$$.dirty[1]&49408){async function B(){const ce=await i.getTopFavoriteEmoji(p),xe=await ye(Cu([...ce,...O],Ge=>Ge.unicode||Ge.name).slice(0,p));r(10,I=xe)}m&&O&&B()}if(e.$$.dirty[0]&10){const B=l.filter(ce=>ce.unicode).filter(ce=>xu(ce)&&!zs.has(ce.unicode));B.length?Jo(()=>ue(B)):(r(1,l=l.filter(Re)),Jo(()=>{(_||{}).scrollTop=0}))}e.$$.dirty[0]&1026|e.$$.dirty[1]&4096,e.$$.dirty[0]&18|e.$$.dirty[1]&2048&&r(15,d=function(){if(x)return[{category:"",emojis:l}];const ce=new Map;for(const xe of l){const Ge=xe.category||"";let et=ce.get(Ge);et||(et=[],ce.set(Ge,et)),et.push(xe)}return[...ce.entries()].map(([xe,Ge])=>({category:xe,emojis:Ge})).sort((xe,Ge)=>s(xe.category,Ge.category))}()),e.$$.dirty[0]&34&&r(26,u=H!==-1&&l[H].id),e.$$.dirty[0]&192&&(j?D.addEventListener("transitionend",()=>{r(19,L=!0)},{once:!0}):r(19,L=!1))},[o,l,f,_,x,H,j,D,S,F,I,g,h,y,m,d,b,C,W,L,R,P,q,U,w,T,u,X,Z,de,E,K,Q,ne,le,re,ie,$,ge,i,n,a,s,c,v,O,p,he,pe,we,Oe,G,ee]}class Ty extends ey{constructor(t){super(),$v(this,t,Oy,Sy,zv,{skinToneEmoji:40,i18n:0,database:39,customEmoji:41,customCategorySorting:42},null,[-1,-1,-1])}}const Ry="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",Py="en";var My={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading\u2026",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const Fu=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji"];class Bu extends HTMLElement{constructor(t){super(),this.attachShadow({mode:"open"});const r=document.createElement("style");r.textContent=":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}",this.shadowRoot.appendChild(r),this._ctx={locale:Py,dataSource:Ry,skinToneEmoji:iy,customCategorySorting:ly,customEmoji:null,i18n:My,...t};for(const n of Fu)n!=="database"&&Object.prototype.hasOwnProperty.call(this,n)&&(this._ctx[n]=this[n],delete this[n]);this._dbFlush()}connectedCallback(){this._cmp=new Ty({target:this.shadowRoot,props:this._ctx})}disconnectedCallback(){this._cmp.$destroy(),this._cmp=void 0;const{database:t}=this._ctx;t&&t.close().catch(r=>console.error(r))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji"]}attributeChangedCallback(t,r,n){this._set(t.replace(/-([a-z])/g,(o,i)=>i.toUpperCase()),n)}_set(t,r){this._ctx[t]=r,this._cmp&&this._cmp.$set({[t]:r}),["locale","dataSource"].includes(t)&&this._dbFlush()}_dbCreate(){const{locale:t,dataSource:r,database:n}=this._ctx;(!n||n.locale!==t||n.dataSource!==r)&&this._set("database",new du({locale:t,dataSource:r}))}_dbFlush(){Promise.resolve().then(()=>this._dbCreate())}}const Uu={};for(const e of Fu)Uu[e]={get(){return e==="database"&&this._dbCreate(),this._ctx[e]},set(t){if(e==="database")throw new Error("database is read-only");this._set(e,t)}};Object.defineProperties(Bu.prototype,Uu),customElements.get("emoji-picker")||customElements.define("emoji-picker",Bu);function Hu(e,t){for(;e&&!e.querySelector(t);){e=e.parentNode;const r=e.querySelector(t);if(r)return r}return null}const Iy={name:"EmojiPickerContainer",components:{SvgIcon:nt},props:{emojiOpened:{type:Boolean,default:!1},emojiReaction:{type:Boolean,default:!1},positionTop:{type:Boolean,default:!1},positionRight:{type:Boolean,default:!1},messageId:{type:String,default:""},emojiDataSource:{type:String,default:void 0}},emits:["add-emoji","open-emoji"],data(){return{emojiPickerHeight:320,emojiPickerTop:0,emojiPickerRight:""}},watch:{emojiOpened(e){e&&setTimeout(()=>{this.addCustomStyling(),this.$refs.emojiPicker.shadowRoot.addEventListener("emoji-click",({detail:t})=>{this.$emit("add-emoji",{unicode:t.unicode})})},0)}},methods:{addCustomStyling(){const e=`.picker {
				border: none;
			}`,t=`.nav {
				overflow-x: auto;
			}`,r=`.search-wrapper {
				padding-right: 2px;
				padding-left: 2px;
			}`,n=`input.search {
				height: 32px;
				font-size: 14px;
				border-radius: 10rem;
				border: var(--chat-border-style);
				padding: 5px 10px;
				outline: none;
				background: var(--chat-bg-color-input);
				color: var(--chat-color);
			}`,o=document.createElement("style");o.textContent=e+t+r+n,this.$refs.emojiPicker.shadowRoot.appendChild(o)},openEmoji(e){this.$emit("open-emoji",!this.emojiOpened),this.setEmojiPickerPosition(e.clientY,e.view.innerWidth,e.view.innerHeight)},setEmojiPickerPosition(e,t,r){const n=t<500||r<700,o=Hu(this.$el,"#room-footer");if(!o){n&&(this.emojiPickerRight="-50px");return}n?(this.emojiPickerRight=t/2-(this.positionTop?200:150)+"px",this.emojiPickerTop=100,this.emojiPickerHeight=r-200):(o.getBoundingClientRect().top-e>this.emojiPickerHeight-50?this.emojiPickerTop=e+10:this.emojiPickerTop=e-this.emojiPickerHeight-10,this.emojiPickerRight=this.positionTop?"0px":this.positionRight?"60px":"")}}},jy={class:"vac-emoji-wrapper"};function Ly(e,t,r,n,o,i){const a=ve("svg-icon"),s=ve("emoji-picker");return N(),V("div",jy,[J("div",{class:Ee(["vac-svg-button",{"vac-emoji-reaction":r.emojiReaction}]),onClick:t[0]||(t[0]=(...c)=>i.openEmoji&&i.openEmoji(...c))},[se(e.$slots,r.messageId?"emoji-picker-reaction-icon_"+r.messageId:"emoji-picker-icon",{},()=>[ae(a,{name:"emoji",param:r.emojiReaction?"reaction":""},null,8,["param"])])],2),r.emojiOpened?(N(),je(Xe,{key:0,name:"vac-slide-up",appear:""},{default:be(()=>[J("div",{class:Ee(["vac-emoji-picker",{"vac-picker-reaction":r.emojiReaction}]),style:Ve({height:`${o.emojiPickerHeight}px`,top:r.positionTop?o.emojiPickerHeight:`${o.emojiPickerTop}px`,right:o.emojiPickerRight,display:o.emojiPickerTop||!r.emojiReaction?"initial":"none"})},[r.emojiOpened?(N(),je(s,{key:0,ref:"emojiPicker","data-source":r.emojiDataSource},null,8,["data-source"])):oe("",!0)],6)]),_:1})):oe("",!0)])}var zu=ze(Iy,[["render",Ly]]);const Ny={name:"RoomFiles",components:{Loader:wo,SvgIcon:nt},props:{file:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["remove-file"],computed:{isImage(){return qr(this.file)},isVideo(){return Tn(this.file)}}},Dy={class:"vac-room-file-container"},Fy=["src"],By={class:"vac-text-ellipsis"},Uy={key:0,class:"vac-text-ellipsis vac-text-extension"};function Hy(e,t,r,n,o,i){const a=ve("loader"),s=ve("svg-icon");return N(),V("div",Dy,[ae(a,{show:r.file.loading,type:"room-file"},Fe({_:2},[Ae(e.$slots,(c,l)=>({name:l,fn:be(d=>[se(e.$slots,l,De(Ne(d)))])}))]),1032,["show"]),J("div",{class:"vac-svg-button vac-icon-remove",onClick:t[0]||(t[0]=c=>e.$emit("remove-file",r.index))},[se(e.$slots,"image-close-icon",{},()=>[ae(s,{name:"close",param:"image"})])]),i.isImage?(N(),V("div",{key:0,class:Ee(["vac-message-image",{"vac-blur-loading":r.file.loading}]),style:Ve({"background-image":`url('${r.file.localUrl||r.file.url}')`})},null,6)):i.isVideo?(N(),V("video",{key:1,controls:"",class:Ee({"vac-blur-loading":r.file.loading})},[J("source",{src:r.file.localUrl||r.file.url},null,8,Fy)],2)):(N(),V("div",{key:2,class:Ee(["vac-file-container",{"vac-blur-loading":r.file.loading}])},[J("div",null,[se(e.$slots,"file-icon",{},()=>[ae(s,{name:"file"})])]),J("div",By,_e(r.file.name),1),r.file.extension?(N(),V("div",Uy,_e(r.file.extension),1)):oe("",!0)],2))])}var zy=ze(Ny,[["render",Hy]]);const qy={name:"RoomFiles",components:{SvgIcon:nt,RoomFile:zy},props:{files:{type:Array,required:!0}},emits:["remove-file","reset-message"],computed:{}},Wy={key:0,class:"vac-room-files-container"},Vy={class:"vac-files-box"},Ky={class:"vac-icon-close"};function Gy(e,t,r,n,o,i){const a=ve("room-file"),s=ve("svg-icon");return N(),je(Xe,{name:"vac-slide-up"},{default:be(()=>[r.files.length?(N(),V("div",Wy,[J("div",Vy,[(N(!0),V(Me,null,Ae(r.files,(c,l)=>(N(),V("div",{key:l},[ae(a,{file:c,index:l,onRemoveFile:t[0]||(t[0]=d=>e.$emit("remove-file",d))},Fe({_:2},[Ae(e.$slots,(d,f)=>({name:f,fn:be(v=>[se(e.$slots,f,De(Ne(v)))])}))]),1032,["file","index"])]))),128))]),J("div",Ky,[J("div",{class:"vac-svg-button",onClick:t[1]||(t[1]=c=>e.$emit("reset-message"))},[se(e.$slots,"files-close-icon",{},()=>[ae(s,{name:"close-outline"})])])])])):oe("",!0)]),_:3})}var Yy=ze(qy,[["render",Gy]]);const Xy={width:24,height:24,body:'<path fill="currentColor" d="M8 17.175V6.825q0-.425.3-.713t.7-.287q.125 0 .263.037t.262.113l8.15 5.175q.225.15.338.375t.112.475q0 .25-.113.475t-.337.375l-8.15 5.175q-.125.075-.263.113T9 18.175q-.4 0-.7-.288t-.3-.712Z"/>'},Qy={width:24,height:24,body:'<path fill="currentColor" d="M16 19q-.825 0-1.413-.588T14 17V7q0-.825.588-1.413T16 5q.825 0 1.413.588T18 7v10q0 .825-.588 1.413T16 19Zm-8 0q-.825 0-1.413-.588T6 17V7q0-.825.588-1.413T8 5q.825 0 1.413.588T10 7v10q0 .825-.588 1.413T8 19Z"/>'};var qu={exports:{}};/*!
 * wavesurfer.js 6.6.4 (2023-06-10)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */(function(e,t){(function(n,o){e.exports=o()})(self,()=>(()=>{var r={"./src/drawer.canvasentry.js":(a,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=f(c("./src/util/style.js")),d=f(c("./src/util/get-id.js"));function f(j){return j&&j.__esModule?j:{default:j}}function v(j){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},v(j)}function b(j,L){if(!(j instanceof L))throw new TypeError("Cannot call a class as a function")}function C(j,L){for(var D=0;D<L.length;D++){var S=L[D];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(j,x(S.key),S)}}function _(j,L,D){return L&&C(j.prototype,L),D&&C(j,D),Object.defineProperty(j,"prototype",{writable:!1}),j}function x(j){var L=H(j,"string");return v(L)==="symbol"?L:String(L)}function H(j,L){if(v(j)!=="object"||j===null)return j;var D=j[Symbol.toPrimitive];if(D!==void 0){var S=D.call(j,L||"default");if(v(S)!=="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(j)}var W=function(){function j(){b(this,j),this.wave=null,this.waveCtx=null,this.progress=null,this.progressCtx=null,this.start=0,this.end=1,this.id=(0,d.default)(typeof this.constructor.name!="undefined"?this.constructor.name.toLowerCase()+"_":"canvasentry_"),this.canvasContextAttributes={}}return _(j,[{key:"initWave",value:function(D){this.wave=D,this.waveCtx=this.wave.getContext("2d",this.canvasContextAttributes)}},{key:"initProgress",value:function(D){this.progress=D,this.progressCtx=this.progress.getContext("2d",this.canvasContextAttributes)}},{key:"updateDimensions",value:function(D,S,R,P){this.start=this.wave.offsetLeft/S||0,this.end=this.start+D/S,this.wave.width=R,this.wave.height=P;var q={width:D+"px"};(0,l.default)(this.wave,q),this.hasProgressCanvas&&(this.progress.width=R,this.progress.height=P,(0,l.default)(this.progress,q))}},{key:"clearWave",value:function(){this.waveCtx.clearRect(0,0,this.waveCtx.canvas.width,this.waveCtx.canvas.height),this.hasProgressCanvas&&this.progressCtx.clearRect(0,0,this.progressCtx.canvas.width,this.progressCtx.canvas.height)}},{key:"setFillStyles",value:function(D,S){this.waveCtx.fillStyle=this.getFillStyle(this.waveCtx,D),this.hasProgressCanvas&&(this.progressCtx.fillStyle=this.getFillStyle(this.progressCtx,S))}},{key:"getFillStyle",value:function(D,S){if(typeof S=="string"||S instanceof CanvasGradient)return S;var R=D.createLinearGradient(0,0,0,D.canvas.height);return S.forEach(function(P,q){return R.addColorStop(q/S.length,P)}),R}},{key:"applyCanvasTransforms",value:function(D){D&&(this.waveCtx.setTransform(0,1,1,0,0,0),this.hasProgressCanvas&&this.progressCtx.setTransform(0,1,1,0,0,0))}},{key:"fillRects",value:function(D,S,R,P,q){this.fillRectToContext(this.waveCtx,D,S,R,P,q),this.hasProgressCanvas&&this.fillRectToContext(this.progressCtx,D,S,R,P,q)}},{key:"fillRectToContext",value:function(D,S,R,P,q,U){!D||(U?this.drawRoundedRect(D,S,R,P,q,U):D.fillRect(S,R,P,q))}},{key:"drawRoundedRect",value:function(D,S,R,P,q,U){q!==0&&(q<0&&(q*=-1,R-=q),D.beginPath(),D.moveTo(S+U,R),D.lineTo(S+P-U,R),D.quadraticCurveTo(S+P,R,S+P,R+U),D.lineTo(S+P,R+q-U),D.quadraticCurveTo(S+P,R+q,S+P-U,R+q),D.lineTo(S+U,R+q),D.quadraticCurveTo(S,R+q,S,R+q-U),D.lineTo(S,R+U),D.quadraticCurveTo(S,R,S+U,R),D.closePath(),D.fill())}},{key:"drawLines",value:function(D,S,R,P,q,U){this.drawLineToContext(this.waveCtx,D,S,R,P,q,U),this.hasProgressCanvas&&this.drawLineToContext(this.progressCtx,D,S,R,P,q,U)}},{key:"drawLineToContext",value:function(D,S,R,P,q,U,F){if(!!D){var I=S.length/2,O=Math.round(I*this.start),p=Math.round(I*this.end)+1,w=O,T=p,g=this.wave.width/(T-w-1),h=P+q,y=R/P;D.beginPath(),D.moveTo((w-O)*g,h),D.lineTo((w-O)*g,h-Math.round((S[2*w]||0)/y));var m,u,A;for(m=w;m<T;m++)u=S[2*m]||0,A=Math.round(u/y),D.lineTo((m-O)*g+this.halfPixel,h-A);var M=T-1;for(M;M>=w;M--)u=S[2*M+1]||0,A=Math.round(u/y),D.lineTo((M-O)*g+this.halfPixel,h-A);D.lineTo((w-O)*g,h-Math.round((S[2*w+1]||0)/y)),D.closePath(),D.fill()}}},{key:"destroy",value:function(){this.waveCtx=null,this.wave=null,this.progressCtx=null,this.progress=null}},{key:"getImage",value:function(D,S,R){var P=this;if(R==="blob")return new Promise(function(q){P.wave.toBlob(q,D,S)});if(R==="dataURL")return this.wave.toDataURL(D,S)}}]),j}();s.default=W,a.exports=s.default},"./src/drawer.js":(a,s,c)=>{function l(U){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},l(U)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var d=v(c("./src/util/index.js"));function f(U){if(typeof WeakMap!="function")return null;var F=new WeakMap,I=new WeakMap;return(f=function(p){return p?I:F})(U)}function v(U,F){if(!F&&U&&U.__esModule)return U;if(U===null||l(U)!=="object"&&typeof U!="function")return{default:U};var I=f(F);if(I&&I.has(U))return I.get(U);var O={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in U)if(w!=="default"&&Object.prototype.hasOwnProperty.call(U,w)){var T=p?Object.getOwnPropertyDescriptor(U,w):null;T&&(T.get||T.set)?Object.defineProperty(O,w,T):O[w]=U[w]}return O.default=U,I&&I.set(U,O),O}function b(U,F){if(!(U instanceof F))throw new TypeError("Cannot call a class as a function")}function C(U,F){for(var I=0;I<F.length;I++){var O=F[I];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(U,x(O.key),O)}}function _(U,F,I){return F&&C(U.prototype,F),I&&C(U,I),Object.defineProperty(U,"prototype",{writable:!1}),U}function x(U){var F=H(U,"string");return l(F)==="symbol"?F:String(F)}function H(U,F){if(l(U)!=="object"||U===null)return U;var I=U[Symbol.toPrimitive];if(I!==void 0){var O=I.call(U,F||"default");if(l(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(F==="string"?String:Number)(U)}function W(U,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(F&&F.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),F&&j(U,F)}function j(U,F){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,p){return O.__proto__=p,O},j(U,F)}function L(U){var F=R();return function(){var O=P(U),p;if(F){var w=P(this).constructor;p=Reflect.construct(O,arguments,w)}else p=O.apply(this,arguments);return D(this,p)}}function D(U,F){if(F&&(l(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(U)}function S(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function R(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function P(U){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},P(U)}var q=function(U){W(I,U);var F=L(I);function I(O,p){var w;return b(this,I),w=F.call(this),w.container=d.withOrientation(O,p.vertical),w.params=p,w.width=0,w.height=p.height*w.params.pixelRatio,w.lastPos=0,w.wrapper=null,w}return _(I,[{key:"style",value:function(p,w){return d.style(p,w)}},{key:"createWrapper",value:function(){this.wrapper=d.withOrientation(this.container.appendChild(document.createElement("wave")),this.params.vertical),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",cursor:this.params.hideCursor?"none":"auto",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()}},{key:"handleEvent",value:function(p,w){!w&&p.preventDefault();var T=d.withOrientation(p.targetTouches?p.targetTouches[0]:p,this.params.vertical).clientX,g=this.wrapper.getBoundingClientRect(),h=this.width,y=this.getWidth(),m=this.getProgressPixels(g,T),u;return!this.params.fillParent&&h<y?u=m*(this.params.pixelRatio/h)||0:u=(m+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,d.clamp(u,0,1)}},{key:"getProgressPixels",value:function(p,w){return this.params.rtl?p.right-w:w-p.left}},{key:"setupWrapperEvents",value:function(){var p=this;this.wrapper.addEventListener("click",function(w){var T=d.withOrientation(w,p.params.vertical),g=p.wrapper.offsetHeight-p.wrapper.clientHeight;if(g!==0){var h=p.wrapper.getBoundingClientRect();if(T.clientY>=h.bottom-g)return}p.params.interact&&p.fireEvent("click",w,p.handleEvent(w))}),this.wrapper.addEventListener("dblclick",function(w){p.params.interact&&p.fireEvent("dblclick",w,p.handleEvent(w))}),this.wrapper.addEventListener("scroll",function(w){return p.fireEvent("scroll",w)})}},{key:"drawPeaks",value:function(p,w,T,g){this.setWidth(w)||this.clearWave(),this.params.barWidth?this.drawBars(p,0,T,g):this.drawWave(p,0,T,g)}},{key:"resetScroll",value:function(){this.wrapper!==null&&(this.wrapper.scrollLeft=0)}},{key:"recenter",value:function(p){var w=this.wrapper.scrollWidth*p;this.recenterOnPosition(w,!0)}},{key:"recenterOnPosition",value:function(p,w){var T=this.wrapper.scrollLeft,g=~~(this.wrapper.clientWidth/2),h=this.wrapper.scrollWidth-this.wrapper.clientWidth,y=p-g,m=y-T;if(h!=0){if(!w&&-g<=m&&m<g){var u=this.params.autoCenterRate;u/=g,u*=h,m=Math.max(-u,Math.min(u,m)),y=T+m}y=Math.max(0,Math.min(h,y)),y!=T&&(this.wrapper.scrollLeft=y)}}},{key:"getScrollX",value:function(){var p=0;if(this.wrapper){var w=this.params.pixelRatio;if(p=Math.round(this.wrapper.scrollLeft*w),this.params.scrollParent){var T=~~(this.wrapper.scrollWidth*w-this.getWidth());p=Math.min(T,Math.max(0,p))}}return p}},{key:"getWidth",value:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)}},{key:"setWidth",value:function(p){if(this.width==p)return!1;if(this.width=p,this.params.fillParent||this.params.scrollParent)this.style(this.wrapper,{width:""});else{var w=~~(this.width/this.params.pixelRatio)+"px";this.style(this.wrapper,{width:w})}return this.updateSize(),!0}},{key:"setHeight",value:function(p){return p==this.height?!1:(this.height=p,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"progress",value:function(p){var w=1/this.params.pixelRatio,T=Math.round(p*this.width)*w;if(T<this.lastPos||T-this.lastPos>=w){if(this.lastPos=T,this.params.scrollParent&&this.params.autoCenter){var g=~~(this.wrapper.scrollWidth*p);this.recenterOnPosition(g,this.params.autoCenterImmediately)}this.updateProgress(T)}}},{key:"destroy",value:function(){this.unAll(),this.wrapper&&(this.wrapper.parentNode==this.container.domElement&&this.container.removeChild(this.wrapper.domElement),this.wrapper=null)}},{key:"updateCursor",value:function(){}},{key:"updateSize",value:function(){}},{key:"drawBars",value:function(p,w,T,g){}},{key:"drawWave",value:function(p,w,T,g){}},{key:"clearWave",value:function(){}},{key:"updateProgress",value:function(p){}}]),I}(d.Observer);s.default=q,a.exports=s.default},"./src/drawer.multicanvas.js":(a,s,c)=>{function l(O){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},l(O)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var d=_(c("./src/drawer.js")),f=C(c("./src/util/index.js")),v=_(c("./src/drawer.canvasentry.js"));function b(O){if(typeof WeakMap!="function")return null;var p=new WeakMap,w=new WeakMap;return(b=function(g){return g?w:p})(O)}function C(O,p){if(!p&&O&&O.__esModule)return O;if(O===null||l(O)!=="object"&&typeof O!="function")return{default:O};var w=b(p);if(w&&w.has(O))return w.get(O);var T={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in O)if(h!=="default"&&Object.prototype.hasOwnProperty.call(O,h)){var y=g?Object.getOwnPropertyDescriptor(O,h):null;y&&(y.get||y.set)?Object.defineProperty(T,h,y):T[h]=O[h]}return T.default=O,w&&w.set(O,T),T}function _(O){return O&&O.__esModule?O:{default:O}}function x(O,p){if(!(O instanceof p))throw new TypeError("Cannot call a class as a function")}function H(O,p){for(var w=0;w<p.length;w++){var T=p[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,j(T.key),T)}}function W(O,p,w){return p&&H(O.prototype,p),w&&H(O,w),Object.defineProperty(O,"prototype",{writable:!1}),O}function j(O){var p=L(O,"string");return l(p)==="symbol"?p:String(p)}function L(O,p){if(l(O)!=="object"||O===null)return O;var w=O[Symbol.toPrimitive];if(w!==void 0){var T=w.call(O,p||"default");if(l(T)!=="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(O)}function D(O,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(p&&p.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),p&&S(O,p)}function S(O,p){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,g){return T.__proto__=g,T},S(O,p)}function R(O){var p=U();return function(){var T=F(O),g;if(p){var h=F(this).constructor;g=Reflect.construct(T,arguments,h)}else g=T.apply(this,arguments);return P(this,g)}}function P(O,p){if(p&&(l(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(O)}function q(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function U(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(O){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)},F(O)}var I=function(O){D(w,O);var p=R(w);function w(T,g){var h;return x(this,w),h=p.call(this,T,g),h.maxCanvasWidth=g.maxCanvasWidth,h.maxCanvasElementWidth=Math.round(g.maxCanvasWidth/g.pixelRatio),h.hasProgressCanvas=g.waveColor!=g.progressColor,h.halfPixel=.5/g.pixelRatio,h.canvases=[],h.progressWave=null,h.EntryClass=v.default,h.canvasContextAttributes=g.drawingContextAttributes,h.overlap=2*Math.ceil(g.pixelRatio/2),h.barRadius=g.barRadius||0,h.vertical=g.vertical,h}return W(w,[{key:"init",value:function(){this.createWrapper(),this.createElements()}},{key:"createElements",value:function(){this.progressWave=f.withOrientation(this.wrapper.appendChild(document.createElement("wave")),this.params.vertical),this.style(this.progressWave,{position:"absolute",zIndex:3,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",pointerEvents:"none"}),this.addCanvas(),this.updateCursor()}},{key:"updateCursor",value:function(){this.style(this.progressWave,{borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})}},{key:"updateSize",value:function(){for(var g=this,h=Math.round(this.width/this.params.pixelRatio),y=Math.ceil(h/(this.maxCanvasElementWidth+this.overlap));this.canvases.length<y;)this.addCanvas();for(;this.canvases.length>y;)this.removeCanvas();var m=this.maxCanvasWidth+this.overlap,u=this.canvases.length-1;this.canvases.forEach(function(A,M){M==u&&(m=g.width-g.maxCanvasWidth*u),g.updateDimensions(A,m,g.height),A.clearWave()})}},{key:"addCanvas",value:function(){var g=new this.EntryClass;g.canvasContextAttributes=this.canvasContextAttributes,g.hasProgressCanvas=this.hasProgressCanvas,g.halfPixel=this.halfPixel;var h=this.maxCanvasElementWidth*this.canvases.length,y=f.withOrientation(this.wrapper.appendChild(document.createElement("canvas")),this.params.vertical);if(this.style(y,{position:"absolute",zIndex:2,left:h+"px",top:0,bottom:0,height:"100%",pointerEvents:"none"}),g.initWave(y),this.hasProgressCanvas){var m=f.withOrientation(this.progressWave.appendChild(document.createElement("canvas")),this.params.vertical);this.style(m,{position:"absolute",left:h+"px",top:0,bottom:0,height:"100%"}),g.initProgress(m)}this.canvases.push(g)}},{key:"removeCanvas",value:function(){var g=this.canvases[this.canvases.length-1];g.wave.parentElement.removeChild(g.wave.domElement),this.hasProgressCanvas&&g.progress.parentElement.removeChild(g.progress.domElement),g&&(g.destroy(),g=null),this.canvases.pop()}},{key:"updateDimensions",value:function(g,h,y){var m=Math.round(h/this.params.pixelRatio),u=Math.round(this.width/this.params.pixelRatio);g.updateDimensions(m,u,h,y),this.style(this.progressWave,{display:"block"})}},{key:"clearWave",value:function(){var g=this;f.frame(function(){g.canvases.forEach(function(h){return h.clearWave()})})()}},{key:"drawBars",value:function(g,h,y,m){var u=this;return this.prepareDraw(g,h,y,m,function(A){var M=A.absmax,X=A.hasMinVals;A.height;var Z=A.offsetY,fe=A.halfH,de=A.peaks,ue=A.channelIndex;if(y!==void 0){var Re=X?2:1,Ie=de.length/Re,ye=u.params.barWidth*u.params.pixelRatio,Ke=u.params.barGap===null?Math.max(u.params.pixelRatio,~~(ye/2)):Math.max(u.params.pixelRatio,u.params.barGap*u.params.pixelRatio),k=ye+Ke,E=Ie/u.width,K=y,Q=m,Y=K;for(Y;Y<Q;Y+=k){var ne=0,le=Math.floor(Y*E)*Re,re=Math.floor((Y+k)*E)*Re;do{var ie=Math.abs(de[le]);ie>ne&&(ne=ie),le+=Re}while(le<re);var $=Math.round(ne/M*fe);u.params.barMinHeight&&($=Math.max($,u.params.barMinHeight)),u.fillRect(Y+u.halfPixel,fe-$+Z,ye+u.halfPixel,$*2,u.barRadius,ue)}}})}},{key:"drawWave",value:function(g,h,y,m){var u=this;return this.prepareDraw(g,h,y,m,function(A){var M=A.absmax,X=A.hasMinVals;A.height;var Z=A.offsetY,fe=A.halfH,de=A.peaks,ue=A.channelIndex;if(!X){var Re=[],Ie=de.length,ye=0;for(ye;ye<Ie;ye++)Re[2*ye]=de[ye],Re[2*ye+1]=-de[ye];de=Re}y!==void 0&&u.drawLine(de,M,fe,Z,y,m,ue),u.fillRect(0,fe+Z-u.halfPixel,u.width,u.halfPixel,u.barRadius,ue)})}},{key:"drawLine",value:function(g,h,y,m,u,A,M){var X=this,Z=this.params.splitChannelsOptions.channelColors[M]||{},fe=Z.waveColor,de=Z.progressColor;this.canvases.forEach(function(ue,Re){X.setFillStyles(ue,fe,de),X.applyCanvasTransforms(ue,X.params.vertical),ue.drawLines(g,h,y,m,u,A)})}},{key:"fillRect",value:function(g,h,y,m,u,A){var M=Math.floor(g/this.maxCanvasWidth),X=Math.min(Math.ceil((g+y)/this.maxCanvasWidth)+1,this.canvases.length),Z=M;for(Z;Z<X;Z++){var fe=this.canvases[Z],de=Z*this.maxCanvasWidth,ue={x1:Math.max(g,Z*this.maxCanvasWidth),y1:h,x2:Math.min(g+y,Z*this.maxCanvasWidth+fe.wave.width),y2:h+m};if(ue.x1<ue.x2){var Re=this.params.splitChannelsOptions.channelColors[A]||{},Ie=Re.waveColor,ye=Re.progressColor;this.setFillStyles(fe,Ie,ye),this.applyCanvasTransforms(fe,this.params.vertical),fe.fillRects(ue.x1-de,ue.y1,ue.x2-ue.x1,ue.y2-ue.y1,u)}}}},{key:"hideChannel",value:function(g){return this.params.splitChannels&&this.params.splitChannelsOptions.filterChannels.includes(g)}},{key:"prepareDraw",value:function(g,h,y,m,u,A,M){var X=this;return f.frame(function(){if(g[0]instanceof Array){var Z=g;if(X.params.splitChannels){var fe=Z.filter(function(k,E){return!X.hideChannel(E)});X.params.splitChannelsOptions.overlay||X.setHeight(Math.max(fe.length,1)*X.params.height*X.params.pixelRatio);var de;return X.params.splitChannelsOptions&&X.params.splitChannelsOptions.relativeNormalization&&(de=f.max(Z.map(function(k){return f.absMax(k)}))),Z.forEach(function(k,E){return X.prepareDraw(k,E,y,m,u,fe.indexOf(k),de)})}g=Z[0]}if(!X.hideChannel(h)){var ue=1/X.params.barHeight;X.params.normalize&&(ue=M===void 0?f.absMax(g):M);var Re=[].some.call(g,function(k){return k<0}),Ie=X.params.height*X.params.pixelRatio,ye=Ie/2,Ke=Ie*A||0;return X.params.splitChannelsOptions&&X.params.splitChannelsOptions.overlay&&(Ke=0),u({absmax:ue,hasMinVals:Re,height:Ie,offsetY:Ke,halfH:ye,peaks:g,channelIndex:h})}})()}},{key:"setFillStyles",value:function(g){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.params.waveColor,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.params.progressColor;g.setFillStyles(h,y)}},{key:"applyCanvasTransforms",value:function(g){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;g.applyCanvasTransforms(h)}},{key:"getImage",value:function(g,h,y){if(y==="blob")return Promise.all(this.canvases.map(function(u){return u.getImage(g,h,y)}));if(y==="dataURL"){var m=this.canvases.map(function(u){return u.getImage(g,h,y)});return m.length>1?m:m[0]}}},{key:"updateProgress",value:function(g){this.style(this.progressWave,{width:g+"px"})}}]),w}(d.default);s.default=I,a.exports=s.default},"./src/mediaelement-webaudio.js":(a,s,c)=>{function l(F){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},l(F)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var d=f(c("./src/mediaelement.js"));function f(F){return F&&F.__esModule?F:{default:F}}function v(F,I){if(!(F instanceof I))throw new TypeError("Cannot call a class as a function")}function b(F,I){for(var O=0;O<I.length;O++){var p=I[O];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(F,_(p.key),p)}}function C(F,I,O){return I&&b(F.prototype,I),O&&b(F,O),Object.defineProperty(F,"prototype",{writable:!1}),F}function _(F){var I=x(F,"string");return l(I)==="symbol"?I:String(I)}function x(F,I){if(l(F)!=="object"||F===null)return F;var O=F[Symbol.toPrimitive];if(O!==void 0){var p=O.call(F,I||"default");if(l(p)!=="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(F)}function H(){return typeof Reflect!="undefined"&&Reflect.get?H=Reflect.get.bind():H=function(I,O,p){var w=W(I,O);if(!!w){var T=Object.getOwnPropertyDescriptor(w,O);return T.get?T.get.call(arguments.length<3?I:p):T.value}},H.apply(this,arguments)}function W(F,I){for(;!Object.prototype.hasOwnProperty.call(F,I)&&(F=q(F),F!==null););return F}function j(F,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(I&&I.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),I&&L(F,I)}function L(F,I){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,w){return p.__proto__=w,p},L(F,I)}function D(F){var I=P();return function(){var p=q(F),w;if(I){var T=q(this).constructor;w=Reflect.construct(p,arguments,T)}else w=p.apply(this,arguments);return S(this,w)}}function S(F,I){if(I&&(l(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(F)}function R(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function P(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q(F){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},q(F)}var U=function(F){j(O,F);var I=D(O);function O(p){var w;return v(this,O),w=I.call(this,p),w.params=p,w.sourceMediaElement=null,w}return C(O,[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer(),this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode()}},{key:"_load",value:function(w,T,g){H(q(O.prototype),"_load",this).call(this,w,T,g),this.createMediaElementSource(w)}},{key:"createMediaElementSource",value:function(w){this.sourceMediaElement=this.ac.createMediaElementSource(w),this.sourceMediaElement.connect(this.analyser)}},{key:"play",value:function(w,T){return this.resumeAudioContext(),H(q(O.prototype),"play",this).call(this,w,T)}},{key:"destroy",value:function(){H(q(O.prototype),"destroy",this).call(this),this.destroyWebAudio()}}]),O}(d.default);s.default=U,a.exports=s.default},"./src/mediaelement.js":(a,s,c)=>{function l(p){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},l(p)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var d=C(c("./src/webaudio.js")),f=b(c("./src/util/index.js"));function v(p){if(typeof WeakMap!="function")return null;var w=new WeakMap,T=new WeakMap;return(v=function(h){return h?T:w})(p)}function b(p,w){if(!w&&p&&p.__esModule)return p;if(p===null||l(p)!=="object"&&typeof p!="function")return{default:p};var T=v(w);if(T&&T.has(p))return T.get(p);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in p)if(y!=="default"&&Object.prototype.hasOwnProperty.call(p,y)){var m=h?Object.getOwnPropertyDescriptor(p,y):null;m&&(m.get||m.set)?Object.defineProperty(g,y,m):g[y]=p[y]}return g.default=p,T&&T.set(p,g),g}function C(p){return p&&p.__esModule?p:{default:p}}function _(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}function x(p,w){for(var T=0;T<w.length;T++){var g=w[T];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,W(g.key),g)}}function H(p,w,T){return w&&x(p.prototype,w),T&&x(p,T),Object.defineProperty(p,"prototype",{writable:!1}),p}function W(p){var w=j(p,"string");return l(w)==="symbol"?w:String(w)}function j(p,w){if(l(p)!=="object"||p===null)return p;var T=p[Symbol.toPrimitive];if(T!==void 0){var g=T.call(p,w||"default");if(l(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(p)}function L(){return typeof Reflect!="undefined"&&Reflect.get?L=Reflect.get.bind():L=function(w,T,g){var h=D(w,T);if(!!h){var y=Object.getOwnPropertyDescriptor(h,T);return y.get?y.get.call(arguments.length<3?w:g):y.value}},L.apply(this,arguments)}function D(p,w){for(;!Object.prototype.hasOwnProperty.call(p,w)&&(p=I(p),p!==null););return p}function S(p,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(w&&w.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),w&&R(p,w)}function R(p,w){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,h){return g.__proto__=h,g},R(p,w)}function P(p){var w=F();return function(){var g=I(p),h;if(w){var y=I(this).constructor;h=Reflect.construct(g,arguments,y)}else h=g.apply(this,arguments);return q(this,h)}}function q(p,w){if(w&&(l(w)==="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(p)}function U(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function F(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function I(p){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)},I(p)}var O=function(p){S(T,p);var w=P(T);function T(g){var h;return _(this,T),h=w.call(this,g),h.params=g,h.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){},volume:0},h.mediaType=g.mediaType.toLowerCase(),h.elementPosition=g.elementPosition,h.peaks=null,h.playbackRate=1,h.volume=1,h.isMuted=!1,h.buffer=null,h.onPlayEnd=null,h.mediaListeners={},h}return H(T,[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer()}},{key:"_setupMediaListeners",value:function(){var h=this;this.mediaListeners.error=function(){h.fireEvent("error","Error loading media element")},this.mediaListeners.waiting=function(){h.fireEvent("waiting")},this.mediaListeners.canplay=function(){h.fireEvent("canplay")},this.mediaListeners.ended=function(){h.fireEvent("finish")},this.mediaListeners.play=function(){h.fireEvent("play")},this.mediaListeners.pause=function(){h.fireEvent("pause")},this.mediaListeners.seeked=function(y){h.fireEvent("seek")},this.mediaListeners.volumechange=function(y){h.isMuted=h.media.muted,h.isMuted?h.volume=0:h.volume=h.media.volume,h.fireEvent("volume")},Object.keys(this.mediaListeners).forEach(function(y){h.media.removeEventListener(y,h.mediaListeners[y]),h.media.addEventListener(y,h.mediaListeners[y])})}},{key:"createTimer",value:function(){var h=this,y=function m(){h.isPaused()||(h.fireEvent("audioprocess",h.getCurrentTime()),f.frame(m)())};this.on("play",y),this.on("pause",function(){h.fireEvent("audioprocess",h.getCurrentTime())})}},{key:"load",value:function(h,y,m,u){var A=document.createElement(this.mediaType);A.controls=this.params.mediaControls,A.autoplay=this.params.autoplay||!1,A.preload=u==null?"auto":u,A.src=h,A.style.width="100%";var M=y.querySelector(this.mediaType);M&&y.removeChild(M),y.appendChild(A),this._load(A,m,u)}},{key:"loadElt",value:function(h,y){h.controls=this.params.mediaControls,h.autoplay=this.params.autoplay||!1,this._load(h,y,h.preload)}},{key:"_load",value:function(h,y,m){if(!(h instanceof HTMLMediaElement)||typeof h.addEventListener=="undefined")throw new Error("media parameter is not a valid media element");typeof h.load=="function"&&!(y&&m=="none")&&h.load(),this.media=h,this._setupMediaListeners(),this.peaks=y,this.onPlayEnd=null,this.buffer=null,this.isMuted=h.muted,this.setPlaybackRate(this.playbackRate),this.setVolume(this.volume)}},{key:"isPaused",value:function(){return!this.media||this.media.paused}},{key:"getDuration",value:function(){if(this.explicitDuration)return this.explicitDuration;var h=(this.buffer||this.media).duration;return h>=1/0&&(h=this.media.seekable.end(0)),h}},{key:"getCurrentTime",value:function(){return this.media&&this.media.currentTime}},{key:"getPlayedPercents",value:function(){return this.getCurrentTime()/this.getDuration()||0}},{key:"getPlaybackRate",value:function(){return this.playbackRate||this.media.playbackRate}},{key:"setPlaybackRate",value:function(h){this.playbackRate=h||1,this.media.playbackRate=this.playbackRate}},{key:"seekTo",value:function(h){h!=null&&!isNaN(h)&&(this.media.currentTime=h),this.clearPlayEnd()}},{key:"play",value:function(h,y){this.seekTo(h);var m=this.media.play();return y&&this.setPlayEnd(y),m}},{key:"pause",value:function(){var h;return this.media&&(h=this.media.pause()),this.clearPlayEnd(),h}},{key:"setPlayEnd",value:function(h){var y=this;this.clearPlayEnd(),this._onPlayEnd=function(m){m>=h&&(y.pause(),y.seekTo(h))},this.on("audioprocess",this._onPlayEnd)}},{key:"clearPlayEnd",value:function(){this._onPlayEnd&&(this.un("audioprocess",this._onPlayEnd),this._onPlayEnd=null)}},{key:"getPeaks",value:function(h,y,m){return this.buffer?L(I(T.prototype),"getPeaks",this).call(this,h,y,m):this.peaks||[]}},{key:"setSinkId",value:function(h){return h?this.media.setSinkId?this.media.setSinkId(h):Promise.reject(new Error("setSinkId is not supported in your browser")):Promise.reject(new Error("Invalid deviceId: "+h))}},{key:"getVolume",value:function(){return this.volume}},{key:"setVolume",value:function(h){this.volume=h,this.media.volume!==this.volume&&(this.media.volume=this.volume)}},{key:"setMute",value:function(h){this.isMuted=this.media.muted=h}},{key:"destroy",value:function(){var h=this;this.pause(),this.unAll(),this.destroyed=!0,Object.keys(this.mediaListeners).forEach(function(y){h.media&&h.media.removeEventListener(y,h.mediaListeners[y])}),this.params.removeMediaElementOnDestroy&&this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}]),T}(d.default);s.default=O,a.exports=s.default},"./src/peakcache.js":(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;function c(_){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},c(_)}function l(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function d(_,x){for(var H=0;H<x.length;H++){var W=x[H];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(_,v(W.key),W)}}function f(_,x,H){return x&&d(_.prototype,x),H&&d(_,H),Object.defineProperty(_,"prototype",{writable:!1}),_}function v(_){var x=b(_,"string");return c(x)==="symbol"?x:String(x)}function b(_,x){if(c(_)!=="object"||_===null)return _;var H=_[Symbol.toPrimitive];if(H!==void 0){var W=H.call(_,x||"default");if(c(W)!=="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(_)}var C=function(){function _(){l(this,_),this.clearPeakCache()}return f(_,[{key:"clearPeakCache",value:function(){this.peakCacheRanges=[],this.peakCacheLength=-1}},{key:"addRangeToPeakCache",value:function(H,W,j){H!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=H);for(var L=[],D=0;D<this.peakCacheRanges.length&&this.peakCacheRanges[D]<W;)D++;for(D%2==0&&L.push(W);D<this.peakCacheRanges.length&&this.peakCacheRanges[D]<=j;)L.push(this.peakCacheRanges[D]),D++;D%2==0&&L.push(j),L=L.filter(function(R,P,q){return P==0?R!=q[P+1]:P==q.length-1?R!=q[P-1]:R!=q[P-1]&&R!=q[P+1]}),this.peakCacheRanges=this.peakCacheRanges.concat(L),this.peakCacheRanges=this.peakCacheRanges.sort(function(R,P){return R-P}).filter(function(R,P,q){return P==0?R!=q[P+1]:P==q.length-1?R!=q[P-1]:R!=q[P-1]&&R!=q[P+1]});var S=[];for(D=0;D<L.length;D+=2)S.push([L[D],L[D+1]]);return S}},{key:"getCacheRanges",value:function(){var H=[],W;for(W=0;W<this.peakCacheRanges.length;W+=2)H.push([this.peakCacheRanges[W],this.peakCacheRanges[W+1]]);return H}}]),_}();s.default=C,a.exports=s.default},"./src/util/absMax.js":(a,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=v;var l=f(c("./src/util/max.js")),d=f(c("./src/util/min.js"));function f(b){return b&&b.__esModule?b:{default:b}}function v(b){var C=(0,l.default)(b),_=(0,d.default)(b);return-_>C?-_:C}a.exports=s.default},"./src/util/clamp.js":(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=c;function c(l,d,f){return Math.min(Math.max(d,l),f)}a.exports=s.default},"./src/util/fetch.js":(a,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=W;var l=d(c("./src/util/observer.js"));function d(j){return j&&j.__esModule?j:{default:j}}function f(j){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},f(j)}function v(j,L){if(!(j instanceof L))throw new TypeError("Cannot call a class as a function")}function b(j,L){for(var D=0;D<L.length;D++){var S=L[D];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(j,_(S.key),S)}}function C(j,L,D){return L&&b(j.prototype,L),D&&b(j,D),Object.defineProperty(j,"prototype",{writable:!1}),j}function _(j){var L=x(j,"string");return f(L)==="symbol"?L:String(L)}function x(j,L){if(f(j)!=="object"||j===null)return j;var D=j[Symbol.toPrimitive];if(D!==void 0){var S=D.call(j,L||"default");if(f(S)!=="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(j)}var H=function(){function j(L,D,S){v(this,j),this.instance=L,this.instance._reader=S.body.getReader(),this.total=parseInt(D,10),this.loaded=0}return C(j,[{key:"start",value:function(D){var S=this,R=function P(){S.instance._reader.read().then(function(q){var U=q.done,F=q.value;if(U){S.total===0&&S.instance.onProgress.call(S.instance,{loaded:S.loaded,total:S.total,lengthComputable:!1}),D.close();return}S.loaded+=F.byteLength,S.instance.onProgress.call(S.instance,{loaded:S.loaded,total:S.total,lengthComputable:S.total!==0}),D.enqueue(F),P()}).catch(function(q){D.error(q)})};R()}}]),j}();function W(j){if(j){if(!j.url)throw new Error("fetch url missing")}else throw new Error("fetch options missing");var L=new l.default,D=new Headers,S=new Request(j.url);L.controller=new AbortController,j&&j.requestHeaders&&j.requestHeaders.forEach(function(q){D.append(q.key,q.value)});var R=j.responseType||"json",P={method:j.method||"GET",headers:D,mode:j.mode||"cors",credentials:j.credentials||"same-origin",cache:j.cache||"default",redirect:j.redirect||"follow",referrer:j.referrer||"client",signal:L.controller.signal};return fetch(S,P).then(function(q){L.response=q;var U=!0;q.body||(U=!1);var F=q.headers.get("content-length");return F===null&&(U=!1),U?(L.onProgress=function(I){L.fireEvent("progress",I)},new Response(new ReadableStream(new H(L,F,q)),P)):q}).then(function(q){var U;if(q.ok)switch(R){case"arraybuffer":return q.arrayBuffer();case"json":return q.json();case"blob":return q.blob();case"text":return q.text();default:U="Unknown responseType: "+R;break}throw U||(U="HTTP error status: "+q.status),new Error(U)}).then(function(q){L.fireEvent("success",q)}).catch(function(q){L.fireEvent("error",q)}),L.fetchRequest=S,L}a.exports=s.default},"./src/util/frame.js":(a,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=f;var l=d(c("./src/util/request-animation-frame.js"));function d(v){return v&&v.__esModule?v:{default:v}}function f(v){return function(){for(var b=arguments.length,C=new Array(b),_=0;_<b;_++)C[_]=arguments[_];return(0,l.default)(function(){return v.apply(void 0,C)})}}a.exports=s.default},"./src/util/get-id.js":(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=c;function c(l){return l===void 0&&(l="wavesurfer_"),l+Math.random().toString(32).substring(2)}a.exports=s.default},"./src/util/index.js":(a,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"Observer",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(s,"absMax",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(s,"clamp",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(s,"debounce",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(s,"fetchFile",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(s,"frame",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(s,"getId",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(s,"ignoreSilenceMode",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(s,"max",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(s,"min",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(s,"preventClick",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(s,"requestAnimationFrame",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(s,"style",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(s,"withOrientation",{enumerable:!0,get:function(){return D.default}});var l=R(c("./src/util/get-id.js")),d=R(c("./src/util/max.js")),f=R(c("./src/util/min.js")),v=R(c("./src/util/absMax.js")),b=R(c("./src/util/observer.js")),C=R(c("./src/util/style.js")),_=R(c("./src/util/request-animation-frame.js")),x=R(c("./src/util/frame.js")),H=R(c("./node_modules/debounce/index.js")),W=R(c("./src/util/prevent-click.js")),j=R(c("./src/util/fetch.js")),L=R(c("./src/util/clamp.js")),D=R(c("./src/util/orientation.js")),S=R(c("./src/util/silence-mode.js"));function R(P){return P&&P.__esModule?P:{default:P}}},"./src/util/max.js":(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=c;function c(l){var d=-1/0;return Object.keys(l).forEach(function(f){l[f]>d&&(d=l[f])}),d}a.exports=s.default},"./src/util/min.js":(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=c;function c(l){var d=Number(1/0);return Object.keys(l).forEach(function(f){l[f]<d&&(d=l[f])}),d}a.exports=s.default},"./src/util/observer.js":(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;function c(_){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},c(_)}function l(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function d(_,x){for(var H=0;H<x.length;H++){var W=x[H];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(_,v(W.key),W)}}function f(_,x,H){return x&&d(_.prototype,x),H&&d(_,H),Object.defineProperty(_,"prototype",{writable:!1}),_}function v(_){var x=b(_,"string");return c(x)==="symbol"?x:String(x)}function b(_,x){if(c(_)!=="object"||_===null)return _;var H=_[Symbol.toPrimitive];if(H!==void 0){var W=H.call(_,x||"default");if(c(W)!=="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(_)}var C=function(){function _(){l(this,_),this._disabledEventEmissions=[],this.handlers=null}return f(_,[{key:"on",value:function(H,W){var j=this;this.handlers||(this.handlers={});var L=this.handlers[H];return L||(L=this.handlers[H]=[]),L.push(W),{name:H,callback:W,un:function(S,R){return j.un(S,R)}}}},{key:"un",value:function(H,W){if(!!this.handlers){var j=this.handlers[H],L;if(j)if(W)for(L=j.length-1;L>=0;L--)j[L]==W&&j.splice(L,1);else j.length=0}}},{key:"unAll",value:function(){this.handlers=null}},{key:"once",value:function(H,W){var j=this,L=function D(){for(var S=arguments.length,R=new Array(S),P=0;P<S;P++)R[P]=arguments[P];W.apply(j,R),setTimeout(function(){j.un(H,D)},0)};return this.on(H,L)}},{key:"setDisabledEventEmissions",value:function(H){this._disabledEventEmissions=H}},{key:"_isDisabledEventEmission",value:function(H){return this._disabledEventEmissions&&this._disabledEventEmissions.includes(H)}},{key:"fireEvent",value:function(H){for(var W=arguments.length,j=new Array(W>1?W-1:0),L=1;L<W;L++)j[L-1]=arguments[L];if(!(!this.handlers||this._isDisabledEventEmission(H))){var D=this.handlers[H];D&&D.forEach(function(S){S.apply(void 0,j)})}}}]),_}();s.default=C,a.exports=s.default},"./src/util/orientation.js":(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=f;var c={width:"height",height:"width",overflowX:"overflowY",overflowY:"overflowX",clientWidth:"clientHeight",clientHeight:"clientWidth",clientX:"clientY",clientY:"clientX",scrollWidth:"scrollHeight",scrollLeft:"scrollTop",offsetLeft:"offsetTop",offsetTop:"offsetLeft",offsetHeight:"offsetWidth",offsetWidth:"offsetHeight",left:"top",right:"bottom",top:"left",bottom:"right",borderRightStyle:"borderBottomStyle",borderRightWidth:"borderBottomWidth",borderRightColor:"borderBottomColor"};function l(v,b){return Object.prototype.hasOwnProperty.call(c,v)&&b?c[v]:v}var d=Symbol("isProxy");function f(v,b){return v[d]?v:new Proxy(v,{get:function(_,x,H){if(x===d)return!0;if(x==="domElement")return _;if(x==="style")return f(_.style,b);if(x==="canvas")return f(_.canvas,b);if(x==="getBoundingClientRect")return function(){return f(_.getBoundingClientRect.apply(_,arguments),b)};if(x==="getContext")return function(){return f(_.getContext.apply(_,arguments),b)};var W=_[l(x,b)];return typeof W=="function"?W.bind(_):W},set:function(_,x,H){return _[l(x,b)]=H,!0}})}a.exports=s.default},"./src/util/prevent-click.js":(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=l;function c(d){d.stopPropagation(),document.body.removeEventListener("click",c,!0)}function l(d){document.body.addEventListener("click",c,!0)}a.exports=s.default},"./src/util/request-animation-frame.js":(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(l,d){return setTimeout(l,1e3/60)}).bind(window);s.default=c,a.exports=s.default},"./src/util/silence-mode.js":(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=c;function c(){var l=new AudioContext,d=l.createBufferSource();d.buffer=l.createBuffer(1,1,44100),d.connect(l.destination),d.start();var f="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADgnABGiAAQBCqgCRMAAgEAH///////////////7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq//////////////////9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",v=document.createElement("div");v.innerHTML='<audio x-webkit-airplay="deny"></audio>';var b=v.children.item(0);b.src=f,b.preload="auto",b.type="audio/mpeg",b.disableRemotePlayback=!0,b.play(),b.remove(),v.remove()}a.exports=s.default},"./src/util/style.js":(a,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=c;function c(l,d){return Object.keys(d).forEach(function(f){l.style[f]!==d[f]&&(l.style[f]=d[f])}),l}a.exports=s.default},"./src/wavesurfer.js":(a,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=H(c("./src/util/index.js")),d=_(c("./src/drawer.multicanvas.js")),f=_(c("./src/webaudio.js")),v=_(c("./src/mediaelement.js")),b=_(c("./src/peakcache.js")),C=_(c("./src/mediaelement-webaudio.js"));function _(g){return g&&g.__esModule?g:{default:g}}function x(g){if(typeof WeakMap!="function")return null;var h=new WeakMap,y=new WeakMap;return(x=function(u){return u?y:h})(g)}function H(g,h){if(!h&&g&&g.__esModule)return g;if(g===null||U(g)!=="object"&&typeof g!="function")return{default:g};var y=x(h);if(y&&y.has(g))return y.get(g);var m={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in g)if(A!=="default"&&Object.prototype.hasOwnProperty.call(g,A)){var M=u?Object.getOwnPropertyDescriptor(g,A):null;M&&(M.get||M.set)?Object.defineProperty(m,A,M):m[A]=g[A]}return m.default=g,y&&y.set(g,m),m}function W(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),h&&j(g,h)}function j(g,h){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,u){return m.__proto__=u,m},j(g,h)}function L(g){var h=R();return function(){var m=P(g),u;if(h){var A=P(this).constructor;u=Reflect.construct(m,arguments,A)}else u=m.apply(this,arguments);return D(this,u)}}function D(g,h){if(h&&(U(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(g)}function S(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function R(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function P(g){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},P(g)}function q(g,h,y){return h=p(h),h in g?Object.defineProperty(g,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):g[h]=y,g}function U(g){return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},U(g)}function F(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function I(g,h){for(var y=0;y<h.length;y++){var m=h[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(g,p(m.key),m)}}function O(g,h,y){return h&&I(g.prototype,h),y&&I(g,y),Object.defineProperty(g,"prototype",{writable:!1}),g}function p(g){var h=w(g,"string");return U(h)==="symbol"?h:String(h)}function w(g,h){if(U(g)!=="object"||g===null)return g;var y=g[Symbol.toPrimitive];if(y!==void 0){var m=y.call(g,h||"default");if(U(m)!=="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(g)}var T=function(g){W(y,g);var h=L(y);function y(m){var u;if(F(this,y),u=h.call(this),q(S(u),"defaultParams",{audioContext:null,audioScriptProcessor:null,audioRate:1,autoCenter:!0,autoCenterRate:5,autoCenterImmediately:!1,backend:"WebAudio",backgroundColor:null,barHeight:1,barRadius:0,barGap:null,barMinHeight:null,container:null,cursorColor:"#333",cursorWidth:1,dragSelection:!0,drawingContextAttributes:{desynchronized:!1},duration:null,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,hideCursor:!1,ignoreSilenceMode:!1,interact:!0,loopSelection:!0,maxCanvasWidth:4e3,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,normalize:!1,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,plugins:[],progressColor:"#555",removeMediaElementOnDestroy:!0,renderer:d.default,responsive:!1,rtl:!1,scrollParent:!1,skipLength:2,splitChannels:!1,splitChannelsOptions:{overlay:!1,channelColors:{},filterChannels:[],relativeNormalization:!1,splitDragSelection:!1},vertical:!1,waveColor:"#999",xhr:{}}),q(S(u),"backends",{MediaElement:v.default,WebAudio:f.default,MediaElementWebAudio:C.default}),q(S(u),"util",l),u.params=Object.assign({},u.defaultParams,m),u.params.splitChannelsOptions=Object.assign({},u.defaultParams.splitChannelsOptions,m.splitChannelsOptions),u.container=typeof m.container=="string"?document.querySelector(u.params.container):u.params.container,!u.container)throw new Error("Container element not found");if(u.params.mediaContainer==null?u.mediaContainer=u.container:typeof u.params.mediaContainer=="string"?u.mediaContainer=document.querySelector(u.params.mediaContainer):u.mediaContainer=u.params.mediaContainer,!u.mediaContainer)throw new Error("Media Container element not found");if(u.params.maxCanvasWidth<=1)throw new Error("maxCanvasWidth must be greater than 1");if(u.params.maxCanvasWidth%2==1)throw new Error("maxCanvasWidth must be an even number");if(u.params.rtl===!0&&(u.params.vertical===!0?l.style(u.container,{transform:"rotateX(180deg)"}):l.style(u.container,{transform:"rotateY(180deg)"})),u.params.backgroundColor&&u.setBackgroundColor(u.params.backgroundColor),u.savedVolume=0,u.isMuted=!1,u.tmpEvents=[],u.currentRequest=null,u.arraybuffer=null,u.drawer=null,u.backend=null,u.peakCache=null,typeof u.params.renderer!="function")throw new Error("Renderer parameter is invalid");u.Drawer=u.params.renderer,u.params.backend=="AudioElement"&&(u.params.backend="MediaElement"),(u.params.backend=="WebAudio"||u.params.backend==="MediaElementWebAudio")&&!f.default.prototype.supportsWebAudio.call(null)&&(u.params.backend="MediaElement"),u.Backend=u.backends[u.params.backend],u.initialisedPluginList={},u.isDestroyed=!1,u.isReady=!1;var A=0;return u._onResize=l.debounce(function(){u.drawer.wrapper&&A!=u.drawer.wrapper.clientWidth&&!u.params.scrollParent&&(A=u.drawer.wrapper.clientWidth,A&&u.drawer.fireEvent("redraw"))},typeof u.params.responsive=="number"?u.params.responsive:100),D(u,S(u))}return O(y,[{key:"init",value:function(){return this.registerPlugins(this.params.plugins),this.createDrawer(),this.createBackend(),this.createPeakCache(),this}},{key:"registerPlugins",value:function(u){var A=this;return u.forEach(function(M){return A.addPlugin(M)}),u.forEach(function(M){M.deferInit||A.initPlugin(M.name)}),this.fireEvent("plugins-registered",u),this}},{key:"getActivePlugins",value:function(){return this.initialisedPluginList}},{key:"addPlugin",value:function(u){var A=this;if(!u.name)throw new Error("Plugin does not have a name!");if(!u.instance)throw new Error("Plugin ".concat(u.name," does not have an instance property!"));u.staticProps&&Object.keys(u.staticProps).forEach(function(Z){A[Z]=u.staticProps[Z]});var M=u.instance,X=Object.getOwnPropertyNames(l.Observer.prototype);return X.forEach(function(Z){M.prototype[Z]=l.Observer.prototype[Z]}),this[u.name]=new M(u.params||{},this),this.fireEvent("plugin-added",u.name),this}},{key:"initPlugin",value:function(u){if(!this[u])throw new Error("Plugin ".concat(u," has not been added yet!"));return this.initialisedPluginList[u]&&this.destroyPlugin(u),this[u].init(),this.initialisedPluginList[u]=!0,this.fireEvent("plugin-initialised",u),this}},{key:"destroyPlugin",value:function(u){if(!this[u])throw new Error("Plugin ".concat(u," has not been added yet and cannot be destroyed!"));if(!this.initialisedPluginList[u])throw new Error("Plugin ".concat(u," is not active and cannot be destroyed!"));if(typeof this[u].destroy!="function")throw new Error("Plugin ".concat(u," does not have a destroy function!"));return this[u].destroy(),delete this.initialisedPluginList[u],this.fireEvent("plugin-destroyed",u),this}},{key:"destroyAllPlugins",value:function(){var u=this;Object.keys(this.initialisedPluginList).forEach(function(A){return u.destroyPlugin(A)})}},{key:"createDrawer",value:function(){var u=this;this.drawer=new this.Drawer(this.container,this.params),this.drawer.init(),this.fireEvent("drawer-created",this.drawer),this.params.responsive!==!1&&(window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0)),this.drawer.on("redraw",function(){u.drawBuffer(),u.drawer.progress(u.backend.getPlayedPercents())}),this.drawer.on("click",function(A,M){setTimeout(function(){return u.seekTo(M)},0)}),this.drawer.on("scroll",function(A){u.params.partialRender&&u.drawBuffer(),u.fireEvent("scroll",A)}),this.drawer.on("dblclick",function(A,M){u.fireEvent("dblclick",A,M)})}},{key:"createBackend",value:function(){var u=this;this.backend&&this.backend.destroy(),this.backend=new this.Backend(this.params),this.backend.init(),this.fireEvent("backend-created",this.backend),this.backend.on("finish",function(){u.drawer.progress(u.backend.getPlayedPercents()),u.fireEvent("finish")}),this.backend.on("play",function(){return u.fireEvent("play")}),this.backend.on("pause",function(){return u.fireEvent("pause")}),this.backend.on("audioprocess",function(A){u.drawer.progress(u.backend.getPlayedPercents()),u.fireEvent("audioprocess",A)}),(this.params.backend==="MediaElement"||this.params.backend==="MediaElementWebAudio")&&(this.backend.on("seek",function(){u.drawer.progress(u.backend.getPlayedPercents())}),this.backend.on("volume",function(){var A=u.getVolume();u.fireEvent("volume",A),u.backend.isMuted!==u.isMuted&&(u.isMuted=u.backend.isMuted,u.fireEvent("mute",u.isMuted))}))}},{key:"createPeakCache",value:function(){this.params.partialRender&&(this.peakCache=new b.default)}},{key:"getDuration",value:function(){return this.backend.getDuration()}},{key:"getCurrentTime",value:function(){return this.backend.getCurrentTime()}},{key:"setCurrentTime",value:function(u){u>=this.getDuration()?this.seekTo(1):this.seekTo(u/this.getDuration())}},{key:"play",value:function(u,A){var M=this;return this.params.ignoreSilenceMode&&l.ignoreSilenceMode(),this.fireEvent("interaction",function(){return M.play(u,A)}),this.backend.play(u,A)}},{key:"setPlayEnd",value:function(u){this.backend.setPlayEnd(u)}},{key:"pause",value:function(){if(!this.backend.isPaused())return this.backend.pause()}},{key:"playPause",value:function(){return this.backend.isPaused()?this.play():this.pause()}},{key:"isPlaying",value:function(){return!this.backend.isPaused()}},{key:"skipBackward",value:function(u){this.skip(-u||-this.params.skipLength)}},{key:"skipForward",value:function(u){this.skip(u||this.params.skipLength)}},{key:"skip",value:function(u){var A=this.getDuration()||1,M=this.getCurrentTime()||0;M=Math.max(0,Math.min(A,M+(u||0))),this.seekAndCenter(M/A)}},{key:"seekAndCenter",value:function(u){this.seekTo(u),this.drawer.recenter(u)}},{key:"seekTo",value:function(u){var A=this;if(typeof u!="number"||!isFinite(u)||u<0||u>1)throw new Error("Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!");this.fireEvent("interaction",function(){return A.seekTo(u)});var M=this.params.backend==="WebAudio",X=this.backend.isPaused();M&&!X&&this.backend.pause();var Z=this.params.scrollParent;this.params.scrollParent=!1,this.backend.seekTo(u*this.getDuration()),this.drawer.progress(u),M&&!X&&this.backend.play(),this.params.scrollParent=Z,this.fireEvent("seek",u)}},{key:"stop",value:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)}},{key:"setSinkId",value:function(u){return this.backend.setSinkId(u)}},{key:"setVolume",value:function(u){if(this.isMuted===!0){this.savedVolume=u;return}this.backend.setVolume(u),this.fireEvent("volume",u)}},{key:"getVolume",value:function(){return this.backend.getVolume()}},{key:"setPlaybackRate",value:function(u){this.backend.setPlaybackRate(u)}},{key:"getPlaybackRate",value:function(){return this.backend.getPlaybackRate()}},{key:"toggleMute",value:function(){this.setMute(!this.isMuted)}},{key:"setMute",value:function(u){if(u===this.isMuted){this.fireEvent("mute",this.isMuted);return}this.backend.setMute?(this.backend.setMute(u),this.isMuted=u):u?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0,this.fireEvent("volume",0)):(this.backend.setVolume(this.savedVolume),this.isMuted=!1,this.fireEvent("volume",this.savedVolume)),this.fireEvent("mute",this.isMuted)}},{key:"getMute",value:function(){return this.isMuted}},{key:"getFilters",value:function(){return this.backend.filters||[]}},{key:"toggleScroll",value:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()}},{key:"toggleInteraction",value:function(){this.params.interact=!this.params.interact}},{key:"getWaveColor",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.params.splitChannelsOptions.channelColors[u]?this.params.splitChannelsOptions.channelColors[u].waveColor:this.params.waveColor}},{key:"setWaveColor",value:function(u){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.params.splitChannelsOptions.channelColors[A]?this.params.splitChannelsOptions.channelColors[A].waveColor=u:this.params.waveColor=u,this.drawBuffer()}},{key:"getProgressColor",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.params.splitChannelsOptions.channelColors[u]?this.params.splitChannelsOptions.channelColors[u].progressColor:this.params.progressColor}},{key:"setProgressColor",value:function(u,A){this.params.splitChannelsOptions.channelColors[A]?this.params.splitChannelsOptions.channelColors[A].progressColor=u:this.params.progressColor=u,this.drawBuffer()}},{key:"getBackgroundColor",value:function(){return this.params.backgroundColor}},{key:"setBackgroundColor",value:function(u){this.params.backgroundColor=u,l.style(this.container,{background:this.params.backgroundColor})}},{key:"getCursorColor",value:function(){return this.params.cursorColor}},{key:"setCursorColor",value:function(u){this.params.cursorColor=u,this.drawer.updateCursor()}},{key:"getHeight",value:function(){return this.params.height}},{key:"setHeight",value:function(u){this.params.height=u,this.drawer.setHeight(u*this.params.pixelRatio),this.drawBuffer()}},{key:"setFilteredChannels",value:function(u){this.params.splitChannelsOptions.filterChannels=u,this.drawBuffer()}},{key:"drawBuffer",value:function(){var u=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),A=this.drawer.getWidth(),M=u,X=0,Z=Math.max(X+A,M);this.params.fillParent&&(!this.params.scrollParent||u<A)&&(M=A,X=0,Z=M);var fe;if(this.params.partialRender){var de=this.peakCache.addRangeToPeakCache(M,X,Z),ue;for(ue=0;ue<de.length;ue++)fe=this.backend.getPeaks(M,de[ue][0],de[ue][1]),this.drawer.drawPeaks(fe,M,de[ue][0],de[ue][1])}else fe=this.backend.getPeaks(M,X,Z),this.drawer.drawPeaks(fe,M,X,Z);this.fireEvent("redraw",fe,M)}},{key:"zoom",value:function(u){u?(this.params.minPxPerSec=u,this.params.scrollParent=!0):(this.params.minPxPerSec=this.defaultParams.minPxPerSec,this.params.scrollParent=!1),this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",u)}},{key:"loadArrayBuffer",value:function(u){var A=this;this.decodeArrayBuffer(u,function(M){A.isDestroyed||A.loadDecodedBuffer(M)})}},{key:"loadDecodedBuffer",value:function(u){this.backend.load(u),this.drawBuffer(),this.isReady=!0,this.fireEvent("ready")}},{key:"loadBlob",value:function(u){var A=this,M=new FileReader;M.addEventListener("progress",function(X){return A.onProgress(X)}),M.addEventListener("load",function(X){return A.loadArrayBuffer(X.target.result)}),M.addEventListener("error",function(){return A.fireEvent("error","Error reading file")}),M.readAsArrayBuffer(u),this.empty()}},{key:"load",value:function(u,A,M,X){if(!u)throw new Error("url parameter cannot be empty");if(this.empty(),M){var Z={"Preload is not 'auto', 'none' or 'metadata'":["auto","metadata","none"].indexOf(M)===-1,"Peaks are not provided":!A,"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'":["MediaElement","MediaElementWebAudio"].indexOf(this.params.backend)===-1,"Url is not of type string":typeof u!="string"},fe=Object.keys(Z).filter(function(de){return Z[de]});fe.length&&(console.warn(`Preload parameter of wavesurfer.load will be ignored because:
	- `+fe.join(`
	- `)),M=null)}switch(this.params.backend==="WebAudio"&&u instanceof HTMLMediaElement&&(u=u.src),this.params.backend){case"WebAudio":return this.loadBuffer(u,A,X);case"MediaElement":case"MediaElementWebAudio":return this.loadMediaElement(u,A,M,X)}}},{key:"loadBuffer",value:function(u,A,M){var X=this,Z=function(de){return de&&X.tmpEvents.push(X.once("ready",de)),X.getArrayBuffer(u,function(ue){return X.loadArrayBuffer(ue)})};if(A)this.backend.setPeaks(A,M),this.drawBuffer(),this.fireEvent("waveform-ready"),this.tmpEvents.push(this.once("interaction",Z));else return Z()}},{key:"loadMediaElement",value:function(u,A,M,X){var Z=this,fe=u;if(typeof u=="string")this.backend.load(fe,this.mediaContainer,A,M);else{var de=u;this.backend.loadElt(de,A),fe=de.src}this.tmpEvents.push(this.backend.once("canplay",function(){Z.backend.destroyed||(Z.drawBuffer(),Z.isReady=!0,Z.fireEvent("ready"))}),this.backend.once("error",function(ue){return Z.fireEvent("error",ue)})),A&&(this.backend.setPeaks(A,X),this.drawBuffer(),this.fireEvent("waveform-ready")),(!A||this.params.forceDecode)&&this.backend.supportsWebAudio()&&this.getArrayBuffer(fe,function(ue){Z.decodeArrayBuffer(ue,function(Re){Z.backend.buffer=Re,Z.backend.setPeaks(null),Z.drawBuffer(),Z.fireEvent("waveform-ready")})})}},{key:"decodeArrayBuffer",value:function(u,A){var M=this;this.isDestroyed||(this.arraybuffer=u,this.backend.decodeArrayBuffer(u,function(X){!M.isDestroyed&&M.arraybuffer==u&&(A(X),M.arraybuffer=null)},function(){return M.fireEvent("error","Error decoding audiobuffer")}))}},{key:"getArrayBuffer",value:function(u,A){var M=this,X=Object.assign({url:u,responseType:"arraybuffer"},this.params.xhr),Z=l.fetchFile(X);return this.currentRequest=Z,this.tmpEvents.push(Z.on("progress",function(fe){M.onProgress(fe)}),Z.on("success",function(fe){A(fe),M.currentRequest=null}),Z.on("error",function(fe){M.fireEvent("error",fe),M.currentRequest=null})),Z}},{key:"onProgress",value:function(u){var A;u.lengthComputable?A=u.loaded/u.total:A=u.loaded/(u.loaded+1e6),this.fireEvent("loading",Math.round(A*100),u.target)}},{key:"exportPCM",value:function(u,A,M,X,Z){u=u||1024,X=X||0,A=A||1e4,M=M||!1;var fe=this.backend.getPeaks(u,X,Z),de=[].map.call(fe,function(ue){return Math.round(ue*A)/A});return new Promise(function(ue,Re){if(!M){var Ie=new Blob([JSON.stringify(de)],{type:"application/json;charset=utf-8"}),ye=URL.createObjectURL(Ie);window.open(ye),URL.revokeObjectURL(ye)}ue(de)})}},{key:"exportImage",value:function(u,A,M){return u||(u="image/png"),A||(A=1),M||(M="dataURL"),this.drawer.getImage(u,A,M)}},{key:"cancelAjax",value:function(){this.currentRequest&&this.currentRequest.controller&&(this.currentRequest._reader&&this.currentRequest._reader.cancel().catch(function(u){}),this.currentRequest.controller.abort(),this.currentRequest=null)}},{key:"clearTmpEvents",value:function(){this.tmpEvents.forEach(function(u){return u.un()})}},{key:"empty",value:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.isReady=!1,this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)}},{key:"destroy",value:function(){this.destroyAllPlugins(),this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),this.params.responsive!==!1&&(window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0)),this.backend&&(this.backend.destroy(),this.backend=null),this.drawer&&this.drawer.destroy(),this.isDestroyed=!0,this.isReady=!1,this.arraybuffer=null}}],[{key:"create",value:function(u){var A=new y(u);return A.init()}}]),y}(l.Observer);s.default=T,q(T,"VERSION","6.6.4"),q(T,"util",l),a.exports=s.default},"./src/webaudio.js":(a,s,c)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=f(c("./src/util/index.js"));function d(p){if(typeof WeakMap!="function")return null;var w=new WeakMap,T=new WeakMap;return(d=function(h){return h?T:w})(p)}function f(p,w){if(!w&&p&&p.__esModule)return p;if(p===null||v(p)!=="object"&&typeof p!="function")return{default:p};var T=d(w);if(T&&T.has(p))return T.get(p);var g={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in p)if(y!=="default"&&Object.prototype.hasOwnProperty.call(p,y)){var m=h?Object.getOwnPropertyDescriptor(p,y):null;m&&(m.get||m.set)?Object.defineProperty(g,y,m):g[y]=p[y]}return g.default=p,T&&T.set(p,g),g}function v(p){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},v(p)}function b(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}function C(p,w){for(var T=0;T<w.length;T++){var g=w[T];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,P(g.key),g)}}function _(p,w,T){return w&&C(p.prototype,w),T&&C(p,T),Object.defineProperty(p,"prototype",{writable:!1}),p}function x(p,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(w&&w.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),w&&H(p,w)}function H(p,w){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,h){return g.__proto__=h,g},H(p,w)}function W(p){var w=D();return function(){var g=S(p),h;if(w){var y=S(this).constructor;h=Reflect.construct(g,arguments,y)}else h=g.apply(this,arguments);return j(this,h)}}function j(p,w){if(w&&(v(w)==="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L(p)}function L(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function D(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S(p){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)},S(p)}function R(p,w,T){return w=P(w),w in p?Object.defineProperty(p,w,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[w]=T,p}function P(p){var w=q(p,"string");return v(w)==="symbol"?w:String(w)}function q(p,w){if(v(p)!=="object"||p===null)return p;var T=p[Symbol.toPrimitive];if(T!==void 0){var g=T.call(p,w||"default");if(v(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(p)}var U="playing",F="paused",I="finished",O=function(p){x(T,p);var w=W(T);function T(g){var h,y,m;return b(this,T),m=w.call(this),R(L(m),"audioContext",null),R(L(m),"stateBehaviors",(h={},R(h,U,{init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var A=this.getDuration();return this.getCurrentTime()/A||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}}),R(h,F,{init:function(){},getPlayedPercents:function(){var A=this.getDuration();return this.getCurrentTime()/A||0},getCurrentTime:function(){return this.startPosition}}),R(h,I,{init:function(){this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}}),h)),m.params=g,m.ac=g.audioContext||(m.supportsWebAudio()?m.getAudioContext():{}),m.lastPlay=m.ac.currentTime,m.startPosition=0,m.scheduledPause=null,m.states=(y={},R(y,U,Object.create(m.stateBehaviors[U])),R(y,F,Object.create(m.stateBehaviors[F])),R(y,I,Object.create(m.stateBehaviors[I])),y),m.buffer=null,m.filters=[],m.gainNode=null,m.mergedPeaks=null,m.offlineAc=null,m.peaks=null,m.playbackRate=1,m.analyser=null,m.scriptNode=null,m.source=null,m.splitPeaks=[],m.state=null,m.explicitDuration=g.duration,m.sinkStreamDestination=null,m.sinkAudioElement=null,m.destroyed=!1,m}return _(T,[{key:"supportsWebAudio",value:function(){return!!(window.AudioContext||window.webkitAudioContext)}},{key:"getAudioContext",value:function(){return window.WaveSurferAudioContext||(window.WaveSurferAudioContext=new(window.AudioContext||window.webkitAudioContext)),window.WaveSurferAudioContext}},{key:"getOfflineAudioContext",value:function(h){return window.WaveSurferOfflineAudioContext||(window.WaveSurferOfflineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,h)),window.WaveSurferOfflineAudioContext}},{key:"init",value:function(){this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(F),this.setPlaybackRate(this.params.audioRate),this.setLength(0)}},{key:"disconnectFilters",value:function(){this.filters&&(this.filters.forEach(function(h){h&&h.disconnect()}),this.filters=null,this.analyser.connect(this.gainNode))}},{key:"setState",value:function(h){this.state!==this.states[h]&&(this.state=this.states[h],this.state.init.call(this))}},{key:"setFilter",value:function(){for(var h=arguments.length,y=new Array(h),m=0;m<h;m++)y[m]=arguments[m];this.setFilters(y)}},{key:"setFilters",value:function(h){this.disconnectFilters(),h&&h.length&&(this.filters=h,this.analyser.disconnect(),h.reduce(function(y,m){return y.connect(m),m},this.analyser).connect(this.gainNode))}},{key:"createScriptNode",value:function(){this.params.audioScriptProcessor&&(this.scriptNode=this.params.audioScriptProcessor,this.scriptNode.connect(this.ac.destination))}},{key:"addOnAudioProcess",value:function(){var h=this,y=function m(){var u=h.getCurrentTime();u>=h.getDuration()&&h.state!==h.states[I]?(h.setState(I),h.fireEvent("pause")):u>=h.scheduledPause&&h.state!==h.states[F]?h.pause():h.state===h.states[U]&&(h.fireEvent("audioprocess",u),l.frame(m)())};y()}},{key:"createAnalyserNode",value:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)}},{key:"createVolumeNode",value:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)}},{key:"setSinkId",value:function(h){return h?(this.sinkAudioElement||(this.sinkAudioElement=new window.Audio,this.sinkAudioElement.autoplay=!0),this.sinkAudioElement.setSinkId?(this.sinkStreamDestination||(this.sinkStreamDestination=this.ac.createMediaStreamDestination()),this.gainNode.disconnect(),this.gainNode.connect(this.sinkStreamDestination),this.sinkAudioElement.srcObject=this.sinkStreamDestination.stream,this.sinkAudioElement.setSinkId(h)):Promise.reject(new Error("setSinkId is not supported in your browser"))):Promise.reject(new Error("Invalid deviceId: "+h))}},{key:"setVolume",value:function(h){this.gainNode.gain.setValueAtTime(h,this.ac.currentTime)}},{key:"getVolume",value:function(){return this.gainNode.gain.value}},{key:"decodeArrayBuffer",value:function(h,y,m){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac&&this.ac.sampleRate?this.ac.sampleRate:44100)),"webkitAudioContext"in window?this.offlineAc.decodeAudioData(h,function(u){return y(u)},m):this.offlineAc.decodeAudioData(h).then(function(u){return y(u)}).catch(function(u){return m(u)})}},{key:"setPeaks",value:function(h,y){y!=null&&(this.explicitDuration=y),this.peaks=h}},{key:"setLength",value:function(h){if(!(this.mergedPeaks&&h==2*this.mergedPeaks.length-1+2)){this.splitPeaks=[],this.mergedPeaks=[];var y=this.buffer?this.buffer.numberOfChannels:1,m;for(m=0;m<y;m++)this.splitPeaks[m]=[],this.splitPeaks[m][2*(h-1)]=0,this.splitPeaks[m][2*(h-1)+1]=0;this.mergedPeaks[2*(h-1)]=0,this.mergedPeaks[2*(h-1)+1]=0}}},{key:"getPeaks",value:function(h,y,m){if(this.peaks)return this.peaks;if(!this.buffer)return[];if(y=y||0,m=m||h-1,this.setLength(h),!this.buffer)return this.params.splitChannels?this.splitPeaks:this.mergedPeaks;if(!this.buffer.length){var u=this.createBuffer(1,4096,this.sampleRate);this.buffer=u.buffer}var A=this.buffer.length/h,M=~~(A/10)||1,X=this.buffer.numberOfChannels,Z;for(Z=0;Z<X;Z++){var fe=this.splitPeaks[Z],de=this.buffer.getChannelData(Z),ue=void 0;for(ue=y;ue<=m;ue++){var Re=~~(ue*A),Ie=~~(Re+A),ye=de[Re],Ke=ye,k=void 0;for(k=Re;k<Ie;k+=M){var E=de[k];E>Ke&&(Ke=E),E<ye&&(ye=E)}fe[2*ue]=Ke,fe[2*ue+1]=ye,(Z==0||Ke>this.mergedPeaks[2*ue])&&(this.mergedPeaks[2*ue]=Ke),(Z==0||ye<this.mergedPeaks[2*ue+1])&&(this.mergedPeaks[2*ue+1]=ye)}}return this.params.splitChannels?this.splitPeaks:this.mergedPeaks}},{key:"getPlayedPercents",value:function(){return this.state.getPlayedPercents.call(this)}},{key:"disconnectSource",value:function(){this.source&&this.source.disconnect()}},{key:"destroyWebAudio",value:function(){this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode&&this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&(typeof this.ac.close=="function"&&this.ac.state!="closed"&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:window.WaveSurferAudioContext=null,window.WaveSurferOfflineAudioContext=null),this.sinkStreamDestination&&(this.sinkAudioElement.pause(),this.sinkAudioElement.srcObject=null,this.sinkStreamDestination.disconnect(),this.sinkStreamDestination=null)}},{key:"destroy",value:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.destroyed=!0,this.destroyWebAudio()}},{key:"load",value:function(h){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=h,this.createSource()}},{key:"createSource",value:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.setPlaybackRate(this.playbackRate),this.source.buffer=this.buffer,this.source.connect(this.analyser)}},{key:"resumeAudioContext",value:function(){this.ac.state=="suspended"&&this.ac.resume&&this.ac.resume()}},{key:"isPaused",value:function(){return this.state!==this.states[U]}},{key:"getDuration",value:function(){return this.explicitDuration?this.explicitDuration:this.buffer?this.buffer.duration:0}},{key:"seekTo",value:function(h,y){if(!!this.buffer)return this.scheduledPause=null,h==null&&(h=this.getCurrentTime(),h>=this.getDuration()&&(h=0)),y==null&&(y=this.getDuration()),this.startPosition=h,this.lastPlay=this.ac.currentTime,this.state===this.states[I]&&this.setState(F),{start:h,end:y}}},{key:"getPlayedTime",value:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate}},{key:"play",value:function(h,y){if(!!this.buffer){this.createSource();var m=this.seekTo(h,y);h=m.start,y=m.end,this.scheduledPause=y,this.source.start(0,h),this.resumeAudioContext(),this.setState(U),this.fireEvent("play")}}},{key:"pause",value:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime();try{this.source&&this.source.stop(0)}catch{}this.setState(F),this.fireEvent("pause")}},{key:"getCurrentTime",value:function(){return this.state.getCurrentTime.call(this)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setPlaybackRate",value:function(h){this.playbackRate=h||1,this.source&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.ac.currentTime)}},{key:"setPlayEnd",value:function(h){this.scheduledPause=h}}]),T}(l.Observer);s.default=O,a.exports=s.default},"./node_modules/debounce/index.js":a=>{function s(c,l,d){var f,v,b,C,_;l==null&&(l=100);function x(){var W=Date.now()-C;W<l&&W>=0?f=setTimeout(x,l-W):(f=null,d||(_=c.apply(b,v),b=v=null))}var H=function(){b=this,v=arguments,C=Date.now();var W=d&&!f;return f||(f=setTimeout(x,l)),W&&(_=c.apply(b,v),b=v=null),_};return H.clear=function(){f&&(clearTimeout(f),f=null)},H.flush=function(){f&&(_=c.apply(b,v),b=v=null,clearTimeout(f),f=null)},H}s.debounce=s,a.exports=s}},n={};function o(a){var s=n[a];if(s!==void 0)return s.exports;var c=n[a]={exports:{}};return r[a](c,c.exports,o),c.exports}var i=o("./src/wavesurfer.js");return i})())})(qu);var Zy=Hl(qu.exports);function Jy(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(o){o(r)}),(n=e.get("*"))&&n.slice().map(function(o){o(t,r)})}}}const $y=Jy(),eb=()=>({emitter:$y});var tb=`.animate[data-v-677263a8]{animation-name:expand-677263a8;animation-duration:.75s;animation-fill-mode:forwards;transform-origin:50% 50%}.btn[data-v-677263a8]{background-color:var(--69ff51af);margin:5px;height:var(--327b456d);border-top-left-radius:20%;border-bottom-left-radius:20%;color:red}.progress[data-v-677263a8]{width:50px;height:var(--327b456d);display:flex;position:relative;align-items:center;margin-left:10px;min-width:50px;background-color:var(--69ff51af);border-top-right-radius:5px;border-bottom-right-radius:5px}.play-pause-btn[data-v-677263a8]{animation-name:expand-677263a8;animation-duration:.5s;animation-fill-mode:forwards;transform-origin:100% 0%}.play-pause-btn .icon[data-v-677263a8]{animation-name:rotate-677263a8;animation-duration:.5s;animation-fill-mode:forwards;transform-origin:center}@keyframes rotate-677263a8{0%{transform:rotate(0);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes expand-677263a8{0%{transform:scaleX(0%)}33%{transform:scaleX(1.1)}66%{transform:scaleX(.9)}to{transform:scaleX(1)}}
`;const rb={style:{width:"40px",height:"50px","text-align":"center"}},nb={style:{width:"200px"}},ob={class:"progress",style:{display:"none"}},ib={style:{"justify-content":"center",display:"flex"}};var sb=ze(Ti({__name:"WavePlayer",props:{id:{type:Number,required:!0},url:{type:String,required:!0},duration:{type:Number,required:!1,default:0},backgroundColor:{type:String,default:"#3f87f7"},waveColor:{type:String,default:"#a2c4ff"},progressColor:{type:String,default:"white"},height:{type:Number,required:!1,default:25},animate:{type:Boolean,required:!1,default:!1},autoLoad:{type:Boolean,default:!0,required:!1}},emits:["hover-audio-progress","update-progress-time"],setup(e,{emit:t}){const r=e;bh(W=>({"69ff51af":cr(o),"327b456d":e.height}));const{emitter:n}=eb(),o=r.backgroundColor;let i=lr(),a=lr(!1),s=lr(!1);lr(!1);let c=lr(r.duration),l=lr(0),d=null;lr(`width: ${document.documentElement.clientWidth-100-20}px`),n.on("waveplayer:play",W=>{W!=r.id&&b()});const f=bl(()=>{const W=Math.floor(l.value),j=Math.floor(W/60),L=W-j*60,D=`${j}:${L.toString().padStart(2,"0")}`;return t("update-progress-time",x(W)),D});async function v(){r.autoLoad||d==null||d.load(r.url),await H(()=>d!=null&&d.isReady),d&&(n.emit("waveplayer:play",r.id),a.value=!0,d.play())}async function b(){!d&&a.value||(n.emit("waveplayer:pause",r.id),a.value=!1,d.pause())}function C(W){a.value||v()}function _(){n.emit("waveplayer:finish",r.id),a.value=!1,s.value=!0}function x(W){return new Date(W*1e3).toISOString().substr(14,5)}async function H(W,j=100){const L=D=>W()?D():setTimeout(()=>L(D),j);return new Promise(L)}return co(async()=>{c.value&&t("update-progress-time",x(c.value)),d=Zy.create({container:i.value,barRadius:10,barWidth:4,mediaControls:!1,normalize:!1,barHeight:7,responsive:!0,cursorColor:"transparent",fillParent:!0,hideScrollbar:!0,minPxPerSec:10,height:r.height,waveColor:r.waveColor,progressColor:r.progressColor,backgroundColor:o,barMinHeight:1}),d.on("seek",C),d.on("finish",_),d.on("audioprocess",W=>l.value=W),r.autoLoad&&d.load(r.url),d.on("ready",()=>{c.value=d.getDuration(),t("update-progress-time",x(c.value))})}),(W,j)=>(N(),V("div",{style:{display:"flex",width:"250px","background-color":"v-bind(bg_color)"},class:Ee({animate:e.animate})},[J("div",rb,[a.value?(N(),V("div",{key:1,class:"btn play-pause-btn",onClick:b},[ae(cr(Uo),{class:"icon",width:"22",icon:cr(Qy),inline:!0},null,8,["icon"])])):(N(),V("div",{key:0,class:"btn play-pause-btn",onClick:v},[ae(cr(Uo),{class:"icon",width:"26",icon:cr(Xy),inline:!0},null,8,["icon"])]))]),J("div",nb,[J("div",{id:"vue_waveplayer_container",ref_key:"vue_waveplayer_container",ref:i},null,512)]),J("div",ob,[J("div",ib,_e(cr(f)),1)])],2))}}),[["styles",[tb]],["__scopeId","data-v-677263a8"]]);const ab={name:"AudioPlayer",components:{WavePlayer:sb},props:{messageId:{type:[String,Number],default:null},duration:{type:Number,default:0,required:!1},src:{type:String,default:null},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["hover-audio-progress","update-progress-time"],data(){},computed:{playerUniqId(){return`audio-player${this.messageId}`},audioSource(){return this.src?this.src:null}},mounted(){},methods:{}},lb={class:"vac-audio-player"};function cb(e,t,r,n,o,i){const a=ve("wave-player");return N(),V("div",null,[J("div",lb,[(N(),je(a,{id:r.messageId,key:i.playerUniqId,duration:r.duration,style:{"padding-right":"25px","margin-bottom":"-20px"},"background-color":"transparent","wave-color":"skyblue","progress-color":"white",height:25,animate:!1,url:i.audioSource,onUpdateProgressTime:t[0]||(t[0]=s=>e.$emit("update-progress-time",s))},null,8,["id","duration","url"]))])])}var Vs=ze(ab,[["render",cb]]);const ub={name:"RoomMessageReply",components:{SvgIcon:nt,FormatMessage:Sn,AudioPlayer:Vs},props:{room:{type:Object,required:!0},messageReply:{type:Object,default:null},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0}},emits:["reset-message"],computed:{firstFile(){var e,t;return(t=(e=this.messageReply)==null?void 0:e.files)!=null&&t.length?this.messageReply.files[0]:{}},isImage(){return qr(this.firstFile)},isVideo(){return Tn(this.firstFile)},isAudio(){return Po(this.firstFile)},isOtherFile(){var e,t;return((t=(e=this.messageReply)==null?void 0:e.files)==null?void 0:t.length)&&!this.isAudio&&!this.isVideo&&!this.isImage}}},db={key:0,class:"vac-reply-container"},fb={class:"vac-reply-box"},hb={class:"vac-reply-info"},mb={class:"vac-reply-username"},gb={class:"vac-reply-content"},pb=["src"],vb={key:1,controls:"",class:"vac-image-reply"},yb=["src"],bb={key:3,class:"vac-image-reply vac-file-container"},wb={class:"vac-text-ellipsis"},kb={key:0,class:"vac-text-ellipsis vac-text-extension"},_b={class:"vac-icon-reply"};function xb(e,t,r,n,o,i){const a=ve("format-message"),s=ve("audio-player"),c=ve("svg-icon");return N(),je(Xe,{name:"vac-slide-up"},{default:be(()=>[r.messageReply?(N(),V("div",db,[J("div",fb,[J("div",hb,[J("div",mb,_e(r.messageReply.username),1),J("div",gb,[ae(a,{"message-id":r.messageReply._id,content:r.messageReply.content,users:r.room.users,"text-formatting":r.textFormatting,"link-options":r.linkOptions,reply:!0},null,8,["message-id","content","users","text-formatting","link-options"])])]),i.isImage?(N(),V("img",{key:0,src:i.firstFile.url,class:"vac-image-reply"},null,8,pb)):i.isVideo?(N(),V("video",vb,[J("source",{src:i.firstFile.url},null,8,yb)])):i.isAudio?(N(),je(s,{key:2,src:i.firstFile.url,"message-selection-enabled":!1,class:"vac-audio-reply"},Fe({_:2},[Ae(e.$slots,(l,d)=>({name:d,fn:be(f=>[se(e.$slots,d,De(Ne(f)))])}))]),1032,["src"])):i.isOtherFile?(N(),V("div",bb,[J("div",null,[se(e.$slots,"file-icon",{},()=>[ae(c,{name:"file"})])]),J("div",wb,_e(i.firstFile.name),1),i.firstFile.extension?(N(),V("div",kb,_e(i.firstFile.extension),1)):oe("",!0)])):oe("",!0)]),J("div",_b,[J("div",{class:"vac-svg-button",onClick:t[0]||(t[0]=l=>e.$emit("reset-message"))},[se(e.$slots,"reply-close-icon",{},()=>[ae(c,{name:"close-outline"})])])])])):oe("",!0)]),_:3})}var Ab=ze(ub,[["render",xb]]);const Eb={name:"RoomUsersTag",props:{filteredUsersTag:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-user-tag","activate-item"],data(){return{activeItem:null}},watch:{filteredUsersTag(e,t){(!t.length||e.length!==t.length)&&(this.activeItem=0)},selectItem(e){e&&this.$emit("select-user-tag",this.filteredUsersTag[this.activeItem])},activeUpOrDown(){this.activeUpOrDown>0&&this.activeItem<this.filteredUsersTag.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},Cb={key:0,class:"vac-tags-container"},Sb=["onMouseover","onClick"],Ob={class:"vac-tags-info"},Tb={class:"vac-tags-username"};function Rb(e,t,r,n,o,i){return N(),je(Xe,{name:"vac-slide-up"},{default:be(()=>[r.filteredUsersTag.length?(N(),V("div",Cb,[(N(!0),V(Me,null,Ae(r.filteredUsersTag,(a,s)=>(N(),V("div",{key:a._id,class:Ee(["vac-tags-box",{"vac-tags-box-active":s===o.activeItem}]),onMouseover:c=>o.activeItem=s,onClick:c=>e.$emit("select-user-tag",a)},[J("div",Ob,[a.avatar?(N(),V("div",{key:0,class:"vac-avatar vac-tags-avatar",style:Ve({"background-image":`url('${a.avatar}')`})},null,4)):oe("",!0),J("div",Tb,_e(a.username),1)])],42,Sb))),128))])):oe("",!0)]),_:1})}var Pb=ze(Eb,[["render",Rb]]);const Mb={name:"RoomEmojis",props:{filteredEmojis:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-emoji","activate-item"],data(){return{activeItem:null}},watch:{filteredEmojis(e,t){(!t.length||e.length!==t.length)&&(this.activeItem=0)},selectItem(e){e&&this.$emit("select-emoji",this.filteredEmojis[this.activeItem])},activeUpOrDown(){this.activeUpOrDown>0&&this.activeItem<this.filteredEmojis.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},Ib={key:0,class:"vac-emojis-container"},jb=["onMouseover","onClick"];function Lb(e,t,r,n,o,i){return N(),je(Xe,{name:"vac-slide-up"},{default:be(()=>[r.filteredEmojis.length?(N(),V("div",Ib,[(N(!0),V(Me,null,Ae(r.filteredEmojis,(a,s)=>(N(),V("div",{key:a,class:Ee(["vac-emoji-element",{"vac-emoji-element-active":s===o.activeItem}]),onMouseover:c=>o.activeItem=s,onClick:c=>e.$emit("select-emoji",a)},_e(a),43,jb))),128))])):oe("",!0)]),_:1})}var Nb=ze(Mb,[["render",Lb]]);const Db={name:"RoomTemplatesText",props:{filteredTemplatesText:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-template-text","activate-item"],data(){return{activeItem:null}},watch:{filteredTemplatesText(e,t){(!t.length||e.length!==t.length)&&(this.activeItem=0)},selectItem(e){e&&this.$emit("select-template-text",this.filteredTemplatesText[this.activeItem])},activeUpOrDown(){this.activeUpOrDown>0&&this.activeItem<this.filteredTemplatesText.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},Fb={key:0,class:"vac-template-container vac-app-box-shadow"},Bb=["onMouseover","onClick"],Ub={class:"vac-template-info"},Hb={class:"vac-template-tag"},zb={class:"vac-template-text"};function qb(e,t,r,n,o,i){return N(),je(Xe,{name:"vac-slide-up"},{default:be(()=>[r.filteredTemplatesText.length?(N(),V("div",Fb,[(N(!0),V(Me,null,Ae(r.filteredTemplatesText,(a,s)=>(N(),V("div",{key:s,class:Ee(["vac-template-box",{"vac-template-active":s===o.activeItem}]),onMouseover:c=>o.activeItem=s,onClick:c=>e.$emit("select-template-text",a)},[J("div",Ub,[J("div",Hb," /"+_e(a.tag),1),J("div",zb,_e(a.text),1)])],42,Bb))),128))])):oe("",!0)]),_:1})}var Wb=ze(Db,[["render",qb]]);/*! Capacitor: https://capacitorjs.com/ - MIT License */const Vb=e=>{const t=new Map;t.set("web",{name:"web"});const r=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},n=(i,a)=>{r.platforms.set(i,a)},o=i=>{r.platforms.has(i)&&(r.currentPlatform=r.platforms.get(i))};return r.addPlatform=n,r.setPlatform=o,r},Wu=(e=>e.CapacitorPlatforms=Vb(e))(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});Wu.addPlatform,Wu.setPlatform;var Yr;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Yr||(Yr={}));class Ks extends Error{constructor(t,r,n){super(t),this.message=t,this.code=r,this.data=n}}const Kb=e=>{var t,r;return e!=null&&e.androidBridge?"android":!((r=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},Gb=e=>{var t,r,n,o,i;const a=e.CapacitorCustomPlatform||null,s=e.Capacitor||{},c=s.Plugins=s.Plugins||{},l=e.CapacitorPlatforms,d=()=>a!==null?a.name:Kb(e),f=((t=l==null?void 0:l.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||d,v=()=>f()!=="web",b=((r=l==null?void 0:l.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||v,C=R=>{const P=L.get(R);return!!(P!=null&&P.platforms.has(f())||H(R))},_=((n=l==null?void 0:l.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||C,x=R=>{var P;return(P=s.PluginHeaders)===null||P===void 0?void 0:P.find(q=>q.name===R)},H=((o=l==null?void 0:l.currentPlatform)===null||o===void 0?void 0:o.getPluginHeader)||x,W=R=>e.console.error(R),j=(R,P,q)=>Promise.reject(`${q} does not have an implementation of "${P}".`),L=new Map,D=(R,P={})=>{const q=L.get(R);if(q)return console.warn(`Capacitor plugin "${R}" already registered. Cannot register plugins twice.`),q.proxy;const U=f(),F=H(R);let I;const O=async()=>(!I&&U in P?I=typeof P[U]=="function"?I=await P[U]():I=P[U]:a!==null&&!I&&"web"in P&&(I=typeof P.web=="function"?I=await P.web():I=P.web),I),p=(m,u)=>{var A,M;if(F){const X=F==null?void 0:F.methods.find(Z=>u===Z.name);if(X)return X.rtype==="promise"?Z=>s.nativePromise(R,u.toString(),Z):(Z,fe)=>s.nativeCallback(R,u.toString(),Z,fe);if(m)return(A=m[u])===null||A===void 0?void 0:A.bind(m)}else{if(m)return(M=m[u])===null||M===void 0?void 0:M.bind(m);throw new Ks(`"${R}" plugin is not implemented on ${U}`,Yr.Unimplemented)}},w=m=>{let u;const A=(...M)=>{const X=O().then(Z=>{const fe=p(Z,m);if(fe){const de=fe(...M);return u=de==null?void 0:de.remove,de}else throw new Ks(`"${R}.${m}()" is not implemented on ${U}`,Yr.Unimplemented)});return m==="addListener"&&(X.remove=async()=>u()),X};return A.toString=()=>`${m.toString()}() { [capacitor code] }`,Object.defineProperty(A,"name",{value:m,writable:!1,configurable:!1}),A},T=w("addListener"),g=w("removeListener"),h=(m,u)=>{const A=T({eventName:m},u),M=async()=>{const Z=await A;g({eventName:m,callbackId:Z},u)},X=new Promise(Z=>A.then(()=>Z({remove:M})));return X.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await M()},X},y=new Proxy({},{get(m,u){switch(u){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return F?h:T;case"removeListener":return g;default:return w(u)}}});return c[R]=y,L.set(R,{name:R,proxy:y,platforms:new Set([...Object.keys(P),...F?[U]:[]])}),y},S=((i=l==null?void 0:l.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||D;return s.convertFileSrc||(s.convertFileSrc=R=>R),s.getPlatform=f,s.handleError=W,s.isNativePlatform=b,s.isPluginAvailable=_,s.pluginMethodNoop=j,s.registerPlugin=S,s.Exception=Ks,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s.platform=s.getPlatform(),s.isNative=s.isNativePlatform(),s},$o=(e=>e.Capacitor=Gb(e))(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),Gs=$o.registerPlugin;$o.Plugins;class Ys{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,r){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(r);const o=this.windowListeners[t];o&&!o.registered&&this.addWindowListener(o);const i=async()=>this.removeListener(t,r),a=Promise.resolve({remove:i});return Object.defineProperty(a,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await i()}}),a}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r){const n=this.listeners[t];n&&n.forEach(o=>o(r))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(t="not implemented"){return new $o.Exception(t,Yr.Unimplemented)}unavailable(t="not available"){return new $o.Exception(t,Yr.Unavailable)}async removeListener(t,r){const n=this.listeners[t];if(!n)return;const o=n.indexOf(r);this.listeners[t].splice(o,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){!t||(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const Vu=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ku=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Yb extends Ys{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[o,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=Ku(o).trim(),i=Ku(i).trim(),r[o]=i}),r}async setCookie(t){try{const r=Vu(t.key),n=Vu(t.value),o=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),a=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${n||""}${o}; path=${i}; ${a};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Gs("CapacitorCookies",{web:()=>new Yb});const Xb=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const o=n.result;t(o.indexOf(",")>=0?o.split(",")[1]:o)},n.onerror=o=>r(o),n.readAsDataURL(e)}),Qb=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(o=>o.toLocaleLowerCase()).reduce((o,i,a)=>(o[i]=e[t[a]],o),{})},Zb=(e,t=!0)=>e?Object.entries(e).reduce((n,o)=>{const[i,a]=o;let s,c;return Array.isArray(a)?(c="",a.forEach(l=>{s=t?encodeURIComponent(l):l,c+=`${i}=${s}&`}),c.slice(0,-1)):(s=t?encodeURIComponent(a):a,c=`${i}=${s}`),`${n}&${c}`},"").substr(1):null,Jb=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),o=Qb(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(o.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,s]of Object.entries(e.data||{}))i.set(a,s);r.body=i.toString()}else if(o.includes("multipart/form-data")){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((s,c)=>{i.append(c,s)});else for(const s of Object.keys(e.data))i.append(s,e.data[s]);r.body=i;const a=new Headers(r.headers);a.delete("content-type"),r.headers=a}else(o.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class $b extends Ys{async request(t){const r=Jb(t,t.webFetchExtra),n=Zb(t.params,t.shouldEncodeUrlParams),o=n?`${t.url}?${n}`:t.url,i=await fetch(o,r),a=i.headers.get("content-type")||"";let{responseType:s="text"}=i.ok?t:{};a.includes("application/json")&&(s="json");let c,l;switch(s){case"arraybuffer":case"blob":l=await i.blob(),c=await Xb(l);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const d={};return i.headers.forEach((f,v)=>{d[v]=f}),{data:c,headers:d,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Gs("CapacitorHttp",{web:()=>new $b});const ei=Gs("VoiceRecorder",{web:()=>Promise.resolve().then(function(){return f1}).then(e=>new e.VoiceRecorderWeb)});class e0{constructor(t={}){this.beforeRecording=t.beforeRecording,this.pauseRecording=t.pauseRecording,this.afterRecording=t.afterRecording,this.micFailed=t.micFailed,this.encoderOptions={bitRate:t.bitRate,sampleRate:t.sampleRate},this.bufferSize=4096,this.records=[],this.isPause=!1,this.isRecording=!1,this.duration=0,this.volume=0,this._duration=0,this.timerInterval=-1}startTimer(){this.timerInterval=setInterval(()=>this.duration++,1e3)}stopTimer(){clearInterval(this.timerInterval)}async start(){let t=await ei.canDeviceVoiceRecord();if(!t.value)return this._micError("No recording device available!");if(!(await ei.requestAudioRecordingPermission()).value)return this._micError("Recording permission not granted!");t=await ei.startRecording(),this.startTimer(),this.beforeRecording&&this.beforeRecording("start recording"),this.isPause=!1,this.isRecording=!0}b64toBlob(t,r="",n=512){const o=atob(t),i=[];for(let s=0;s<o.length;s+=n){const c=o.slice(s,s+n),l=new Array(c.length);for(let f=0;f<c.length;f++)l[f]=c.charCodeAt(f);const d=new Uint8Array(l);i.push(d)}return new Blob(i,{type:r})}async stop(){this.stopTimer();const t=await ei.stopRecording(),r=t.value.recordDataBase64,n=t.value.mimeType,o={blob:this.b64toBlob(r,n),duration:t.value.msDuration};this.records.push(o),console.log("added to recording"),this._duration=0,this.duration=0,this.isPause=!1,this.isRecording=!1,this.afterRecording&&this.afterRecording(o)}pause(){this.stream.getTracks().forEach(t=>t.stop()),this.input.disconnect(),this.processor.disconnect(),this._duration=this.duration*1e3,this.isPause=!0,this.pauseRecording&&this.pauseRecording("pause recording")}_micCaptured(t){this.context=new(window.AudioContext||window.webkitAudioContext),this.duration=this._duration*1e3,this.input=this.context.createMediaStreamSource(t),this.processor=this.context.createScriptProcessor(this.bufferSize,1,1),this.stream=t,this.processor.onaudioprocess=r=>{const n=r.inputBuffer.getChannelData(0);let o=0;this.lameEncoder&&this.lameEncoder.encode(n);for(let i=0;i<n.length;++i)o+=n[i]*n[i];this.duration=parseFloat(this._duration)+parseFloat(this.context.currentTime.toFixed(2)),this.volume=Math.sqrt(o/n.length).toFixed(2)},this.input.connect(this.processor),this.processor.connect(this.context.destination)}_micError(t){this.micFailed&&this.micFailed(t)}}var Gu=window.chrome,Xs=window.navigator,t0=Xs.vendor,r0=typeof window.opr!="undefined",n0=Xs.userAgent.indexOf("Edg")>-1,o0=Xs.userAgent.match("CriOS");function i0(){return o0?!0:Gu!==null&&typeof Gu!="undefined"&&t0==="Google Inc."&&r0===!1&&n0===!1}function Yu(){var e=s0(),t=e.substr(0,4);return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw(n|u)|c55\/|capi|ccwa|cdm|cell|chtm|cldc|cmd|co(mp|nd)|craw|da(it|ll|ng)|dbte|dcs|devi|dica|dmob|do(c|p)o|ds(12|d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(|_)|g1 u|g560|gene|gf5|gmo|go(\.w|od)|gr(ad|un)|haie|hcit|hd(m|p|t)|hei|hi(pt|ta)|hp( i|ip)|hsc|ht(c(| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i(20|go|ma)|i230|iac( ||\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|[a-w])|libw|lynx|m1w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|mcr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|([1-8]|c))|phil|pire|pl(ay|uc)|pn2|po(ck|rt|se)|prox|psio|ptg|qaa|qc(07|12|21|32|60|[2-7]|i)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h|oo|p)|sdk\/|se(c(|0|1)|47|mc|nd|ri)|sgh|shar|sie(|m)|sk0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h|v|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl|tdg|tel(i|m)|tim|tmo|to(pl|sh)|ts(70|m|m3|m5)|tx9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas|your|zeto|zte/i.test(t)}function s0(){var e=navigator.userAgent||navigator.vendor||window.opera||null;if(!e)throw new Error("Failed to look for user agent information.");return e}const a0={name:"RoomFooter",components:{SvgIcon:nt,EmojiPickerContainer:zu,RoomFiles:Yy,RoomMessageReply:Ab,RoomUsersTag:Pb,RoomEmojis:Nb,RoomTemplatesText:Wb},directives:{clickOutside:Ro},props:{room:{type:Object,required:!0},roomId:{type:[String,Number],required:!0},roomMessage:{type:String,default:null},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},textMessages:{type:Object,required:!0},showSendIcon:{type:Boolean,required:!0},showFiles:{type:Boolean,required:!0},showAudio:{type:Boolean,required:!0},showEmojis:{type:Boolean,required:!0},showFooter:{type:Boolean,required:!0},acceptedFiles:{type:String,required:!0},captureFiles:{type:String,required:!0},textareaActionEnabled:{type:Boolean,required:!0},textareaAutoFocus:{type:Boolean,required:!0},userTagsEnabled:{type:Boolean,required:!0},emojisSuggestionEnabled:{type:Boolean,required:!0},templatesText:{type:Array,default:null},audioBitRate:{type:Number,required:!0},audioSampleRate:{type:Number,required:!0},initReplyMessage:{type:Object,default:null},initEditMessage:{type:Object,default:null},droppedFiles:{type:Array,default:null},emojiDataSource:{type:String,default:void 0}},emits:["edit-message","send-message","update-edited-message-id","textarea-action-handler","typing-message"],data(){return{message:"",editedMessage:{},messageReply:null,cursorRangePosition:null,files:[],fileDialog:!1,selectUsersTagItem:null,selectEmojiItem:null,selectTemplatesTextItem:null,format:"mp3",activeUpOrDownEmojis:null,activeUpOrDownUsersTag:null,activeUpOrDownTemplatesText:null,emojisDB:new du({dataSource:this.emojiDataSource}),emojiOpened:!1,keepKeyboardOpen:!1,filteredEmojis:[],filteredUsersTag:[],selectedUsersTag:[],filteredTemplatesText:[],recorder:this.initRecorder(),isRecording:!1}},computed:{isMessageEmpty(){return!this.files.length&&!this.message.trim()},isFileLoading(){return this.files.some(e=>e.loading)},recordedTime(){return new Date(this.recorder.duration*1e3).toISOString().substr(14,5)},shadowFooter(){return!!this.filteredEmojis.length||!!this.filteredUsersTag.length||!!this.filteredTemplatesText.length||!!this.files.length||!!this.messageReply}},watch:{roomId(){this.resetMessage(!0,!0),this.roomMessage&&(this.message=this.roomMessage,setTimeout(()=>this.onChangeInput()))},message(e){this.getTextareaRef().value=e},roomMessage:{immediate:!0,handler(e){e&&(this.message=this.roomMessage)}},editedMessage(e){this.$emit("update-edited-message-id",e._id)},initReplyMessage(e){e&&this.replyMessage(e)},initEditMessage(e){e&&this.editMessage(e)},droppedFiles(e){e&&this.onFileChange(e)}},mounted(){const e=Yu();let t=!0;this.getTextareaRef().addEventListener("keyup",r=>{r.key==="Enter"&&!r.shiftKey&&!this.fileDialog&&(e?(this.message=this.message+`
`,setTimeout(()=>this.onChangeInput())):t&&!this.filteredEmojis.length&&!this.filteredUsersTag.length&&!this.filteredTemplatesText.length&&this.sendMessage()),t=!r.isComposing,setTimeout(()=>{this.updateFooterLists()},60)}),this.getTextareaRef().addEventListener("click",()=>{e&&(this.keepKeyboardOpen=!0),this.updateFooterLists()}),this.getTextareaRef().addEventListener("blur",()=>{setTimeout(()=>{this.resetFooterList()},100),e&&setTimeout(()=>this.keepKeyboardOpen=!1)})},beforeUnmount(){this.stopRecorder()},methods:{getTextareaRef(){return this.$refs.roomTextarea},focusTextarea(e){Yu()&&e||!this.getTextareaRef()||(this.getTextareaRef().focus(),this.cursorRangePosition&&setTimeout(()=>{const t=i0()?0:1;this.getTextareaRef().setSelectionRange(this.cursorRangePosition+t,this.cursorRangePosition+t),this.cursorRangePosition=null}))},onChangeInput(){var e,t,r;(((e=this.getTextareaRef())==null?void 0:e.value)||((t=this.getTextareaRef())==null?void 0:t.value)==="")&&(this.message=(r=this.getTextareaRef())==null?void 0:r.value),this.keepKeyboardOpen=!0,this.resizeTextarea(),this.$emit("typing-message",this.message)},resizeTextarea(){const e=this.getTextareaRef();if(!e)return;const t=window.getComputedStyle(e,null).getPropertyValue("padding-top").replace("px","");e.style.height=0,e.style.height=e.scrollHeight-t*2+"px"},escapeTextarea(){this.filteredEmojis.length?this.filteredEmojis=[]:this.filteredUsersTag.length?this.filteredUsersTag=[]:this.filteredTemplatesText.length?this.filteredTemplatesText=[]:this.resetMessage()},onPasteImage(e){var r;const t=(r=e.clipboardData)==null?void 0:r.items;t&&Array.from(t).forEach(n=>{if(n.type.includes("image")){const o=n.getAsFile();this.onFileChange([o])}})},updateActiveUpOrDown(e,t){this.filteredEmojis.length?(this.activeUpOrDownEmojis=t,e.preventDefault()):this.filteredUsersTag.length?(this.activeUpOrDownUsersTag=t,e.preventDefault()):this.filteredTemplatesText.length&&(this.activeUpOrDownTemplatesText=t,e.preventDefault())},selectItem(){this.filteredEmojis.length?this.selectEmojiItem=!0:this.filteredUsersTag.length?this.selectUsersTagItem=!0:this.filteredTemplatesText.length&&(this.selectTemplatesTextItem=!0)},selectEmoji(e){if(this.selectEmojiItem=!1,!e)return;const{position:t,endPosition:r}=this.getCharPosition(":");this.message=this.message.substr(0,t-1)+e+this.message.substr(r,this.message.length-1),this.cursorRangePosition=t,this.focusTextarea()},selectTemplateText(e){if(this.selectTemplatesTextItem=!1,!e)return;const{position:t,endPosition:r}=this.getCharPosition("/"),n=this.message.substr(r,r).length?"":" ";this.message=this.message.substr(0,t-1)+e.text+n+this.message.substr(r,this.message.length-1),this.cursorRangePosition=t+e.text.length+n.length+1,this.focusTextarea()},addEmoji(e){this.message+=e.unicode,this.focusTextarea(!0)},launchFilePicker(){this.$refs.file.value="",this.$refs.file.click()},async onFileChange(e){this.fileDialog=!0,this.focusTextarea(),Array.from(e).forEach(async t=>{const r=URL.createObjectURL(t),n=t.name.lastIndexOf(".");this.files.push({loading:!0,name:t.name.substring(0,n),size:t.size,type:t.type,extension:t.name.substring(n+1),localUrl:r});const o=await fetch(r).then(a=>a.blob());let i=this.files.find(a=>a.localUrl===r);i&&(i.blob=o,i.loading=!1,delete i.loading)}),setTimeout(()=>this.fileDialog=!1,500)},removeFile(e){this.files.splice(e,1),this.focusTextarea()},toggleRecorder(e){if(this.isRecording=e,!this.recorder.isRecording)setTimeout(()=>this.recorder.start(),200);else try{this.recorder.stop();const t=this.recorder.records[0];this.files.push({blob:t.blob,name:`audio.${this.format}`,size:t.blob.size,duration:t.duration,type:t.blob.type,audio:!0,localUrl:URL.createObjectURL(t.blob)}),this.recorder=this.initRecorder(),this.sendMessage()}catch{setTimeout(()=>this.stopRecorder(),100)}},stopRecorder(){if(this.recorder.isRecording)try{this.recorder.stop(),this.recorder=this.initRecorder()}catch{setTimeout(()=>this.stopRecorder(),100)}},textareaActionHandler(){this.$emit("textarea-action-handler",this.message)},sendMessage(){var r;let e=this.message.trim();if(!this.files.length&&!e||this.isFileLoading)return;this.selectedUsersTag.forEach(n=>{e=e.replace(`@${n.username}`,`<usertag>${n._id}</usertag>`)});const t=this.files.length?this.files:null;this.editedMessage._id?(this.editedMessage.content!==e||((r=this.editedMessage.files)==null?void 0:r.length)||this.files.length)&&this.$emit("edit-message",{messageId:this.editedMessage._id,newContent:e,files:t,replyMessage:this.messageReply,usersTag:this.selectedUsersTag}):this.$emit("send-message",{content:e,files:t,replyMessage:this.messageReply,usersTag:this.selectedUsersTag}),this.resetMessage(!0)},editMessage(e){this.resetMessage(),this.editedMessage={...e};let t=e.content;const r=t,n="<usertag>",o="</usertag>";[...t.matchAll(new RegExp(n,"gi"))].map(a=>a.index).forEach(a=>{const s=r.substring(a+n.length,r.indexOf(o,a)),c=this.room.users.find(l=>l._id===s);t=t.replace(`${n}${s}${o}`,`@${(c==null?void 0:c.username)||"unknown"}`),this.selectUserTag(c,!0)}),this.message=t,e.files&&(this.files=[...e.files]),setTimeout(()=>this.resizeTextarea())},replyMessage(e){this.editedMessage={},this.messageReply=e,this.focusTextarea()},updateFooterLists(){this.updateFooterList("@"),this.updateFooterList(":"),this.updateFooterList("/")},updateFooterList(e){if(!this.getTextareaRef()||e===":"&&!this.emojisSuggestionEnabled||e==="@"&&(!this.userTagsEnabled||!this.room.users)||e==="/"&&!this.templatesText)return;const t=this.getTextareaRef().selectionStart;let r=t;for(;r>0&&this.message.charAt(r-1)!==e&&(this.message.charAt(r-1)!==" "||e!==":");)r--;const n=this.message.charAt(r-2),o=!n.match(/^[0-9a-zA-Z]+$/);if(this.message.charAt(r-1)===e&&(!n||n===" "||o)){const i=this.message.substring(r,t);e===":"?this.updateEmojis(i):e==="@"?this.updateShowUsersTag(i):e==="/"&&this.updateShowTemplatesText(i)}else this.resetFooterList(e)},updateShowUsersTag(e){this.filteredUsersTag=Ss(this.room.users,"username",e,!0).filter(t=>t._id!==this.currentUserId)},selectUserTag(e,t=!1){if(this.selectUsersTagItem=!1,!e)return;const{position:r,endPosition:n}=this.getCharPosition("@"),o=this.message.substr(n,n).length?"":" ";this.message=this.message.substr(0,r)+e.username+o+this.message.substr(n,this.message.length-1),this.selectedUsersTag=[...this.selectedUsersTag,{...e}],t||(this.cursorRangePosition=r+e.username.length+o.length+1),this.focusTextarea()},updateShowTemplatesText(e){this.filteredTemplatesText=Ss(this.templatesText,"tag",e,!0)},getCharPosition(e){let r=this.getTextareaRef().selectionStart;for(;r>0&&this.message.charAt(r-1)!==e;)r--;const n=this.getTextareaRef().selectionEnd;return{position:r,endPosition:n}},async updateEmojis(e){if(!e)return;const t=await this.emojisDB.getEmojiBySearchQuery(e);this.filteredEmojis=t.map(r=>r.unicode)},resetFooterList(e=null){e===":"?this.filteredEmojis=[]:e==="@"?this.filteredUsersTag=[]:e==="/"?this.filteredTemplatesText=[]:(this.filteredEmojis=[],this.filteredUsersTag=[],this.filteredTemplatesText=[])},resetMessage(e=!1,t=!1){t||this.$emit("typing-message",null),this.selectedUsersTag=[],this.resetFooterList(),this.resetTextareaSize(),this.message="",this.editedMessage={},this.messageReply=null,this.files=[],this.emojiOpened=!1,this.preventKeyboardFromClosing(),(this.textareaAutoFocus||!t)&&setTimeout(()=>this.focusTextarea(e))},resetTextareaSize(){this.getTextareaRef()&&(this.getTextareaRef().style.height="20px")},preventKeyboardFromClosing(){this.keepKeyboardOpen&&this.getTextareaRef().focus()},initRecorder(){return this.isRecording=!1,new e0({bitRate:Number(this.audioBitRate),sampleRate:Number(this.audioSampleRate),beforeRecording:null,afterRecording:null,pauseRecording:null,micFailed:this.micFailed})},micFailed(){this.isRecording=!1,this.recorder=this.initRecorder()}}},l0={key:0,class:"vac-icon-textarea-left"},c0=J("div",{class:"vac-dot-audio-record"},null,-1),u0={class:"vac-dot-audio-record-time"},d0=["placeholder"],f0={class:"vac-icon-textarea"},h0={key:1},m0=["accept","capture"];function g0(e,t,r,n,o,i){const a=ve("room-emojis"),s=ve("room-users-tag"),c=ve("room-templates-text"),l=ve("room-message-reply"),d=ve("room-files"),f=ve("svg-icon"),v=ve("emoji-picker-container"),b=uo("click-outside");return zt((N(),V("div",{id:"room-footer",class:Ee(["vac-room-footer",{"vac-app-box-shadow":i.shadowFooter}])},[ae(a,{"filtered-emojis":o.filteredEmojis,"select-item":o.selectEmojiItem,"active-up-or-down":o.activeUpOrDownEmojis,onSelectEmoji:t[0]||(t[0]=C=>i.selectEmoji(C)),onActivateItem:t[1]||(t[1]=C=>o.activeUpOrDownEmojis=0)},null,8,["filtered-emojis","select-item","active-up-or-down"]),ae(s,{"filtered-users-tag":o.filteredUsersTag,"select-item":o.selectUsersTagItem,"active-up-or-down":o.activeUpOrDownUsersTag,onSelectUserTag:t[2]||(t[2]=C=>i.selectUserTag(C)),onActivateItem:t[3]||(t[3]=C=>o.activeUpOrDownUsersTag=0)},null,8,["filtered-users-tag","select-item","active-up-or-down"]),ae(c,{"filtered-templates-text":o.filteredTemplatesText,"select-item":o.selectTemplatesTextItem,"active-up-or-down":o.activeUpOrDownTemplatesText,onSelectTemplateText:t[4]||(t[4]=C=>i.selectTemplateText(C)),onActivateItem:t[5]||(t[5]=C=>o.activeUpOrDownTemplatesText=0)},null,8,["filtered-templates-text","select-item","active-up-or-down"]),ae(l,{room:r.room,"message-reply":o.messageReply,"text-formatting":r.textFormatting,"link-options":r.linkOptions,onResetMessage:i.resetMessage},Fe({_:2},[Ae(e.$slots,(C,_)=>({name:_,fn:be(x=>[se(e.$slots,_,De(Ne(x)))])}))]),1032,["room","message-reply","text-formatting","link-options","onResetMessage"]),ae(d,{files:o.files,onRemoveFile:i.removeFile,onResetMessage:i.resetMessage},Fe({_:2},[Ae(e.$slots,(C,_)=>({name:_,fn:be(x=>[se(e.$slots,_,De(Ne(x)))])}))]),1032,["files","onRemoveFile","onResetMessage"]),J("div",{class:Ee(["vac-box-footer",{"vac-box-footer-border":!o.files.length}])},[r.showAudio&&!o.files.length?(N(),V("div",l0,[o.isRecording?(N(),V(Me,{key:0},[J("div",{class:"vac-svg-button vac-icon-audio-stop",onClick:t[6]||(t[6]=(...C)=>i.stopRecorder&&i.stopRecorder(...C))},[se(e.$slots,"audio-stop-icon",{},()=>[ae(f,{name:"close-outline"})])]),c0,J("div",u0,_e(i.recordedTime),1),J("div",{class:"vac-svg-button vac-icon-audio-confirm",onClick:t[7]||(t[7]=C=>i.toggleRecorder(!1))},[se(e.$slots,"audio-check-icon",{},()=>[ae(f,{name:"checkmark"})])])],64)):(N(),V("div",{key:1,class:"vac-svg-button",onClick:t[8]||(t[8]=C=>i.toggleRecorder(!0))},[se(e.$slots,"microphone-icon",{},()=>[ae(f,{name:"microphone",class:"vac-icon-microphone"})])]))])):oe("",!0),J("textarea",{id:"roomTextarea",ref:"roomTextarea",placeholder:r.textMessages.TYPE_MESSAGE,class:Ee(["vac-textarea",{"vac-textarea-outline":o.editedMessage._id}]),style:{"min-height":"20px","padding-left":"12px"},onInput:t[9]||(t[9]=(...C)=>i.onChangeInput&&i.onChangeInput(...C)),onKeydown:[t[10]||(t[10]=yr((...C)=>i.escapeTextarea&&i.escapeTextarea(...C),["esc"])),t[11]||(t[11]=yr(It((...C)=>i.selectItem&&i.selectItem(...C),["exact","prevent"]),["enter"])),t[13]||(t[13]=yr(It(()=>{},["exact","prevent"]),["tab"])),t[14]||(t[14]=yr((...C)=>i.selectItem&&i.selectItem(...C),["tab"])),t[15]||(t[15]=yr(C=>i.updateActiveUpOrDown(C,-1),["up"])),t[16]||(t[16]=yr(C=>i.updateActiveUpOrDown(C,1),["down"]))],onPaste:t[12]||(t[12]=(...C)=>i.onPasteImage&&i.onPasteImage(...C))},null,42,d0),J("div",f0,[o.editedMessage._id?(N(),V("div",{key:0,class:"vac-svg-button",onClick:t[17]||(t[17]=(...C)=>i.resetMessage&&i.resetMessage(...C))},[se(e.$slots,"edit-close-icon",{},()=>[ae(f,{name:"close-outline"})])])):oe("",!0),r.showEmojis?zt((N(),V("div",h0,[se(e.$slots,"emoji-picker",Hi({emojiOpened:o.emojiOpened},{addEmoji:i.addEmoji}),()=>[ae(v,{"emoji-opened":o.emojiOpened,"position-top":!0,"emoji-data-source":r.emojiDataSource,onAddEmoji:i.addEmoji,onOpenEmoji:t[18]||(t[18]=C=>o.emojiOpened=C)},{"emoji-picker-icon":be(()=>[se(e.$slots,"emoji-picker-icon")]),_:3},8,["emoji-opened","emoji-data-source","onAddEmoji"])])])),[[b,()=>o.emojiOpened=!1]]):oe("",!0),r.showFiles?(N(),V("div",{key:2,class:"vac-svg-button",onClick:t[19]||(t[19]=(...C)=>i.launchFilePicker&&i.launchFilePicker(...C))},[se(e.$slots,"paperclip-icon",{},()=>[ae(f,{name:"paperclip"})])])):oe("",!0),r.textareaActionEnabled?(N(),V("div",{key:3,class:"vac-svg-button",onClick:t[20]||(t[20]=(...C)=>i.textareaActionHandler&&i.textareaActionHandler(...C))},[se(e.$slots,"custom-action-icon",{},()=>[ae(f,{name:"deleted"})])])):oe("",!0),r.showFiles?(N(),V("input",{key:4,ref:"file",type:"file",multiple:"",accept:r.acceptedFiles,capture:r.captureFiles,style:{display:"none"},onChange:t[21]||(t[21]=C=>i.onFileChange(C.target.files))},null,40,m0)):oe("",!0),r.showSendIcon?(N(),V("div",{key:5,class:Ee(["vac-svg-button",{"vac-send-disabled":i.isMessageEmpty}]),onClick:t[22]||(t[22]=(...C)=>i.sendMessage&&i.sendMessage(...C))},[se(e.$slots,"send-icon",{},()=>[ae(f,{name:"send",param:i.isMessageEmpty||i.isFileLoading?"disabled":""},null,8,["param"])])],2)):oe("",!0)])],2)],2)),[[bo,Object.keys(r.room).length&&r.showFooter]])}var p0=ze(a0,[["render",g0]]);const v0={name:"MessageReply",components:{AudioPlayer:Vs,SvgIcon:nt,FormatMessage:Sn},props:{message:{type:Object,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},roomUsers:{type:Array,required:!0}},computed:{replyUsername(){const{senderId:e}=this.message.replyMessage,t=this.roomUsers.find(r=>r._id===e);return t?t.username:""},firstFile(){var e,t;return(t=(e=this.message.replyMessage)==null?void 0:e.files)!=null&&t.length?this.message.replyMessage.files[0]:{}},isAudio(){return Po(this.firstFile)},isImage(){return qr(this.firstFile)},isVideo(){return Tn(this.firstFile)},isOtherFile(){var e;return((e=this.message.replyMessage.files)==null?void 0:e.length)&&!this.isAudio&&!this.isVideo&&!this.isImage}}},y0={class:"vac-reply-message"},b0={class:"vac-reply-username"},w0={key:0,class:"vac-image-reply-container"},k0={key:1,class:"vac-video-reply-container"},_0={controls:""},x0=["src"],A0={key:3,class:"vac-file-container"},E0={class:"vac-text-ellipsis"},C0={key:0,class:"vac-text-ellipsis vac-text-extension"},S0={class:"vac-reply-content"};function O0(e,t,r,n,o,i){const a=ve("audio-player"),s=ve("svg-icon"),c=ve("format-message");return N(),V("div",y0,[J("div",b0,_e(i.replyUsername),1),i.isImage?(N(),V("div",w0,[J("div",{class:"vac-message-image vac-message-image-reply",style:Ve({"background-image":`url('${i.firstFile.url}')`})},null,4)])):i.isVideo?(N(),V("div",k0,[J("video",_0,[J("source",{src:i.firstFile.url},null,8,x0)])])):i.isAudio?(N(),je(a,{key:2,src:i.firstFile.url,"message-selection-enabled":!1,onUpdateProgressTime:t[0]||(t[0]=l=>e.progressTime=l),onHoverAudioProgress:t[1]||(t[1]=l=>e.hoverAudioProgress=l)},Fe({_:2},[Ae(e.$slots,(l,d)=>({name:d,fn:be(f=>[se(e.$slots,d,De(Ne(f)))])}))]),1032,["src"])):i.isOtherFile?(N(),V("div",A0,[J("div",null,[se(e.$slots,"file-icon",{},()=>[ae(s,{name:"file"})])]),J("div",E0,_e(i.firstFile.name),1),i.firstFile.extension?(N(),V("div",C0,_e(i.firstFile.extension),1)):oe("",!0)])):oe("",!0),J("div",S0,[ae(c,{"message-id":r.message.replyMessage._id,content:r.message.replyMessage.content,users:r.roomUsers,"text-formatting":r.textFormatting,"link-options":r.linkOptions,reply:!0},null,8,["message-id","content","users","text-formatting","link-options"])])])}var T0=ze(v0,[["render",O0]]);const R0={name:"ProgressBar",props:{progress:{type:Number,default:0}},data(){const n=54*Math.PI;return{radius:35,stroke:4,normalizedRadius:27,circumference:n}},computed:{strokeDashoffset(){return this.circumference-this.progress/100*this.circumference}}},P0={ref:"progress",class:"vac-progress-wrapper"},M0=["height","width"],I0=["stroke-dasharray","stroke-width","r","cx","cy"],j0={class:"vac-progress-text"},L0=J("span",{class:"vac-progress-pourcent"},"%",-1);function N0(e,t,r,n,o,i){return N(),je(Xe,{name:"vac-fade-spinner",appear:""},{default:be(()=>[J("div",P0,[(N(),V("svg",{height:o.radius*2,width:o.radius*2},[J("circle",{stroke:"rgba(255, 255, 255, 0.7)","stroke-dasharray":o.circumference+" "+o.circumference,style:Ve({strokeDashoffset:i.strokeDashoffset,strokeLinecap:"round"}),"stroke-width":o.stroke,fill:"transparent",r:o.normalizedRadius,cx:o.radius,cy:o.radius},null,12,I0)],8,M0)),J("div",{class:"vac-progress-content",style:Ve({height:o.radius*2-19+"px",width:o.radius*2-19+"px"})},[J("div",j0,[Rt(_e(r.progress),1),L0])],4)],512)]),_:1})}var Xu=ze(R0,[["render",N0]]);const D0={name:"MessageFile",components:{SvgIcon:nt,Loader:wo,ProgressBar:Xu},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},file:{type:Object,required:!0},index:{type:Number,required:!0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["open-file"],data(){return{imageResponsive:"",imageLoading:!1,imageHover:!1}},computed:{isImageLoading(){return this.file.url.indexOf("blob:http")!==-1||this.imageLoading},isImage(){return qr(this.file)},isVideo(){return Tn(this.file)}},watch:{file:{immediate:!0,handler(){this.checkImgLoad()}}},mounted(){const e=this.$refs["imageRef"+this.index];e&&(this.imageResponsive={maxHeight:e.clientWidth-18,loaderTop:e.clientHeight/2-9})},methods:{checkImgLoad(){if(!qr(this.file))return;this.imageLoading=!0;const e=new Image;e.src=this.file.url,e.addEventListener("load",()=>this.imageLoading=!1)},openFile(e,t){this.messageSelectionEnabled||(e.stopPropagation(),this.$emit("open-file",{file:this.file,action:t}))}}},F0={class:"vac-message-file-container"},B0={key:0,class:"vac-image-buttons"},U0={controls:""},H0=["src"];function z0(e,t,r,n,o,i){const a=ve("progress-bar"),s=ve("loader"),c=ve("svg-icon");return N(),V("div",F0,[i.isImage?(N(),V("div",{key:0,ref:"imageRef"+r.index,class:"vac-message-image-container",onMouseover:t[2]||(t[2]=l=>o.imageHover=!0),onMouseleave:t[3]||(t[3]=l=>o.imageHover=!1),onClick:t[4]||(t[4]=l=>i.openFile(l,"preview"))},[r.file.progress>=0?(N(),je(a,{key:0,progress:r.file.progress,style:Ve({top:`${o.imageResponsive.loaderTop}px`})},null,8,["progress","style"])):(N(),je(s,{key:1,show:i.isImageLoading,type:"message-file","message-id":r.message._id,style:Ve({top:`${o.imageResponsive.loaderTop}px`})},Fe({_:2},[Ae(e.$slots,(l,d)=>({name:d,fn:be(f=>[se(e.$slots,d,De(Ne(f)))])}))]),1032,["show","message-id","style"])),J("div",{class:Ee(["vac-message-image",{"vac-blur-loading":i.isImageLoading&&r.message.senderId===r.currentUserId}]),style:Ve({"background-image":`url('${i.isImageLoading&&r.file.preview||r.file.url}')`,"max-height":`${o.imageResponsive.maxHeight}px`})},[ae(Xe,{name:"vac-fade-image"},{default:be(()=>[!r.messageSelectionEnabled&&o.imageHover&&!i.isImageLoading?(N(),V("div",B0,[J("div",{class:"vac-svg-button vac-button-view",onClick:t[0]||(t[0]=l=>i.openFile(l,"preview"))},[se(e.$slots,"eye-icon_"+r.message._id,{},()=>[ae(c,{name:"eye"})])]),J("div",{class:"vac-svg-button vac-button-download",onClick:t[1]||(t[1]=l=>i.openFile(l,"download"))},[se(e.$slots,"document-icon_"+r.message._id,{},()=>[ae(c,{name:"document"})])])])):oe("",!0)]),_:3})],6)],544)):i.isVideo?(N(),V("div",{key:1,class:"vac-video-container",onClick:t[5]||(t[5]=It(l=>i.openFile(l,"preview"),["prevent"]))},[r.file.progress>=0?(N(),je(a,{key:0,progress:r.file.progress},null,8,["progress"])):oe("",!0),J("video",U0,[J("source",{src:r.file.url},null,8,H0)])])):oe("",!0)])}var q0=ze(D0,[["render",z0]]);const W0={name:"MessageFiles",components:{SvgIcon:nt,FormatMessage:Sn,ProgressBar:Xu,MessageFile:q0},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},roomUsers:{type:Array,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["open-file","open-user-tag"],computed:{imageVideoFiles(){return this.message.files.filter(e=>vc(e))},otherFiles(){return this.message.files.filter(e=>!vc(e))}},methods:{openFile(e,t,r){this.messageSelectionEnabled||(e.stopPropagation(),this.$emit("open-file",{file:t,action:r}))}}},V0={class:"vac-message-files-container"},K0=["onClick"],G0={class:"vac-svg-button"},Y0={class:"vac-text-ellipsis"},X0={key:0,class:"vac-text-ellipsis vac-text-extension"};function Q0(e,t,r,n,o,i){const a=ve("message-file"),s=ve("progress-bar"),c=ve("svg-icon"),l=ve("format-message");return N(),V("div",V0,[(N(!0),V(Me,null,Ae(i.imageVideoFiles,(d,f)=>(N(),V("div",{key:f+"iv"},[ae(a,{file:d,"current-user-id":r.currentUserId,message:r.message,index:f,"message-selection-enabled":r.messageSelectionEnabled,onOpenFile:t[0]||(t[0]=v=>e.$emit("open-file",v))},Fe({_:2},[Ae(e.$slots,(v,b)=>({name:b,fn:be(C=>[se(e.$slots,b,De(Ne(C)))])}))]),1032,["file","current-user-id","message","index","message-selection-enabled"])]))),128)),(N(!0),V(Me,null,Ae(i.otherFiles,(d,f)=>(N(),V("div",{key:f+"a",class:"vac-file-wrapper"},[d.progress>=0?(N(),je(s,{key:0,progress:d.progress,style:{top:"44px"}},null,8,["progress"])):oe("",!0),J("div",{class:Ee(["vac-file-container",{"vac-file-container-progress":d.progress>=0}]),onClick:v=>i.openFile(v,d,"download")},[J("div",G0,[se(e.$slots,"document-icon",{},()=>[ae(c,{name:"document"})])]),J("div",Y0,_e(d.name),1),d.extension?(N(),V("div",X0,_e(d.extension),1)):oe("",!0)],10,K0)]))),128)),ae(l,{"message-id":r.message._id,content:r.message.content,users:r.roomUsers,"text-formatting":r.textFormatting,"link-options":r.linkOptions,onOpenUserTag:t[1]||(t[1]=d=>e.$emit("open-user-tag",d))},null,8,["message-id","content","users","text-formatting","link-options"])])}var Z0=ze(W0,[["render",Q0]]);const J0={name:"MessageActions",components:{SvgIcon:nt,EmojiPickerContainer:zu},directives:{clickOutside:Ro},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},messageActions:{type:Array,required:!0},showReactionEmojis:{type:Boolean,required:!0},messageHover:{type:Boolean,required:!0},hoverMessageId:{type:[String,Number],default:null},hoverAudioProgress:{type:Boolean,required:!0},emojiDataSource:{type:String,default:void 0}},emits:["update-emoji-opened","update-options-opened","update-message-hover","message-action-handler","send-message-reaction"],data(){return{menuOptionsTop:0,optionsOpened:!1,optionsClosing:!1,emojiOpened:!1}},computed:{isMessageActions(){return this.filteredMessageActions.length&&this.messageHover&&!this.message.deleted&&!this.message.disableActions&&!this.hoverAudioProgress},isMessageReactions(){return this.showReactionEmojis&&this.messageHover&&!this.message.deleted&&!this.message.disableReactions&&!this.hoverAudioProgress},filteredMessageActions(){return this.message.senderId===this.currentUserId?this.messageActions:this.messageActions.filter(e=>!e.onlyMe)}},watch:{emojiOpened(e){this.$emit("update-emoji-opened",e),e&&(this.optionsOpened=!1)},optionsOpened(e){this.$emit("update-options-opened",e)}},methods:{openOptions(){this.optionsClosing||(this.optionsOpened=!this.optionsOpened,this.optionsOpened&&setTimeout(()=>{const e=Hu(this.$el,"#room-footer");if(!e||!this.$refs.menuOptions||!this.$refs.actionIcon)return;const t=this.$refs.menuOptions.getBoundingClientRect().height,r=this.$refs.actionIcon.getBoundingClientRect().top;e.getBoundingClientRect().top-r>t+50?this.menuOptionsTop=30:this.menuOptionsTop=-t}))},closeOptions(){this.optionsOpened=!1,this.optionsClosing=!0,this.updateMessageHover(),setTimeout(()=>this.optionsClosing=!1,100)},openEmoji(){this.emojiOpened=!this.emojiOpened},closeEmoji(){this.emojiOpened=!1,this.updateMessageHover()},updateMessageHover(){this.hoverMessageId!==this.message._id&&this.$emit("update-message-hover",!1)},messageActionHandler(e){this.closeOptions(),this.$emit("message-action-handler",e)},sendMessageReaction(e,t){this.$emit("send-message-reaction",{emoji:e,reaction:t}),this.closeEmoji()}}},$0={class:"vac-message-actions-wrapper"},ew={key:"3"},tw={class:"vac-menu-list"},rw=["onClick"];function nw(e,t,r,n,o,i){const a=ve("svg-icon"),s=ve("emoji-picker-container"),c=uo("click-outside");return N(),V("div",$0,[J("div",{class:"vac-options-container",style:Ve({display:r.hoverAudioProgress?"none":"initial",width:i.filteredMessageActions.length&&r.showReactionEmojis?"70px":"45px"})},[ae(Qi,{name:"vac-slide-left",tag:"span"},{default:be(()=>[i.isMessageActions||i.isMessageReactions?(N(),V("div",{key:"1",class:Ee(["vac-blur-container",{"vac-options-me":r.message.senderId===r.currentUserId}])},null,2)):oe("",!0),i.isMessageActions?(N(),V("div",{ref:"actionIcon",key:"2",class:"vac-svg-button vac-message-options",onClick:t[0]||(t[0]=(...l)=>i.openOptions&&i.openOptions(...l))},[se(e.$slots,"dropdown-icon_"+r.message._id,{},()=>[ae(a,{name:"dropdown",param:"message"})])],512)):oe("",!0),i.isMessageReactions?zt((N(),V("div",ew,[se(e.$slots,"emoji-picker",Hi({emojiOpened:o.emojiOpened},{addEmoji:i.sendMessageReaction}),()=>[ae(s,{class:"vac-message-emojis",style:Ve({right:i.isMessageActions?"30px":"5px"}),"emoji-opened":o.emojiOpened,"emoji-reaction":!0,"position-right":r.message.senderId===r.currentUserId,"message-id":r.message._id,"emoji-data-source":r.emojiDataSource,onAddEmoji:i.sendMessageReaction,onOpenEmoji:i.openEmoji},Fe({_:2},[Ae(e.$slots,(l,d)=>({name:d,fn:be(f=>[se(e.$slots,d,De(Ne(f)))])}))]),1032,["style","emoji-opened","position-right","message-id","emoji-data-source","onAddEmoji","onOpenEmoji"])])])),[[c,i.closeEmoji]]):oe("",!0)]),_:3})],4),i.filteredMessageActions.length?(N(),je(Xe,{key:0,name:r.message.senderId===r.currentUserId?"vac-slide-left":"vac-slide-right"},{default:be(()=>[o.optionsOpened?zt((N(),V("div",{key:0,ref:"menuOptions",class:Ee(["vac-menu-options",{"vac-menu-left":r.message.senderId!==r.currentUserId}]),style:Ve({top:`${o.menuOptionsTop}px`})},[J("div",tw,[(N(!0),V(Me,null,Ae(i.filteredMessageActions,l=>(N(),V("div",{key:l.name},[J("div",{class:"vac-menu-item",onClick:d=>i.messageActionHandler(l)},_e(l.title),9,rw)]))),128))])],6)),[[c,i.closeOptions]]):oe("",!0)]),_:1},8,["name"])):oe("",!0)])}var ow=ze(J0,[["render",nw]]);const iw={name:"MessageReactions",props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0}},emits:["send-message-reaction"],methods:{sendMessageReaction(e,t){this.$emit("send-message-reaction",{emoji:e,reaction:t})}}},sw=["onClick"];function aw(e,t,r,n,o,i){return r.message.deleted?oe("",!0):(N(),je(Qi,{key:0,name:"vac-slide-left",tag:"span"},{default:be(()=>[(N(!0),V(Me,null,Ae(r.message.reactions,(a,s)=>zt((N(),V("button",{key:s+0,class:Ee(["vac-button-reaction",{"vac-reaction-me":a.indexOf(r.currentUserId)!==-1}]),style:Ve({float:r.message.senderId===r.currentUserId?"right":"left"}),onClick:c=>i.sendMessageReaction({unicode:s},a)},[Rt(_e(s),1),J("span",null,_e(a.length),1)],14,sw)),[[bo,a.length]])),128))]),_:1}))}var lw=ze(iw,[["render",aw]]);function cw(e){if(!((n,o)=>o.every(i=>{let a=!1;return(i.type[0]==="array"&&Array.isArray(n[i.key])||i.type.find(s=>s===typeof n[i.key]))&&(a=!0),a&&Qs(n,i.key)}))(e,[{key:"roomId",type:["string","number"]},{key:"roomName",type:["string"]},{key:"users",type:["array"]}]))throw new Error("Rooms object is not valid! Must contain at least roomId[String, Number], roomName[String] and users[Array]")}function uw(e){if(!((n,o)=>o.every(i=>i.type.find(s=>s===typeof n[i.key])&&Qs(n,i.key)))(e,[{key:"_id",type:["string","number"]},{key:"username",type:["string"]}]))throw new Error("Participants object is not valid! Must contain at least _id[String, Number] and username[String]")}function dw(e){if(!((n,o)=>o.every(i=>i.type.find(s=>s===typeof n[i.key])&&Qs(n,i.key)))(e,[{key:"_id",type:["string","number"]},{key:"senderId",type:["string","number"]}]))throw new Error("Messages object is not valid! Must contain at least _id[String, Number] and senderId[String, Number]")}function Qs(e,t){return Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==null&&e[t]!==void 0}const fw={name:"RoomMessage",components:{SvgIcon:nt,FormatMessage:Sn,AudioPlayer:Vs,MessageReply:T0,MessageFiles:Z0,MessageActions:ow,MessageReactions:lw},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},index:{type:Number,required:!0},message:{type:Object,required:!0},messages:{type:Array,required:!0},editedMessageId:{type:[String,Number],default:null},roomUsers:{type:Array,default:()=>[]},messageActions:{type:Array,required:!0},newMessages:{type:Array,default:()=>[]},showReactionEmojis:{type:Boolean,required:!0},showNewMessagesDivider:{type:Boolean,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},usernameOptions:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0},selectedMessages:{type:Array,default:()=>[]},emojiDataSource:{type:String,default:void 0}},emits:["message-added","open-file","open-user-tag","open-failed-message","message-action-handler","send-message-reaction","select-message","unselect-message"],data(){return{hoverMessageId:null,messageHover:!1,optionsOpened:!1,emojiOpened:!1,newMessage:{},progressTime:"- : -",hoverAudioProgress:!1}},computed:{showUsername(){return!this.usernameOptions.currentUser&&this.message.senderId===this.currentUserId?!1:this.roomUsers.length>=this.usernameOptions.minUsers},showDate(){return this.index>0&&this.message.date!==this.messages[this.index-1].date},messageOffset(){return this.index>0&&this.message.senderId!==this.messages[this.index-1].senderId},isMessageHover(){return this.editedMessageId===this.message._id||this.hoverMessageId===this.message._id},isAudio(){var e;return(e=this.message.files)==null?void 0:e.some(t=>Po(t))},isCheckmarkVisible(){return this.message.senderId===this.currentUserId&&!this.message.deleted&&(this.message.saved||this.message.distributed||this.message.seen)},hasCurrentUserAvatar(){return this.messages.some(e=>e.senderId===this.currentUserId&&e.avatar)},hasSenderUserAvatar(){return this.messages.some(e=>e.senderId!==this.currentUserId&&e.avatar)},isMessageSelected(){return this.messageSelectionEnabled&&!!this.selectedMessages.find(e=>e._id===this.message._id)}},watch:{newMessages:{immediate:!0,deep:!0,handler(e){if(!e.length||!this.showNewMessagesDivider){this.newMessage={};return}this.newMessage=e.reduce((t,r)=>r.index<t.index?r:t)}},messageSelectionEnabled(){this.resetMessageHover()}},mounted(){dw(this.message),this.$emit("message-added",{message:this.message,index:this.index,ref:this.$refs.message})},methods:{onHoverMessage(){this.messageSelectionEnabled||(this.messageHover=!0,this.canEditMessage()&&(this.hoverMessageId=this.message._id))},canEditMessage(){return!this.message.deleted},onLeaveMessage(){this.messageSelectionEnabled||(!this.optionsOpened&&!this.emojiOpened&&(this.messageHover=!1),this.hoverMessageId=null)},resetMessageHover(){this.messageHover=!1,this.hoverMessageId=null},openFile(e){this.$emit("open-file",{message:this.message,file:e})},openUserTag(e){this.$emit("open-user-tag",{user:e})},messageActionHandler(e){this.resetMessageHover(),setTimeout(()=>{this.$emit("message-action-handler",{action:e,message:this.message})},300)},sendMessageReaction({emoji:e,reaction:t}){this.$emit("send-message-reaction",{messageId:this.message._id,reaction:e,remove:t&&t.indexOf(this.currentUserId)!==-1}),this.messageHover=!1},selectMessage(){this.messageSelectionEnabled&&(this.isMessageSelected?this.$emit("unselect-message",this.message._id):this.$emit("select-message",this.message))}}},hw=["id"],mw={key:0,class:"vac-card-info vac-card-date"},gw={key:1,class:"vac-line-new"},pw={key:2,class:"vac-card-info vac-card-system"},vw={key:1,class:"vac-avatar-offset"},yw={key:0,class:"vac-progress-time"},bw={class:"vac-text-timestamp"},ww={key:0,class:"vac-icon-edited"},kw={key:1},_w=[J("div",{class:"vac-failure-text"},"!",-1)],xw={key:3,class:"vac-avatar-current-offset"};function Aw(e,t,r,n,o,i){const a=ve("format-message"),s=ve("message-reply"),c=ve("message-files"),l=ve("audio-player"),d=ve("svg-icon"),f=ve("message-actions"),v=ve("message-reactions");return N(),V("div",{id:r.message._id,ref:"message",class:"vac-message-wrapper"},[i.showDate?(N(),V("div",mw,_e(r.message.date),1)):oe("",!0),o.newMessage._id===r.message._id?(N(),V("div",gw,_e(r.textMessages.NEW_MESSAGES),1)):oe("",!0),r.message.system?(N(),V("div",pw,[se(e.$slots,"message_"+r.message._id,{},()=>[ae(a,{"message-id":r.message._id,content:r.message.content,deleted:!!r.message.deleted,users:r.roomUsers,"text-messages":r.textMessages,"text-formatting":r.textFormatting,"link-options":r.linkOptions,onOpenUserTag:i.openUserTag},Fe({_:2},[Ae(e.$slots,(b,C)=>({name:C,fn:be(_=>[se(e.$slots,C,De(Ne(_)))])}))]),1032,["message-id","content","deleted","users","text-messages","text-formatting","link-options","onOpenUserTag"])])])):(N(),V("div",{key:3,class:Ee(["vac-message-box",{"vac-offset-current":r.message.senderId===r.currentUserId}]),onClick:t[8]||(t[8]=(...b)=>i.selectMessage&&i.selectMessage(...b))},[se(e.$slots,"message_"+r.message._id,{},()=>[r.message.senderId!==r.currentUserId?se(e.$slots,"message-avatar_"+r.message._id,{key:0},()=>[r.message.avatar?(N(),V("div",{key:0,class:"vac-avatar",style:Ve({"background-image":`url('${r.message.avatar}')`})},null,4)):oe("",!0)]):oe("",!0),i.hasSenderUserAvatar&&!r.message.avatar?(N(),V("div",vw)):oe("",!0),J("div",{class:Ee(["vac-message-container",{"vac-message-container-offset":i.messageOffset}])},[J("div",{class:Ee(["vac-message-card",{"vac-message-highlight":i.isMessageHover,"vac-message-current":r.message.senderId===r.currentUserId,"vac-message-deleted":r.message.deleted,"vac-item-clickable":r.messageSelectionEnabled,"vac-message-selected":i.isMessageSelected}]),onMouseover:t[5]||(t[5]=(...b)=>i.onHoverMessage&&i.onHoverMessage(...b)),onMouseleave:t[6]||(t[6]=(...b)=>i.onLeaveMessage&&i.onLeaveMessage(...b))},[i.showUsername?(N(),V("div",{key:0,class:Ee(["vac-text-username",{"vac-username-reply":!r.message.deleted&&r.message.replyMessage}])},[J("span",null,_e(r.message.username),1)],2)):oe("",!0),!r.message.deleted&&r.message.replyMessage?(N(),je(s,{key:1,message:r.message,"room-users":r.roomUsers,"text-formatting":r.textFormatting,"link-options":r.linkOptions},Fe({_:2},[Ae(e.$slots,(b,C)=>({name:C,fn:be(_=>[se(e.$slots,C,De(Ne(_)))])}))]),1032,["message","room-users","text-formatting","link-options"])):oe("",!0),!!r.message.deleted||!r.message.files||!r.message.files.length?(N(),je(a,{key:2,"message-id":r.message._id,content:r.message.content,deleted:!!r.message.deleted,users:r.roomUsers,"text-formatting":r.textFormatting,"text-messages":r.textMessages,"link-options":r.linkOptions,onOpenUserTag:i.openUserTag},Fe({_:2},[Ae(e.$slots,(b,C)=>({name:C,fn:be(_=>[se(e.$slots,C,De(Ne(_)))])}))]),1032,["message-id","content","deleted","users","text-formatting","text-messages","link-options","onOpenUserTag"])):!i.isAudio||r.message.files.length>1?(N(),je(c,{key:3,"current-user-id":r.currentUserId,message:r.message,"room-users":r.roomUsers,"text-formatting":r.textFormatting,"link-options":r.linkOptions,"message-selection-enabled":r.messageSelectionEnabled,onOpenFile:i.openFile,onOpenUserTag:i.openUserTag},Fe({_:2},[Ae(e.$slots,(b,C)=>({name:C,fn:be(_=>[se(e.$slots,C,De(Ne(_)))])}))]),1032,["current-user-id","message","room-users","text-formatting","link-options","message-selection-enabled","onOpenFile","onOpenUserTag"])):(N(),V(Me,{key:4},[ae(l,{"message-id":r.message._id,src:r.message.files[0].url,"message-selection-enabled":r.messageSelectionEnabled,onUpdateProgressTime:t[0]||(t[0]=b=>o.progressTime=b),onHoverAudioProgress:t[1]||(t[1]=b=>o.hoverAudioProgress=b)},Fe({_:2},[Ae(e.$slots,(b,C)=>({name:C,fn:be(_=>[se(e.$slots,C,De(Ne(_)))])}))]),1032,["message-id","src","message-selection-enabled"]),r.message.deleted?oe("",!0):(N(),V("div",yw,_e(o.progressTime),1))],64)),J("div",bw,[r.message.edited&&!r.message.deleted?(N(),V("div",ww,[se(e.$slots,"pencil-icon_"+r.message._id,{},()=>[ae(d,{name:"pencil"})])])):oe("",!0),J("span",null,_e(r.message.timestamp),1),i.isCheckmarkVisible?(N(),V("span",kw,[se(e.$slots,"checkmark-icon_"+r.message._id,{},()=>[ae(d,{name:r.message.distributed?"double-checkmark":"checkmark",param:r.message.seen?"seen":"",class:"vac-icon-check"},null,8,["name","param"])])])):oe("",!0)]),ae(f,{"current-user-id":r.currentUserId,message:r.message,"message-actions":r.messageActions,"show-reaction-emojis":r.showReactionEmojis,"message-hover":o.messageHover,"hover-message-id":o.hoverMessageId,"hover-audio-progress":o.hoverAudioProgress,"emoji-data-source":r.emojiDataSource,onUpdateMessageHover:t[2]||(t[2]=b=>o.messageHover=b),onUpdateOptionsOpened:t[3]||(t[3]=b=>o.optionsOpened=b),onUpdateEmojiOpened:t[4]||(t[4]=b=>o.emojiOpened=b),onMessageActionHandler:i.messageActionHandler,onSendMessageReaction:i.sendMessageReaction},Fe({_:2},[Ae(e.$slots,(b,C)=>({name:C,fn:be(_=>[se(e.$slots,C,De(Ne(_)))])}))]),1032,["current-user-id","message","message-actions","show-reaction-emojis","message-hover","hover-message-id","hover-audio-progress","emoji-data-source","onMessageActionHandler","onSendMessageReaction"])],34),ae(v,{"current-user-id":r.currentUserId,message:r.message,onSendMessageReaction:i.sendMessageReaction},null,8,["current-user-id","message","onSendMessageReaction"])],2),se(e.$slots,"message-failure_"+r.message._id,{},()=>[r.message.failure&&r.message.senderId===r.currentUserId?(N(),V("div",{key:0,class:Ee(["vac-failure-container vac-svg-button",{"vac-failure-container-avatar":r.message.avatar&&r.message.senderId===r.currentUserId}]),onClick:t[7]||(t[7]=b=>e.$emit("open-failed-message",{message:r.message}))},_w,2)):oe("",!0)]),r.message.senderId===r.currentUserId?se(e.$slots,"message-avatar_"+r.message._id,{key:2},()=>[r.message.avatar?(N(),V("div",{key:0,class:"vac-avatar vac-avatar-current",style:Ve({"background-image":`url('${r.message.avatar}')`})},null,4)):oe("",!0)]):oe("",!0),i.hasCurrentUserAvatar&&!r.message.avatar?(N(),V("div",xw)):oe("",!0)])],2))],8,hw)}var Ew=ze(fw,[["render",Aw]]);const Cw={name:"ChatRoom",components:{Loader:wo,SvgIcon:nt,RoomHeader:nv,RoomFooter:p0,RoomMessage:Ew},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},roomId:{type:[String,Number],required:!0},loadFirstRoom:{type:Boolean,required:!0},messages:{type:Array,required:!0},roomMessage:{type:String,default:null},messagesLoaded:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},messageActions:{type:Array,required:!0},messageSelectionActions:{type:Array,required:!0},autoScroll:{type:Object,required:!0},showSendIcon:{type:Boolean,required:!0},showFiles:{type:Boolean,required:!0},showAudio:{type:Boolean,required:!0},audioBitRate:{type:Number,required:!0},audioSampleRate:{type:Number,required:!0},showEmojis:{type:Boolean,required:!0},showReactionEmojis:{type:Boolean,required:!0},showNewMessagesDivider:{type:Boolean,required:!0},showFooter:{type:Boolean,required:!0},acceptedFiles:{type:String,required:!0},captureFiles:{type:String,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},loadingRooms:{type:Boolean,required:!0},roomInfoEnabled:{type:Boolean,required:!0},textareaActionEnabled:{type:Boolean,required:!0},textareaAutoFocus:{type:Boolean,required:!0},userTagsEnabled:{type:Boolean,required:!0},emojisSuggestionEnabled:{type:Boolean,required:!0},scrollDistance:{type:Number,required:!0},templatesText:{type:Array,default:null},usernameOptions:{type:Object,required:!0},emojiDataSource:{type:String,default:void 0}},emits:["toggle-rooms-list","room-info","menu-action-handler","message-selection-action-handler","edit-message","send-message","delete-message","message-action-handler","fetch-messages","send-message-reaction","typing-message","open-file","open-user-tag","open-failed-message","textarea-action-handler"],data(){return{editedMessageId:null,initReplyMessage:null,initEditMessage:null,loadingMessages:!1,observer:null,showLoader:!0,loadingMoreMessages:!1,scrollIcon:!1,scrollMessagesCount:0,newMessages:[],messageSelectionEnabled:!1,selectedMessages:[],droppedFiles:[]}},computed:{room(){return this.rooms.find(e=>e.roomId===this.roomId)||{}},showNoMessages(){return this.roomId&&!this.messages.length&&!this.loadingMessages&&!this.loadingRooms},showNoRoom(){const e=!this.rooms.length&&!this.loadingRooms||!this.roomId&&!this.loadFirstRoom;return e&&this.updateLoadingMessages(!1),e},showMessagesStarted(){return this.messages.length&&this.messagesLoaded}},watch:{roomId:{immediate:!0,handler(){this.onRoomChanged()}},messages:{deep:!0,handler(e,t){e.forEach((r,n)=>{this.showNewMessagesDivider&&!r.seen&&r.senderId!==this.currentUserId&&this.newMessages.push({_id:r._id,index:n})}),(t==null?void 0:t.length)===(e==null?void 0:e.length)-1&&(this.newMessages=[]),setTimeout(()=>this.loadingMoreMessages=!1)}},messagesLoaded(e){e&&this.updateLoadingMessages(!1)}},mounted(){this.newMessages=[]},methods:{updateLoadingMessages(e){this.loadingMessages=e,e||setTimeout(()=>this.initIntersectionObserver())},initIntersectionObserver(){this.observer&&(this.showLoader=!0,this.observer.disconnect());const e=this.$el.querySelector("#infinite-loader-messages");if(e){const t={root:this.$el.querySelector("#messages-list"),rootMargin:`${this.scrollDistance}px`,threshold:0};this.observer=new IntersectionObserver(r=>{r[0].isIntersecting&&this.loadMoreMessages()},t),this.observer.observe(e)}},preventTopScroll(){const e=this.$refs.scrollContainer,t=e.scrollHeight,r=new ResizeObserver(o=>{e.scrollHeight!==t&&this.$refs.scrollContainer&&(this.$refs.scrollContainer.scrollTo({top:e.scrollHeight-t}),r.disconnect())});for(var n=0;n<e.children.length;n++)r.observe(e.children[n])},touchStart(e){if(!this.singleRoom&&e.changedTouches.length===1){const t=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY;addEventListener("touchend",n=>this.touchEnd(n,t,r),{once:!0})}},touchEnd(e,t,r){if(e.changedTouches.length===1){const n=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY,i=n-t>100,a=Math.abs(o-r)>50;i&&!a&&this.$emit("toggle-rooms-list")}},onRoomChanged(){this.updateLoadingMessages(!0),this.scrollIcon=!1,this.scrollMessagesCount=0,this.resetMessageSelection();const e=this.$watch(()=>this.messages,t=>{if(!t||!t.length)return;const r=this.$refs.scrollContainer;!r||(e(),setTimeout(()=>{r.scrollTo({top:r.scrollHeight}),this.updateLoadingMessages(!1)}))})},resetMessageSelection(){this.messageSelectionEnabled=!1,this.selectedMessages=[]},selectMessage(e){this.selectedMessages.push(e)},unselectMessage(e){this.selectedMessages=this.selectedMessages.filter(t=>t._id!==e)},onMessageAdded({message:e,index:t,ref:r}){if(t!==this.messages.length-1)return;const n=r.offsetHeight+60;setTimeout(()=>{const o=this.getBottomScroll(this.$refs.scrollContainer)>n;e.senderId===this.currentUserId?o?this.autoScroll.send.newAfterScrollUp&&this.scrollToBottom():this.autoScroll.send.new&&this.scrollToBottom():o?this.autoScroll.receive.newAfterScrollUp?this.scrollToBottom():(this.scrollIcon=!0,this.scrollMessagesCount++):this.autoScroll.receive.new?this.scrollToBottom():(this.scrollIcon=!0,this.scrollMessagesCount++)})},onContainerScroll(e){if(!e.target)return;const t=this.getBottomScroll(e.target);t<60&&(this.scrollMessagesCount=0),this.scrollIcon=t>500||this.scrollMessagesCount},loadMoreMessages(){this.loadingMessages||setTimeout(()=>{if(!this.loadingMoreMessages){if(this.messagesLoaded||!this.roomId){this.loadingMoreMessages=!1,this.showLoader=!1;return}this.preventTopScroll(),this.$emit("fetch-messages"),this.loadingMoreMessages=!0}},500)},messageActionHandler({action:e,message:t}){switch(e.name){case"replyMessage":this.initReplyMessage=t,setTimeout(()=>{this.initReplyMessage=null});return;case"editMessage":this.initEditMessage=t,setTimeout(()=>{this.initEditMessage=null});return;case"deleteMessage":return this.$emit("delete-message",t);case"selectMessages":this.selectedMessages=[t],this.messageSelectionEnabled=!0;return;default:return this.$emit("message-action-handler",{action:e,message:t})}},messageSelectionActionHandler(e){this.$emit("message-selection-action-handler",{action:e,messages:this.selectedMessages}),this.resetMessageSelection()},sendMessageReaction(e){this.$emit("send-message-reaction",e)},getBottomScroll(e){const{scrollHeight:t,clientHeight:r,scrollTop:n}=e;return t-r-n},scrollToBottom(){setTimeout(()=>{const e=this.$refs.scrollContainer;e.classList.add("vac-scroll-smooth"),e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),setTimeout(()=>e.classList.remove("vac-scroll-smooth"))},50)},openFile({message:e,file:t}){this.$emit("open-file",{message:e,file:t})},openUserTag(e){this.$emit("open-user-tag",e)},onDropFiles(e){this.showFiles&&(this.droppedFiles=e.dataTransfer.files)}}},Sw={class:"vac-container-center vac-room-empty"},Ow={class:"vac-messages-container"},Tw={key:0,class:"vac-text-started"},Rw={key:1,class:"vac-text-started"},Pw={key:0,id:"infinite-loader-messages"},Mw={key:2},Iw={key:0,class:"vac-badge-counter vac-messages-count"};function jw(e,t,r,n,o,i){const a=ve("room-header"),s=ve("loader"),c=ve("room-message"),l=ve("svg-icon"),d=ve("room-footer");return zt((N(),V("div",{class:"vac-col-messages",onDrop:t[12]||(t[12]=It((...f)=>i.onDropFiles&&i.onDropFiles(...f),["prevent"])),onDragenter:t[13]||(t[13]=It(()=>{},["prevent"])),onDragover:t[14]||(t[14]=It(()=>{},["prevent"])),onDragleave:t[15]||(t[15]=It(()=>{},["prevent"])),onTouchstart:t[16]||(t[16]=(...f)=>i.touchStart&&i.touchStart(...f))},[i.showNoRoom?se(e.$slots,"no-room-selected",{key:0},()=>[J("div",Sw,[J("div",null,_e(r.textMessages.ROOM_EMPTY),1)])]):(N(),je(a,{key:1,"current-user-id":r.currentUserId,"text-messages":r.textMessages,"single-room":r.singleRoom,"show-rooms-list":r.showRoomsList,"is-mobile":r.isMobile,"room-info-enabled":r.roomInfoEnabled,"menu-actions":r.menuActions,room:i.room,"message-selection-enabled":o.messageSelectionEnabled,"message-selection-actions":r.messageSelectionActions,"selected-messages-total":o.selectedMessages.length,onToggleRoomsList:t[0]||(t[0]=f=>e.$emit("toggle-rooms-list")),onRoomInfo:t[1]||(t[1]=f=>e.$emit("room-info")),onMenuActionHandler:t[2]||(t[2]=f=>e.$emit("menu-action-handler",f)),onMessageSelectionActionHandler:i.messageSelectionActionHandler,onCancelMessageSelection:t[3]||(t[3]=f=>o.messageSelectionEnabled=!1)},Fe({_:2},[Ae(e.$slots,(f,v)=>({name:v,fn:be(b=>[se(e.$slots,v,De(Ne(b)))])}))]),1032,["current-user-id","text-messages","single-room","show-rooms-list","is-mobile","room-info-enabled","menu-actions","room","message-selection-enabled","message-selection-actions","selected-messages-total","onMessageSelectionActionHandler"])),J("div",{id:"messages-list",ref:"scrollContainer",class:"vac-container-scroll",onScroll:t[5]||(t[5]=(...f)=>i.onContainerScroll&&i.onContainerScroll(...f))},[ae(s,{show:o.loadingMessages,type:"messages"},Fe({_:2},[Ae(e.$slots,(f,v)=>({name:v,fn:be(b=>[se(e.$slots,v,De(Ne(b)))])}))]),1032,["show"]),J("div",Ow,[J("div",{class:Ee({"vac-messages-hidden":o.loadingMessages})},[ae(Xe,{name:"vac-fade-message"},{default:be(()=>[J("div",null,[i.showNoMessages?(N(),V("div",Tw,[se(e.$slots,"messages-empty",{},()=>[Rt(_e(r.textMessages.MESSAGES_EMPTY),1)])])):oe("",!0),i.showMessagesStarted?(N(),V("div",Rw,_e(r.textMessages.CONVERSATION_STARTED)+" "+_e(r.messages[0].date),1)):oe("",!0)])]),_:3}),r.messages.length&&!r.messagesLoaded?(N(),V("div",Pw,[ae(s,{show:!0,infinite:!0,type:"infinite-messages"},Fe({_:2},[Ae(e.$slots,(f,v)=>({name:v,fn:be(b=>[se(e.$slots,v,De(Ne(b)))])}))]),1024)])):oe("",!0),(N(),je(Qi,{key:r.roomId,name:"vac-fade-message",tag:"span"},{default:be(()=>[(N(!0),V(Me,null,Ae(r.messages,(f,v)=>(N(),V("div",{key:f.indexId||f._id},[ae(c,{"current-user-id":r.currentUserId,message:f,index:v,messages:r.messages,"edited-message-id":o.editedMessageId,"message-actions":r.messageActions,"room-users":i.room.users,"text-messages":r.textMessages,"new-messages":o.newMessages,"show-reaction-emojis":r.showReactionEmojis,"show-new-messages-divider":r.showNewMessagesDivider,"text-formatting":r.textFormatting,"link-options":r.linkOptions,"username-options":r.usernameOptions,"message-selection-enabled":o.messageSelectionEnabled,"selected-messages":o.selectedMessages,"emoji-data-source":r.emojiDataSource,onMessageAdded:i.onMessageAdded,onMessageActionHandler:i.messageActionHandler,onOpenFile:i.openFile,onOpenUserTag:i.openUserTag,onOpenFailedMessage:t[4]||(t[4]=b=>e.$emit("open-failed-message",b)),onSendMessageReaction:i.sendMessageReaction,onSelectMessage:i.selectMessage,onUnselectMessage:i.unselectMessage},Fe({_:2},[Ae(e.$slots,(b,C)=>({name:C,fn:be(_=>[se(e.$slots,C,De(Ne(_)))])}))]),1032,["current-user-id","message","index","messages","edited-message-id","message-actions","room-users","text-messages","new-messages","show-reaction-emojis","show-new-messages-divider","text-formatting","link-options","username-options","message-selection-enabled","selected-messages","emoji-data-source","onMessageAdded","onMessageActionHandler","onOpenFile","onOpenUserTag","onSendMessageReaction","onSelectMessage","onUnselectMessage"])]))),128))]),_:3}))],2)])],544),o.loadingMessages?oe("",!0):(N(),V("div",Mw,[ae(Xe,{name:"vac-bounce"},{default:be(()=>[o.scrollIcon?(N(),V("div",{key:0,class:"vac-icon-scroll",onClick:t[6]||(t[6]=(...f)=>i.scrollToBottom&&i.scrollToBottom(...f))},[ae(Xe,{name:"vac-bounce"},{default:be(()=>[o.scrollMessagesCount?(N(),V("div",Iw,_e(o.scrollMessagesCount),1)):oe("",!0)]),_:1}),se(e.$slots,"scroll-icon",{},()=>[ae(l,{name:"dropdown",param:"scroll"})])])):oe("",!0)]),_:3})])),ae(d,{room:i.room,"room-id":r.roomId,"room-message":r.roomMessage,"text-messages":r.textMessages,"show-send-icon":r.showSendIcon,"show-files":r.showFiles,"show-audio":r.showAudio,"show-emojis":r.showEmojis,"show-footer":r.showFooter,"accepted-files":r.acceptedFiles,"capture-files":r.captureFiles,"textarea-action-enabled":r.textareaActionEnabled,"textarea-auto-focus":r.textareaAutoFocus,"user-tags-enabled":r.userTagsEnabled,"emojis-suggestion-enabled":r.emojisSuggestionEnabled,"templates-text":r.templatesText,"text-formatting":r.textFormatting,"link-options":r.linkOptions,"audio-bit-rate":r.audioBitRate,"audio-sample-rate":r.audioSampleRate,"init-reply-message":o.initReplyMessage,"init-edit-message":o.initEditMessage,"dropped-files":o.droppedFiles,"emoji-data-source":r.emojiDataSource,onUpdateEditedMessageId:t[7]||(t[7]=f=>o.editedMessageId=f),onEditMessage:t[8]||(t[8]=f=>e.$emit("edit-message",f)),onSendMessage:t[9]||(t[9]=f=>e.$emit("send-message",f)),onTypingMessage:t[10]||(t[10]=f=>e.$emit("typing-message",f)),onTextareaActionHandler:t[11]||(t[11]=f=>e.$emit("textarea-action-handler",f))},Fe({_:2},[Ae(e.$slots,(f,v)=>({name:v,fn:be(b=>[se(e.$slots,v,De(Ne(b)))])}))]),1032,["room","room-id","room-message","text-messages","show-send-icon","show-files","show-audio","show-emojis","show-footer","accepted-files","capture-files","textarea-action-enabled","textarea-auto-focus","user-tags-enabled","emojis-suggestion-enabled","templates-text","text-formatting","link-options","audio-bit-rate","audio-sample-rate","init-reply-message","init-edit-message","dropped-files","emoji-data-source"])],544)),[[bo,r.isMobile&&!r.showRoomsList||!r.isMobile||r.singleRoom]])}var Lw=ze(Cw,[["render",jw]]);const Nw={name:"MediaPreview",components:{SvgIcon:nt},props:{file:{type:Object,required:!0}},emits:["close-media-preview"],computed:{isImage(){return qr(this.file)},isVideo(){return Tn(this.file)}},mounted(){this.$refs.modal.focus()},methods:{closeModal(){this.$emit("close-media-preview")}}},Dw={key:0,class:"vac-media-preview-container"},Fw={key:1,class:"vac-media-preview-container"},Bw={controls:"",autoplay:""},Uw=["src"],Hw={class:"vac-svg-button"};function zw(e,t,r,n,o,i){const a=ve("svg-icon");return N(),V("div",{ref:"modal",tabindex:"0",class:"vac-media-preview",onClick:t[0]||(t[0]=It((...s)=>i.closeModal&&i.closeModal(...s),["stop"])),onKeydown:t[1]||(t[1]=yr((...s)=>i.closeModal&&i.closeModal(...s),["esc"]))},[ae(Xe,{name:"vac-bounce-preview",appear:""},{default:be(()=>[i.isImage?(N(),V("div",Dw,[J("div",{class:"vac-image-preview",style:Ve({"background-image":`url('${r.file.url}')`})},null,4)])):i.isVideo?(N(),V("div",Fw,[J("video",Bw,[J("source",{src:r.file.url},null,8,Uw)])])):oe("",!0)]),_:1}),J("div",Hw,[se(e.$slots,"preview-close-icon",{},()=>[ae(a,{name:"close-outline",param:"preview"})])])],544)}var qw=ze(Nw,[["render",zw]]),Ww={ROOMS_EMPTY:"No rooms",ROOM_EMPTY:"No room selected",NEW_MESSAGES:"New Messages",MESSAGE_DELETED:"This message was deleted",MESSAGES_EMPTY:"No messages",CONVERSATION_STARTED:"Conversation started on:",TYPE_MESSAGE:"Type message",SEARCH:"Search",IS_ONLINE:"is online",LAST_SEEN:"last seen ",IS_TYPING:"is writing...",CANCEL_SELECT_MESSAGE:"Cancel"};const Qu={general:{avatarSize:"64px"},message:{avatarSize:"28px"},room:{textLastFontFamily:"inherit",textLastFontSize:"12px",checkmarkFontSize:"14px",usernameFont:"inherit",usernameFontSize:"inherit",marginBottom:"5px",dateFont:"inherit",dateFontSize:"11px"}},Vw={light:{...Qu,general:{color:"#0a0a0a",colorButtonClear:"#1976d2",colorButton:"#fff",backgroundColorButton:"#1976d2",backgroundInput:"#fff",colorPlaceholder:"#9ca6af",colorCaret:"#1976d2",colorSpinner:"#333",borderStyle:"1px solid #e1e4e8",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#fff",colorRoomName:"#0a0a0a",colorRoomInfo:"#9ca6af"},footer:{background:"#f8f9fa",borderStyleInput:"1px solid #e1e4e8",borderInputSelected:"#1976d2",backgroundReply:"#e5e5e6",backgroundTagActive:"#e5e5e6",backgroundTag:"#f8f9fa"},content:{background:"#f8f9fa"},sidemenu:{background:"#fff",backgroundHover:"#f6f6f6",backgroundActive:"#e5effa",colorActive:"#1976d2",borderColorSearch:"#e1e5e8"},dropdown:{background:"#fff",backgroundHover:"#f6f6f6"},message:{background:"#fff",backgroundMe:"#ccf2cf",color:"#0a0a0a",colorMe:"#0a0a0a",colorStarted:"#9ca6af",backgroundDeleted:"#dadfe2",backgroundSelected:"#c2dcf2",colorDeleted:"#757e85",colorUsername:"#9ca6af",colorTimestamp:"#828c94",colorTimestampMe:"#828c94",backgroundDate:"#e5effa",colorDate:"#505a62",backgroundSystem:"#e5effa",colorSystem:"#505a62",backgroundMedia:"rgba(0, 0, 0, 0.15)",backgroundReply:"rgba(0, 0, 0, 0.08)",colorReplyUsername:"#0a0a0a",colorReply:"#6e6e6e",colorTag:"#0d579c",backgroundImage:"#ddd",colorNewMessages:"#1976d2",backgroundScrollCounter:"#0696c7",colorScrollCounter:"#fff",backgroundReaction:"#eee",borderStyleReaction:"1px solid #eee",backgroundReactionHover:"#fff",borderStyleReactionHover:"1px solid #ddd",colorReactionCounter:"#0a0a0a",backgroundReactionMe:"#cfecf5",borderStyleReactionMe:"1px solid #3b98b8",backgroundReactionHoverMe:"#cfecf5",borderStyleReactionHoverMe:"1px solid #3b98b8",colorReactionCounterMe:"#0b59b3",backgroundAudioRecord:"#eb4034",backgroundAudioLine:"rgba(0, 0, 0, 0.15)",backgroundAudioProgress:"#455247",backgroundAudioProgressSelector:"#455247",colorFileExtension:"#757e85"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#0a0a0a",colorMessage:"#67717a",textLastFontSize:"12px",colorTimestamp:"#a2aeb8",colorStateOnline:"#4caf50",colorStateOffline:"#9ca6af",backgroundCounterBadge:"#0696c7",colorCounterBadge:"#fff"},emoji:{background:"#fff"},icons:{search:"#9ca6af",add:"#1976d2",toggle:"#0a0a0a",menu:"#0a0a0a",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#1976d2",closeOutline:"#000",closePreview:"#fff",send:"#1976d2",sendDisabled:"#9ca6af",emoji:"#1976d2",emojiReaction:"rgba(0, 0, 0, 0.3)",document:"#1976d2",pencil:"#9e9e9e",checkmark:"#9e9e9e",checkmarkSeen:"#0696c7",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownRoom:"#9e9e9e",dropdownScroll:"#0a0a0a",microphone:"#1976d2",audioPlay:"#455247",audioPause:"#455247",audioCancel:"#eb4034",audioConfirm:"#1ba65b"}},dark:{...Qu,general:{color:"#fff",colorButtonClear:"#fff",colorButton:"#fff",backgroundColorButton:"#1976d2",backgroundInput:"#202223",colorPlaceholder:"#596269",colorCaret:"#fff",colorSpinner:"#fff",borderStyle:"none",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#181a1b",colorRoomName:"#fff",colorRoomInfo:"#9ca6af"},footer:{background:"#131415",borderStyleInput:"none",borderInputSelected:"#1976d2",backgroundReply:"#1b1c1c",backgroundTagActive:"#1b1c1c",backgroundTag:"#131415"},content:{background:"#131415"},sidemenu:{background:"#181a1b",backgroundHover:"#202224",backgroundActive:"#151617",colorActive:"#fff",borderColorSearch:"#181a1b"},dropdown:{background:"#2a2c33",backgroundHover:"#26282e"},message:{background:"#22242a",backgroundMe:"#1f7e80",color:"#fff",colorStarted:"#9ca6af",backgroundDeleted:"#1b1c21",backgroundSelected:"#c2dcf2",colorDeleted:"#a2a5a8",colorUsername:"#b3bac9",colorTimestamp:"#ebedf2",backgroundDate:"rgba(0, 0, 0, 0.3)",colorDate:"#bec5cc",backgroundSystem:"rgba(0, 0, 0, 0.3)",colorSystem:"#bec5cc",backgroundMedia:"rgba(0, 0, 0, 0.18)",backgroundReply:"rgba(0, 0, 0, 0.18)",colorReplyUsername:"#fff",colorReply:"#d6d6d6",colorTag:"#f0c60a",backgroundImage:"#ddd",colorNewMessages:"#fff",backgroundScrollCounter:"#1976d2",colorScrollCounter:"#fff",backgroundReaction:"none",borderStyleReaction:"none",backgroundReactionHover:"#202223",borderStyleReactionHover:"none",colorReactionCounter:"#fff",backgroundReactionMe:"#4e9ad1",borderStyleReactionMe:"none",backgroundReactionHoverMe:"#4e9ad1",borderStyleReactionHoverMe:"none",colorReactionCounterMe:"#fff",backgroundAudioRecord:"#eb4034",backgroundAudioLine:"rgba(255, 255, 255, 0.15)",backgroundAudioProgress:"#b7d4d3",backgroundAudioProgressSelector:"#b7d4d3",colorFileExtension:"#a2a5a8"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#fff",colorMessage:"#6c7278",colorTimestamp:"#6c7278",colorStateOnline:"#4caf50",colorStateOffline:"#596269",backgroundCounterBadge:"#1976d2",colorCounterBadge:"#fff"},emoji:{background:"#343740"},icons:{search:"#596269",add:"#fff",toggle:"#fff",menu:"#fff",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#fff",closeOutline:"#fff",closePreview:"#fff",send:"#fff",sendDisabled:"#646a70",emoji:"#fff",emojiReaction:"#fff",document:"#1976d2",pencil:"#ebedf2",checkmark:"#ebedf2",checkmarkSeen:"#f0d90a",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownRoom:"#fff",dropdownScroll:"#0a0a0a",microphone:"#fff",audioPlay:"#b7d4d3",audioPause:"#b7d4d3",audioCancel:"#eb4034",audioConfirm:"#1ba65b"}}},Kw=({general:e,container:t,header:r,footer:n,sidemenu:o,content:i,dropdown:a,message:s,markdown:c,room:l,emoji:d,icons:f})=>({"--chat-color":e.color,"--chat-avatar-size":e.avatarSize,"--chat-color-button-clear":e.colorButtonClear,"--chat-color-button":e.colorButton,"--chat-bg-color-button":e.backgroundColorButton,"--chat-bg-color-input":e.backgroundInput,"--chat-color-spinner":e.colorSpinner,"--chat-color-placeholder":e.colorPlaceholder,"--chat-color-caret":e.colorCaret,"--chat-border-style":e.borderStyle,"--chat-bg-scroll-icon":e.backgroundScrollIcon,"--chat-container-border":t.border,"--chat-container-border-radius":t.borderRadius,"--chat-container-box-shadow":t.boxShadow,"--chat-header-bg-color":r.background,"--chat-header-color-name":r.colorRoomName,"--chat-header-color-info":r.colorRoomInfo,"--chat-footer-bg-color":n.background,"--chat-border-style-input":n.borderStyleInput,"--chat-border-color-input-selected":n.borderInputSelected,"--chat-footer-bg-color-reply":n.backgroundReply,"--chat-footer-bg-color-tag-active":n.backgroundTagActive,"--chat-footer-bg-color-tag":n.backgroundTag,"--chat-content-bg-color":i.background,"--chat-sidemenu-bg-color":o.background,"--chat-sidemenu-bg-color-hover":o.backgroundHover,"--chat-sidemenu-bg-color-active":o.backgroundActive,"--chat-sidemenu-color-active":o.colorActive,"--chat-sidemenu-border-color-search":o.borderColorSearch,"--chat-dropdown-bg-color":a.background,"--chat-dropdown-bg-color-hover":a.backgroundHover,"--chat-message-avatar-size":s.avatarSize,"--chat-message-bg-color":s.background,"--chat-message-bg-color-me":s.backgroundMe,"--chat-message-color-started":s.colorStarted,"--chat-message-bg-color-deleted":s.backgroundDeleted,"--chat-message-bg-color-selected":s.backgroundSelected,"--chat-message-color-deleted":s.colorDeleted,"--chat-message-color-username":s.colorUsername,"--chat-message-color-timestamp":s.colorTimestamp,"--chat-message-color-timestamp-me":s.colorTimestampMe,"--chat-message-bg-color-date":s.backgroundDate,"--chat-message-color-date":s.colorDate,"--chat-message-bg-color-system":s.backgroundSystem,"--chat-message-color-system":s.colorSystem,"--chat-message-color":s.color,"--chat-message-color-me":s.colorMe,"--chat-message-bg-color-media":s.backgroundMedia,"--chat-message-bg-color-reply":s.backgroundReply,"--chat-message-color-reply-username":s.colorReplyUsername,"--chat-message-color-reply-content":s.colorReply,"--chat-message-color-tag":s.colorTag,"--chat-message-bg-color-image":s.backgroundImage,"--chat-message-color-new-messages":s.colorNewMessages,"--chat-message-bg-color-scroll-counter":s.backgroundScrollCounter,"--chat-message-color-scroll-counter":s.colorScrollCounter,"--chat-message-bg-color-reaction":s.backgroundReaction,"--chat-message-border-style-reaction":s.borderStyleReaction,"--chat-message-bg-color-reaction-hover":s.backgroundReactionHover,"--chat-message-border-style-reaction-hover":s.borderStyleReactionHover,"--chat-message-color-reaction-counter":s.colorReactionCounter,"--chat-message-bg-color-reaction-me":s.backgroundReactionMe,"--chat-message-border-style-reaction-me":s.borderStyleReactionMe,"--chat-message-bg-color-reaction-hover-me":s.backgroundReactionHoverMe,"--chat-message-border-style-reaction-hover-me":s.borderStyleReactionHoverMe,"--chat-message-color-reaction-counter-me":s.colorReactionCounterMe,"--chat-message-bg-color-audio-record":s.backgroundAudioRecord,"--chat-message-bg-color-audio-line":s.backgroundAudioLine,"--chat-message-bg-color-audio-progress":s.backgroundAudioProgress,"--chat-message-bg-color-audio-progress-selector":s.backgroundAudioProgressSelector,"--chat-message-color-file-extension":s.colorFileExtension,"--chat-markdown-bg":c.background,"--chat-markdown-border":c.border,"--chat-markdown-color":c.color,"--chat-markdown-color-multi":c.colorMulti,"--chat-room-color-username":l.colorUsername,"--chat-room-username-font":l.usernameFont,"--chat-room-username-font-size":l.usernameFontSize,"--chat-room-margin-bottom":l.marginBottom,"--chat-room-date-font":l.dateFont,"--chat-room-date-font-size":l.dateFontSize,"--chat-room-color-message":l.colorMessage,"--chat-room-text-last-font-size":l.textLastFontSize,"--chat-room-text-font-family":l.textLastFontFamily,"--chat-room-color-timestamp":l.colorTimestamp,"--chat-room-color-online":l.colorStateOnline,"--chat-room-color-offline":l.colorStateOffline,"--chat-room-bg-color-badge":l.backgroundCounterBadge,"--chat-room-color-badge":l.colorCounterBadge,"--chat-emoji-bg-color":d.background,"--chat-icon-color-search":f.search,"--chat-icon-color-add":f.add,"--chat-icon-color-toggle":f.toggle,"--chat-icon-color-menu":f.menu,"--chat-icon-color-close":f.close,"--chat-icon-color-close-image":f.closeImage,"--chat-icon-color-file":f.file,"--chat-icon-color-paperclip":f.paperclip,"--chat-icon-color-close-outline":f.closeOutline,"--chat-icon-color-close-preview":f.closePreview,"--chat-icon-color-send":f.send,"--chat-icon-color-send-disabled":f.sendDisabled,"--chat-icon-color-emoji":f.emoji,"--chat-icon-color-emoji-reaction":f.emojiReaction,"--chat-icon-color-document":f.document,"--chat-icon-color-pencil":f.pencil,"--chat-icon-color-checkmark":f.checkmark,"--chat-icon-color-checkmark-seen":f.checkmarkSeen,"--chat-icon-color-eye":f.eye,"--chat-icon-color-dropdown-message":f.dropdownMessage,"--chat-icon-bg-dropdown-message":f.dropdownMessageBackground,"--chat-icon-color-dropdown-room":f.dropdownRoom,"--chat-icon-color-dropdown-scroll":f.dropdownScroll,"--chat-icon-color-microphone":f.microphone,"--chat-icon-color-audio-play":f.audioPlay,"--chat-icon-color-audio-pause":f.audioPause,"--chat-icon-color-audio-cancel":f.audioCancel,"--chat-icon-color-audio-confirm":f.audioConfirm});var Gw=`.vac-fade-spinner-enter-from{opacity:0}.vac-fade-spinner-enter-active{transition:opacity .8s}.vac-fade-spinner-leave-active{transition:opacity .2s;opacity:0}.vac-fade-image-enter-from{opacity:0}.vac-fade-image-enter-active{transition:opacity 1s}.vac-fade-image-leave-active{transition:opacity .5s;opacity:0}.vac-fade-message-enter-from{opacity:0}.vac-fade-message-enter-active{transition:opacity .5s}.vac-fade-message-leave-active{transition:opacity .2s;opacity:0}.vac-slide-left-enter-active,.vac-slide-right-enter-active{transition:all .3s ease;transition-property:transform,opacity}.vac-slide-left-leave-active,.vac-slide-right-leave-active{transition:all .2s cubic-bezier(1,.5,.8,1)!important;transition-property:transform,opacity}.vac-slide-left-enter-from,.vac-slide-left-leave-to{transform:translate(10px);opacity:0}.vac-slide-right-enter-from,.vac-slide-right-leave-to{transform:translate(-10px);opacity:0}.vac-slide-up-enter-active{transition:all .3s ease}.vac-slide-up-leave-active{transition:all .2s cubic-bezier(1,.5,.8,1)}.vac-slide-up-enter-from,.vac-slide-up-leave-to{transform:translateY(10px);opacity:0}.vac-bounce-enter-active{animation:vac-bounce-in .5s}.vac-bounce-leave-active{animation:vac-bounce-in .3s reverse}@keyframes vac-bounce-in{0%{transform:scale(0)}50%{transform:scale(1.05)}to{transform:scale(1)}}.vac-fade-preview-enter{opacity:0}.vac-fade-preview-enter-active{transition:opacity .1s}.vac-fade-preview-leave-active{transition:opacity .2s;opacity:0}.vac-bounce-preview-enter-active{animation:vac-bounce-image-in .4s}.vac-bounce-preview-leave-active{animation:vac-bounce-image-in .3s reverse}@keyframes vac-bounce-image-in{0%{transform:scale(.6)}to{transform:scale(1)}}.vac-menu-list{border-radius:4px;display:block;cursor:pointer;background:var(--chat-dropdown-bg-color);padding:6px 0}.vac-menu-list :hover{background:var(--chat-dropdown-bg-color-hover);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-menu-list :not(:hover){transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-menu-item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;min-height:30px;padding:5px 16px;position:relative;white-space:nowrap;line-height:30px}.vac-menu-options{position:absolute;right:10px;top:20px;z-index:9999;min-width:150px;display:inline-block;border-radius:4px;font-size:14px;color:var(--chat-color);overflow-y:auto;overflow-x:hidden;contain:content;box-shadow:0 2px 2px -4px #0000001a,0 2px 2px 1px #0000001f,0 1px 8px 1px #0000001f}.vac-app-border{border:var(--chat-border-style)}.vac-app-border-t{border-top:var(--chat-border-style)}.vac-app-border-r{border-right:var(--chat-border-style)}.vac-app-border-b{border-bottom:var(--chat-border-style)}.vac-app-box-shadow{transition:all .5s;box-shadow:0 2px 2px -4px #0000001a,0 2px 2px 1px #0000001f,0 1px 8px 1px #0000001f}.vac-item-clickable{cursor:pointer}.vac-vertical-center{display:flex;align-items:center;height:100%}.vac-vertical-center .vac-vertical-container{width:100%;text-align:center}.vac-svg-button{max-height:30px;display:flex;cursor:pointer;transition:all .2s}.vac-svg-button:hover{transform:scale(1.1);opacity:.7}.vac-avatar{background-size:cover;background-position:center center;background-repeat:no-repeat;background-color:#ddd;height:var(--chat-avatar-size);width:var(--chat-avatar-size);min-height:var(--chat-avatar-size);min-width:var(--chat-avatar-size);margin-right:15px;border-radius:50%}.vac-blur-loading{filter:blur(3px)}.vac-badge-counter{height:13px;width:auto;min-width:13px;border-radius:50%;display:flex;align-items:center;justify-content:center;padding:3px;font-size:11px;font-weight:500}.vac-text-ellipsis{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vac-text-bold{font-weight:700}.vac-text-italic{font-style:italic}.vac-text-strike{text-decoration:line-through}.vac-text-underline{text-decoration:underline}.vac-text-inline-code{display:inline-block;font-size:12px;color:var(--chat-markdown-color);background:var(--chat-markdown-bg);border:1px solid var(--chat-markdown-border);border-radius:3px;margin:2px 0;padding:2px 3px}.vac-text-multiline-code{display:block;font-size:12px;color:var(--chat-markdown-color-multi);background:var(--chat-markdown-bg);border:1px solid var(--chat-markdown-border);border-radius:3px;margin:4px 0;padding:7px}.vac-text-tag{color:var(--chat-message-color-tag);cursor:pointer}.vac-file-container{display:flex;align-content:center;justify-content:center;flex-wrap:wrap;text-align:center;background:var(--chat-bg-color-input);border:var(--chat-border-style-input);border-radius:4px;padding:10px}.vac-file-container svg{height:28px;width:28px}.vac-file-container .vac-text-extension{font-size:12px;color:var(--chat-message-color-file-extension);margin-top:-2px}.vac-card-window{width:100%;display:block;max-width:100%;background:var(--chat-content-bg-color);color:var(--chat-color);overflow-wrap:break-word;white-space:normal;border:var(--chat-container-border);border-radius:var(--chat-container-border-radius);box-shadow:var(--chat-container-box-shadow);-webkit-tap-highlight-color:transparent}.vac-card-window *{font-family:inherit}.vac-card-window a{color:#0d579c;font-weight:500}.vac-card-window .vac-chat-container{height:100%;display:flex}.vac-card-window .vac-chat-container input{min-width:10px}.vac-card-window .vac-chat-container textarea,.vac-card-window .vac-chat-container input[type=text],.vac-card-window .vac-chat-container input[type=search]{-webkit-appearance:none}.vac-media-preview{position:fixed;top:0;left:0;z-index:99;width:100vw;height:100vh;display:flex;align-items:center;background-color:#000c;outline:none}.vac-media-preview .vac-media-preview-container{height:calc(100% - 140px);width:calc(100% - 80px);padding:70px 40px;margin:0 auto}.vac-media-preview .vac-image-preview{width:100%;height:100%;background-size:contain;background-repeat:no-repeat;background-position:center}.vac-media-preview video{width:100%;height:100%}.vac-media-preview .vac-svg-button{position:absolute;top:30px;right:30px;transform:scale(1.4)}@media only screen and (max-width: 768px){.vac-media-preview .vac-svg-button{top:20px;right:20px;transform:scale(1.2)}.vac-media-preview .vac-media-preview-container{width:calc(100% - 40px);padding:70px 20px}}.vac-col-messages{position:relative;height:100%;flex:1;overflow:hidden;display:flex;flex-flow:column}.vac-col-messages .vac-container-center{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.vac-col-messages .vac-room-empty{font-size:14px;color:#9ca6af;font-style:italic;line-height:20px;white-space:pre-line}.vac-col-messages .vac-room-empty div{padding:0 10%}.vac-col-messages .vac-container-scroll{background:var(--chat-content-bg-color);flex:1;overflow-y:auto;margin-right:1px;margin-top:65px;-webkit-overflow-scrolling:touch}.vac-col-messages .vac-container-scroll.vac-scroll-smooth{scroll-behavior:smooth}.vac-col-messages .vac-messages-container{padding:0 5px 5px}.vac-col-messages .vac-text-started{font-size:14px;color:var(--chat-message-color-started);font-style:italic;text-align:center;margin-top:25px;margin-bottom:20px}.vac-col-messages .vac-icon-scroll{position:absolute;bottom:80px;right:20px;padding:8px;background:var(--chat-bg-scroll-icon);border-radius:50%;box-shadow:0 1px 1px -1px #0003,0 1px 1px #00000024,0 1px 2px #0000001f;display:flex;cursor:pointer;z-index:10}.vac-col-messages .vac-icon-scroll svg{height:25px;width:25px}.vac-col-messages .vac-messages-count{position:absolute;top:-8px;left:11px;background-color:var(--chat-message-bg-color-scroll-counter);color:var(--chat-message-color-scroll-counter)}.vac-col-messages .vac-messages-hidden{opacity:0}@media only screen and (max-width: 768px){.vac-col-messages .vac-container-scroll{margin-top:50px}.vac-col-messages .vac-text-started{margin-top:20px}.vac-col-messages .vac-icon-scroll{bottom:70px}}.vac-room-header{position:absolute;display:flex;align-items:center;height:64px;width:100%;z-index:10;margin-right:1px;background:var(--chat-header-bg-color);border-top-right-radius:var(--chat-container-border-radius)}.vac-room-header .vac-room-wrapper{display:flex;align-items:center;min-width:0;height:100%;width:100%;padding:0 16px}.vac-room-header .vac-toggle-button{margin-right:15px}.vac-room-header .vac-toggle-button svg{height:26px;width:26px}.vac-room-header .vac-rotate-icon{transform:rotate(180deg)!important}.vac-room-header .vac-rotate-icon-init{transform:rotate(360deg)}.vac-room-header .vac-info-wrapper,.vac-room-header .vac-room-selection{display:flex;align-items:center;min-width:0;width:100%;height:100%}.vac-room-header .vac-room-selection .vac-selection-button{padding:8px 16px;color:var(--chat-color-button);background-color:var(--chat-bg-color-button);border-radius:4px;margin-right:10px;cursor:pointer;transition:all .2s}.vac-room-header .vac-room-selection .vac-selection-button:hover{opacity:.7}.vac-room-header .vac-room-selection .vac-selection-button:active{opacity:.9}.vac-room-header .vac-room-selection .vac-selection-button .vac-selection-button-count{margin-left:6px;opacity:.9}.vac-room-header .vac-room-selection .vac-selection-cancel{display:flex;align-items:center;margin-left:auto;white-space:nowrap;color:var(--chat-color-button-clear);transition:all .2s}.vac-room-header .vac-room-selection .vac-selection-cancel:hover{opacity:.7}.vac-room-header .vac-room-name{font-size:17px;font-weight:500;line-height:22px;color:var(--chat-header-color-name)}.vac-room-header .vac-room-info{font-size:13px;line-height:18px;color:var(--chat-header-color-info)}.vac-room-header .vac-room-options{margin-left:auto}@media only screen and (max-width: 768px){.vac-room-header{height:50px}.vac-room-header .vac-room-wrapper{padding:0 10px}.vac-room-header .vac-room-name{font-size:16px;line-height:22px}.vac-room-header .vac-room-info{font-size:12px;line-height:16px}.vac-room-header .vac-avatar{height:37px;width:37px;min-height:37px;min-width:37px}}.vac-room-footer{width:100%;border-bottom-right-radius:4px;z-index:10}.vac-box-footer{display:flex;position:relative;background:var(--chat-footer-bg-color);padding:10px 8px}.vac-textarea{max-height:300px;overflow-y:auto;height:20px;width:100%;line-height:20px;outline:0;resize:none;border-radius:20px;padding:12px 16px;box-sizing:content-box;font-size:16px;background:var(--chat-bg-color-input);color:var(--chat-color);caret-color:var(--chat-color-caret);border:var(--chat-border-style-input)}.vac-textarea::placeholder{color:var(--chat-color-placeholder);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vac-textarea-outline{border:1px solid var(--chat-border-color-input-selected);box-shadow:inset 0 0 0 1px var(--chat-border-color-input-selected)}.vac-icon-textarea,.vac-icon-textarea-left{display:flex;align-items:center}.vac-icon-textarea svg,.vac-icon-textarea .vac-wrapper,.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 7px}.vac-icon-textarea{margin-left:5px}.vac-icon-textarea-left{display:flex;align-items:center;margin-right:5px}.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 7px}.vac-icon-textarea-left .vac-icon-microphone{fill:var(--chat-icon-color-microphone);margin:0 7px}.vac-icon-textarea-left .vac-dot-audio-record{height:15px;width:15px;border-radius:50%;background-color:var(--chat-message-bg-color-audio-record);animation:vac-scaling .8s ease-in-out infinite alternate}@keyframes vac-scaling{0%{transform:scale(1);opacity:.4}to{transform:scale(1.1);opacity:1}}.vac-icon-textarea-left .vac-dot-audio-record-time{font-size:16px;color:var(--chat-color);margin-left:8px;width:45px}.vac-icon-textarea-left .vac-icon-audio-stop,.vac-icon-textarea-left .vac-icon-audio-confirm{min-height:28px;min-width:28px}.vac-icon-textarea-left .vac-icon-audio-stop svg,.vac-icon-textarea-left .vac-icon-audio-confirm svg{min-height:28px;min-width:28px}.vac-icon-textarea-left .vac-icon-audio-stop{margin-right:20px}.vac-icon-textarea-left .vac-icon-audio-stop #vac-icon-close-outline{fill:var(--chat-icon-color-audio-cancel)}.vac-icon-textarea-left .vac-icon-audio-confirm{margin-right:3px;margin-left:12px}.vac-icon-textarea-left .vac-icon-audio-confirm #vac-icon-checkmark{fill:var(--chat-icon-color-audio-confirm)}.vac-send-disabled,.vac-send-disabled svg{cursor:none!important;pointer-events:none!important;transform:none!important}@media only screen and (max-width: 768px){.vac-room-footer{width:100%}.vac-box-footer{padding:7px 2px 7px 7px}.vac-box-footer.vac-box-footer-border{border-top:var(--chat-border-style-input)}.vac-textarea{padding:7px;line-height:18px}.vac-textarea::placeholder{color:transparent}.vac-icon-textarea svg,.vac-icon-textarea .vac-wrapper,.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 5px!important}}@media only screen and (max-height: 768px){.vac-textarea{max-height:120px}}.vac-emojis-container{width:calc(100% - 16px);padding:10px 8px;background:var(--chat-footer-bg-color);display:flex;align-items:center;overflow:auto}.vac-emojis-container .vac-emoji-element{padding:0 8px;font-size:30px;border-radius:4px;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-emojis-container .vac-emoji-element-active{background:var(--chat-footer-bg-color-tag-active)}@media only screen and (max-width: 768px){.vac-emojis-container{width:calc(100% - 10px);padding:7px 5px}.vac-emojis-container .vac-emoji-element{padding:0 7px;font-size:26px}}.vac-reply-container{display:flex;padding:10px 10px 0;background:var(--chat-footer-bg-color);align-items:center;width:calc(100% - 20px)}.vac-reply-container .vac-reply-box{width:100%;overflow:hidden;background:var(--chat-footer-bg-color-reply);border-radius:4px;padding:8px 10px}.vac-reply-container .vac-reply-info{overflow:hidden}.vac-reply-container .vac-reply-username{color:var(--chat-message-color-reply-username);font-size:12px;line-height:15px;margin-bottom:2px}.vac-reply-container .vac-reply-content{font-size:12px;color:var(--chat-message-color-reply-content);white-space:pre-line}.vac-reply-container .vac-icon-reply{margin-left:10px}.vac-reply-container .vac-icon-reply svg{height:20px;width:20px}.vac-reply-container .vac-image-reply{max-height:100px;max-width:200px;margin:4px 10px 0 0;border-radius:4px}.vac-reply-container .vac-audio-reply{margin-right:10px}.vac-reply-container .vac-file-container{max-width:80px}@media only screen and (max-width: 768px){.vac-reply-container{padding:5px 8px;width:calc(100% - 16px)}}.vac-room-files-container{display:flex;align-items:center;padding:10px 6px 0;background:var(--chat-footer-bg-color)}.vac-room-files-container .vac-files-box{display:flex;overflow:auto;width:calc(100% - 30px)}.vac-room-files-container video{height:100px;border:var(--chat-border-style-input);border-radius:4px}.vac-room-files-container .vac-icon-close{margin-left:auto}.vac-room-files-container .vac-icon-close svg{height:20px;width:20px}@media only screen and (max-width: 768px){.vac-files-container{padding:6px 4px 4px 2px}}.vac-room-file-container{display:flex;position:relative;margin:0 4px}.vac-room-file-container .vac-message-image{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:cover!important;background-position:center center!important;background-repeat:no-repeat!important;height:100px;width:100px;border:var(--chat-border-style-input);border-radius:4px}.vac-room-file-container .vac-file-container{height:80px;width:80px}.vac-room-file-container .vac-icon-remove{position:absolute;top:6px;left:6px;z-index:10}.vac-room-file-container .vac-icon-remove svg{height:20px;width:20px;border-radius:50%}.vac-room-file-container .vac-icon-remove:before{content:" ";position:absolute;width:100%;height:100%;background:rgba(0,0,0,.5);border-radius:50%;z-index:-1}.vac-tags-container{display:flex;flex-direction:column;align-items:center;width:100%}.vac-tags-container .vac-tags-box{display:flex;width:100%;height:54px;overflow:hidden;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-tags-container .vac-tags-box-active{background:var(--chat-footer-bg-color-tag-active)}.vac-tags-container .vac-tags-info{display:flex;overflow:hidden;padding:0 20px;align-items:center}.vac-tags-container .vac-tags-avatar{height:34px;width:34px;min-height:34px;min-width:34px}.vac-tags-container .vac-tags-username{font-size:14px}@media only screen and (max-width: 768px){.vac-tags-container .vac-tags-box{height:50px}.vac-tags-container .vac-tags-info{padding:0 12px}}.vac-template-container{display:flex;flex-direction:column;align-items:center;width:100%}.vac-template-container .vac-template-box{display:flex;width:100%;height:54px;overflow:hidden;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-template-container .vac-template-active{background:var(--chat-footer-bg-color-tag-active)}.vac-template-container .vac-template-info{display:flex;overflow:hidden;padding:0 20px;align-items:center}.vac-template-container .vac-template-tag{font-size:14px;font-weight:700;margin-right:10px}.vac-template-container .vac-template-text{font-size:14px}@media only screen and (max-width: 768px){.vac-template-container .vac-template-box{height:50px}.vac-template-container .vac-template-info{padding:0 12px}}.vac-rooms-container{display:flex;flex-flow:column;flex:0 0 25%;min-width:260px;max-width:500px;position:relative;background:var(--chat-sidemenu-bg-color);height:100%;border-top-left-radius:var(--chat-container-border-radius);border-bottom-left-radius:var(--chat-container-border-radius)}.vac-rooms-container.vac-rooms-container-full{flex:0 0 100%;max-width:100%}.vac-rooms-container .vac-rooms-empty{font-size:14px;color:#9ca6af;font-style:italic;text-align:center;margin:40px 0;line-height:20px;white-space:pre-line}.vac-rooms-container .vac-room-list{flex:1;position:relative;max-width:100%;cursor:pointer;padding:0 10px 5px;overflow-y:auto}.vac-rooms-container .vac-room-item{border-radius:8px;align-items:center;display:flex;flex:1 1 100%;margin-bottom:var(--chat-room-margin-bottom);padding:0 14px;position:relative;min-height:71px;transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-rooms-container .vac-room-item:hover{background:var(--chat-sidemenu-bg-color-hover)}.vac-rooms-container .vac-room-selected{color:var(--chat-sidemenu-color-active)!important;background:var(--chat-sidemenu-bg-color-active)!important}.vac-rooms-container .vac-room-selected:hover{background:var(--chat-sidemenu-bg-color-active)!important}@media only screen and (max-width: 768px){.vac-rooms-container .vac-room-list{padding:0 7px 5px}.vac-rooms-container .vac-room-item{min-height:60px;padding:0 8px}}.vac-room-container{display:flex;flex:1;align-items:center;width:100%}.vac-room-container .vac-name-container{flex:1}.vac-room-container .vac-title-container{display:flex;align-items:center;line-height:25px}.vac-room-container .vac-state-circle{width:9px;height:9px;border-radius:50%;background-color:var(--chat-room-color-offline);margin-right:6px;transition:.3s}.vac-room-container .vac-state-online{background-color:var(--chat-room-color-online)}.vac-room-container .vac-room-name{font-family:var(--chat-room-username-font);font-size:var(--chat-room-username-font-size);flex:1;color:var(--chat-room-color-username);font-weight:500}.vac-room-container .vac-text-date{font-family:var(--chat-room-date-font);margin-left:5px;font-size:var(--chat-room-date-font-size);color:var(--chat-room-color-timestamp)}.vac-room-container .vac-text-last{display:flex;align-items:center;font-family:var(--chat-room-text-font-family);font-size:var(--chat-room-text-last-font-size);line-height:19px;color:var(--chat-room-color-message)}.vac-room-container .vac-message-new{color:var(--chat-room-color-username);font-weight:500}.vac-room-container .vac-icon-check{display:flex;vertical-align:middle;height:var(--chat-room-checkmark-font-size);width:var(--chat-room-checkmark-font-size);margin-top:-2px;margin-right:2px}.vac-room-container .vac-icon-microphone{height:15px;width:15px;vertical-align:middle;margin:-3px 1px 0 -2px;fill:var(--chat-room-color-message)}.vac-room-container .vac-room-options-container{display:flex;margin-left:auto}.vac-room-container .vac-room-badge{background-color:var(--chat-room-bg-color-badge);color:var(--chat-room-color-badge);margin-left:5px}.vac-room-container .vac-list-room-options{height:19px;width:19px;align-items:center;margin-left:5px}.vac-box-empty{margin-top:10px}@media only screen and (max-width: 768px){.vac-box-empty{margin-top:7px}}.vac-box-search{position:sticky;display:flex;align-items:center;height:64px;padding:0 15px}.vac-box-search .vac-icon-search{display:flex;position:absolute;left:30px}.vac-box-search .vac-icon-search svg{width:18px;height:18px}.vac-box-search .vac-input{height:38px;width:100%;background:var(--chat-bg-color-input);color:var(--chat-color);font-size:15px;outline:0;caret-color:var(--chat-color-caret);padding:10px 10px 10px 40px;border:1px solid var(--chat-sidemenu-border-color-search);border-radius:20px}.vac-box-search .vac-input::placeholder{color:var(--chat-color-placeholder)}.vac-box-search .vac-add-icon{margin-left:auto;padding-left:10px}@media only screen and (max-width: 768px){.vac-box-search{height:58px}}.vac-message-wrapper .vac-card-info{border-radius:4px;text-align:center;margin:10px auto;font-size:12px;padding:4px;display:block;overflow-wrap:break-word;position:relative;white-space:normal;box-shadow:0 1px 1px -1px #0000001a,0 1px 1px -1px #0000001c,0 1px 2px -1px #0000001c}.vac-message-wrapper .vac-card-date{max-width:150px;font-weight:500;text-transform:uppercase;color:var(--chat-message-color-date);background-color:var(--chat-message-bg-color-date)}.vac-message-wrapper .vac-card-system{max-width:250px;padding:8px 4px;color:var(--chat-message-color-system);background-color:var(--chat-message-bg-color-system)}.vac-message-wrapper .vac-line-new{color:var(--chat-message-color-new-messages);position:relative;text-align:center;font-size:13px;padding:10px 0}.vac-message-wrapper .vac-line-new:after,.vac-message-wrapper .vac-line-new:before{border-top:1px solid var(--chat-message-color-new-messages);content:"";left:0;position:absolute;top:50%;width:calc(50% - 60px)}.vac-message-wrapper .vac-line-new:before{left:auto;right:0}.vac-message-wrapper .vac-message-box{display:flex;flex:0 0 50%;max-width:50%;justify-content:flex-start;line-height:1.4}.vac-message-wrapper .vac-avatar{height:var(--chat-message-avatar-size);width:var(--chat-message-avatar-size);min-height:var(--chat-message-avatar-size);min-width:var(--chat-message-avatar-size);margin:0 0 2px;align-self:flex-end}.vac-message-wrapper .vac-avatar-current-offset{margin-right:var(--chat-message-avatar-size)}.vac-message-wrapper .vac-avatar-offset{margin-left:var(--chat-message-avatar-size)}.vac-message-wrapper .vac-failure-container{position:relative;align-self:flex-end;height:20px;width:20px;margin:0 0 2px -4px;border-radius:50%;background-color:#f44336}.vac-message-wrapper .vac-failure-container.vac-failure-container-avatar{margin-right:6px}.vac-message-wrapper .vac-failure-container .vac-failure-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:15px;font-weight:700}.vac-message-wrapper .vac-message-container{position:relative;padding:2px 10px;align-items:end;min-width:100px;box-sizing:content-box}.vac-message-wrapper .vac-message-container-offset{margin-top:10px}.vac-message-wrapper .vac-offset-current{margin-left:50%;justify-content:flex-end}.vac-message-wrapper .vac-message-card{background-color:var(--chat-message-bg-color);color:var(--chat-message-color);border-radius:8px;font-size:14px;padding:6px 9px 3px;white-space:pre-line;max-width:100%;-webkit-transition-property:box-shadow,opacity;transition-property:box-shadow,opacity;transition:box-shadow .28s cubic-bezier(.4,0,.2,1);will-change:box-shadow;box-shadow:0 1px 1px -1px #0000001a,0 1px 1px -1px #0000001c,0 1px 2px -1px #0000001c}.vac-message-wrapper .vac-message-highlight{box-shadow:0 1px 2px -1px #0000001a,0 1px 2px -1px #0000001c,0 1px 5px -1px #0000001c}.vac-message-wrapper .vac-message-current{background-color:var(--chat-message-bg-color-me)!important}.vac-message-wrapper .vac-message-deleted{color:var(--chat-message-color-deleted)!important;font-size:13px!important;font-style:italic!important;background-color:var(--chat-message-bg-color-deleted)!important}.vac-message-wrapper .vac-message-selected{background-color:var(--chat-message-bg-color-selected)!important;transition:background-color .2s}.vac-message-wrapper .vac-message-image{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:cover!important;background-position:center center!important;background-repeat:no-repeat!important;height:250px;width:250px;max-width:100%;border-radius:4px;margin:4px auto 5px;transition:.4s filter linear}.vac-message-wrapper .vac-text-username{font-size:13px;color:var(--chat-message-color-username);margin-bottom:2px}.vac-message-wrapper .vac-username-reply{margin-bottom:5px}.vac-message-wrapper .vac-text-timestamp{font-size:10px;color:var(--chat-message-color-timestamp);text-align:right}.vac-message-wrapper .vac-message-current{color:var(--chat-message-color-me)!important;background-color:var(--chat-message-bg-color-me)!important}.vac-message-wrapper .vac-message-current .vac-text-timestamp{color:var(--chat-message-color-timestamp-me)!important}.vac-message-wrapper .vac-progress-time{float:left;margin:-2px 0 0 40px;color:var(--chat-color);font-size:12px}.vac-message-wrapper .vac-icon-edited{-webkit-box-align:center;align-items:center;display:-webkit-inline-box;display:inline-flex;justify-content:center;letter-spacing:normal;line-height:1;text-indent:0;vertical-align:middle;margin:0 4px 2px}.vac-message-wrapper .vac-icon-edited svg{height:12px;width:12px}.vac-message-wrapper .vac-icon-check{height:14px;width:14px;vertical-align:middle;margin:-3px -3px 0 3px}@media only screen and (max-width: 768px){.vac-message-wrapper .vac-message-container{padding:2px 3px 1px}.vac-message-wrapper .vac-message-container-offset{margin-top:10px}.vac-message-wrapper .vac-message-box{flex:0 0 80%;max-width:80%}.vac-message-wrapper .vac-avatar{height:25px;width:25px;min-height:25px;min-width:25px;margin:0 6px 1px 0}.vac-message-wrapper .vac-avatar.vac-avatar-current{margin:0 0 1px 6px}.vac-message-wrapper .vac-avatar-current-offset{margin-right:31px}.vac-message-wrapper .vac-avatar-offset{margin-left:31px}.vac-message-wrapper .vac-failure-container{margin-left:2px}.vac-message-wrapper .vac-failure-container.vac-failure-container-avatar{margin-right:0}.vac-message-wrapper .vac-offset-current{margin-left:20%}.vac-message-wrapper .vac-progress-time{margin-left:37px}}.vac-audio-player{display:flex;margin:8px 0 5px}.vac-audio-player .vac-svg-button{max-width:18px;margin-left:7px}@media only screen and (max-width: 768px){.vac-audio-player{margin:4px 0 0}.vac-audio-player .vac-svg-button{max-width:16px;margin-left:5px}}.vac-player-bar{display:flex;align-items:center;max-width:calc(100% - 18px);margin-right:7px;margin-left:20px}.vac-player-bar .vac-player-progress{width:190px}.vac-player-bar .vac-player-progress .vac-line-container{position:relative;height:4px;border-radius:5px;background-color:var(--chat-message-bg-color-audio-line)}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-progress{position:absolute;height:inherit;background-color:var(--chat-message-bg-color-audio-progress);border-radius:inherit}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot{position:absolute;top:-5px;margin-left:-7px;height:14px;width:14px;border-radius:50%;background-color:var(--chat-message-bg-color-audio-progress-selector);transition:transform .25s}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot__active{transform:scale(1.2)}@media only screen and (max-width: 768px){.vac-player-bar{margin-right:5px}.vac-player-bar .vac-player-progress .vac-line-container{height:3px}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot{height:12px;width:12px;top:-5px;margin-left:-5px}}.vac-message-actions-wrapper .vac-options-container{position:absolute;top:2px;right:10px;height:40px;width:70px;overflow:hidden;border-top-right-radius:8px}.vac-message-actions-wrapper .vac-blur-container{position:absolute;height:100%;width:100%;left:8px;bottom:10px;background:var(--chat-message-bg-color);filter:blur(3px);border-bottom-left-radius:8px}.vac-message-actions-wrapper .vac-options-me{color:var(--chat-message-color-me);background:var(--chat-message-bg-color-me)}.vac-message-actions-wrapper .vac-message-options{background:var(--chat-icon-bg-dropdown-message);border-radius:50%;position:absolute;top:7px;right:7px}.vac-message-actions-wrapper .vac-message-options svg{height:17px;width:17px;padding:5px;margin:-5px}.vac-message-actions-wrapper .vac-message-emojis{position:absolute;top:6px;right:30px}.vac-message-actions-wrapper .vac-menu-options{right:15px}.vac-message-actions-wrapper .vac-menu-left{right:-118px}@media only screen and (max-width: 768px){.vac-message-actions-wrapper .vac-options-container{right:3px}.vac-message-actions-wrapper .vac-menu-left{right:-50px}}.vac-message-files-container .vac-file-wrapper{position:relative;width:fit-content}.vac-message-files-container .vac-file-wrapper .vac-file-container{height:60px;width:60px;margin:3px 0 5px;cursor:pointer;transition:all .6s}.vac-message-files-container .vac-file-wrapper .vac-file-container:hover{opacity:.85}.vac-message-files-container .vac-file-wrapper .vac-file-container svg{height:30px;width:30px}.vac-message-files-container .vac-file-wrapper .vac-file-container.vac-file-container-progress{background-color:#0000004d}.vac-message-file-container{position:relative;z-index:0}.vac-message-file-container .vac-message-image-container{cursor:pointer}.vac-message-file-container .vac-image-buttons{position:absolute;width:100%;height:100%;border-radius:4px;background:linear-gradient(to bottom,rgba(0,0,0,0) 55%,rgba(0,0,0,.02) 60%,rgba(0,0,0,.05) 65%,rgba(0,0,0,.1) 70%,rgba(0,0,0,.2) 75%,rgba(0,0,0,.3) 80%,rgba(0,0,0,.5) 85%,rgba(0,0,0,.6) 90%,rgba(0,0,0,.7) 95%,rgba(0,0,0,.8) 100%)}.vac-message-file-container .vac-image-buttons svg{height:26px;width:26px}.vac-message-file-container .vac-image-buttons .vac-button-view,.vac-message-file-container .vac-image-buttons .vac-button-download{position:absolute;bottom:6px;left:7px}.vac-message-file-container .vac-image-buttons :first-child{left:40px}.vac-message-file-container .vac-image-buttons .vac-button-view{max-width:18px;bottom:8px}.vac-message-file-container .vac-video-container{width:350px;max-width:100%;margin:4px auto 5px;cursor:pointer}.vac-message-file-container .vac-video-container video{width:100%;height:100%;border-radius:4px}.vac-button-reaction{display:inline-flex;align-items:center;border:var(--chat-message-border-style-reaction);outline:none;background:var(--chat-message-bg-color-reaction);border-radius:4px;margin:4px 2px 0;transition:.3s;padding:0 5px;font-size:18px;line-height:23px}.vac-button-reaction span{font-size:11px;font-weight:500;min-width:7px;color:var(--chat-message-color-reaction-counter)}.vac-button-reaction:hover{border:var(--chat-message-border-style-reaction-hover);background:var(--chat-message-bg-color-reaction-hover);cursor:pointer}.vac-button-reaction.vac-reaction-me{border:var(--chat-message-border-style-reaction-me);background:var(--chat-message-bg-color-reaction-me)}.vac-button-reaction.vac-reaction-me span{color:var(--chat-message-color-reaction-counter-me)}.vac-button-reaction.vac-reaction-me:hover{border:var(--chat-message-border-style-reaction-hover-me);background:var(--chat-message-bg-color-reaction-hover-me)}.vac-reply-message{background:var(--chat-message-bg-color-reply);border-radius:4px;margin:-1px -5px 8px;padding:8px 10px}.vac-reply-message .vac-reply-username{color:var(--chat-message-color-reply-username);font-size:12px;line-height:15px;margin-bottom:2px}.vac-reply-message .vac-image-reply-container{width:70px}.vac-reply-message .vac-image-reply-container .vac-message-image-reply{height:70px;width:70px;margin:4px auto 3px}.vac-reply-message .vac-video-reply-container{width:200px;max-width:100%}.vac-reply-message .vac-video-reply-container video{width:100%;height:100%;border-radius:4px}.vac-reply-message .vac-reply-content{font-size:12px;color:var(--chat-message-color-reply-content)}.vac-reply-message .vac-file-container{height:60px;width:60px}.vac-emoji-wrapper{position:relative;display:flex}.vac-emoji-wrapper .vac-emoji-reaction svg{height:19px;width:19px}.vac-emoji-wrapper .vac-emoji-picker{position:absolute;z-index:9999;bottom:32px;right:10px;width:300px;padding-top:4px;overflow:scroll;box-sizing:border-box;border-radius:.5rem;background:var(--chat-emoji-bg-color);box-shadow:0 1px 2px -2px #0000001a,0 1px 2px -1px #0000001a,0 1px 2px 1px #0000001a;scrollbar-width:none}.vac-emoji-wrapper .vac-emoji-picker::-webkit-scrollbar{display:none}.vac-emoji-wrapper .vac-emoji-picker.vac-picker-reaction{position:fixed;top:initial;right:initial}.vac-emoji-wrapper .vac-emoji-picker emoji-picker{height:100%;width:100%;--emoji-size: 1.2rem;--background: var(--chat-emoji-bg-color);--emoji-padding: .4rem;--border-color: var(--chat-sidemenu-border-color-search);--button-hover-background: var(--chat-sidemenu-bg-color-hover);--button-active-background: var(--chat-sidemenu-bg-color-hover)}.vac-format-message-wrapper .vac-format-container{display:inline}.vac-format-message-wrapper .vac-icon-deleted{height:14px;width:14px;vertical-align:middle;margin:-2px 2px 0 0;fill:var(--chat-message-color-deleted)}.vac-format-message-wrapper .vac-icon-deleted.vac-icon-deleted-room{margin:-3px 1px 0 0;fill:var(--chat-room-color-message)}.vac-format-message-wrapper .vac-image-link-container{background-color:var(--chat-message-bg-color-media);padding:8px;margin:2px auto;border-radius:4px}.vac-format-message-wrapper .vac-image-link{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:contain;background-position:center center!important;background-repeat:no-repeat!important;height:150px;width:150px;max-width:100%;border-radius:4px;margin:0 auto}.vac-format-message-wrapper .vac-image-link-message{max-width:166px;font-size:12px}.vac-loader-wrapper.vac-container-center{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9}.vac-loader-wrapper.vac-container-top{padding:21px}.vac-loader-wrapper.vac-container-top #vac-circle{height:20px;width:20px}.vac-loader-wrapper #vac-circle{margin:auto;height:28px;width:28px;border:3px rgba(0,0,0,.25) solid;border-top:3px var(--chat-color-spinner) solid;border-right:3px var(--chat-color-spinner) solid;border-bottom:3px var(--chat-color-spinner) solid;border-radius:50%;-webkit-animation:vac-spin 1s infinite linear;animation:vac-spin 1s infinite linear}@media only screen and (max-width: 768px){.vac-loader-wrapper #vac-circle{height:24px;width:24px}.vac-loader-wrapper.vac-container-top{padding:18px}.vac-loader-wrapper.vac-container-top #vac-circle{height:16px;width:16px}}@-webkit-keyframes vac-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes vac-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}#vac-icon-search{fill:var(--chat-icon-color-search)}#vac-icon-add{fill:var(--chat-icon-color-add)}#vac-icon-toggle{fill:var(--chat-icon-color-toggle)}#vac-icon-menu{fill:var(--chat-icon-color-menu)}#vac-icon-close{fill:var(--chat-icon-color-close)}#vac-icon-close-image{fill:var(--chat-icon-color-close-image)}#vac-icon-file{fill:var(--chat-icon-color-file)}#vac-icon-paperclip{fill:var(--chat-icon-color-paperclip)}#vac-icon-close-outline{fill:var(--chat-icon-color-close-outline)}#vac-icon-close-outline-preview{fill:var(--chat-icon-color-close-preview)}#vac-icon-send{fill:var(--chat-icon-color-send)}#vac-icon-send-disabled{fill:var(--chat-icon-color-send-disabled)}#vac-icon-emoji{fill:var(--chat-icon-color-emoji)}#vac-icon-emoji-reaction{fill:var(--chat-icon-color-emoji-reaction)}#vac-icon-document{fill:var(--chat-icon-color-document)}#vac-icon-pencil{fill:var(--chat-icon-color-pencil)}#vac-icon-checkmark,#vac-icon-double-checkmark{fill:var(--chat-icon-color-checkmark)}#vac-icon-checkmark-seen,#vac-icon-double-checkmark-seen{fill:var(--chat-icon-color-checkmark-seen)}#vac-icon-eye{fill:var(--chat-icon-color-eye)}#vac-icon-dropdown-message{fill:var(--chat-icon-color-dropdown-message)}#vac-icon-dropdown-room{fill:var(--chat-icon-color-dropdown-room)}#vac-icon-dropdown-scroll{fill:var(--chat-icon-color-dropdown-scroll)}#vac-icon-audio-play{fill:var(--chat-icon-color-audio-play)}#vac-icon-audio-pause{fill:var(--chat-icon-color-audio-pause)}.vac-progress-wrapper{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9}.vac-progress-wrapper circle{transition:stroke-dashoffset .35s;transform:rotate(-90deg);transform-origin:50% 50%}.vac-progress-wrapper .vac-progress-content{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:-1;margin-top:-2px;background-color:#000000b3;border-radius:50%}.vac-progress-wrapper .vac-progress-content .vac-progress-text{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-weight:700;color:#fff}.vac-progress-wrapper .vac-progress-content .vac-progress-text .vac-progress-pourcent{font-size:9px;font-weight:400}
`;const Yw={name:"ChatContainer",components:{RoomsList:Hp,Room:Lw,MediaPreview:qw},props:{height:{type:String,default:"600px"},theme:{type:String,default:"light"},styles:{type:[Object,String],default:()=>({})},responsiveBreakpoint:{type:Number,default:900},singleRoom:{type:[Boolean,String],default:!1},roomsListOpened:{type:[Boolean,String],default:!0},textMessages:{type:[Object,String],default:()=>({})},currentUserId:{type:String,default:""},rooms:{type:[Array,String],default:()=>[]},roomsOrder:{type:String,default:"desc"},loadingRooms:{type:[Boolean,String],default:!1},roomsLoaded:{type:[Boolean,String],default:!1},roomId:{type:String,default:null},loadFirstRoom:{type:[Boolean,String],default:!0},messages:{type:[Array,String],default:()=>[]},messagesLoaded:{type:[Boolean,String],default:!1},roomActions:{type:[Array,String],default:()=>[]},menuActions:{type:[Array,String],default:()=>[]},messageActions:{type:[Array,String],default:()=>[{name:"replyMessage",title:"Reply"},{name:"editMessage",title:"Edit Message",onlyMe:!0},{name:"deleteMessage",title:"Delete Message",onlyMe:!0},{name:"selectMessages",title:"Select"}]},messageSelectionActions:{type:[Array,String],default:()=>[]},autoScroll:{type:[Object,String],default:()=>({send:{new:!0,newAfterScrollUp:!0},receive:{new:!0,newAfterScrollUp:!1}})},customSearchRoomEnabled:{type:[Boolean,String],default:!1},showSearch:{type:[Boolean,String],default:!0},showAddRoom:{type:[Boolean,String],default:!0},showSendIcon:{type:[Boolean,String],default:!0},showFiles:{type:[Boolean,String],default:!0},showAudio:{type:[Boolean,String],default:!0},audioBitRate:{type:Number,default:128},audioSampleRate:{type:Number,default:44100},showEmojis:{type:[Boolean,String],default:!0},showReactionEmojis:{type:[Boolean,String],default:!0},showNewMessagesDivider:{type:[Boolean,String],default:!0},showFooter:{type:[Boolean,String],default:!0},textFormatting:{type:[Object,String],default:()=>({disabled:!1,italic:"_",bold:"*",strike:"~",underline:"\xB0",multilineCode:"```",inlineCode:"`"})},linkOptions:{type:[Object,String],default:()=>({disabled:!1,target:"_blank",rel:null})},roomInfoEnabled:{type:[Boolean,String],default:!1},textareaActionEnabled:{type:[Boolean,String],default:!1},textareaAutoFocus:{type:[Boolean,String],default:!0},userTagsEnabled:{type:[Boolean,String],default:!0},emojisSuggestionEnabled:{type:[Boolean,String],default:!0},roomMessage:{type:String,default:""},scrollDistance:{type:Number,default:60},acceptedFiles:{type:String,default:"*"},captureFiles:{type:String,default:void 0},templatesText:{type:[Array,String],default:()=>[]},mediaPreviewEnabled:{type:[Boolean,String],default:!0},usernameOptions:{type:[Object,String],default:()=>({minUsers:3,currentUser:!1})},emojiDataSource:{type:String,default:void 0}},emits:["toggle-rooms-list","room-info","fetch-messages","send-message","edit-message","delete-message","open-file","open-user-tag","open-failed-message","menu-action-handler","message-action-handler","send-message-reaction","typing-message","textarea-action-handler","fetch-more-rooms","add-room","search-room","room-action-handler","message-selection-action-handler"],data(){return{slots:[],room:{},loadingMoreRooms:!1,showRoomsList:!0,isMobile:!1,showMediaPreview:!1,previewFile:{}}},computed:{t(){return{...Ww,...this.textMessagesCasted}},cssVars(){const e=Vw[this.theme],t={};return Object.keys(e).map(r=>{t[r]={...e[r],...this.stylesCasted[r]||{}}}),Kw(t)},orderedRooms(){return this.roomsCasted.slice().sort((e,t)=>{const r=e.index||0,n=t.index||0;return this.roomsOrder==="asc"?r<n?-1:n<r?1:0:r>n?-1:n>r?1:0})},singleRoomCasted(){return this.castBoolean(this.singleRoom)},roomsListOpenedCasted(){return this.castBoolean(this.roomsListOpened)},loadingRoomsCasted(){return this.castBoolean(this.loadingRooms)},roomsLoadedCasted(){return this.castBoolean(this.roomsLoaded)},loadFirstRoomCasted(){return this.castBoolean(this.loadFirstRoom)},messagesLoadedCasted(){return this.castBoolean(this.messagesLoaded)},showSearchCasted(){return this.castBoolean(this.showSearch)},showAddRoomCasted(){return this.castBoolean(this.showAddRoom)},showSendIconCasted(){return this.castBoolean(this.showSendIcon)},showFilesCasted(){return this.castBoolean(this.showFiles)},showAudioCasted(){return this.castBoolean(this.showAudio)},showEmojisCasted(){return this.castBoolean(this.showEmojis)},showReactionEmojisCasted(){return this.castBoolean(this.showReactionEmojis)},showNewMessagesDividerCasted(){return this.castBoolean(this.showNewMessagesDivider)},showFooterCasted(){return this.castBoolean(this.showFooter)},roomInfoEnabledCasted(){return this.castBoolean(this.roomInfoEnabled)},textareaActionEnabledCasted(){return this.castBoolean(this.textareaActionEnabled)},textareaAutoFocusCasted(){return this.castBoolean(this.textareaAutoFocus)},userTagsEnabledCasted(){return this.castBoolean(this.userTagsEnabled)},emojisSuggestionEnabledCasted(){return this.castBoolean(this.emojisSuggestionEnabled)},mediaPreviewEnabledCasted(){return this.castBoolean(this.mediaPreviewEnabled)},roomsCasted(){return this.castArray(this.rooms)},messagesCasted(){return this.castArray(this.messages)},roomActionsCasted(){return this.castArray(this.roomActions)},menuActionsCasted(){return this.castArray(this.menuActions)},messageActionsCasted(){return this.castArray(this.messageActions)},messageSelectionActionsCasted(){return this.castArray(this.messageSelectionActions)},templatesTextCasted(){return this.castArray(this.templatesText)},stylesCasted(){return this.castObject(this.styles)},textMessagesCasted(){return this.castObject(this.textMessages)},autoScrollCasted(){return this.castObject(this.autoScroll)},textFormattingCasted(){return this.castObject(this.textFormatting)},linkOptionsCasted(){return this.castObject(this.linkOptions)},usernameOptionsCasted(){return this.castObject(this.usernameOptions)}},watch:{roomsCasted:{immediate:!0,deep:!0,handler(e,t){if((!e[0]||!e.find(r=>r.roomId===this.room.roomId))&&(this.showRoomsList=!0),!this.loadingMoreRooms&&this.loadFirstRoomCasted&&e[0]&&(!t||e.length!==t.length))if(this.roomId){const r=e.find(n=>n.roomId===this.roomId)||{};this.fetchRoom({room:r})}else!this.isMobile||this.singleRoomCasted?this.fetchRoom({room:this.orderedRooms[0]}):this.showRoomsList=!0}},loadingRoomsCasted(e){e&&(this.room={})},roomId:{immediate:!0,handler(e,t){if(e&&!this.loadingRoomsCasted&&this.roomsCasted.length){const r=this.roomsCasted.find(n=>n.roomId===e);this.fetchRoom({room:r})}else t&&!e&&(this.room={})}},room(e){!e||Object.entries(e).length===0||(cw(e),e.users.forEach(t=>{uw(t)}))},roomsListOpenedCasted:{immediate:!0,handler(e){this.showRoomsList=e}}},created(){this.updateResponsive(),window.addEventListener("resize",e=>{e.isTrusted&&this.updateResponsive()})},updated(){const e=document.querySelectorAll("[slot]");this.slots.length!==e.length&&(this.slots=e)},methods:{castBoolean(e){return e==="true"||e===!0},castArray(e){return e?Array.isArray(e)?e:JSON.parse(e):[]},castObject(e){return e?typeof e=="object"?e:JSON.parse(e):{}},updateResponsive(){this.isMobile=window.innerWidth<Number(this.responsiveBreakpoint)},toggleRoomsList(){this.showRoomsList=!this.showRoomsList,this.isMobile&&(this.room={}),this.$emit("toggle-rooms-list",{opened:this.showRoomsList})},fetchRoom({room:e}){this.room=e,this.fetchMessages({reset:!0}),this.isMobile&&(this.showRoomsList=!1)},fetchMoreRooms(){this.$emit("fetch-more-rooms")},roomInfo(){this.$emit("room-info",this.room)},addRoom(){this.$emit("add-room")},searchRoom(e){this.$emit("search-room",{value:e,roomId:this.room.roomId})},fetchMessages(e){this.$emit("fetch-messages",{room:this.room,options:e})},sendMessage(e){this.$emit("send-message",{...e,roomId:this.room.roomId})},editMessage(e){this.$emit("edit-message",{...e,roomId:this.room.roomId})},deleteMessage(e){this.$emit("delete-message",{message:e,roomId:this.room.roomId})},openFile({message:e,file:t}){this.mediaPreviewEnabledCasted&&t.action==="preview"?(this.previewFile=t.file,this.showMediaPreview=!0):this.$emit("open-file",{message:e,file:t})},openUserTag({user:e}){this.$emit("open-user-tag",{user:e})},openFailedMessage({message:e}){this.$emit("open-failed-message",{message:e,roomId:this.room.roomId})},menuActionHandler(e){this.$emit("menu-action-handler",{action:e,roomId:this.room.roomId})},roomActionHandler({action:e,roomId:t}){this.$emit("room-action-handler",{action:e,roomId:t})},messageActionHandler(e){this.$emit("message-action-handler",{...e,roomId:this.room.roomId})},messageSelectionActionHandler(e){this.$emit("message-selection-action-handler",{...e,roomId:this.room.roomId})},sendMessageReaction(e){this.$emit("send-message-reaction",{...e,roomId:this.room.roomId})},typingMessage(e){this.$emit("typing-message",{message:e,roomId:this.room.roomId})},textareaActionHandler(e){this.$emit("textarea-action-handler",{message:e,roomId:this.room.roomId})}}},Xw={class:"vac-chat-container"};function Qw(e,t,r,n,o,i){const a=ve("rooms-list"),s=ve("room"),c=ve("media-preview");return N(),V("div",{class:"vac-card-window",style:Ve([{height:r.height},i.cssVars])},[J("div",Xw,[i.singleRoomCasted?oe("",!0):(N(),je(a,{key:0,"current-user-id":r.currentUserId,rooms:i.orderedRooms,"loading-rooms":i.loadingRoomsCasted,"rooms-loaded":i.roomsLoadedCasted,room:o.room,"room-actions":i.roomActionsCasted,"custom-search-room-enabled":r.customSearchRoomEnabled,"text-messages":i.t,"show-search":i.showSearchCasted,"show-add-room":i.showAddRoomCasted,"show-rooms-list":o.showRoomsList&&i.roomsListOpenedCasted,"text-formatting":i.textFormattingCasted,"link-options":i.linkOptionsCasted,"is-mobile":o.isMobile,"scroll-distance":r.scrollDistance,onFetchRoom:i.fetchRoom,onFetchMoreRooms:i.fetchMoreRooms,onLoadingMoreRooms:t[0]||(t[0]=l=>o.loadingMoreRooms=l),onAddRoom:i.addRoom,onSearchRoom:i.searchRoom,onRoomActionHandler:i.roomActionHandler},Fe({_:2},[Ae(o.slots,l=>({name:l.slot,fn:be(d=>[se(e.$slots,l.slot,De(Ne(d)))])}))]),1032,["current-user-id","rooms","loading-rooms","rooms-loaded","room","room-actions","custom-search-room-enabled","text-messages","show-search","show-add-room","show-rooms-list","text-formatting","link-options","is-mobile","scroll-distance","onFetchRoom","onFetchMoreRooms","onAddRoom","onSearchRoom","onRoomActionHandler"])),ae(s,{"current-user-id":r.currentUserId,rooms:i.roomsCasted,"room-id":o.room.roomId||"","load-first-room":i.loadFirstRoomCasted,messages:i.messagesCasted,"room-message":r.roomMessage,"messages-loaded":i.messagesLoadedCasted,"menu-actions":i.menuActionsCasted,"message-actions":i.messageActionsCasted,"message-selection-actions":i.messageSelectionActionsCasted,"auto-scroll":i.autoScrollCasted,"show-send-icon":i.showSendIconCasted,"show-files":i.showFilesCasted,"show-audio":i.showAudioCasted,"audio-bit-rate":r.audioBitRate,"audio-sample-rate":r.audioSampleRate,"show-emojis":i.showEmojisCasted,"show-reaction-emojis":i.showReactionEmojisCasted,"show-new-messages-divider":i.showNewMessagesDividerCasted,"show-footer":i.showFooterCasted,"text-messages":i.t,"single-room":i.singleRoomCasted,"show-rooms-list":o.showRoomsList&&i.roomsListOpenedCasted,"text-formatting":i.textFormattingCasted,"link-options":i.linkOptionsCasted,"is-mobile":o.isMobile,"loading-rooms":i.loadingRoomsCasted,"room-info-enabled":i.roomInfoEnabledCasted,"textarea-action-enabled":i.textareaActionEnabledCasted,"textarea-auto-focus":i.textareaAutoFocusCasted,"user-tags-enabled":i.userTagsEnabledCasted,"emojis-suggestion-enabled":i.emojisSuggestionEnabledCasted,"scroll-distance":r.scrollDistance,"accepted-files":r.acceptedFiles,"capture-files":r.captureFiles,"templates-text":i.templatesTextCasted,"username-options":i.usernameOptionsCasted,"emoji-data-source":r.emojiDataSource,onToggleRoomsList:i.toggleRoomsList,onRoomInfo:i.roomInfo,onFetchMessages:i.fetchMessages,onSendMessage:i.sendMessage,onEditMessage:i.editMessage,onDeleteMessage:i.deleteMessage,onOpenFile:i.openFile,onOpenUserTag:i.openUserTag,onOpenFailedMessage:i.openFailedMessage,onMenuActionHandler:i.menuActionHandler,onMessageActionHandler:i.messageActionHandler,onMessageSelectionActionHandler:i.messageSelectionActionHandler,onSendMessageReaction:i.sendMessageReaction,onTypingMessage:i.typingMessage,onTextareaActionHandler:i.textareaActionHandler},Fe({_:2},[Ae(o.slots,l=>({name:l.slot,fn:be(d=>[se(e.$slots,l.slot,De(Ne(d)))])}))]),1032,["current-user-id","rooms","room-id","load-first-room","messages","room-message","messages-loaded","menu-actions","message-actions","message-selection-actions","auto-scroll","show-send-icon","show-files","show-audio","audio-bit-rate","audio-sample-rate","show-emojis","show-reaction-emojis","show-new-messages-divider","show-footer","text-messages","single-room","show-rooms-list","text-formatting","link-options","is-mobile","loading-rooms","room-info-enabled","textarea-action-enabled","textarea-auto-focus","user-tags-enabled","emojis-suggestion-enabled","scroll-distance","accepted-files","capture-files","templates-text","username-options","emoji-data-source","onToggleRoomsList","onRoomInfo","onFetchMessages","onSendMessage","onEditMessage","onDeleteMessage","onOpenFile","onOpenUserTag","onOpenFailedMessage","onMenuActionHandler","onMessageActionHandler","onMessageSelectionActionHandler","onSendMessageReaction","onTypingMessage","onTextareaActionHandler"])]),ae(Xe,{name:"vac-fade-preview",appear:""},{default:be(()=>[o.showMediaPreview?(N(),je(c,{key:0,file:o.previewFile,onCloseMediaPreview:t[1]||(t[1]=l=>o.showMediaPreview=!1)},Fe({_:2},[Ae(o.slots,l=>({name:l.slot,fn:be(d=>[se(e.$slots,l.slot,De(Ne(d)))])}))]),1032,["file"])):oe("",!0)]),_:3})],4)}var Zw=ze(Yw,[["render",Qw],["styles",[Gw]]]);const Zu=vh(Zw),Ju="vue-advanced-chat";function Jw(){customElements.get(Ju)||customElements.define(Ju,Zu)}var $u={};function $w(e){return e&&e.__esModule?e:{default:e}}var e1=$w,ed={exports:{}};(function(e){var t=function(r){var n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(y,m,u){y[m]=u.value},a,s=typeof Symbol=="function"?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function f(y,m,u){return Object.defineProperty(y,m,{value:u,enumerable:!0,configurable:!0,writable:!0}),y[m]}try{f({},"")}catch{f=function(m,u,A){return m[u]=A}}function v(y,m,u,A){var M=m&&m.prototype instanceof j?m:j,X=Object.create(M.prototype),Z=new T(A||[]);return i(X,"_invoke",{value:I(y,u,Z)}),X}r.wrap=v;function b(y,m,u){try{return{type:"normal",arg:y.call(m,u)}}catch(A){return{type:"throw",arg:A}}}var C="suspendedStart",_="suspendedYield",x="executing",H="completed",W={};function j(){}function L(){}function D(){}var S={};f(S,c,function(){return this});var R=Object.getPrototypeOf,P=R&&R(R(g([])));P&&P!==n&&o.call(P,c)&&(S=P);var q=D.prototype=j.prototype=Object.create(S);L.prototype=D,i(q,"constructor",{value:D,configurable:!0}),i(D,"constructor",{value:L,configurable:!0}),L.displayName=f(D,d,"GeneratorFunction");function U(y){["next","throw","return"].forEach(function(m){f(y,m,function(u){return this._invoke(m,u)})})}r.isGeneratorFunction=function(y){var m=typeof y=="function"&&y.constructor;return m?m===L||(m.displayName||m.name)==="GeneratorFunction":!1},r.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,D):(y.__proto__=D,f(y,d,"GeneratorFunction")),y.prototype=Object.create(q),y},r.awrap=function(y){return{__await:y}};function F(y,m){function u(X,Z,fe,de){var ue=b(y[X],y,Z);if(ue.type==="throw")de(ue.arg);else{var Re=ue.arg,Ie=Re.value;return Ie&&typeof Ie=="object"&&o.call(Ie,"__await")?m.resolve(Ie.__await).then(function(ye){u("next",ye,fe,de)},function(ye){u("throw",ye,fe,de)}):m.resolve(Ie).then(function(ye){Re.value=ye,fe(Re)},function(ye){return u("throw",ye,fe,de)})}}var A;function M(X,Z){function fe(){return new m(function(de,ue){u(X,Z,de,ue)})}return A=A?A.then(fe,fe):fe()}i(this,"_invoke",{value:M})}U(F.prototype),f(F.prototype,l,function(){return this}),r.AsyncIterator=F,r.async=function(y,m,u,A,M){M===void 0&&(M=Promise);var X=new F(v(y,m,u,A),M);return r.isGeneratorFunction(m)?X:X.next().then(function(Z){return Z.done?Z.value:X.next()})};function I(y,m,u){var A=C;return function(X,Z){if(A===x)throw new Error("Generator is already running");if(A===H){if(X==="throw")throw Z;return h()}for(u.method=X,u.arg=Z;;){var fe=u.delegate;if(fe){var de=O(fe,u);if(de){if(de===W)continue;return de}}if(u.method==="next")u.sent=u._sent=u.arg;else if(u.method==="throw"){if(A===C)throw A=H,u.arg;u.dispatchException(u.arg)}else u.method==="return"&&u.abrupt("return",u.arg);A=x;var ue=b(y,m,u);if(ue.type==="normal"){if(A=u.done?H:_,ue.arg===W)continue;return{value:ue.arg,done:u.done}}else ue.type==="throw"&&(A=H,u.method="throw",u.arg=ue.arg)}}}function O(y,m){var u=m.method,A=y.iterator[u];if(A===a)return m.delegate=null,u==="throw"&&y.iterator.return&&(m.method="return",m.arg=a,O(y,m),m.method==="throw")||u!=="return"&&(m.method="throw",m.arg=new TypeError("The iterator does not provide a '"+u+"' method")),W;var M=b(A,y.iterator,m.arg);if(M.type==="throw")return m.method="throw",m.arg=M.arg,m.delegate=null,W;var X=M.arg;if(!X)return m.method="throw",m.arg=new TypeError("iterator result is not an object"),m.delegate=null,W;if(X.done)m[y.resultName]=X.value,m.next=y.nextLoc,m.method!=="return"&&(m.method="next",m.arg=a);else return X;return m.delegate=null,W}U(q),f(q,d,"Generator"),f(q,c,function(){return this}),f(q,"toString",function(){return"[object Generator]"});function p(y){var m={tryLoc:y[0]};1 in y&&(m.catchLoc=y[1]),2 in y&&(m.finallyLoc=y[2],m.afterLoc=y[3]),this.tryEntries.push(m)}function w(y){var m=y.completion||{};m.type="normal",delete m.arg,y.completion=m}function T(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(p,this),this.reset(!0)}r.keys=function(y){var m=Object(y),u=[];for(var A in m)u.push(A);return u.reverse(),function M(){for(;u.length;){var X=u.pop();if(X in m)return M.value=X,M.done=!1,M}return M.done=!0,M}};function g(y){if(y){var m=y[c];if(m)return m.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var u=-1,A=function M(){for(;++u<y.length;)if(o.call(y,u))return M.value=y[u],M.done=!1,M;return M.value=a,M.done=!0,M};return A.next=A}}return{next:h}}r.values=g;function h(){return{value:a,done:!0}}return T.prototype={constructor:T,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(w),!y)for(var m in this)m.charAt(0)==="t"&&o.call(this,m)&&!isNaN(+m.slice(1))&&(this[m]=a)},stop:function(){this.done=!0;var y=this.tryEntries[0],m=y.completion;if(m.type==="throw")throw m.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var m=this;function u(de,ue){return X.type="throw",X.arg=y,m.next=de,ue&&(m.method="next",m.arg=a),!!ue}for(var A=this.tryEntries.length-1;A>=0;--A){var M=this.tryEntries[A],X=M.completion;if(M.tryLoc==="root")return u("end");if(M.tryLoc<=this.prev){var Z=o.call(M,"catchLoc"),fe=o.call(M,"finallyLoc");if(Z&&fe){if(this.prev<M.catchLoc)return u(M.catchLoc,!0);if(this.prev<M.finallyLoc)return u(M.finallyLoc)}else if(Z){if(this.prev<M.catchLoc)return u(M.catchLoc,!0)}else if(fe){if(this.prev<M.finallyLoc)return u(M.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(y,m){for(var u=this.tryEntries.length-1;u>=0;--u){var A=this.tryEntries[u];if(A.tryLoc<=this.prev&&o.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var M=A;break}}M&&(y==="break"||y==="continue")&&M.tryLoc<=m&&m<=M.finallyLoc&&(M=null);var X=M?M.completion:{};return X.type=y,X.arg=m,M?(this.method="next",this.next=M.finallyLoc,W):this.complete(X)},complete:function(y,m){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&m&&(this.next=m),W},finish:function(y){for(var m=this.tryEntries.length-1;m>=0;--m){var u=this.tryEntries[m];if(u.finallyLoc===y)return this.complete(u.completion,u.afterLoc),w(u),W}},catch:function(y){for(var m=this.tryEntries.length-1;m>=0;--m){var u=this.tryEntries[m];if(u.tryLoc===y){var A=u.completion;if(A.type==="throw"){var M=A.arg;w(u)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(y,m,u){return this.delegate={iterator:g(y),resultName:m,nextLoc:u},this.method==="next"&&(this.arg=a),W}},r}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(ed);var t1=ed.exports;function td(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(l){r(l);return}s.done?t(c):Promise.resolve(c).then(n,o)}function r1(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(c){td(i,n,o,a,s,"next",c)}function s(c){td(i,n,o,a,s,"throw",c)}a(void 0)})}}var n1=r1;(function(e){var t=e1;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=t(t1),n=t(n1);function o(a){return i.apply(this,arguments)}function i(){return(i=(0,n.default)(r.default.mark(function a(s){var c,l;return r.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return c=document.createElement("video"),l=new Promise(function(f,v){c.addEventListener("loadedmetadata",function(){c.duration===1/0?(c.currentTime=Number.MAX_SAFE_INTEGER,c.ontimeupdate=function(){c.ontimeupdate=null,f(c.duration),c.currentTime=0}):f(c.duration)}),c.onerror=function(b){return v(b.target.error)}}),c.src=typeof s=="string"||s instanceof String?s:window.URL.createObjectURL(s),d.abrupt("return",l);case 4:case"end":return d.stop()}},a)}))).apply(this,arguments)}})($u);var o1=Hl($u);const Tr=()=>({value:!0}),zn=()=>({value:!1}),i1=()=>new Error("MISSING_PERMISSION"),s1=()=>new Error("ALREADY_RECORDING"),a1=()=>new Error("DEVICE_CANNOT_VOICE_RECORD"),rd=()=>new Error("FAILED_TO_RECORD"),l1=()=>new Error("EMPTY_RECORDING"),Zs=()=>new Error("RECORDING_HAS_NOT_STARTED"),nd=()=>new Error("FAILED_TO_FETCH_RECORDING"),c1=()=>new Error("COULD_NOT_QUERY_PERMISSION_STATUS"),u1=["audio/aac","audio/webm;codecs=opus","audio/mp4","audio/webm","audio/ogg;codecs=opus"],od=()=>new Promise(()=>{});class St{constructor(){this.mediaRecorder=null,this.chunks=[],this.pendingResult=od()}static async canDeviceVoiceRecord(){var t;return((t=navigator==null?void 0:navigator.mediaDevices)===null||t===void 0?void 0:t.getUserMedia)==null||St.getSupportedMimeType()==null?zn():Tr()}async startRecording(){if(this.mediaRecorder!=null)throw s1();if(!(await St.canDeviceVoiceRecord()).value)throw a1();if(!(await St.hasAudioRecordingPermission().catch(()=>Tr())).value)throw i1();return navigator.mediaDevices.getUserMedia({audio:!0}).then(this.onSuccessfullyStartedRecording.bind(this)).catch(this.onFailedToStartRecording.bind(this)),Tr()}async stopRecording(){if(this.mediaRecorder==null)throw Zs();try{return this.mediaRecorder.stop(),this.mediaRecorder.stream.getTracks().forEach(t=>t.stop()),this.pendingResult}catch{throw nd()}finally{this.prepareInstanceForNextOperation()}}static async hasAudioRecordingPermission(){return navigator.permissions.query({name:"microphone"}).then(t=>({value:t.state==="granted"})).catch(()=>{throw c1()})}static async requestAudioRecordingPermission(){return(await St.hasAudioRecordingPermission().catch(()=>zn())).value?Tr():navigator.mediaDevices.getUserMedia({audio:!0}).then(()=>Tr()).catch(()=>zn())}pauseRecording(){if(this.mediaRecorder==null)throw Zs();return this.mediaRecorder.state==="recording"?(this.mediaRecorder.pause(),Promise.resolve(Tr())):Promise.resolve(zn())}resumeRecording(){if(this.mediaRecorder==null)throw Zs();return this.mediaRecorder.state==="paused"?(this.mediaRecorder.resume(),Promise.resolve(Tr())):Promise.resolve(zn())}getCurrentStatus(){return this.mediaRecorder==null?Promise.resolve({status:"NONE"}):this.mediaRecorder.state==="recording"?Promise.resolve({status:"RECORDING"}):this.mediaRecorder.state==="paused"?Promise.resolve({status:"PAUSED"}):Promise.resolve({status:"NONE"})}static getSupportedMimeType(){if((MediaRecorder==null?void 0:MediaRecorder.isTypeSupported)==null)return null;const t=u1.find(r=>MediaRecorder.isTypeSupported(r));return t!=null?t:null}onSuccessfullyStartedRecording(t){this.pendingResult=new Promise((r,n)=>{this.mediaRecorder=new MediaRecorder(t),this.mediaRecorder.onerror=()=>{this.prepareInstanceForNextOperation(),n(rd())},this.mediaRecorder.onstop=async()=>{const o=St.getSupportedMimeType();if(o==null){this.prepareInstanceForNextOperation(),n(nd());return}const i=new Blob(this.chunks,{type:o});if(i.size<=0){this.prepareInstanceForNextOperation(),n(l1());return}const a=await St.blobToBase64(i),s=await o1(i);this.prepareInstanceForNextOperation(),r({value:{recordDataBase64:a,mimeType:o,msDuration:s*1e3}})},this.mediaRecorder.ondataavailable=o=>this.chunks.push(o.data),this.mediaRecorder.start()})}onFailedToStartRecording(){throw this.prepareInstanceForNextOperation(),rd()}static blobToBase64(t){return new Promise(r=>{const n=new FileReader;n.onloadend=()=>{const o=String(n.result),i=o.split("base64,"),a=i.length>1?i[1]:o;r(a.trim())},n.readAsDataURL(t)})}prepareInstanceForNextOperation(){if(this.mediaRecorder!=null&&this.mediaRecorder.state==="recording")try{this.mediaRecorder.stop()}catch{}this.pendingResult=od(),this.mediaRecorder=null,this.chunks=[]}}class d1 extends Ys{constructor(){super(...arguments),this.voiceRecorderInstance=new St}canDeviceVoiceRecord(){return St.canDeviceVoiceRecord()}hasAudioRecordingPermission(){return St.hasAudioRecordingPermission()}requestAudioRecordingPermission(){return St.requestAudioRecordingPermission()}startRecording(){return this.voiceRecorderInstance.startRecording()}stopRecording(){return this.voiceRecorderInstance.stopRecording()}pauseRecording(){return this.voiceRecorderInstance.pauseRecording()}resumeRecording(){return this.voiceRecorderInstance.resumeRecording()}getCurrentStatus(){return this.voiceRecorderInstance.getCurrentStatus()}}var f1=Object.freeze(Object.defineProperty({__proto__:null,VoiceRecorderWeb:d1},Symbol.toStringTag,{value:"Module"}));ir.VueAdvancedChat=Zu,ir.register=Jw,Object.defineProperties(ir,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
