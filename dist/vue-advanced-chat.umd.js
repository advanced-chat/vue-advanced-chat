(function(io,ao){typeof exports=="object"&&typeof module!="undefined"?ao(exports):typeof define=="function"&&define.amd?define(["exports"],ao):(io=typeof globalThis!="undefined"?globalThis:io||self,ao(io["vue-advanced-chat"]={}))})(this,function(io){"use strict";function ao(e,t){const o=Object.create(null),s=e.split(",");for(let n=0;n<s.length;n++)o[s[n]]=!0;return t?n=>!!o[n.toLowerCase()]:n=>!!o[n]}const Gd=ao("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function qi(e){return!!e||e===""}function Te(e){if(ie(e)){const t={};for(let o=0;o<e.length;o++){const s=e[o],n=Xe(s)?Zd(s):Te(s);if(n)for(const r in n)t[r]=n[r]}return t}else{if(Xe(e))return e;if(We(e))return e}}const Wd=/;(?![^(]*\))/g,Yd=/:(.+)/;function Zd(e){const t={};return e.split(Wd).forEach(o=>{if(o){const s=o.split(Yd);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function pe(e){let t="";if(Xe(e))t=e;else if(ie(e))for(let o=0;o<e.length;o++){const s=pe(e[o]);s&&(t+=s+" ")}else if(We(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}function Ie(e){if(!e)return null;let{class:t,style:o}=e;return t&&!Xe(t)&&(e.class=pe(t)),o&&(e.style=Te(o)),e}const ce=e=>Xe(e)?e:e==null?"":ie(e)||We(e)&&(e.toString===Wi||!ve(e.toString))?JSON.stringify(e,Ki,2):String(e),Ki=(e,t)=>t&&t.__v_isRef?Ki(e,t.value):Oo(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((o,[s,n])=>(o[`${s} =>`]=n,o),{})}:Vi(t)?{[`Set(${t.size})`]:[...t.values()]}:We(t)&&!ie(t)&&!Yi(t)?String(t):t,Ue={},Ro=[],_t=()=>{},Xd=()=>!1,Qd=/^on[^a-z]/,Ds=e=>Qd.test(e),Zn=e=>e.startsWith("onUpdate:"),Ze=Object.assign,Xn=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},Jd=Object.prototype.hasOwnProperty,ke=(e,t)=>Jd.call(e,t),ie=Array.isArray,Oo=e=>Bs(e)==="[object Map]",Vi=e=>Bs(e)==="[object Set]",ve=e=>typeof e=="function",Xe=e=>typeof e=="string",Qn=e=>typeof e=="symbol",We=e=>e!==null&&typeof e=="object",Gi=e=>We(e)&&ve(e.then)&&ve(e.catch),Wi=Object.prototype.toString,Bs=e=>Wi.call(e),$d=e=>Bs(e).slice(8,-1),Yi=e=>Bs(e)==="[object Object]",Jn=e=>Xe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Hs=ao(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zs=e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))},eu=/-(\w)/g,pt=zs(e=>e.replace(eu,(t,o)=>o?o.toUpperCase():"")),tu=/\B([A-Z])/g,Rt=zs(e=>e.replace(tu,"-$1").toLowerCase()),qs=zs(e=>e.charAt(0).toUpperCase()+e.slice(1)),$n=zs(e=>e?`on${qs(e)}`:""),Ks=(e,t)=>!Object.is(e,t),er=(e,t)=>{for(let o=0;o<e.length;o++)e[o](t)},Vs=(e,t,o)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:o})},Gs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Zi;const ou=()=>Zi||(Zi=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Ot;class su{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&Ot&&(this.parent=Ot,this.index=(Ot.scopes||(Ot.scopes=[])).push(this)-1)}run(t){if(this.active){const o=Ot;try{return Ot=this,t()}finally{Ot=o}}}on(){Ot=this}off(){Ot=this.parent}stop(t){if(this.active){let o,s;for(o=0,s=this.effects.length;o<s;o++)this.effects[o].stop();for(o=0,s=this.cleanups.length;o<s;o++)this.cleanups[o]();if(this.scopes)for(o=0,s=this.scopes.length;o<s;o++)this.scopes[o].stop(!0);if(this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function nu(e,t=Ot){t&&t.active&&t.effects.push(e)}const tr=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Xi=e=>(e.w&Wt)>0,Qi=e=>(e.n&Wt)>0,ru=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Wt},iu=e=>{const{deps:t}=e;if(t.length){let o=0;for(let s=0;s<t.length;s++){const n=t[s];Xi(n)&&!Qi(n)?n.delete(e):t[o++]=n,n.w&=~Wt,n.n&=~Wt}t.length=o}},or=new WeakMap;let Yo=0,Wt=1;const sr=30;let kt;const co=Symbol(""),nr=Symbol("");class rr{constructor(t,o=null,s){this.fn=t,this.scheduler=o,this.active=!0,this.deps=[],this.parent=void 0,nu(this,s)}run(){if(!this.active)return this.fn();let t=kt,o=Yt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=kt,kt=this,Yt=!0,Wt=1<<++Yo,Yo<=sr?ru(this):Ji(this),this.fn()}finally{Yo<=sr&&iu(this),Wt=1<<--Yo,kt=this.parent,Yt=o,this.parent=void 0,this.deferStop&&this.stop()}}stop(){kt===this?this.deferStop=!0:this.active&&(Ji(this),this.onStop&&this.onStop(),this.active=!1)}}function Ji(e){const{deps:t}=e;if(t.length){for(let o=0;o<t.length;o++)t[o].delete(e);t.length=0}}let Yt=!0;const $i=[];function Ao(){$i.push(Yt),Yt=!1}function Io(){const e=$i.pop();Yt=e===void 0?!0:e}function ft(e,t,o){if(Yt&&kt){let s=or.get(e);s||or.set(e,s=new Map);let n=s.get(o);n||s.set(o,n=tr()),ea(n)}}function ea(e,t){let o=!1;Yo<=sr?Qi(e)||(e.n|=Wt,o=!Xi(e)):o=!e.has(kt),o&&(e.add(kt),kt.deps.push(e))}function Dt(e,t,o,s,n,r){const i=or.get(e);if(!i)return;let a=[];if(t==="clear")a=[...i.values()];else if(o==="length"&&ie(e))i.forEach((c,l)=>{(l==="length"||l>=s)&&a.push(c)});else switch(o!==void 0&&a.push(i.get(o)),t){case"add":ie(e)?Jn(o)&&a.push(i.get("length")):(a.push(i.get(co)),Oo(e)&&a.push(i.get(nr)));break;case"delete":ie(e)||(a.push(i.get(co)),Oo(e)&&a.push(i.get(nr)));break;case"set":Oo(e)&&a.push(i.get(co));break}if(a.length===1)a[0]&&ir(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);ir(tr(c))}}function ir(e,t){const o=ie(e)?e:[...e];for(const s of o)s.computed&&ta(s);for(const s of o)s.computed||ta(s)}function ta(e,t){(e!==kt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const au=ao("__proto__,__v_isRef,__isVue"),oa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Qn)),cu=ar(),lu=ar(!1,!0),du=ar(!0),sa=uu();function uu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...o){const s=Re(this);for(let r=0,i=this.length;r<i;r++)ft(s,"get",r+"");const n=s[t](...o);return n===-1||n===!1?s[t](...o.map(Re)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...o){Ao();const s=Re(this)[t].apply(this,o);return Io(),s}}),e}function ar(e=!1,t=!1){return function(s,n,r){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_isShallow")return t;if(n==="__v_raw"&&r===(e?t?Mu:fa:t?ua:da).get(s))return s;const i=ie(s);if(!e&&i&&ke(sa,n))return Reflect.get(sa,n,r);const a=Reflect.get(s,n,r);return(Qn(n)?oa.has(n):au(n))||(e||ft(s,"get",n),t)?a:nt(a)?i&&Jn(n)?a:a.value:We(a)?e?ma(a):dr(a):a}}const fu=na(),mu=na(!0);function na(e=!1){return function(o,s,n,r){let i=o[s];if(Zo(i)&&nt(i)&&!nt(n))return!1;if(!e&&!Zo(n)&&(fr(n)||(n=Re(n),i=Re(i)),!ie(o)&&nt(i)&&!nt(n)))return i.value=n,!0;const a=ie(o)&&Jn(s)?Number(s)<o.length:ke(o,s),c=Reflect.set(o,s,n,r);return o===Re(r)&&(a?Ks(n,i)&&Dt(o,"set",s,n):Dt(o,"add",s,n)),c}}function hu(e,t){const o=ke(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&o&&Dt(e,"delete",t,void 0),s}function gu(e,t){const o=Reflect.has(e,t);return(!Qn(t)||!oa.has(t))&&ft(e,"has",t),o}function pu(e){return ft(e,"iterate",ie(e)?"length":co),Reflect.ownKeys(e)}const ra={get:cu,set:fu,deleteProperty:hu,has:gu,ownKeys:pu},vu={get:du,set(e,t){return!0},deleteProperty(e,t){return!0}},bu=Ze({},ra,{get:lu,set:mu}),cr=e=>e,Ws=e=>Reflect.getPrototypeOf(e);function Ys(e,t,o=!1,s=!1){e=e.__v_raw;const n=Re(e),r=Re(t);o||(t!==r&&ft(n,"get",t),ft(n,"get",r));const{has:i}=Ws(n),a=s?cr:o?hr:mr;if(i.call(n,t))return a(e.get(t));if(i.call(n,r))return a(e.get(r));e!==n&&e.get(t)}function Zs(e,t=!1){const o=this.__v_raw,s=Re(o),n=Re(e);return t||(e!==n&&ft(s,"has",e),ft(s,"has",n)),e===n?o.has(e):o.has(e)||o.has(n)}function Xs(e,t=!1){return e=e.__v_raw,!t&&ft(Re(e),"iterate",co),Reflect.get(e,"size",e)}function ia(e){e=Re(e);const t=Re(this);return Ws(t).has.call(t,e)||(t.add(e),Dt(t,"add",e,e)),this}function aa(e,t){t=Re(t);const o=Re(this),{has:s,get:n}=Ws(o);let r=s.call(o,e);r||(e=Re(e),r=s.call(o,e));const i=n.call(o,e);return o.set(e,t),r?Ks(t,i)&&Dt(o,"set",e,t):Dt(o,"add",e,t),this}function ca(e){const t=Re(this),{has:o,get:s}=Ws(t);let n=o.call(t,e);n||(e=Re(e),n=o.call(t,e)),s&&s.call(t,e);const r=t.delete(e);return n&&Dt(t,"delete",e,void 0),r}function la(){const e=Re(this),t=e.size!==0,o=e.clear();return t&&Dt(e,"clear",void 0,void 0),o}function Qs(e,t){return function(s,n){const r=this,i=r.__v_raw,a=Re(i),c=t?cr:e?hr:mr;return!e&&ft(a,"iterate",co),i.forEach((l,d)=>s.call(n,c(l),c(d),r))}}function Js(e,t,o){return function(...s){const n=this.__v_raw,r=Re(n),i=Oo(r),a=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,l=n[e](...s),d=o?cr:t?hr:mr;return!t&&ft(r,"iterate",c?nr:co),{next(){const{value:u,done:f}=l.next();return f?{value:u,done:f}:{value:a?[d(u[0]),d(u[1])]:d(u),done:f}},[Symbol.iterator](){return this}}}}function Zt(e){return function(...t){return e==="delete"?!1:this}}function yu(){const e={get(r){return Ys(this,r)},get size(){return Xs(this)},has:Zs,add:ia,set:aa,delete:ca,clear:la,forEach:Qs(!1,!1)},t={get(r){return Ys(this,r,!1,!0)},get size(){return Xs(this)},has:Zs,add:ia,set:aa,delete:ca,clear:la,forEach:Qs(!1,!0)},o={get(r){return Ys(this,r,!0)},get size(){return Xs(this,!0)},has(r){return Zs.call(this,r,!0)},add:Zt("add"),set:Zt("set"),delete:Zt("delete"),clear:Zt("clear"),forEach:Qs(!0,!1)},s={get(r){return Ys(this,r,!0,!0)},get size(){return Xs(this,!0)},has(r){return Zs.call(this,r,!0)},add:Zt("add"),set:Zt("set"),delete:Zt("delete"),clear:Zt("clear"),forEach:Qs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Js(r,!1,!1),o[r]=Js(r,!0,!1),t[r]=Js(r,!1,!0),s[r]=Js(r,!0,!0)}),[e,o,t,s]}const[wu,xu,_u,ku]=yu();function lr(e,t){const o=t?e?ku:_u:e?xu:wu;return(s,n,r)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?s:Reflect.get(ke(o,n)&&n in s?o:s,n,r)}const Eu={get:lr(!1,!1)},Tu={get:lr(!1,!0)},Su={get:lr(!0,!1)},da=new WeakMap,ua=new WeakMap,fa=new WeakMap,Mu=new WeakMap;function Cu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ru(e){return e.__v_skip||!Object.isExtensible(e)?0:Cu($d(e))}function dr(e){return Zo(e)?e:ur(e,!1,ra,Eu,da)}function Ou(e){return ur(e,!1,bu,Tu,ua)}function ma(e){return ur(e,!0,vu,Su,fa)}function ur(e,t,o,s,n){if(!We(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=n.get(e);if(r)return r;const i=Ru(e);if(i===0)return e;const a=new Proxy(e,i===2?s:o);return n.set(e,a),a}function Lo(e){return Zo(e)?Lo(e.__v_raw):!!(e&&e.__v_isReactive)}function Zo(e){return!!(e&&e.__v_isReadonly)}function fr(e){return!!(e&&e.__v_isShallow)}function ha(e){return Lo(e)||Zo(e)}function Re(e){const t=e&&e.__v_raw;return t?Re(t):e}function ga(e){return Vs(e,"__v_skip",!0),e}const mr=e=>We(e)?dr(e):e,hr=e=>We(e)?ma(e):e;function Au(e){Yt&&kt&&(e=Re(e),ea(e.dep||(e.dep=tr())))}function Iu(e,t){e=Re(e),e.dep&&ir(e.dep)}function nt(e){return!!(e&&e.__v_isRef===!0)}function Lu(e){return nt(e)?e.value:e}const ju={get:(e,t,o)=>Lu(Reflect.get(e,t,o)),set:(e,t,o,s)=>{const n=e[t];return nt(n)&&!nt(o)?(n.value=o,!0):Reflect.set(e,t,o,s)}};function pa(e){return Lo(e)?e:new Proxy(e,ju)}class Pu{constructor(t,o,s,n){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new rr(t,()=>{this._dirty||(this._dirty=!0,Iu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=s}get value(){const t=Re(this);return Au(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Nu(e,t,o=!1){let s,n;const r=ve(e);return r?(s=e,n=_t):(s=e.get,n=e.set),new Pu(s,n,r||!n,o)}function Xt(e,t,o,s){let n;try{n=s?e(...s):e()}catch(r){$s(r,t,o)}return n}function vt(e,t,o,s){if(ve(e)){const r=Xt(e,t,o,s);return r&&Gi(r)&&r.catch(i=>{$s(i,t,o)}),r}const n=[];for(let r=0;r<e.length;r++)n.push(vt(e[r],t,o,s));return n}function $s(e,t,o,s=!0){const n=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,a=o;for(;r;){const l=r.ec;if(l){for(let d=0;d<l.length;d++)if(l[d](e,i,a)===!1)return}r=r.parent}const c=t.appContext.config.errorHandler;if(c){Xt(c,null,10,[e,i,a]);return}}Uu(e,o,n,s)}function Uu(e,t,o,s=!0){console.error(e)}let en=!1,gr=!1;const mt=[];let Bt=0;const Xo=[];let Qo=null,jo=0;const Jo=[];let Qt=null,Po=0;const va=Promise.resolve();let pr=null,vr=null;function ba(e){const t=pr||va;return e?t.then(this?e.bind(this):e):t}function Fu(e){let t=Bt+1,o=mt.length;for(;t<o;){const s=t+o>>>1;$o(mt[s])<e?t=s+1:o=s}return t}function ya(e){(!mt.length||!mt.includes(e,en&&e.allowRecurse?Bt+1:Bt))&&e!==vr&&(e.id==null?mt.push(e):mt.splice(Fu(e.id),0,e),wa())}function wa(){!en&&!gr&&(gr=!0,pr=va.then(ka))}function Du(e){const t=mt.indexOf(e);t>Bt&&mt.splice(t,1)}function xa(e,t,o,s){ie(e)?o.push(...e):(!t||!t.includes(e,e.allowRecurse?s+1:s))&&o.push(e),wa()}function Bu(e){xa(e,Qo,Xo,jo)}function Hu(e){xa(e,Qt,Jo,Po)}function tn(e,t=null){if(Xo.length){for(vr=t,Qo=[...new Set(Xo)],Xo.length=0,jo=0;jo<Qo.length;jo++)Qo[jo]();Qo=null,jo=0,vr=null,tn(e,t)}}function _a(e){if(tn(),Jo.length){const t=[...new Set(Jo)];if(Jo.length=0,Qt){Qt.push(...t);return}for(Qt=t,Qt.sort((o,s)=>$o(o)-$o(s)),Po=0;Po<Qt.length;Po++)Qt[Po]();Qt=null,Po=0}}const $o=e=>e.id==null?1/0:e.id;function ka(e){gr=!1,en=!0,tn(e),mt.sort((o,s)=>$o(o)-$o(s));const t=_t;try{for(Bt=0;Bt<mt.length;Bt++){const o=mt[Bt];o&&o.active!==!1&&Xt(o,null,14)}}finally{Bt=0,mt.length=0,_a(),en=!1,pr=null,(mt.length||Xo.length||Jo.length)&&ka(e)}}function zu(e,t,...o){if(e.isUnmounted)return;const s=e.vnode.props||Ue;let n=o;const r=t.startsWith("update:"),i=r&&t.slice(7);if(i&&i in s){const d=`${i==="modelValue"?"model":i}Modifiers`,{number:u,trim:f}=s[d]||Ue;f&&(n=o.map(g=>g.trim())),u&&(n=o.map(Gs))}let a,c=s[a=$n(t)]||s[a=$n(pt(t))];!c&&r&&(c=s[a=$n(Rt(t))]),c&&vt(c,e,6,n);const l=s[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,vt(l,e,6,n)}}function Ea(e,t,o=!1){const s=t.emitsCache,n=s.get(e);if(n!==void 0)return n;const r=e.emits;let i={},a=!1;if(!ve(e)){const c=l=>{const d=Ea(l,t,!0);d&&(a=!0,Ze(i,d))};!o&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!a?(s.set(e,null),null):(ie(r)?r.forEach(c=>i[c]=null):Ze(i,r),s.set(e,i),i)}function on(e,t){return!e||!Ds(t)?!1:(t=t.slice(2).replace(/Once$/,""),ke(e,t[0].toLowerCase()+t.slice(1))||ke(e,Rt(t))||ke(e,t))}let et=null,Ta=null;function sn(e){const t=et;return et=e,Ta=e&&e.type.__scopeId||null,t}function se(e,t=et,o){if(!t||e._n)return e;const s=(...n)=>{s._d&&nc(-1);const r=sn(t),i=e(...n);return sn(r),s._d&&nc(1),i};return s._n=!0,s._c=!0,s._d=!0,s}function F1(){}function br(e){const{type:t,vnode:o,proxy:s,withProxy:n,props:r,propsOptions:[i],slots:a,attrs:c,emit:l,render:d,renderCache:u,data:f,setupState:g,ctx:b,inheritAttrs:T}=e;let k,q;const J=sn(e);try{if(o.shapeFlag&4){const ae=n||s;k=It(d.call(ae,ae,u,r,g,f,b)),q=c}else{const ae=t;k=It(ae.length>1?ae(r,{attrs:c,slots:a,emit:l}):ae(r,null)),q=t.props?c:qu(c)}}catch(ae){ss.length=0,$s(ae,e,1),k=H(yt)}let X=k;if(q&&T!==!1){const ae=Object.keys(q),{shapeFlag:ue}=X;ae.length&&ue&7&&(i&&ae.some(Zn)&&(q=Ku(q,i)),X=Jt(X,q))}return o.dirs&&(X=Jt(X),X.dirs=X.dirs?X.dirs.concat(o.dirs):o.dirs),o.transition&&(X.transition=o.transition),k=X,sn(J),k}const qu=e=>{let t;for(const o in e)(o==="class"||o==="style"||Ds(o))&&((t||(t={}))[o]=e[o]);return t},Ku=(e,t)=>{const o={};for(const s in e)(!Zn(s)||!(s.slice(9)in t))&&(o[s]=e[s]);return o};function Vu(e,t,o){const{props:s,children:n,component:r}=e,{props:i,children:a,patchFlag:c}=t,l=r.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&c>=0){if(c&1024)return!0;if(c&16)return s?Sa(s,i,l):!!i;if(c&8){const d=t.dynamicProps;for(let u=0;u<d.length;u++){const f=d[u];if(i[f]!==s[f]&&!on(l,f))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?Sa(s,i,l):!0:!!i;return!1}function Sa(e,t,o){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let n=0;n<s.length;n++){const r=s[n];if(t[r]!==e[r]&&!on(o,r))return!0}return!1}function Gu({vnode:e,parent:t},o){for(;t&&t.subTree===e;)(e=t.vnode).el=o,t=t.parent}const Wu=e=>e.__isSuspense;function Yu(e,t){t&&t.pendingBranch?ie(e)?t.effects.push(...e):t.effects.push(e):Hu(e)}function Zu(e,t){if(Qe){let o=Qe.provides;const s=Qe.parent&&Qe.parent.provides;s===o&&(o=Qe.provides=Object.create(s)),o[e]=t}}function yr(e,t,o=!1){const s=Qe||et;if(s){const n=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(n&&e in n)return n[e];if(arguments.length>1)return o&&ve(t)?t.call(s.proxy):t}}const Ma={};function wr(e,t,o){return Ca(e,t,o)}function Ca(e,t,{immediate:o,deep:s,flush:n,onTrack:r,onTrigger:i}=Ue){const a=Qe;let c,l=!1,d=!1;if(nt(e)?(c=()=>e.value,l=fr(e)):Lo(e)?(c=()=>e,s=!0):ie(e)?(d=!0,l=e.some(q=>Lo(q)||fr(q)),c=()=>e.map(q=>{if(nt(q))return q.value;if(Lo(q))return lo(q);if(ve(q))return Xt(q,a,2)})):ve(e)?t?c=()=>Xt(e,a,2):c=()=>{if(!(a&&a.isUnmounted))return u&&u(),vt(e,a,3,[f])}:c=_t,t&&s){const q=c;c=()=>lo(q())}let u,f=q=>{u=k.onStop=()=>{Xt(q,a,4)}};if(rs)return f=_t,t?o&&vt(t,a,3,[c(),d?[]:void 0,f]):c(),_t;let g=d?[]:Ma;const b=()=>{if(!!k.active)if(t){const q=k.run();(s||l||(d?q.some((J,X)=>Ks(J,g[X])):Ks(q,g)))&&(u&&u(),vt(t,a,3,[q,g===Ma?void 0:g,f]),g=q)}else k.run()};b.allowRecurse=!!t;let T;n==="sync"?T=b:n==="post"?T=()=>lt(b,a&&a.suspense):T=()=>Bu(b);const k=new rr(c,T);return t?o?b():g=k.run():n==="post"?lt(k.run.bind(k),a&&a.suspense):k.run(),()=>{k.stop(),a&&a.scope&&Xn(a.scope.effects,k)}}function Xu(e,t,o){const s=this.proxy,n=Xe(e)?e.includes(".")?Ra(s,e):()=>s[e]:e.bind(s,s);let r;ve(t)?r=t:(r=t.handler,o=t);const i=Qe;No(this);const a=Ca(n,r.bind(s),o);return i?No(i):go(),a}function Ra(e,t){const o=t.split(".");return()=>{let s=e;for(let n=0;n<o.length&&s;n++)s=s[o[n]];return s}}function lo(e,t){if(!We(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),nt(e))lo(e.value,t);else if(ie(e))for(let o=0;o<e.length;o++)lo(e[o],t);else if(Vi(e)||Oo(e))e.forEach(o=>{lo(o,t)});else if(Yi(e))for(const o in e)lo(e[o],t);return e}function Oa(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Na(()=>{e.isMounted=!0}),Fa(()=>{e.isUnmounting=!0}),e}const bt=[Function,Array],Aa={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:bt,onEnter:bt,onAfterEnter:bt,onEnterCancelled:bt,onBeforeLeave:bt,onLeave:bt,onAfterLeave:bt,onLeaveCancelled:bt,onBeforeAppear:bt,onAppear:bt,onAfterAppear:bt,onAppearCancelled:bt},setup(e,{slots:t}){const o=ac(),s=Oa();let n;return()=>{const r=t.default&&_r(t.default(),!0);if(!r||!r.length)return;let i=r[0];if(r.length>1){for(const T of r)if(T.type!==yt){i=T;break}}const a=Re(e),{mode:c}=a;if(s.isLeaving)return xr(i);const l=La(i);if(!l)return xr(i);const d=es(l,a,s,o);ts(l,d);const u=o.subTree,f=u&&La(u);let g=!1;const{getTransitionKey:b}=l.type;if(b){const T=b();n===void 0?n=T:T!==n&&(n=T,g=!0)}if(f&&f.type!==yt&&(!ho(l,f)||g)){const T=es(f,a,s,o);if(ts(f,T),c==="out-in")return s.isLeaving=!0,T.afterLeave=()=>{s.isLeaving=!1,o.update()},xr(i);c==="in-out"&&l.type!==yt&&(T.delayLeave=(k,q,J)=>{const X=Ia(s,f);X[String(f.key)]=f,k._leaveCb=()=>{q(),k._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=J})}return i}}};function Ia(e,t){const{leavingVNodes:o}=e;let s=o.get(t.type);return s||(s=Object.create(null),o.set(t.type,s)),s}function es(e,t,o,s){const{appear:n,mode:r,persisted:i=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:d,onBeforeLeave:u,onLeave:f,onAfterLeave:g,onLeaveCancelled:b,onBeforeAppear:T,onAppear:k,onAfterAppear:q,onAppearCancelled:J}=t,X=String(e.key),ae=Ia(o,e),ue=(P,te)=>{P&&vt(P,s,9,te)},W=(P,te)=>{const re=te[1];ue(P,te),ie(P)?P.every(he=>he.length<=1)&&re():P.length<=1&&re()},N={mode:r,persisted:i,beforeEnter(P){let te=a;if(!o.isMounted)if(n)te=T||a;else return;P._leaveCb&&P._leaveCb(!0);const re=ae[X];re&&ho(e,re)&&re.el._leaveCb&&re.el._leaveCb(),ue(te,[P])},enter(P){let te=c,re=l,he=d;if(!o.isMounted)if(n)te=k||c,re=q||l,he=J||d;else return;let G=!1;const we=P._enterCb=Me=>{G||(G=!0,Me?ue(he,[P]):ue(re,[P]),N.delayedLeave&&N.delayedLeave(),P._enterCb=void 0)};te?W(te,[P,we]):we()},leave(P,te){const re=String(e.key);if(P._enterCb&&P._enterCb(!0),o.isUnmounting)return te();ue(u,[P]);let he=!1;const G=P._leaveCb=we=>{he||(he=!0,te(),we?ue(b,[P]):ue(g,[P]),P._leaveCb=void 0,ae[re]===e&&delete ae[re])};ae[re]=e,f?W(f,[P,G]):G()},clone(P){return es(P,t,o,s)}};return N}function xr(e){if(nn(e))return e=Jt(e),e.children=null,e}function La(e){return nn(e)?e.children?e.children[0]:void 0:e}function ts(e,t){e.shapeFlag&6&&e.component?ts(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function _r(e,t=!1,o){let s=[],n=0;for(let r=0;r<e.length;r++){let i=e[r];const a=o==null?i.key:String(o)+String(i.key!=null?i.key:r);i.type===Se?(i.patchFlag&128&&n++,s=s.concat(_r(i.children,t,a))):(t||i.type!==yt)&&s.push(a!=null?Jt(i,{key:a}):i)}if(n>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}function ja(e){return ve(e)?{setup:e,name:e.name}:e}const os=e=>!!e.type.__asyncLoader,nn=e=>e.type.__isKeepAlive;function Qu(e,t){Pa(e,"a",t)}function Ju(e,t){Pa(e,"da",t)}function Pa(e,t,o=Qe){const s=e.__wdc||(e.__wdc=()=>{let n=o;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(rn(t,s,o),o){let n=o.parent;for(;n&&n.parent;)nn(n.parent.vnode)&&$u(s,t,o,n),n=n.parent}}function $u(e,t,o,s){const n=rn(t,e,s,!0);Da(()=>{Xn(s[t],n)},o)}function rn(e,t,o=Qe,s=!1){if(o){const n=o[e]||(o[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(o.isUnmounted)return;Ao(),No(o);const a=vt(t,o,e,i);return go(),Io(),a});return s?n.unshift(r):n.push(r),r}}const Ht=e=>(t,o=Qe)=>(!rs||e==="sp")&&rn(e,t,o),ef=Ht("bm"),Na=Ht("m"),tf=Ht("bu"),Ua=Ht("u"),Fa=Ht("bum"),Da=Ht("um"),of=Ht("sp"),sf=Ht("rtg"),nf=Ht("rtc");function rf(e,t=Qe){rn("ec",e,t)}function zt(e,t){const o=et;if(o===null)return e;const s=mn(o)||o.proxy,n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,a,c,l=Ue]=t[r];ve(i)&&(i={mounted:i,updated:i}),i.deep&&lo(a),n.push({dir:i,instance:s,value:a,oldValue:void 0,arg:c,modifiers:l})}return e}function uo(e,t,o,s){const n=e.dirs,r=t&&t.dirs;for(let i=0;i<n.length;i++){const a=n[i];r&&(a.oldValue=r[i].value);let c=a.dir[s];c&&(Ao(),vt(c,o,8,[e.el,a,e,t]),Io())}}const kr="components",af="directives";function oe(e,t){return Er(kr,e,!0,t)||e}const Ba=Symbol();function cf(e){return Xe(e)?Er(kr,e,!1)||e:e||Ba}function an(e){return Er(af,e)}function Er(e,t,o=!0,s=!1){const n=et||Qe;if(n){const r=n.type;if(e===kr){const a=Pf(r,!1);if(a&&(a===t||a===pt(t)||a===qs(pt(t))))return r}const i=Ha(n[e]||r[e],t)||Ha(n.appContext[e],t);return!i&&s?r:i}}function Ha(e,t){return e&&(e[t]||e[pt(t)]||e[qs(pt(t))])}function me(e,t,o,s){let n;const r=o&&o[s];if(ie(e)||Xe(e)){n=new Array(e.length);for(let i=0,a=e.length;i<a;i++)n[i]=t(e[i],i,void 0,r&&r[i])}else if(typeof e=="number"){n=new Array(e);for(let i=0;i<e;i++)n[i]=t(i+1,i,void 0,r&&r[i])}else if(We(e))if(e[Symbol.iterator])n=Array.from(e,(i,a)=>t(i,a,void 0,r&&r[a]));else{const i=Object.keys(e);n=new Array(i.length);for(let a=0,c=i.length;a<c;a++){const l=i[a];n[a]=t(e[l],l,a,r&&r[a])}}else n=[];return o&&(o[s]=n),n}function Le(e,t){for(let o=0;o<t.length;o++){const s=t[o];if(ie(s))for(let n=0;n<s.length;n++)e[s[n].name]=s[n].fn;else s&&(e[s.name]=s.fn)}return e}function D(e,t,o={},s,n){if(et.isCE||et.parent&&os(et.parent)&&et.parent.isCE)return H("slot",t==="default"?null:{name:t},s&&s());let r=e[t];r&&r._c&&(r._d=!1),p();const i=r&&za(r(o)),a=Ce(Se,{key:o.key||`_${t}`},i||(s?s():[]),i&&e._===1?64:-2);return!n&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function za(e){return e.some(t=>dn(t)?!(t.type===yt||t.type===Se&&!za(t.children)):!0)?e:null}const Tr=e=>e?cc(e)?mn(e)||e.proxy:Tr(e.parent):null,cn=Ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Tr(e.parent),$root:e=>Tr(e.root),$emit:e=>e.emit,$options:e=>Va(e),$forceUpdate:e=>e.f||(e.f=()=>ya(e.update)),$nextTick:e=>e.n||(e.n=ba.bind(e.proxy)),$watch:e=>Xu.bind(e)}),lf={get({_:e},t){const{ctx:o,setupState:s,data:n,props:r,accessCache:i,type:a,appContext:c}=e;let l;if(t[0]!=="$"){const g=i[t];if(g!==void 0)switch(g){case 1:return s[t];case 2:return n[t];case 4:return o[t];case 3:return r[t]}else{if(s!==Ue&&ke(s,t))return i[t]=1,s[t];if(n!==Ue&&ke(n,t))return i[t]=2,n[t];if((l=e.propsOptions[0])&&ke(l,t))return i[t]=3,r[t];if(o!==Ue&&ke(o,t))return i[t]=4,o[t];Sr&&(i[t]=0)}}const d=cn[t];let u,f;if(d)return t==="$attrs"&&ft(e,"get",t),d(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(o!==Ue&&ke(o,t))return i[t]=4,o[t];if(f=c.config.globalProperties,ke(f,t))return f[t]},set({_:e},t,o){const{data:s,setupState:n,ctx:r}=e;return n!==Ue&&ke(n,t)?(n[t]=o,!0):s!==Ue&&ke(s,t)?(s[t]=o,!0):ke(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:s,appContext:n,propsOptions:r}},i){let a;return!!o[i]||e!==Ue&&ke(e,i)||t!==Ue&&ke(t,i)||(a=r[0])&&ke(a,i)||ke(s,i)||ke(cn,i)||ke(n.config.globalProperties,i)},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:ke(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}};let Sr=!0;function df(e){const t=Va(e),o=e.proxy,s=e.ctx;Sr=!1,t.beforeCreate&&qa(t.beforeCreate,e,"bc");const{data:n,computed:r,methods:i,watch:a,provide:c,inject:l,created:d,beforeMount:u,mounted:f,beforeUpdate:g,updated:b,activated:T,deactivated:k,beforeDestroy:q,beforeUnmount:J,destroyed:X,unmounted:ae,render:ue,renderTracked:W,renderTriggered:N,errorCaptured:P,serverPrefetch:te,expose:re,inheritAttrs:he,components:G,directives:we,filters:Me}=t;if(l&&uf(l,s,null,e.appContext.config.unwrapInjectedRef),i)for(const ge in i){const fe=i[ge];ve(fe)&&(s[ge]=fe.bind(o))}if(n){const ge=n.call(o,o);We(ge)&&(e.data=dr(ge))}if(Sr=!0,r)for(const ge in r){const fe=r[ge],S=ve(fe)?fe.bind(o,o):ve(fe.get)?fe.get.bind(o,o):_t,x=!ve(fe)&&ve(fe.set)?fe.set.bind(o):_t,I=Uf({get:S,set:x});Object.defineProperty(s,ge,{enumerable:!0,configurable:!0,get:()=>I.value,set:Y=>I.value=Y})}if(a)for(const ge in a)Ka(a[ge],s,o,ge);if(c){const ge=ve(c)?c.call(o):c;Reflect.ownKeys(ge).forEach(fe=>{Zu(fe,ge[fe])})}d&&qa(d,e,"c");function Oe(ge,fe){ie(fe)?fe.forEach(S=>ge(S.bind(o))):fe&&ge(fe.bind(o))}if(Oe(ef,u),Oe(Na,f),Oe(tf,g),Oe(Ua,b),Oe(Qu,T),Oe(Ju,k),Oe(rf,P),Oe(nf,W),Oe(sf,N),Oe(Fa,J),Oe(Da,ae),Oe(of,te),ie(re))if(re.length){const ge=e.exposed||(e.exposed={});re.forEach(fe=>{Object.defineProperty(ge,fe,{get:()=>o[fe],set:S=>o[fe]=S})})}else e.exposed||(e.exposed={});ue&&e.render===_t&&(e.render=ue),he!=null&&(e.inheritAttrs=he),G&&(e.components=G),we&&(e.directives=we)}function uf(e,t,o=_t,s=!1){ie(e)&&(e=Mr(e));for(const n in e){const r=e[n];let i;We(r)?"default"in r?i=yr(r.from||n,r.default,!0):i=yr(r.from||n):i=yr(r),nt(i)&&s?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[n]=i}}function qa(e,t,o){vt(ie(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,o)}function Ka(e,t,o,s){const n=s.includes(".")?Ra(o,s):()=>o[s];if(Xe(e)){const r=t[e];ve(r)&&wr(n,r)}else if(ve(e))wr(n,e.bind(o));else if(We(e))if(ie(e))e.forEach(r=>Ka(r,t,o,s));else{const r=ve(e.handler)?e.handler.bind(o):t[e.handler];ve(r)&&wr(n,r,e)}}function Va(e){const t=e.type,{mixins:o,extends:s}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,a=r.get(t);let c;return a?c=a:!n.length&&!o&&!s?c=t:(c={},n.length&&n.forEach(l=>ln(c,l,i,!0)),ln(c,t,i)),r.set(t,c),c}function ln(e,t,o,s=!1){const{mixins:n,extends:r}=t;r&&ln(e,r,o,!0),n&&n.forEach(i=>ln(e,i,o,!0));for(const i in t)if(!(s&&i==="expose")){const a=ff[i]||o&&o[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const ff={data:Ga,props:fo,emits:fo,methods:fo,computed:fo,beforeCreate:rt,created:rt,beforeMount:rt,mounted:rt,beforeUpdate:rt,updated:rt,beforeDestroy:rt,beforeUnmount:rt,destroyed:rt,unmounted:rt,activated:rt,deactivated:rt,errorCaptured:rt,serverPrefetch:rt,components:fo,directives:fo,watch:hf,provide:Ga,inject:mf};function Ga(e,t){return t?e?function(){return Ze(ve(e)?e.call(this,this):e,ve(t)?t.call(this,this):t)}:t:e}function mf(e,t){return fo(Mr(e),Mr(t))}function Mr(e){if(ie(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function rt(e,t){return e?[...new Set([].concat(e,t))]:t}function fo(e,t){return e?Ze(Ze(Object.create(null),e),t):t}function hf(e,t){if(!e)return t;if(!t)return e;const o=Ze(Object.create(null),e);for(const s in t)o[s]=rt(e[s],t[s]);return o}function gf(e,t,o,s=!1){const n={},r={};Vs(r,un,1),e.propsDefaults=Object.create(null),Wa(e,t,n,r);for(const i in e.propsOptions[0])i in n||(n[i]=void 0);o?e.props=s?n:Ou(n):e.type.props?e.props=n:e.props=r,e.attrs=r}function pf(e,t,o,s){const{props:n,attrs:r,vnode:{patchFlag:i}}=e,a=Re(n),[c]=e.propsOptions;let l=!1;if((s||i>0)&&!(i&16)){if(i&8){const d=e.vnode.dynamicProps;for(let u=0;u<d.length;u++){let f=d[u];if(on(e.emitsOptions,f))continue;const g=t[f];if(c)if(ke(r,f))g!==r[f]&&(r[f]=g,l=!0);else{const b=pt(f);n[b]=Cr(c,a,b,g,e,!1)}else g!==r[f]&&(r[f]=g,l=!0)}}}else{Wa(e,t,n,r)&&(l=!0);let d;for(const u in a)(!t||!ke(t,u)&&((d=Rt(u))===u||!ke(t,d)))&&(c?o&&(o[u]!==void 0||o[d]!==void 0)&&(n[u]=Cr(c,a,u,void 0,e,!0)):delete n[u]);if(r!==a)for(const u in r)(!t||!ke(t,u)&&!0)&&(delete r[u],l=!0)}l&&Dt(e,"set","$attrs")}function Wa(e,t,o,s){const[n,r]=e.propsOptions;let i=!1,a;if(t)for(let c in t){if(Hs(c))continue;const l=t[c];let d;n&&ke(n,d=pt(c))?!r||!r.includes(d)?o[d]=l:(a||(a={}))[d]=l:on(e.emitsOptions,c)||(!(c in s)||l!==s[c])&&(s[c]=l,i=!0)}if(r){const c=Re(o),l=a||Ue;for(let d=0;d<r.length;d++){const u=r[d];o[u]=Cr(n,c,u,l[u],e,!ke(l,u))}}return i}function Cr(e,t,o,s,n,r){const i=e[o];if(i!=null){const a=ke(i,"default");if(a&&s===void 0){const c=i.default;if(i.type!==Function&&ve(c)){const{propsDefaults:l}=n;o in l?s=l[o]:(No(n),s=l[o]=c.call(null,t),go())}else s=c}i[0]&&(r&&!a?s=!1:i[1]&&(s===""||s===Rt(o))&&(s=!0))}return s}function Ya(e,t,o=!1){const s=t.propsCache,n=s.get(e);if(n)return n;const r=e.props,i={},a=[];let c=!1;if(!ve(e)){const d=u=>{c=!0;const[f,g]=Ya(u,t,!0);Ze(i,f),g&&a.push(...g)};!o&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!r&&!c)return s.set(e,Ro),Ro;if(ie(r))for(let d=0;d<r.length;d++){const u=pt(r[d]);Za(u)&&(i[u]=Ue)}else if(r)for(const d in r){const u=pt(d);if(Za(u)){const f=r[d],g=i[u]=ie(f)||ve(f)?{type:f}:f;if(g){const b=Ja(Boolean,g.type),T=Ja(String,g.type);g[0]=b>-1,g[1]=T<0||b<T,(b>-1||ke(g,"default"))&&a.push(u)}}}const l=[i,a];return s.set(e,l),l}function Za(e){return e[0]!=="$"}function Xa(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Qa(e,t){return Xa(e)===Xa(t)}function Ja(e,t){return ie(t)?t.findIndex(o=>Qa(o,e)):ve(t)&&Qa(t,e)?0:-1}const $a=e=>e[0]==="_"||e==="$stable",Rr=e=>ie(e)?e.map(It):[It(e)],vf=(e,t,o)=>{if(t._n)return t;const s=se((...n)=>Rr(t(...n)),o);return s._c=!1,s},ec=(e,t,o)=>{const s=e._ctx;for(const n in e){if($a(n))continue;const r=e[n];if(ve(r))t[n]=vf(n,r,s);else if(r!=null){const i=Rr(r);t[n]=()=>i}}},tc=(e,t)=>{const o=Rr(t);e.slots.default=()=>o},bf=(e,t)=>{if(e.vnode.shapeFlag&32){const o=t._;o?(e.slots=Re(t),Vs(t,"_",o)):ec(t,e.slots={})}else e.slots={},t&&tc(e,t);Vs(e.slots,un,1)},yf=(e,t,o)=>{const{vnode:s,slots:n}=e;let r=!0,i=Ue;if(s.shapeFlag&32){const a=t._;a?o&&a===1?r=!1:(Ze(n,t),!o&&a===1&&delete n._):(r=!t.$stable,ec(t,n)),i=t}else t&&(tc(e,t),i={default:1});if(r)for(const a in n)!$a(a)&&!(a in i)&&delete n[a]};function oc(){return{app:null,config:{isNativeTag:Xd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wf=0;function xf(e,t){return function(s,n=null){ve(s)||(s=Object.assign({},s)),n!=null&&!We(n)&&(n=null);const r=oc(),i=new Set;let a=!1;const c=r.app={_uid:wf++,_component:s,_props:n,_container:null,_context:r,_instance:null,version:Ff,get config(){return r.config},set config(l){},use(l,...d){return i.has(l)||(l&&ve(l.install)?(i.add(l),l.install(c,...d)):ve(l)&&(i.add(l),l(c,...d))),c},mixin(l){return r.mixins.includes(l)||r.mixins.push(l),c},component(l,d){return d?(r.components[l]=d,c):r.components[l]},directive(l,d){return d?(r.directives[l]=d,c):r.directives[l]},mount(l,d,u){if(!a){const f=H(s,n);return f.appContext=r,d&&t?t(f,l):e(f,l,u),a=!0,c._container=l,l.__vue_app__=c,mn(f.component)||f.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(l,d){return r.provides[l]=d,c}};return c}}function Or(e,t,o,s,n=!1){if(ie(e)){e.forEach((f,g)=>Or(f,t&&(ie(t)?t[g]:t),o,s,n));return}if(os(s)&&!n)return;const r=s.shapeFlag&4?mn(s.component)||s.component.proxy:s.el,i=n?null:r,{i:a,r:c}=e,l=t&&t.r,d=a.refs===Ue?a.refs={}:a.refs,u=a.setupState;if(l!=null&&l!==c&&(Xe(l)?(d[l]=null,ke(u,l)&&(u[l]=null)):nt(l)&&(l.value=null)),ve(c))Xt(c,a,12,[i,d]);else{const f=Xe(c),g=nt(c);if(f||g){const b=()=>{if(e.f){const T=f?d[c]:c.value;n?ie(T)&&Xn(T,r):ie(T)?T.includes(r)||T.push(r):f?(d[c]=[r],ke(u,c)&&(u[c]=d[c])):(c.value=[r],e.k&&(d[e.k]=c.value))}else f?(d[c]=i,ke(u,c)&&(u[c]=i)):g&&(c.value=i,e.k&&(d[e.k]=i))};i?(b.id=-1,lt(b,o)):b()}}}const lt=Yu;function _f(e){return kf(e)}function kf(e,t){const o=ou();o.__VUE__=!0;const{insert:s,remove:n,patchProp:r,createElement:i,createText:a,createComment:c,setText:l,setElementText:d,parentNode:u,nextSibling:f,setScopeId:g=_t,cloneNode:b,insertStaticContent:T}=e,k=(m,h,_,C=null,R=null,U=null,K=!1,j=null,z=!!h.dynamicChildren)=>{if(m===h)return;m&&!ho(m,h)&&(C=qe(m),F(m,R,U,!0),m=null),h.patchFlag===-2&&(z=!1,h.dynamicChildren=null);const{type:O,ref:$,shapeFlag:Z}=h;switch(O){case Ar:q(m,h,_,C);break;case yt:J(m,h,_,C);break;case Ir:m==null&&X(h,_,C,K);break;case Se:we(m,h,_,C,R,U,K,j,z);break;default:Z&1?W(m,h,_,C,R,U,K,j,z):Z&6?Me(m,h,_,C,R,U,K,j,z):(Z&64||Z&128)&&O.process(m,h,_,C,R,U,K,j,z,Ye)}$!=null&&R&&Or($,m&&m.ref,U,h||m,!h)},q=(m,h,_,C)=>{if(m==null)s(h.el=a(h.children),_,C);else{const R=h.el=m.el;h.children!==m.children&&l(R,h.children)}},J=(m,h,_,C)=>{m==null?s(h.el=c(h.children||""),_,C):h.el=m.el},X=(m,h,_,C)=>{[m.el,m.anchor]=T(m.children,h,_,C,m.el,m.anchor)},ae=({el:m,anchor:h},_,C)=>{let R;for(;m&&m!==h;)R=f(m),s(m,_,C),m=R;s(h,_,C)},ue=({el:m,anchor:h})=>{let _;for(;m&&m!==h;)_=f(m),n(m),m=_;n(h)},W=(m,h,_,C,R,U,K,j,z)=>{K=K||h.type==="svg",m==null?N(h,_,C,R,U,K,j,z):re(m,h,R,U,K,j,z)},N=(m,h,_,C,R,U,K,j)=>{let z,O;const{type:$,props:Z,shapeFlag:ee,transition:ne,patchFlag:xe,dirs:E}=m;if(m.el&&b!==void 0&&xe===-1)z=m.el=b(m.el);else{if(z=m.el=i(m.type,U,Z&&Z.is,Z),ee&8?d(z,m.children):ee&16&&te(m.children,z,null,C,R,U&&$!=="foreignObject",K,j),E&&uo(m,null,C,"created"),Z){for(const v in Z)v!=="value"&&!Hs(v)&&r(z,v,null,Z[v],U,m.children,C,R,Ee);"value"in Z&&r(z,"value",null,Z.value),(O=Z.onVnodeBeforeMount)&&Lt(O,C,m)}P(z,m,m.scopeId,K,C)}E&&uo(m,null,C,"beforeMount");const A=(!R||R&&!R.pendingBranch)&&ne&&!ne.persisted;A&&ne.beforeEnter(z),s(z,h,_),((O=Z&&Z.onVnodeMounted)||A||E)&&lt(()=>{O&&Lt(O,C,m),A&&ne.enter(z),E&&uo(m,null,C,"mounted")},R)},P=(m,h,_,C,R)=>{if(_&&g(m,_),C)for(let U=0;U<C.length;U++)g(m,C[U]);if(R){let U=R.subTree;if(h===U){const K=R.vnode;P(m,K,K.scopeId,K.slotScopeIds,R.parent)}}},te=(m,h,_,C,R,U,K,j,z=0)=>{for(let O=z;O<m.length;O++){const $=m[O]=j?$t(m[O]):It(m[O]);k(null,$,h,_,C,R,U,K,j)}},re=(m,h,_,C,R,U,K)=>{const j=h.el=m.el;let{patchFlag:z,dynamicChildren:O,dirs:$}=h;z|=m.patchFlag&16;const Z=m.props||Ue,ee=h.props||Ue;let ne;_&&mo(_,!1),(ne=ee.onVnodeBeforeUpdate)&&Lt(ne,_,h,m),$&&uo(h,m,_,"beforeUpdate"),_&&mo(_,!0);const xe=R&&h.type!=="foreignObject";if(O?he(m.dynamicChildren,O,j,_,C,xe,U):K||S(m,h,j,null,_,C,xe,U,!1),z>0){if(z&16)G(j,h,Z,ee,_,C,R);else if(z&2&&Z.class!==ee.class&&r(j,"class",null,ee.class,R),z&4&&r(j,"style",Z.style,ee.style,R),z&8){const E=h.dynamicProps;for(let A=0;A<E.length;A++){const v=E[A],V=Z[v],de=ee[v];(de!==V||v==="value")&&r(j,v,V,de,R,m.children,_,C,Ee)}}z&1&&m.children!==h.children&&d(j,h.children)}else!K&&O==null&&G(j,h,Z,ee,_,C,R);((ne=ee.onVnodeUpdated)||$)&&lt(()=>{ne&&Lt(ne,_,h,m),$&&uo(h,m,_,"updated")},C)},he=(m,h,_,C,R,U,K)=>{for(let j=0;j<h.length;j++){const z=m[j],O=h[j],$=z.el&&(z.type===Se||!ho(z,O)||z.shapeFlag&70)?u(z.el):_;k(z,O,$,null,C,R,U,K,!0)}},G=(m,h,_,C,R,U,K)=>{if(_!==C){for(const j in C){if(Hs(j))continue;const z=C[j],O=_[j];z!==O&&j!=="value"&&r(m,j,O,z,K,h.children,R,U,Ee)}if(_!==Ue)for(const j in _)!Hs(j)&&!(j in C)&&r(m,j,_[j],null,K,h.children,R,U,Ee);"value"in C&&r(m,"value",_.value,C.value)}},we=(m,h,_,C,R,U,K,j,z)=>{const O=h.el=m?m.el:a(""),$=h.anchor=m?m.anchor:a("");let{patchFlag:Z,dynamicChildren:ee,slotScopeIds:ne}=h;ne&&(j=j?j.concat(ne):ne),m==null?(s(O,_,C),s($,_,C),te(h.children,_,$,R,U,K,j,z)):Z>0&&Z&64&&ee&&m.dynamicChildren?(he(m.dynamicChildren,ee,_,R,U,K,j),(h.key!=null||R&&h===R.subTree)&&sc(m,h,!0)):S(m,h,_,$,R,U,K,j,z)},Me=(m,h,_,C,R,U,K,j,z)=>{h.slotScopeIds=j,m==null?h.shapeFlag&512?R.ctx.activate(h,_,C,K,z):He(h,_,C,R,U,K,z):Oe(m,h,z)},He=(m,h,_,C,R,U,K)=>{const j=m.component=Of(m,C,R);if(nn(m)&&(j.ctx.renderer=Ye),Af(j),j.asyncDep){if(R&&R.registerDep(j,ge),!m.el){const z=j.subTree=H(yt);J(null,z,h,_)}return}ge(j,m,h,_,R,U,K)},Oe=(m,h,_)=>{const C=h.component=m.component;if(Vu(m,h,_))if(C.asyncDep&&!C.asyncResolved){fe(C,h,_);return}else C.next=h,Du(C.update),C.update();else h.el=m.el,C.vnode=h},ge=(m,h,_,C,R,U,K)=>{const j=()=>{if(m.isMounted){let{next:$,bu:Z,u:ee,parent:ne,vnode:xe}=m,E=$,A;mo(m,!1),$?($.el=xe.el,fe(m,$,K)):$=xe,Z&&er(Z),(A=$.props&&$.props.onVnodeBeforeUpdate)&&Lt(A,ne,$,xe),mo(m,!0);const v=br(m),V=m.subTree;m.subTree=v,k(V,v,u(V.el),qe(V),m,R,U),$.el=v.el,E===null&&Gu(m,v.el),ee&&lt(ee,R),(A=$.props&&$.props.onVnodeUpdated)&&lt(()=>Lt(A,ne,$,xe),R)}else{let $;const{el:Z,props:ee}=h,{bm:ne,m:xe,parent:E}=m,A=os(h);if(mo(m,!1),ne&&er(ne),!A&&($=ee&&ee.onVnodeBeforeMount)&&Lt($,E,h),mo(m,!0),Z&&at){const v=()=>{m.subTree=br(m),at(Z,m.subTree,m,R,null)};A?h.type.__asyncLoader().then(()=>!m.isUnmounted&&v()):v()}else{const v=m.subTree=br(m);k(null,v,_,C,m,R,U),h.el=v.el}if(xe&&lt(xe,R),!A&&($=ee&&ee.onVnodeMounted)){const v=h;lt(()=>Lt($,E,v),R)}(h.shapeFlag&256||E&&os(E.vnode)&&E.vnode.shapeFlag&256)&&m.a&&lt(m.a,R),m.isMounted=!0,h=_=C=null}},z=m.effect=new rr(j,()=>ya(O),m.scope),O=m.update=()=>z.run();O.id=m.uid,mo(m,!0),O()},fe=(m,h,_)=>{h.component=m;const C=m.vnode.props;m.vnode=h,m.next=null,pf(m,h.props,C,_),yf(m,h.children,_),Ao(),tn(void 0,m.update),Io()},S=(m,h,_,C,R,U,K,j,z=!1)=>{const O=m&&m.children,$=m?m.shapeFlag:0,Z=h.children,{patchFlag:ee,shapeFlag:ne}=h;if(ee>0){if(ee&128){I(O,Z,_,C,R,U,K,j,z);return}else if(ee&256){x(O,Z,_,C,R,U,K,j,z);return}}ne&8?($&16&&Ee(O,R,U),Z!==O&&d(_,Z)):$&16?ne&16?I(O,Z,_,C,R,U,K,j,z):Ee(O,R,U,!0):($&8&&d(_,""),ne&16&&te(Z,_,C,R,U,K,j,z))},x=(m,h,_,C,R,U,K,j,z)=>{m=m||Ro,h=h||Ro;const O=m.length,$=h.length,Z=Math.min(O,$);let ee;for(ee=0;ee<Z;ee++){const ne=h[ee]=z?$t(h[ee]):It(h[ee]);k(m[ee],ne,_,null,R,U,K,j,z)}O>$?Ee(m,R,U,!0,!1,Z):te(h,_,C,R,U,K,j,z,Z)},I=(m,h,_,C,R,U,K,j,z)=>{let O=0;const $=h.length;let Z=m.length-1,ee=$-1;for(;O<=Z&&O<=ee;){const ne=m[O],xe=h[O]=z?$t(h[O]):It(h[O]);if(ho(ne,xe))k(ne,xe,_,null,R,U,K,j,z);else break;O++}for(;O<=Z&&O<=ee;){const ne=m[Z],xe=h[ee]=z?$t(h[ee]):It(h[ee]);if(ho(ne,xe))k(ne,xe,_,null,R,U,K,j,z);else break;Z--,ee--}if(O>Z){if(O<=ee){const ne=ee+1,xe=ne<$?h[ne].el:C;for(;O<=ee;)k(null,h[O]=z?$t(h[O]):It(h[O]),_,xe,R,U,K,j,z),O++}}else if(O>ee)for(;O<=Z;)F(m[O],R,U,!0),O++;else{const ne=O,xe=O,E=new Map;for(O=xe;O<=ee;O++){const ct=h[O]=z?$t(h[O]):It(h[O]);ct.key!=null&&E.set(ct.key,O)}let A,v=0;const V=ee-xe+1;let de=!1,Ke=0;const $e=new Array(V);for(O=0;O<V;O++)$e[O]=0;for(O=ne;O<=Z;O++){const ct=m[O];if(v>=V){F(ct,R,U,!0);continue}let Ft;if(ct.key!=null)Ft=E.get(ct.key);else for(A=xe;A<=ee;A++)if($e[A-xe]===0&&ho(ct,h[A])){Ft=A;break}Ft===void 0?F(ct,R,U,!0):($e[Ft-xe]=O+1,Ft>=Ke?Ke=Ft:de=!0,k(ct,h[Ft],_,null,R,U,K,j,z),v++)}const zi=de?Ef($e):Ro;for(A=zi.length-1,O=V-1;O>=0;O--){const ct=xe+O,Ft=h[ct],Vd=ct+1<$?h[ct+1].el:C;$e[O]===0?k(null,Ft,_,Vd,R,U,K,j,z):de&&(A<0||O!==zi[A]?Y(Ft,_,Vd,2):A--)}}},Y=(m,h,_,C,R=null)=>{const{el:U,type:K,transition:j,children:z,shapeFlag:O}=m;if(O&6){Y(m.component.subTree,h,_,C);return}if(O&128){m.suspense.move(h,_,C);return}if(O&64){K.move(m,h,_,Ye);return}if(K===Se){s(U,h,_);for(let Z=0;Z<z.length;Z++)Y(z[Z],h,_,C);s(m.anchor,h,_);return}if(K===Ir){ae(m,h,_);return}if(C!==2&&O&1&&j)if(C===0)j.beforeEnter(U),s(U,h,_),lt(()=>j.enter(U),R);else{const{leave:Z,delayLeave:ee,afterLeave:ne}=j,xe=()=>s(U,h,_),E=()=>{Z(U,()=>{xe(),ne&&ne()})};ee?ee(U,xe,E):E()}else s(U,h,_)},F=(m,h,_,C=!1,R=!1)=>{const{type:U,props:K,ref:j,children:z,dynamicChildren:O,shapeFlag:$,patchFlag:Z,dirs:ee}=m;if(j!=null&&Or(j,null,_,m,!0),$&256){h.ctx.deactivate(m);return}const ne=$&1&&ee,xe=!os(m);let E;if(xe&&(E=K&&K.onVnodeBeforeUnmount)&&Lt(E,h,m),$&6)ze(m.component,_,C);else{if($&128){m.suspense.unmount(_,C);return}ne&&uo(m,null,h,"beforeUnmount"),$&64?m.type.remove(m,h,_,R,Ye,C):O&&(U!==Se||Z>0&&Z&64)?Ee(O,h,_,!1,!0):(U===Se&&Z&384||!R&&$&16)&&Ee(z,h,_),C&&le(m)}(xe&&(E=K&&K.onVnodeUnmounted)||ne)&&lt(()=>{E&&Lt(E,h,m),ne&&uo(m,null,h,"unmounted")},_)},le=m=>{const{type:h,el:_,anchor:C,transition:R}=m;if(h===Se){be(_,C);return}if(h===Ir){ue(m);return}const U=()=>{n(_),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(m.shapeFlag&1&&R&&!R.persisted){const{leave:K,delayLeave:j}=R,z=()=>K(_,U);j?j(m.el,U,z):z()}else U()},be=(m,h)=>{let _;for(;m!==h;)_=f(m),n(m),m=_;n(h)},ze=(m,h,_)=>{const{bum:C,scope:R,update:U,subTree:K,um:j}=m;C&&er(C),R.stop(),U&&(U.active=!1,F(K,m,h,_)),j&&lt(j,h),lt(()=>{m.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},Ee=(m,h,_,C=!1,R=!1,U=0)=>{for(let K=U;K<m.length;K++)F(m[K],h,_,C,R)},qe=m=>m.shapeFlag&6?qe(m.component.subTree):m.shapeFlag&128?m.suspense.next():f(m.anchor||m.el),gt=(m,h,_)=>{m==null?h._vnode&&F(h._vnode,null,null,!0):k(h._vnode||null,m,h,null,null,null,_),_a(),h._vnode=m},Ye={p:k,um:F,m:Y,r:le,mt:He,mc:te,pc:S,pbc:he,n:qe,o:e};let Ne,at;return t&&([Ne,at]=t(Ye)),{render:gt,hydrate:Ne,createApp:xf(gt,Ne)}}function mo({effect:e,update:t},o){e.allowRecurse=t.allowRecurse=o}function sc(e,t,o=!1){const s=e.children,n=t.children;if(ie(s)&&ie(n))for(let r=0;r<s.length;r++){const i=s[r];let a=n[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[r]=$t(n[r]),a.el=i.el),o||sc(i,a))}}function Ef(e){const t=e.slice(),o=[0];let s,n,r,i,a;const c=e.length;for(s=0;s<c;s++){const l=e[s];if(l!==0){if(n=o[o.length-1],e[n]<l){t[s]=n,o.push(s);continue}for(r=0,i=o.length-1;r<i;)a=r+i>>1,e[o[a]]<l?r=a+1:i=a;l<e[o[r]]&&(r>0&&(t[s]=o[r-1]),o[r]=s)}}for(r=o.length,i=o[r-1];r-- >0;)o[r]=i,i=t[i];return o}const Tf=e=>e.__isTeleport,Se=Symbol(void 0),Ar=Symbol(void 0),yt=Symbol(void 0),Ir=Symbol(void 0),ss=[];let Et=null;function p(e=!1){ss.push(Et=e?null:[])}function Sf(){ss.pop(),Et=ss[ss.length-1]||null}let ns=1;function nc(e){ns+=e}function rc(e){return e.dynamicChildren=ns>0?Et||Ro:null,Sf(),ns>0&&Et&&Et.push(e),e}function w(e,t,o,s,n,r){return rc(M(e,t,o,s,n,r,!0))}function Ce(e,t,o,s,n){return rc(H(e,t,o,s,n,!0))}function dn(e){return e?e.__v_isVNode===!0:!1}function ho(e,t){return e.type===t.type&&e.key===t.key}const un="__vInternal",ic=({key:e})=>e!=null?e:null,fn=({ref:e,ref_key:t,ref_for:o})=>e!=null?Xe(e)||nt(e)||ve(e)?{i:et,r:e,k:t,f:!!o}:e:null;function M(e,t=null,o=null,s=0,n=null,r=e===Se?0:1,i=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ic(t),ref:t&&fn(t),scopeId:Ta,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null};return a?(Lr(c,o),r&128&&e.normalize(c)):o&&(c.shapeFlag|=Xe(o)?8:16),ns>0&&!i&&Et&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Et.push(c),c}const H=Mf;function Mf(e,t=null,o=null,s=0,n=null,r=!1){if((!e||e===Ba)&&(e=yt),dn(e)){const a=Jt(e,t,!0);return o&&Lr(a,o),ns>0&&!r&&Et&&(a.shapeFlag&6?Et[Et.indexOf(e)]=a:Et.push(a)),a.patchFlag|=-2,a}if(Nf(e)&&(e=e.__vccOpts),t){t=Ae(t);let{class:a,style:c}=t;a&&!Xe(a)&&(t.class=pe(a)),We(c)&&(ha(c)&&!ie(c)&&(c=Ze({},c)),t.style=Te(c))}const i=Xe(e)?1:Wu(e)?128:Tf(e)?64:We(e)?4:ve(e)?2:0;return M(e,t,o,s,n,i,r,!0)}function Ae(e){return e?ha(e)||un in e?Ze({},e):e:null}function Jt(e,t,o=!1){const{props:s,ref:n,patchFlag:r,children:i}=e,a=t?jr(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&ic(a),ref:t&&t.ref?o&&n?ie(n)?n.concat(fn(t)):[n,fn(t)]:fn(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Se?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Jt(e.ssContent),ssFallback:e.ssFallback&&Jt(e.ssFallback),el:e.el,anchor:e.anchor}}function At(e=" ",t=0){return H(Ar,null,e,t)}function B(e="",t=!1){return t?(p(),Ce(yt,null,e)):H(yt,null,e)}function It(e){return e==null||typeof e=="boolean"?H(yt):ie(e)?H(Se,null,e.slice()):typeof e=="object"?$t(e):H(Ar,null,String(e))}function $t(e){return e.el===null||e.memo?e:Jt(e)}function Lr(e,t){let o=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ie(t))o=16;else if(typeof t=="object")if(s&65){const n=t.default;n&&(n._c&&(n._d=!1),Lr(e,n()),n._c&&(n._d=!0));return}else{o=32;const n=t._;!n&&!(un in t)?t._ctx=et:n===3&&et&&(et.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ve(t)?(t={default:t,_ctx:et},o=32):(t=String(t),s&64?(o=16,t=[At(t)]):o=8);e.children=t,e.shapeFlag|=o}function jr(...e){const t={};for(let o=0;o<e.length;o++){const s=e[o];for(const n in s)if(n==="class")t.class!==s.class&&(t.class=pe([t.class,s.class]));else if(n==="style")t.style=Te([t.style,s.style]);else if(Ds(n)){const r=t[n],i=s[n];i&&r!==i&&!(ie(r)&&r.includes(i))&&(t[n]=r?[].concat(r,i):i)}else n!==""&&(t[n]=s[n])}return t}function Lt(e,t,o,s=null){vt(e,t,7,[o,s])}const Cf=oc();let Rf=0;function Of(e,t,o){const s=e.type,n=(t?t.appContext:e.appContext)||Cf,r={uid:Rf++,vnode:e,type:s,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new su(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ya(s,n),emitsOptions:Ea(s,n),emit:null,emitted:null,propsDefaults:Ue,inheritAttrs:s.inheritAttrs,ctx:Ue,data:Ue,props:Ue,attrs:Ue,slots:Ue,refs:Ue,setupState:Ue,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=zu.bind(null,r),e.ce&&e.ce(r),r}let Qe=null;const ac=()=>Qe||et,No=e=>{Qe=e,e.scope.on()},go=()=>{Qe&&Qe.scope.off(),Qe=null};function cc(e){return e.vnode.shapeFlag&4}let rs=!1;function Af(e,t=!1){rs=t;const{props:o,children:s}=e.vnode,n=cc(e);gf(e,o,n,t),bf(e,s);const r=n?If(e,t):void 0;return rs=!1,r}function If(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=ga(new Proxy(e.ctx,lf));const{setup:s}=o;if(s){const n=e.setupContext=s.length>1?jf(e):null;No(e),Ao();const r=Xt(s,e,0,[e.props,n]);if(Io(),go(),Gi(r)){if(r.then(go,go),t)return r.then(i=>{lc(e,i,t)}).catch(i=>{$s(i,e,0)});e.asyncDep=r}else lc(e,r,t)}else uc(e,t)}function lc(e,t,o){ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:We(t)&&(e.setupState=pa(t)),uc(e,o)}let dc;function uc(e,t,o){const s=e.type;if(!e.render){if(!t&&dc&&!s.render){const n=s.template;if(n){const{isCustomElement:r,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:c}=s,l=Ze(Ze({isCustomElement:r,delimiters:a},i),c);s.render=dc(n,l)}}e.render=s.render||_t}No(e),Ao(),df(e),Io(),go()}function Lf(e){return new Proxy(e.attrs,{get(t,o){return ft(e,"get","$attrs"),t[o]}})}function jf(e){const t=s=>{e.exposed=s||{}};let o;return{get attrs(){return o||(o=Lf(e))},slots:e.slots,emit:e.emit,expose:t}}function mn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(pa(ga(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in cn)return cn[o](e)}}))}function Pf(e,t=!0){return ve(e)?e.displayName||e.name:e.name||t&&e.__name}function Nf(e){return ve(e)&&"__vccOpts"in e}const Uf=(e,t)=>Nu(e,t,rs);function Pr(e,t,o){const s=arguments.length;return s===2?We(t)&&!ie(t)?dn(t)?H(e,null,[t]):H(e,t):H(e,null,t):(s>3?o=Array.prototype.slice.call(arguments,2):s===3&&dn(o)&&(o=[o]),H(e,t,o))}const Ff="3.2.37",Df="http://www.w3.org/2000/svg",po=typeof document!="undefined"?document:null,fc=po&&po.createElement("template"),Bf={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,s)=>{const n=t?po.createElementNS(Df,e):po.createElement(e,o?{is:o}:void 0);return e==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:e=>po.createTextNode(e),createComment:e=>po.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>po.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,o,s,n,r){const i=o?o.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),o),!(n===r||!(n=n.nextSibling)););else{fc.innerHTML=s?`<svg>${e}</svg>`:e;const a=fc.content;if(s){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,o)}return[i?i.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}};function Hf(e,t,o){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}function zf(e,t,o){const s=e.style,n=Xe(o);if(o&&!n){for(const r in o)Nr(s,r,o[r]);if(t&&!Xe(t))for(const r in t)o[r]==null&&Nr(s,r,"")}else{const r=s.display;n?t!==o&&(s.cssText=o):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=r)}}const mc=/\s*!important$/;function Nr(e,t,o){if(ie(o))o.forEach(s=>Nr(e,t,s));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const s=qf(e,t);mc.test(o)?e.setProperty(Rt(s),o.replace(mc,""),"important"):e[s]=o}}const hc=["Webkit","Moz","ms"],Ur={};function qf(e,t){const o=Ur[t];if(o)return o;let s=pt(t);if(s!=="filter"&&s in e)return Ur[t]=s;s=qs(s);for(let n=0;n<hc.length;n++){const r=hc[n]+s;if(r in e)return Ur[t]=r}return t}const gc="http://www.w3.org/1999/xlink";function Kf(e,t,o,s,n){if(s&&t.startsWith("xlink:"))o==null?e.removeAttributeNS(gc,t.slice(6,t.length)):e.setAttributeNS(gc,t,o);else{const r=Gd(t);o==null||r&&!qi(o)?e.removeAttribute(t):e.setAttribute(t,r?"":o)}}function Vf(e,t,o,s,n,r,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,n,r),e[t]=o==null?"":o;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=o;const c=o==null?"":o;(e.value!==c||e.tagName==="OPTION")&&(e.value=c),o==null&&e.removeAttribute(t);return}let a=!1;if(o===""||o==null){const c=typeof e[t];c==="boolean"?o=qi(o):o==null&&c==="string"?(o="",a=!0):c==="number"&&(o=0,a=!0)}try{e[t]=o}catch{}a&&e.removeAttribute(t)}const[pc,Gf]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const o=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(o&&Number(o[1])<=53)}return[e,t]})();let Fr=0;const Wf=Promise.resolve(),Yf=()=>{Fr=0},Zf=()=>Fr||(Wf.then(Yf),Fr=pc());function Xf(e,t,o,s){e.addEventListener(t,o,s)}function Qf(e,t,o,s){e.removeEventListener(t,o,s)}function Jf(e,t,o,s,n=null){const r=e._vei||(e._vei={}),i=r[t];if(s&&i)i.value=s;else{const[a,c]=$f(t);if(s){const l=r[t]=em(s,n);Xf(e,a,l,c)}else i&&(Qf(e,a,i,c),r[t]=void 0)}}const vc=/(?:Once|Passive|Capture)$/;function $f(e){let t;if(vc.test(e)){t={};let o;for(;o=e.match(vc);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[Rt(e.slice(2)),t]}function em(e,t){const o=s=>{const n=s.timeStamp||pc();(Gf||n>=o.attached-1)&&vt(tm(s,o.value),t,5,[s])};return o.value=e,o.attached=Zf(),o}function tm(e,t){if(ie(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(s=>n=>!n._stopped&&s&&s(n))}else return t}const bc=/^on[a-z]/,om=(e,t,o,s,n=!1,r,i,a,c)=>{t==="class"?Hf(e,s,n):t==="style"?zf(e,o,s):Ds(t)?Zn(t)||Jf(e,t,o,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):sm(e,t,s,n))?Vf(e,t,s,r,i,a,c):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Kf(e,t,s,n))};function sm(e,t,o,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&bc.test(t)&&ve(o)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||bc.test(t)&&Xe(o)?!1:t in e}function nm(e,t){const o=ja(e);class s extends Dr{constructor(r){super(o,r,t)}}return s.def=o,s}const rm=typeof HTMLElement!="undefined"?HTMLElement:class{};class Dr extends rm{constructor(t,o={},s){super(),this._def=t,this._props=o,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,ba(()=>{this._connected||(Ac(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);new MutationObserver(s=>{for(const n of s)this._setAttr(n.attributeName)}).observe(this,{attributes:!0});const t=s=>{const{props:n,styles:r}=s,i=!ie(n),a=n?i?Object.keys(n):n:[];let c;if(i)for(const l in this._props){const d=n[l];(d===Number||d&&d.type===Number)&&(this._props[l]=Gs(this._props[l]),(c||(c=Object.create(null)))[l]=!0)}this._numberProps=c;for(const l of Object.keys(this))l[0]!=="_"&&this._setProp(l,this[l],!0,!1);for(const l of a.map(pt))Object.defineProperty(this,l,{get(){return this._getProp(l)},set(d){this._setProp(l,d)}});this._applyStyles(r),this._update()},o=this._def.__asyncLoader;o?o().then(t):t(this._def)}_setAttr(t){let o=this.getAttribute(t);this._numberProps&&this._numberProps[t]&&(o=Gs(o)),this._setProp(pt(t),o,!1)}_getProp(t){return this._props[t]}_setProp(t,o,s=!0,n=!0){o!==this._props[t]&&(this._props[t]=o,n&&this._instance&&this._update(),s&&(o===!0?this.setAttribute(Rt(t),""):typeof o=="string"||typeof o=="number"?this.setAttribute(Rt(t),o+""):o||this.removeAttribute(Rt(t))))}_update(){Ac(this._createVNode(),this.shadowRoot)}_createVNode(){const t=H(this._def,Ze({},this._props));return this._instance||(t.ce=o=>{this._instance=o,o.isCE=!0,o.emit=(n,...r)=>{this.dispatchEvent(new CustomEvent(n,{detail:r}))};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof Dr){o.parent=s._instance;break}}),t}_applyStyles(t){t&&t.forEach(o=>{const s=document.createElement("style");s.textContent=o,this.shadowRoot.appendChild(s)})}}const eo="transition",is="animation",Ge=(e,{slots:t})=>Pr(Aa,xc(e),t);Ge.displayName="Transition";const yc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},im=Ge.props=Ze({},Aa.props,yc),vo=(e,t=[])=>{ie(e)?e.forEach(o=>o(...t)):e&&e(...t)},wc=e=>e?ie(e)?e.some(t=>t.length>1):e.length>1:!1;function xc(e){const t={};for(const G in e)G in yc||(t[G]=e[G]);if(e.css===!1)return t;const{name:o="v",type:s,duration:n,enterFromClass:r=`${o}-enter-from`,enterActiveClass:i=`${o}-enter-active`,enterToClass:a=`${o}-enter-to`,appearFromClass:c=r,appearActiveClass:l=i,appearToClass:d=a,leaveFromClass:u=`${o}-leave-from`,leaveActiveClass:f=`${o}-leave-active`,leaveToClass:g=`${o}-leave-to`}=e,b=am(n),T=b&&b[0],k=b&&b[1],{onBeforeEnter:q,onEnter:J,onEnterCancelled:X,onLeave:ae,onLeaveCancelled:ue,onBeforeAppear:W=q,onAppear:N=J,onAppearCancelled:P=X}=t,te=(G,we,Me)=>{to(G,we?d:a),to(G,we?l:i),Me&&Me()},re=(G,we)=>{G._isLeaving=!1,to(G,u),to(G,g),to(G,f),we&&we()},he=G=>(we,Me)=>{const He=G?N:J,Oe=()=>te(we,G,Me);vo(He,[we,Oe]),_c(()=>{to(we,G?c:r),qt(we,G?d:a),wc(He)||kc(we,s,T,Oe)})};return Ze(t,{onBeforeEnter(G){vo(q,[G]),qt(G,r),qt(G,i)},onBeforeAppear(G){vo(W,[G]),qt(G,c),qt(G,l)},onEnter:he(!1),onAppear:he(!0),onLeave(G,we){G._isLeaving=!0;const Me=()=>re(G,we);qt(G,u),Mc(),qt(G,f),_c(()=>{!G._isLeaving||(to(G,u),qt(G,g),wc(ae)||kc(G,s,k,Me))}),vo(ae,[G,Me])},onEnterCancelled(G){te(G,!1),vo(X,[G])},onAppearCancelled(G){te(G,!0),vo(P,[G])},onLeaveCancelled(G){re(G),vo(ue,[G])}})}function am(e){if(e==null)return null;if(We(e))return[Br(e.enter),Br(e.leave)];{const t=Br(e);return[t,t]}}function Br(e){return Gs(e)}function qt(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.add(o)),(e._vtc||(e._vtc=new Set)).add(t)}function to(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:o}=e;o&&(o.delete(t),o.size||(e._vtc=void 0))}function _c(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let cm=0;function kc(e,t,o,s){const n=e._endId=++cm,r=()=>{n===e._endId&&s()};if(o)return setTimeout(r,o);const{type:i,timeout:a,propCount:c}=Ec(e,t);if(!i)return s();const l=i+"end";let d=0;const u=()=>{e.removeEventListener(l,f),r()},f=g=>{g.target===e&&++d>=c&&u()};setTimeout(()=>{d<c&&u()},a+1),e.addEventListener(l,f)}function Ec(e,t){const o=window.getComputedStyle(e),s=b=>(o[b]||"").split(", "),n=s(eo+"Delay"),r=s(eo+"Duration"),i=Tc(n,r),a=s(is+"Delay"),c=s(is+"Duration"),l=Tc(a,c);let d=null,u=0,f=0;t===eo?i>0&&(d=eo,u=i,f=r.length):t===is?l>0&&(d=is,u=l,f=c.length):(u=Math.max(i,l),d=u>0?i>l?eo:is:null,f=d?d===eo?r.length:c.length:0);const g=d===eo&&/\b(transform|all)(,|$)/.test(o[eo+"Property"]);return{type:d,timeout:u,propCount:f,hasTransform:g}}function Tc(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((o,s)=>Sc(o)+Sc(e[s])))}function Sc(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Mc(){return document.body.offsetHeight}const Cc=new WeakMap,Rc=new WeakMap,Hr={name:"TransitionGroup",props:Ze({},im,{tag:String,moveClass:String}),setup(e,{slots:t}){const o=ac(),s=Oa();let n,r;return Ua(()=>{if(!n.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!fm(n[0].el,o.vnode.el,i))return;n.forEach(lm),n.forEach(dm);const a=n.filter(um);Mc(),a.forEach(c=>{const l=c.el,d=l.style;qt(l,i),d.transform=d.webkitTransform=d.transitionDuration="";const u=l._moveCb=f=>{f&&f.target!==l||(!f||/transform$/.test(f.propertyName))&&(l.removeEventListener("transitionend",u),l._moveCb=null,to(l,i))};l.addEventListener("transitionend",u)})}),()=>{const i=Re(e),a=xc(i);let c=i.tag||Se;n=r,r=t.default?_r(t.default()):[];for(let l=0;l<r.length;l++){const d=r[l];d.key!=null&&ts(d,es(d,a,s,o))}if(n)for(let l=0;l<n.length;l++){const d=n[l];ts(d,es(d,a,s,o)),Cc.set(d,d.el.getBoundingClientRect())}return H(c,null,r)}}};function lm(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function dm(e){Rc.set(e,e.el.getBoundingClientRect())}function um(e){const t=Cc.get(e),o=Rc.get(e),s=t.left-o.left,n=t.top-o.top;if(s||n){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${n}px)`,r.transitionDuration="0s",e}}function fm(e,t,o){const s=e.cloneNode();e._vtc&&e._vtc.forEach(i=>{i.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),o.split(/\s+/).forEach(i=>i&&s.classList.add(i)),s.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(s);const{hasTransform:r}=Ec(s);return n.removeChild(s),r}const mm=["ctrl","shift","alt","meta"],hm={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>mm.some(o=>e[`${o}Key`]&&!t.includes(o))},wt=(e,t)=>(o,...s)=>{for(let n=0;n<t.length;n++){const r=hm[t[n]];if(r&&r(o,t))return}return e(o,...s)},gm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Kt=(e,t)=>o=>{if(!("key"in o))return;const s=Rt(o.key);if(t.some(n=>n===s||gm[n]===s))return e(o)},hn={beforeMount(e,{value:t},{transition:o}){e._vod=e.style.display==="none"?"":e.style.display,o&&t?o.beforeEnter(e):as(e,t)},mounted(e,{value:t},{transition:o}){o&&t&&o.enter(e)},updated(e,{value:t,oldValue:o},{transition:s}){!t!=!o&&(s?t?(s.beforeEnter(e),as(e,!0),s.enter(e)):s.leave(e,()=>{as(e,!1)}):as(e,t))},beforeUnmount(e,{value:t}){as(e,t)}};function as(e,t){e.style.display=t?e._vod:"none"}const pm=Ze({patchProp:om},Bf);let Oc;function vm(){return Oc||(Oc=_f(pm))}const Ac=(...e)=>{vm().render(...e)};var Fe=(e,t)=>{const o=e.__vccOpts||e;for(const[s,n]of t)o[s]=n;return o};const bm={name:"AppLoader",props:{show:{type:Boolean,default:!1},infinite:{type:Boolean,default:!1},type:{type:String,required:!0},messageId:{type:String,default:""}}},ym=M("div",{id:"vac-circle"},null,-1),wm=M("div",{id:"vac-circle"},null,-1),xm=M("div",{id:"vac-circle"},null,-1),_m=M("div",{id:"vac-circle"},null,-1),km=M("div",{id:"vac-circle"},null,-1),Em=M("div",{id:"vac-circle"},null,-1);function Tm(e,t,o,s,n,r){return p(),Ce(Ge,{name:"vac-fade-spinner",appear:""},{default:se(()=>[o.show?(p(),w("div",{key:0,class:pe(["vac-loader-wrapper",{"vac-container-center":!o.infinite,"vac-container-top":o.infinite}])},[o.type==="rooms"?D(e.$slots,"spinner-icon-rooms",{key:0},()=>[ym]):B("",!0),o.type==="infinite-rooms"?D(e.$slots,"spinner-icon-infinite-rooms",{key:1},()=>[wm]):B("",!0),o.type==="message-file"?D(e.$slots,"spinner-icon-message-file_"+o.messageId,{key:2},()=>[xm]):B("",!0),o.type==="room-file"?D(e.$slots,"spinner-icon-room-file",{key:3},()=>[_m]):B("",!0),o.type==="messages"?D(e.$slots,"spinner-icon-messages",{key:4},()=>[km]):B("",!0),o.type==="infinite-messages"?D(e.$slots,"spinner-icon-infinite-messages",{key:5},()=>[Em]):B("",!0)],2)):B("",!0)]),_:3})}var gn=Fe(bm,[["render",Tm]]);const Sm={name:"SvgIcon",props:{name:{type:String,default:null},param:{type:String,default:null}},data(){return{svgItem:{search:{path:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},add:{path:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},toggle:{path:"M5,13L9,17L7.6,18.42L1.18,12L7.6,5.58L9,7L5,11H21V13H5M21,6V8H11V6H21M21,16V18H11V16H21Z"},menu:{path:"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"},close:{path:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"},file:{path:"M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},paperclip:{path:"M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z"},"close-outline":{path:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"},send:{path:"M2,21L23,12L2,3V10L17,12L2,14V21Z"},emoji:{path:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"},document:{path:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"},pencil:{path:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"},checkmark:{path:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},"double-checkmark":{path:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"},eye:{path:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},dropdown:{path:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"},deleted:{path:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z"},microphone:{size:"large",path:"M432.8,216.4v39.2c0,45.2-15.3,84.3-45.2,118.4c-29.8,33.2-67.3,52.8-111.6,57.9v40.9h78.4c5.1,0,10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6c0,5.1-1.7,10.2-6,13.6c-4.3,4.3-8.5,6-13.6,6H157.6c-5.1,0-10.2-1.7-13.6-6c-4.3-4.3-6-8.5-6-13.6c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6H236v-40.9c-44.3-5.1-81.8-23.9-111.6-57.9s-45.2-73.3-45.2-118.4v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6s10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6v39.2c0,37.5,13.6,70.7,40,97.1s59.6,40,97.1,40s70.7-13.6,97.1-40c26.4-26.4,40-59.6,40-97.1v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6c5.1,0,10.2,1.7,13.6,6C430.2,206.2,432.8,211.3,432.8,216.4z M353.5,98v157.6c0,27.3-9.4,50.3-29,69c-19.6,19.6-42.6,29-69,29s-50.3-9.4-69-29c-19.6-19.6-29-42.6-29-69V98c0-27.3,9.4-50.3,29-69c19.6-19.6,42.6-29,69-29s50.3,9.4,69,29C344.2,47.7,353.5,71.6,353.5,98z"},"audio-play":{size:"medium",path:"M43.331,21.237L7.233,0.397c-0.917-0.529-2.044-0.529-2.96,0c-0.916,0.528-1.48,1.505-1.48,2.563v41.684   c0,1.058,0.564,2.035,1.48,2.563c0.458,0.268,0.969,0.397,1.48,0.397c0.511,0,1.022-0.133,1.48-0.397l36.098-20.84   c0.918-0.529,1.479-1.506,1.479-2.564S44.247,21.767,43.331,21.237z"},"audio-pause":{size:"medium",path:"M17.991,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C4.729,2.969,7.698,0,11.36,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z",path2:"M42.877,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C29.616,2.969,32.585,0,36.246,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z"}}}},computed:{svgId(){const e=this.param?"-"+this.param:"";return`vac-icon-${this.name}${e}`},size(){const e=this.svgItem[this.name];return e.size==="large"?512:e.size==="medium"?48:24}}},Mm=["viewBox"],Cm=["id","d"],Rm=["id","d"];function Om(e,t,o,s,n,r){return p(),w("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"24",height:"24",viewBox:`0 0 ${r.size} ${r.size}`},[M("path",{id:r.svgId,d:n.svgItem[o.name].path},null,8,Cm),n.svgItem[o.name].path2?(p(),w("path",{key:0,id:r.svgId,d:n.svgItem[o.name].path2},null,8,Rm)):B("",!0)],8,Mm)}var Je=Fe(Sm,[["render",Om]]);const Am={name:"RoomsSearch",components:{SvgIcon:Je},props:{textMessages:{type:Object,required:!0},showSearch:{type:Boolean,required:!0},showAddRoom:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0}},emits:["search-room","add-room"],computed:{showSearchBar(){return this.showSearch||this.showAddRoom}}},Im={key:0,class:"vac-icon-search"},Lm=["placeholder"];function jm(e,t,o,s,n,r){const i=oe("svg-icon");return p(),w("div",{class:pe({"vac-box-search":r.showSearchBar,"vac-box-empty":!r.showSearchBar})},[o.showSearch?(p(),w(Se,{key:0},[!o.loadingRooms&&o.rooms.length?(p(),w("div",Im,[D(e.$slots,"search-icon",{},()=>[H(i,{name:"search"})])])):B("",!0),!o.loadingRooms&&o.rooms.length?(p(),w("input",{key:1,type:"search",placeholder:o.textMessages.SEARCH,autocomplete:"off",class:"vac-input",onInput:t[0]||(t[0]=a=>e.$emit("search-room",a))},null,40,Lm)):B("",!0)],64)):B("",!0),o.showAddRoom?(p(),w("div",{key:1,class:"vac-svg-button vac-add-icon",onClick:t[1]||(t[1]=a=>e.$emit("add-room"))},[D(e.$slots,"add-icon",{},()=>[H(i,{name:"add"})])])):B("",!0)],2)}var Pm=Fe(Am,[["render",jm]]);function Nm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tt={},Uo={};Uo.__esModule=!0,Uo.inherits=Um;function Um(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=Object.create(e.prototype);for(var n in o)s[n]=o[n];return s.constructor=t,t.prototype=s,t}var cs={};cs.__esModule=!0;var Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht={defaultProtocol:"http",events:null,format:Lc,formatHref:Lc,nl2br:!1,tagName:"a",target:Bm,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};cs.defaults=ht,cs.Options=Ic,cs.contains=Dm;function Ic(e){e=e||{},this.defaultProtocol=e.hasOwnProperty("defaultProtocol")?e.defaultProtocol:ht.defaultProtocol,this.events=e.hasOwnProperty("events")?e.events:ht.events,this.format=e.hasOwnProperty("format")?e.format:ht.format,this.formatHref=e.hasOwnProperty("formatHref")?e.formatHref:ht.formatHref,this.nl2br=e.hasOwnProperty("nl2br")?e.nl2br:ht.nl2br,this.tagName=e.hasOwnProperty("tagName")?e.tagName:ht.tagName,this.target=e.hasOwnProperty("target")?e.target:ht.target,this.validate=e.hasOwnProperty("validate")?e.validate:ht.validate,this.ignoreTags=[],this.attributes=e.attributes||e.linkAttributes||ht.attributes,this.className=e.hasOwnProperty("className")?e.className:e.linkClass||ht.className;for(var t=e.hasOwnProperty("ignoreTags")?e.ignoreTags:ht.ignoreTags,o=0;o<t.length;o++)this.ignoreTags.push(t[o].toUpperCase())}Ic.prototype={resolve:function(t){var o=t.toHref(this.defaultProtocol);return{formatted:this.get("format",t.toString(),t),formattedHref:this.get("formatHref",o,t),tagName:this.get("tagName",o,t),className:this.get("className",o,t),target:this.get("target",o,t),events:this.getObject("events",o,t),attributes:this.getObject("attributes",o,t)}},check:function(t){return this.get("validate",t.toString(),t)},get:function(t,o,s){var n=void 0,r=this[t];if(!r)return r;switch(typeof r=="undefined"?"undefined":Fm(r)){case"function":return r(o,s.type);case"object":return n=r.hasOwnProperty(s.type)?r[s.type]:ht[t],typeof n=="function"?n(o,s.type):n}return r},getObject:function(t,o,s){var n=this[t];return typeof n=="function"?n(o,s.type):n}};function Dm(e,t){for(var o=0;o<e.length;o++)if(e[o]===t)return!0;return!1}function Lc(e){return e}function Bm(e,t){return t==="url"?"_blank":null}var jt={},Vt={};Vt.__esModule=!0,Vt.stateify=Vt.TokenState=Vt.CharacterState=void 0;var jc=Uo;function zr(){return function(e){this.j=[],this.T=e||null}}var qr=zr();qr.prototype={defaultTransition:!1,on:function(t,o){if(t instanceof Array){for(var s=0;s<t.length;s++)this.j.push([t[s],o]);return this}return this.j.push([t,o]),this},next:function(t){for(var o=0;o<this.j.length;o++){var s=this.j[o],n=s[0],r=s[1];if(this.test(t,n))return r}return this.defaultTransition},accepts:function(){return!!this.T},test:function(t,o){return t===o},emit:function(){return this.T}};var Kr=(0,jc.inherits)(qr,zr(),{test:function(t,o){return t===o||o instanceof RegExp&&o.test(t)}}),Hm=(0,jc.inherits)(qr,zr(),{jump:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.next(new t(""));return s===this.defaultTransition?(s=new this.constructor(o),this.on(t,s)):o&&(s.T=o),s},test:function(t,o){return t instanceof o}});function zm(e,t,o,s){for(var n=0,r=e.length,i=t,a=[],c=void 0;n<r&&(c=i.next(e[n]));)i=c,n++;if(n>=r)return[];for(;n<r-1;)c=new Kr(s),a.push(c),i.on(e[n],c),i=c,n++;return c=new Kr(o),a.push(c),i.on(e[r-1],c),a}Vt.CharacterState=Kr,Vt.TokenState=Hm,Vt.stateify=zm;var Q={},pn={};pn.__esModule=!0;function qm(){return function(e){e&&(this.v=e)}}pn.createTokenClass=qm,Q.__esModule=!0,Q.AMPERSAND=Q.CLOSEPAREN=Q.CLOSEANGLEBRACKET=Q.CLOSEBRACKET=Q.CLOSEBRACE=Q.OPENPAREN=Q.OPENANGLEBRACKET=Q.OPENBRACKET=Q.OPENBRACE=Q.WS=Q.TLD=Q.SYM=Q.UNDERSCORE=Q.SLASH=Q.MAILTO=Q.PROTOCOL=Q.QUERY=Q.POUND=Q.PLUS=Q.NUM=Q.NL=Q.LOCALHOST=Q.PUNCTUATION=Q.DOT=Q.COLON=Q.AT=Q.DOMAIN=Q.Base=void 0;var Pc=pn,Km=Uo,Vr=(0,Pc.createTokenClass)();Vr.prototype={toString:function(){return this.v+""}};function De(e){var t=e?{v:e}:{};return(0,Km.inherits)(Vr,(0,Pc.createTokenClass)(),t)}var Vm=De(),Gm=De("@"),Wm=De(":"),Ym=De("."),Zm=De(),Xm=De(),Qm=De(`
`),Jm=De(),$m=De("+"),eh=De("#"),th=De(),oh=De("mailto:"),sh=De("?"),nh=De("/"),rh=De("_"),ih=De(),ah=De(),ch=De(),lh=De("{"),dh=De("["),uh=De("<"),fh=De("("),mh=De("}"),hh=De("]"),gh=De(">"),ph=De(")"),vh=De("&");Q.Base=Vr,Q.DOMAIN=Vm,Q.AT=Gm,Q.COLON=Wm,Q.DOT=Ym,Q.PUNCTUATION=Zm,Q.LOCALHOST=Xm,Q.NL=Qm,Q.NUM=Jm,Q.PLUS=$m,Q.POUND=eh,Q.QUERY=sh,Q.PROTOCOL=th,Q.MAILTO=oh,Q.SLASH=nh,Q.UNDERSCORE=rh,Q.SYM=ih,Q.TLD=ah,Q.WS=ch,Q.OPENBRACE=lh,Q.OPENBRACKET=dh,Q.OPENANGLEBRACKET=uh,Q.OPENPAREN=fh,Q.CLOSEBRACE=mh,Q.CLOSEBRACKET=hh,Q.CLOSEANGLEBRACKET=gh,Q.CLOSEPAREN=ph,Q.AMPERSAND=vh,jt.__esModule=!0,jt.start=jt.run=jt.TOKENS=jt.State=void 0;var oo=Vt,ye=Q,bh=yh(ye);function yh(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}var Nc="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),Gr="0123456789".split(""),vn="0123456789abcdefghijklmnopqrstuvwxyz".split(""),Uc=[" ","\f","\r","	","\v","\xA0","\u1680","\u180E"],it=[],je=function(t){return new oo.CharacterState(t)},xt=je(),Wr=je(ye.NUM),Fo=je(ye.DOMAIN),ls=je(),Yr=je(ye.WS);xt.on("@",je(ye.AT)).on(".",je(ye.DOT)).on("+",je(ye.PLUS)).on("#",je(ye.POUND)).on("?",je(ye.QUERY)).on("/",je(ye.SLASH)).on("_",je(ye.UNDERSCORE)).on(":",je(ye.COLON)).on("{",je(ye.OPENBRACE)).on("[",je(ye.OPENBRACKET)).on("<",je(ye.OPENANGLEBRACKET)).on("(",je(ye.OPENPAREN)).on("}",je(ye.CLOSEBRACE)).on("]",je(ye.CLOSEBRACKET)).on(">",je(ye.CLOSEANGLEBRACKET)).on(")",je(ye.CLOSEPAREN)).on("&",je(ye.AMPERSAND)).on([",",";","!",'"',"'"],je(ye.PUNCTUATION)),xt.on(`
`,je(ye.NL)).on(Uc,Yr),Yr.on(Uc,Yr);for(var Zr=0;Zr<Nc.length;Zr++){var wh=(0,oo.stateify)(Nc[Zr],xt,ye.TLD,ye.DOMAIN);it.push.apply(it,wh)}var Fc=(0,oo.stateify)("file",xt,ye.DOMAIN,ye.DOMAIN),Dc=(0,oo.stateify)("ftp",xt,ye.DOMAIN,ye.DOMAIN),Bc=(0,oo.stateify)("http",xt,ye.DOMAIN,ye.DOMAIN),Hc=(0,oo.stateify)("mailto",xt,ye.DOMAIN,ye.DOMAIN);it.push.apply(it,Fc),it.push.apply(it,Dc),it.push.apply(it,Bc),it.push.apply(it,Hc);var xh=Fc.pop(),_h=Dc.pop(),kh=Bc.pop(),Eh=Hc.pop(),bn=je(ye.DOMAIN),yn=je(ye.PROTOCOL),Th=je(ye.MAILTO);_h.on("s",bn).on(":",yn),kh.on("s",bn).on(":",yn),it.push(bn),xh.on(":",yn),bn.on(":",yn),Eh.on(":",Th);var Sh=(0,oo.stateify)("localhost",xt,ye.LOCALHOST,ye.DOMAIN);it.push.apply(it,Sh),xt.on(Gr,Wr),Wr.on("-",ls).on(Gr,Wr).on(vn,Fo),Fo.on("-",ls).on(vn,Fo);for(var Xr=0;Xr<it.length;Xr++)it[Xr].on("-",ls).on(vn,Fo);ls.on("-",ls).on(Gr,Fo).on(vn,Fo),xt.defaultTransition=je(ye.SYM);var Mh=function(t){for(var o=t.replace(/[A-Z]/g,function(f){return f.toLowerCase()}),s=t.length,n=[],r=0;r<s;){for(var i=xt,a=null,c=0,l=null,d=-1;r<s&&(a=i.next(o[r]));)i=a,i.accepts()?(d=0,l=i):d>=0&&d++,c++,r++;if(!(d<0)){r-=d,c-=d;var u=l.emit();n.push(new u(t.substr(r-c,c)))}}return n},Ch=xt;jt.State=oo.CharacterState,jt.TOKENS=bh,jt.run=Mh,jt.start=Ch;var Pt={},dt={};dt.__esModule=!0,dt.URL=dt.TEXT=dt.NL=dt.EMAIL=dt.MAILTOEMAIL=dt.Base=void 0;var Do=pn,ds=Uo,us=Q;function Rh(e){return e instanceof us.DOMAIN||e instanceof us.TLD}var bo=(0,Do.createTokenClass)();bo.prototype={type:"token",isLink:!1,toString:function(){for(var t=[],o=0;o<this.v.length;o++)t.push(this.v[o].toString());return t.join("")},toHref:function(){return this.toString()},toObject:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(t)}}};var Oh=(0,ds.inherits)(bo,(0,Do.createTokenClass)(),{type:"email",isLink:!0}),Ah=(0,ds.inherits)(bo,(0,Do.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),Ih=(0,ds.inherits)(bo,(0,Do.createTokenClass)(),{type:"text"}),Lh=(0,ds.inherits)(bo,(0,Do.createTokenClass)(),{type:"nl"}),jh=(0,ds.inherits)(bo,(0,Do.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",o=!1,s=!1,n=this.v,r=[],i=0;n[i]instanceof us.PROTOCOL;)o=!0,r.push(n[i].toString().toLowerCase()),i++;for(;n[i]instanceof us.SLASH;)s=!0,r.push(n[i].toString()),i++;for(;Rh(n[i]);)r.push(n[i].toString().toLowerCase()),i++;for(;i<n.length;i++)r.push(n[i].toString());return r=r.join(""),o||s||(r=t+"://"+r),r},hasProtocol:function(){return this.v[0]instanceof us.PROTOCOL}});dt.Base=bo,dt.MAILTOEMAIL=Oh,dt.EMAIL=Ah,dt.NL=Lh,dt.TEXT=Ih,dt.URL=jh,Pt.__esModule=!0,Pt.start=Pt.run=Pt.TOKENS=Pt.State=void 0;var zc=Vt,ut=dt,Ph=Nh(ut),L=Q;function Nh(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}var _e=function(t){return new zc.TokenState(t)},wn=_e(),qc=_e(),Kc=_e(),Qr=_e(),Vc=_e(),so=_e(),xn=_e(),fs=_e(ut.URL),Gc=_e(),Wc=_e(ut.URL),Ve=_e(ut.URL),ms=_e(),hs=_e(),gs=_e(),ps=_e(),vs=_e(),yo=_e(ut.URL),wo=_e(ut.URL),xo=_e(ut.URL),_o=_e(ut.URL),bs=_e(),ys=_e(),ws=_e(),xs=_e(),Bo=_e(),Jr=_e(),_n=_e(ut.EMAIL),Yc=_e(),Uh=_e(ut.EMAIL),ko=_e(ut.MAILTOEMAIL),$r=_e(),Ho=_e(),kn=_e(),Zc=_e(),Fh=_e(ut.NL);wn.on(L.NL,Fh).on(L.PROTOCOL,qc).on(L.MAILTO,Kc).on(L.SLASH,Qr),qc.on(L.SLASH,Qr),Qr.on(L.SLASH,Vc),wn.on(L.TLD,so).on(L.DOMAIN,so).on(L.LOCALHOST,fs).on(L.NUM,so),Vc.on(L.TLD,Ve).on(L.DOMAIN,Ve).on(L.NUM,Ve).on(L.LOCALHOST,Ve),so.on(L.DOT,xn),Bo.on(L.DOT,Jr),xn.on(L.TLD,fs).on(L.DOMAIN,so).on(L.NUM,so).on(L.LOCALHOST,so),Jr.on(L.TLD,_n).on(L.DOMAIN,Bo).on(L.NUM,Bo).on(L.LOCALHOST,Bo),fs.on(L.DOT,xn),_n.on(L.DOT,Jr),fs.on(L.COLON,Gc).on(L.SLASH,Ve),Gc.on(L.NUM,Wc),Wc.on(L.SLASH,Ve),_n.on(L.COLON,Yc),Yc.on(L.NUM,Uh);var ot=[L.DOMAIN,L.AT,L.LOCALHOST,L.NUM,L.PLUS,L.POUND,L.PROTOCOL,L.SLASH,L.TLD,L.UNDERSCORE,L.SYM,L.AMPERSAND],st=[L.COLON,L.DOT,L.QUERY,L.PUNCTUATION,L.CLOSEBRACE,L.CLOSEBRACKET,L.CLOSEANGLEBRACKET,L.CLOSEPAREN,L.OPENBRACE,L.OPENBRACKET,L.OPENANGLEBRACKET,L.OPENPAREN];Ve.on(L.OPENBRACE,hs).on(L.OPENBRACKET,gs).on(L.OPENANGLEBRACKET,ps).on(L.OPENPAREN,vs),ms.on(L.OPENBRACE,hs).on(L.OPENBRACKET,gs).on(L.OPENANGLEBRACKET,ps).on(L.OPENPAREN,vs),hs.on(L.CLOSEBRACE,Ve),gs.on(L.CLOSEBRACKET,Ve),ps.on(L.CLOSEANGLEBRACKET,Ve),vs.on(L.CLOSEPAREN,Ve),yo.on(L.CLOSEBRACE,Ve),wo.on(L.CLOSEBRACKET,Ve),xo.on(L.CLOSEANGLEBRACKET,Ve),_o.on(L.CLOSEPAREN,Ve),bs.on(L.CLOSEBRACE,Ve),ys.on(L.CLOSEBRACKET,Ve),ws.on(L.CLOSEANGLEBRACKET,Ve),xs.on(L.CLOSEPAREN,Ve),hs.on(ot,yo),gs.on(ot,wo),ps.on(ot,xo),vs.on(ot,_o),hs.on(st,bs),gs.on(st,ys),ps.on(st,ws),vs.on(st,xs),yo.on(ot,yo),wo.on(ot,wo),xo.on(ot,xo),_o.on(ot,_o),yo.on(st,yo),wo.on(st,wo),xo.on(st,xo),_o.on(st,_o),bs.on(ot,yo),ys.on(ot,wo),ws.on(ot,xo),xs.on(ot,_o),bs.on(st,bs),ys.on(st,ys),ws.on(st,ws),xs.on(st,xs),Ve.on(ot,Ve),ms.on(ot,Ve),Ve.on(st,ms),ms.on(st,ms),Kc.on(L.TLD,ko).on(L.DOMAIN,ko).on(L.NUM,ko).on(L.LOCALHOST,ko),ko.on(ot,ko).on(st,$r),$r.on(ot,ko).on(st,$r);var _s=[L.DOMAIN,L.NUM,L.PLUS,L.POUND,L.QUERY,L.UNDERSCORE,L.SYM,L.AMPERSAND,L.TLD];so.on(_s,Ho).on(L.AT,kn),fs.on(_s,Ho).on(L.AT,kn),xn.on(_s,Ho),Ho.on(_s,Ho).on(L.AT,kn).on(L.DOT,Zc),Zc.on(_s,Ho),kn.on(L.TLD,Bo).on(L.DOMAIN,Bo).on(L.LOCALHOST,_n);var Dh=function(t){for(var o=t.length,s=0,n=[],r=[];s<o;){for(var i=wn,a=null,c=null,l=0,d=null,u=-1;s<o&&!(a=i.next(t[s]));)r.push(t[s++]);for(;s<o&&(c=a||i.next(t[s]));)a=null,i=c,i.accepts()?(u=0,d=i):u>=0&&u++,s++,l++;if(u<0)for(var f=s-l;f<s;f++)r.push(t[f]);else{r.length>0&&(n.push(new ut.TEXT(r)),r=[]),s-=u,l-=u;var g=d.emit();n.push(new g(t.slice(s-l,s)))}}return r.length>0&&n.push(new ut.TEXT(r)),n};Pt.State=zc.TokenState,Pt.TOKENS=Ph,Pt.run=Dh,Pt.start=wn,tt.__esModule=!0,tt.tokenize=tt.test=tt.scanner=tt.parser=tt.options=tt.inherits=tt.find=void 0;var Bh=Uo,Hh=cs,zh=ei(Hh),qh=jt,Xc=ei(qh),Kh=Pt,Qc=ei(Kh);function ei(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"});var ti=function(t){return Qc.run(Xc.run(t))},Vh=function(t){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=ti(t),n=[],r=0;r<s.length;r++){var i=s[r];i.isLink&&(!o||i.type===o)&&n.push(i.toObject())}return n},Gh=function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=ti(t);return s.length===1&&s[0].isLink&&(!o||s[0].type===o)};tt.find=Vh,tt.inherits=Bh.inherits,tt.options=zh,tt.parser=Qc,tt.scanner=Xc,tt.test=Gh,tt.tokenize=ti;var Jc=tt,Wh=(e,t,o)=>{const s={bold:o.bold,italic:o.italic,strike:o.strike,underline:o.underline,multilineCode:o.multilineCode,inlineCode:o.inlineCode},n={[s.bold]:{end:"\\"+s.bold,allowed_chars:".",type:"bold"},[s.italic]:{end:s.italic,allowed_chars:".",type:"italic"},[s.strike]:{end:s.strike,allowed_chars:".",type:"strike"},[s.underline]:{end:s.underline,allowed_chars:".",type:"underline"},[s.multilineCode]:{end:s.multilineCode,allowed_chars:`(.|
)`,type:"multiline-code"},[s.inlineCode]:{end:s.inlineCode,allowed_chars:".",type:"inline-code"},"<usertag>":{allowed_chars:".",end:"</usertag>",type:"tag"}},r=En(e,n),i=Yh(r,n),a=[].concat.apply([],i);return t&&Xh(a),a};function En(e,t){let o=[],s=-1,n=null,r=Jc.find(e),i=!1;if(r.length>0&&(s=e.indexOf(r[0].value),i=!0),Object.keys(t).forEach(a=>{const c=e.indexOf(a);c>=0&&(s<0||c<s)&&(s=c,n=a,i=!1)}),i&&n!==-1){let a=e.substr(0,s),c=e.substr(s,r[0].value.length),l=e.substr(s+r[0].value.length);return o.push(a),o.push(c),o=o.concat(En(l,t)),o}if(n){let a=e.substr(0,s);const c=n;let l=e.substr(s+c.length);if(e.replace(/\s/g,"").length===c.length*2)return[e];const d=l.match(new RegExp("^("+(t[c].allowed_chars||".")+"*"+(t[c].end?"?":"")+")"+(t[c].end?"("+t[c].end+")":""),"m"));if(!d||!d[1])a=a+c,o.push(a);else{a&&o.push(a);const u={start:c,content:En(d[1],t),end:d[2],type:t[c].type};o.push(u),l=l.substr(d[0].length)}return o=o.concat(En(l,t)),o}else return e?[e]:[]}function Yh(e,t){const o=[];return e.forEach(s=>{typeof s=="string"?o.push({types:[],value:s}):t[s.start]&&o.push(Zh(s))}),o}function Zh(e){const t=[];return $c(e,t,[]),t}function $c(e,t,o){e.content.forEach(s=>{typeof s=="string"?t.push({types:el(o.concat([e.type])),value:s}):$c(s,t,el([s.type].concat([e.type]).concat(o)))})}function el(e){return[...new Set(e)]}function Xh(e){const t=[];return e.forEach(o=>{const s=Jc.find(o.value);if(s.length){const n=o.value.replace(s[0].value,"");t.push({types:o.types,value:n}),o.types=["url"].concat(o.types),o.href=s[0].href,o.value=s[0].value}t.push(o)}),t}const oi=["png","jpg","jpeg","webp","svg","gif"],tl=["mp4","video/ogg","webm","quicktime"],Qh=["mp3","audio/ogg","wav","mpeg"],Jh={name:"FormatMessage",components:{SvgIcon:Je},props:{messageId:{type:String,default:""},roomId:{type:String,default:""},roomList:{type:Boolean,default:!1},content:{type:[String,Number],required:!0},deleted:{type:Boolean,default:!1},users:{type:Array,default:()=>[]},linkify:{type:Boolean,default:!0},singleLine:{type:Boolean,default:!1},reply:{type:Boolean,default:!1},textFormatting:{type:Object,required:!0},textMessages:{type:Object,default:()=>{}},linkOptions:{type:Object,required:!0}},emits:["open-user-tag"],computed:{linkifiedMessage(){if(this.deleted)return[{value:this.textMessages.MESSAGE_DELETED}];const e=Wh(this.formatTags(this.content),this.linkify&&!this.linkOptions.disabled,this.textFormatting);return e.forEach(t=>{t.url=this.checkType(t,"url"),t.bold=this.checkType(t,"bold"),t.italic=this.checkType(t,"italic"),t.strike=this.checkType(t,"strike"),t.underline=this.checkType(t,"underline"),t.inline=this.checkType(t,"inline-code"),t.multiline=this.checkType(t,"multiline-code"),t.tag=this.checkType(t,"tag"),t.image=this.checkImageType(t),t.value=this.replaceEmojiByElement(t.value)}),e},formattedContent(){return this.deleted?this.textMessages.MESSAGE_DELETED:this.formatTags(this.content)}},methods:{checkType(e,t){return e.types&&e.types.indexOf(t)!==-1},checkImageType(e){let t=e.value.lastIndexOf(".");e.value.lastIndexOf("/")>t&&(t=-1);const s=e.value.substring(t+1,e.value.length),n=t>0&&oi.some(r=>s.toLowerCase().includes(r));return n&&this.setImageSize(e),n},setImageSize(e){const t=new Image;t.src=e.value,t.addEventListener("load",o);function o(s){const n=s.path[0].width/150;e.height=Math.round(s.path[0].height/n)+"px",t.removeEventListener("load",o)}},formatTags(e){const t="<usertag>",o="</usertag>",s=[...e.matchAll(new RegExp(t,"gi"))].map(r=>r.index),n=e;return s.forEach(r=>{const i=n.substring(r+t.length,n.indexOf(o,r)),a=this.users.find(c=>c._id===i);e=e.replaceAll(i,`@${(a==null?void 0:a.username)||"unknown"}`)}),e},openTag(e){if(!this.singleLine&&this.checkType(e,"tag")){const t=this.users.find(o=>e.value.indexOf(o.username)!==-1);this.$emit("open-user-tag",t)}},replaceEmojiByElement(e){let t;return this.singleLine?t=16:t=this.containsOnlyEmojis()?28:20,e.replaceAll(/[\p{Extended_Pictographic}\u{1F3FB}-\u{1F3FF}\u{1F9B0}-\u{1F9B3}]/gu,o=>`<span style="font-size: ${t}px">${o}</span>`)},containsOnlyEmojis(){const e=this.content.replace(new RegExp("[\0-\u1EEFf]","g"),""),t=this.content.replace(new RegExp(`[
\rs]+|( )+`,"g"),"");return e.length===t.length}}},$h={class:"vac-image-link-container"},eg={class:"vac-image-link-message"},tg=["innerHTML"],og=["innerHTML"];function sg(e,t,o,s,n,r){const i=oe("svg-icon");return p(),w("div",{class:pe(["vac-format-message-wrapper",{"vac-text-ellipsis":o.singleLine}])},[o.textFormatting.disabled?(p(),w("div",{key:1,innerHTML:r.formattedContent},null,8,og)):(p(),w("div",{key:0,class:pe({"vac-text-ellipsis":o.singleLine})},[(p(!0),w(Se,null,me(r.linkifiedMessage,(a,c)=>(p(),w("div",{key:c,class:"vac-format-container"},[(p(),Ce(cf(a.url?"a":"span"),{class:pe({"vac-text-ellipsis":o.singleLine,"vac-text-bold":a.bold,"vac-text-italic":o.deleted||a.italic,"vac-text-strike":a.strike,"vac-text-underline":a.underline,"vac-text-inline-code":!o.singleLine&&a.inline,"vac-text-multiline-code":!o.singleLine&&a.multiline,"vac-text-tag":!o.singleLine&&!o.reply&&a.tag}),href:a.href,target:a.href?o.linkOptions.target:null,rel:a.href?o.linkOptions.rel:null,onClick:l=>r.openTag(a)},{default:se(()=>[o.deleted?(p(),w(Se,{key:0},[D(e.$slots,o.roomList?"deleted-icon-room_"+o.roomId:"deleted-icon_"+o.messageId,{},()=>[H(i,{name:"deleted",class:pe(["vac-icon-deleted",{"vac-icon-deleted-room":o.roomList}])},null,8,["class"])]),At(" "+ce(o.textMessages.MESSAGE_DELETED),1)],64)):a.url&&a.image?(p(),w(Se,{key:1},[M("div",$h,[M("div",{class:"vac-image-link",style:Te({"background-image":`url('${a.value}')`,height:a.height})},null,4)]),M("div",eg,[M("span",null,ce(a.value),1)])],64)):(p(),w("span",{key:2,innerHTML:a.value},null,8,tg))]),_:2},1032,["class","href","target","rel","onClick"]))]))),128))],2))],2)}var ks=Fe(Jh,[["render",sg]]);const Eo="__v-click-outside",ol=typeof window!="undefined",ng=typeof navigator!="undefined",rg=ol&&("ontouchstart"in window||ng&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"],ig=e=>{const t=typeof e=="function";if(!t&&typeof e!="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:t?e:e.handler,middleware:e.middleware||(o=>o),events:e.events||rg,isActive:e.isActive!==!1,detectIframe:e.detectIframe!==!1,capture:Boolean(e.capture)}},sl=({event:e,handler:t,middleware:o})=>{o(e)&&t(e)},ag=({el:e,event:t,handler:o,middleware:s})=>{setTimeout(()=>{const{activeElement:n}=document;n&&n.tagName==="IFRAME"&&!e.contains(n)&&sl({event:t,handler:o,middleware:s})},0)},cg=({el:e,event:t,handler:o,middleware:s})=>{const n=t.path||t.composedPath&&t.composedPath();(n?n.indexOf(e)<0:!e.contains(t.target))&&sl({event:t,handler:o,middleware:s})},nl=(e,{value:t})=>{const{events:o,handler:s,middleware:n,isActive:r,detectIframe:i,capture:a}=ig(t);if(!!r){if(e[Eo]=o.map(c=>({event:c,srcTarget:document.documentElement,handler:l=>cg({el:e,event:l,handler:s,middleware:n}),capture:a})),i){const c={event:"blur",srcTarget:window,handler:l=>ag({el:e,event:l,handler:s,middleware:n}),capture:a};e[Eo]=[...e[Eo],c]}e[Eo].forEach(({event:c,srcTarget:l,handler:d})=>setTimeout(()=>{!e[Eo]||l.addEventListener(c,d,a)},0))}},rl=e=>{(e[Eo]||[]).forEach(({event:o,srcTarget:s,handler:n,capture:r})=>s.removeEventListener(o,n,r)),delete e[Eo]};var Tn=ol?{beforeMount:nl,updated:(e,{value:t,oldValue:o})=>{JSON.stringify(t)!==JSON.stringify(o)&&(rl(e),nl(e,{value:t}))},unmounted:rl}:{},il=(e,t,o)=>{if(e.typingUsers&&e.typingUsers.length){const s=e.users.filter(n=>{if(n._id!==t&&e.typingUsers.indexOf(n._id)!==-1&&!(n.status&&n.status.state==="offline"))return!0});return s.length?e.users.length===2?o.IS_TYPING:s.map(n=>n.username).join(", ")+" "+o.IS_TYPING:void 0}};function Es(e,t){if(!(!t||!t.type))return e.some(o=>t.type.toLowerCase().includes(o))}function zo(e){return Es(oi,e)}function Ts(e){var t;return!((t=e.type)!=null&&t.toLowerCase().startsWith("audio/"))&&Es(tl,e)}function al(e){return Es(oi,e)||Es(tl,e)}function Sn(e){var t;return((t=e==null?void 0:e.type)==null?void 0:t.toLowerCase().startsWith("audio/"))||Es(Qh,e)}const Ss=/^[a-z0-9]+(-[a-z0-9]+)*$/,Mn=(e,t,o,s="")=>{const n=e.split(":");if(e.slice(0,1)==="@"){if(n.length<2||n.length>3)return null;s=n.shift().slice(1)}if(n.length>3||!n.length)return null;if(n.length>1){const a=n.pop(),c=n.pop(),l={provider:n.length>0?n[0]:s,prefix:c,name:a};return t&&!Cn(l)?null:l}const r=n[0],i=r.split("-");if(i.length>1){const a={provider:s,prefix:i.shift(),name:i.join("-")};return t&&!Cn(a)?null:a}if(o&&s===""){const a={provider:s,prefix:"",name:r};return t&&!Cn(a,o)?null:a}return null},Cn=(e,t)=>e?!!((e.provider===""||e.provider.match(Ss))&&(t&&e.prefix===""||e.prefix.match(Ss))&&e.name.match(Ss)):!1,cl=Object.freeze({left:0,top:0,width:16,height:16}),Rn=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),On=Object.freeze({...cl,...Rn}),si=Object.freeze({...On,body:"",hidden:!1});function lg(e,t){const o={};!e.hFlip!=!t.hFlip&&(o.hFlip=!0),!e.vFlip!=!t.vFlip&&(o.vFlip=!0);const s=((e.rotate||0)+(t.rotate||0))%4;return s&&(o.rotate=s),o}function ll(e,t){const o=lg(e,t);for(const s in si)s in Rn?s in e&&!(s in o)&&(o[s]=Rn[s]):s in t?o[s]=t[s]:s in e&&(o[s]=e[s]);return o}function dg(e,t){const o=e.icons,s=e.aliases||Object.create(null),n=Object.create(null);function r(i){if(o[i])return n[i]=[];if(!(i in n)){n[i]=null;const a=s[i]&&s[i].parent,c=a&&r(a);c&&(n[i]=[a].concat(c))}return n[i]}return(t||Object.keys(o).concat(Object.keys(s))).forEach(r),n}function ug(e,t,o){const s=e.icons,n=e.aliases||Object.create(null);let r={};function i(a){r=ll(s[a]||n[a],r)}return i(t),o.forEach(i),ll(e,r)}function dl(e,t){const o=[];if(typeof e!="object"||typeof e.icons!="object")return o;e.not_found instanceof Array&&e.not_found.forEach(n=>{t(n,null),o.push(n)});const s=dg(e);for(const n in s){const r=s[n];r&&(t(n,ug(e,n,r)),o.push(n))}return o}const fg={provider:"",aliases:{},not_found:{},...cl};function ni(e,t){for(const o in t)if(o in e&&typeof e[o]!=typeof t[o])return!1;return!0}function ul(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!ni(e,fg))return null;const o=t.icons;for(const n in o){const r=o[n];if(!n.match(Ss)||typeof r.body!="string"||!ni(r,si))return null}const s=t.aliases||Object.create(null);for(const n in s){const r=s[n],i=r.parent;if(!n.match(Ss)||typeof i!="string"||!o[i]&&!s[i]||!ni(r,si))return null}return t}const fl=Object.create(null);function mg(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function To(e,t){const o=fl[e]||(fl[e]=Object.create(null));return o[t]||(o[t]=mg(e,t))}function ri(e,t){return ul(t)?dl(t,(o,s)=>{s?e.icons[o]=s:e.missing.add(o)}):[]}function hg(e,t,o){try{if(typeof o.body=="string")return e.icons[t]={...o},!0}catch{}return!1}let Ms=!1;function ml(e){return typeof e=="boolean"&&(Ms=e),Ms}function gg(e){const t=typeof e=="string"?Mn(e,!0,Ms):e;if(t){const o=To(t.provider,t.prefix),s=t.name;return o.icons[s]||(o.missing.has(s)?null:void 0)}}function pg(e,t){const o=Mn(e,!0,Ms);if(!o)return!1;const s=To(o.provider,o.prefix);return hg(s,o.name,t)}function vg(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),Ms&&!t&&!e.prefix){let n=!1;return ul(e)&&(e.prefix="",dl(e,(r,i)=>{i&&pg(r,i)&&(n=!0)})),n}const o=e.prefix;if(!Cn({provider:t,prefix:o,name:"a"}))return!1;const s=To(t,o);return!!ri(s,e)}const hl=Object.freeze({width:null,height:null}),gl=Object.freeze({...hl,...Rn}),bg=/(-?[0-9.]*[0-9]+[0-9.]*)/g,yg=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function pl(e,t,o){if(t===1)return e;if(o=o||100,typeof e=="number")return Math.ceil(e*t*o)/o;if(typeof e!="string")return e;const s=e.split(bg);if(s===null||!s.length)return e;const n=[];let r=s.shift(),i=yg.test(r);for(;;){if(i){const a=parseFloat(r);isNaN(a)?n.push(r):n.push(Math.ceil(a*t*o)/o)}else n.push(r);if(r=s.shift(),r===void 0)return n.join("");i=!i}}const wg=e=>e==="unset"||e==="undefined"||e==="none";function xg(e,t){const o={...On,...e},s={...gl,...t},n={left:o.left,top:o.top,width:o.width,height:o.height};let r=o.body;[o,s].forEach(b=>{const T=[],k=b.hFlip,q=b.vFlip;let J=b.rotate;k?q?J+=2:(T.push("translate("+(n.width+n.left).toString()+" "+(0-n.top).toString()+")"),T.push("scale(-1 1)"),n.top=n.left=0):q&&(T.push("translate("+(0-n.left).toString()+" "+(n.height+n.top).toString()+")"),T.push("scale(1 -1)"),n.top=n.left=0);let X;switch(J<0&&(J-=Math.floor(J/4)*4),J=J%4,J){case 1:X=n.height/2+n.top,T.unshift("rotate(90 "+X.toString()+" "+X.toString()+")");break;case 2:T.unshift("rotate(180 "+(n.width/2+n.left).toString()+" "+(n.height/2+n.top).toString()+")");break;case 3:X=n.width/2+n.left,T.unshift("rotate(-90 "+X.toString()+" "+X.toString()+")");break}J%2===1&&(n.left!==n.top&&(X=n.left,n.left=n.top,n.top=X),n.width!==n.height&&(X=n.width,n.width=n.height,n.height=X)),T.length&&(r='<g transform="'+T.join(" ")+'">'+r+"</g>")});const i=s.width,a=s.height,c=n.width,l=n.height;let d,u;i===null?(u=a===null?"1em":a==="auto"?l:a,d=pl(u,c/l)):(d=i==="auto"?c:i,u=a===null?pl(d,l/c):a==="auto"?l:a);const f={},g=(b,T)=>{wg(T)||(f[b]=T.toString())};return g("width",d),g("height",u),f.viewBox=n.left.toString()+" "+n.top.toString()+" "+c.toString()+" "+l.toString(),{attributes:f,body:r}}const _g=/\sid="(\S+)"/g,kg="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Eg=0;function Tg(e,t=kg){const o=[];let s;for(;s=_g.exec(e);)o.push(s[1]);if(!o.length)return e;const n="suffix"+(Math.random()*16777216|Date.now()).toString(16);return o.forEach(r=>{const i=typeof t=="function"?t(r):t+(Eg++).toString(),a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+i+n+"$3")}),e=e.replace(new RegExp(n,"g"),""),e}const ii=Object.create(null);function Sg(e,t){ii[e]=t}function ai(e){return ii[e]||ii[""]}function ci(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const li=Object.create(null),Cs=["https://api.simplesvg.com","https://api.unisvg.com"],An=[];for(;Cs.length>0;)Cs.length===1||Math.random()>.5?An.push(Cs.shift()):An.push(Cs.pop());li[""]=ci({resources:["https://api.iconify.design"].concat(An)});function Mg(e,t){const o=ci(t);return o===null?!1:(li[e]=o,!0)}function di(e){return li[e]}let vl=(()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}})();function Cg(e,t){const o=di(e);if(!o)return 0;let s;if(!o.maxURL)s=0;else{let n=0;o.resources.forEach(i=>{n=Math.max(n,i.length)});const r=t+".json?icons=";s=o.maxURL-n-o.path.length-r.length}return s}function Rg(e){return e===404}const Og=(e,t,o)=>{const s=[],n=Cg(e,t),r="icons";let i={type:r,provider:e,prefix:t,icons:[]},a=0;return o.forEach((c,l)=>{a+=c.length+1,a>=n&&l>0&&(s.push(i),i={type:r,provider:e,prefix:t,icons:[]},a=c.length),i.icons.push(c)}),s.push(i),s};function Ag(e){if(typeof e=="string"){const t=di(e);if(t)return t.path}return"/"}const Ig={prepare:Og,send:(e,t,o)=>{if(!vl){o("abort",424);return}let s=Ag(t.provider);switch(t.type){case"icons":{const r=t.prefix,a=t.icons.join(","),c=new URLSearchParams({icons:a});s+=r+".json?"+c.toString();break}case"custom":{const r=t.uri;s+=r.slice(0,1)==="/"?r.slice(1):r;break}default:o("abort",400);return}let n=503;vl(e+s).then(r=>{const i=r.status;if(i!==200){setTimeout(()=>{o(Rg(i)?"abort":"next",i)});return}return n=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?o("abort",r):o("next",n)});return}setTimeout(()=>{o("success",r)})}).catch(()=>{o("next",n)})}};function Lg(e){const t={loaded:[],missing:[],pending:[]},o=Object.create(null);e.sort((n,r)=>n.provider!==r.provider?n.provider.localeCompare(r.provider):n.prefix!==r.prefix?n.prefix.localeCompare(r.prefix):n.name.localeCompare(r.name));let s={provider:"",prefix:"",name:""};return e.forEach(n=>{if(s.name===n.name&&s.prefix===n.prefix&&s.provider===n.provider)return;s=n;const r=n.provider,i=n.prefix,a=n.name,c=o[r]||(o[r]=Object.create(null)),l=c[i]||(c[i]=To(r,i));let d;a in l.icons?d=t.loaded:i===""||l.missing.has(a)?d=t.missing:d=t.pending;const u={provider:r,prefix:i,name:a};d.push(u)}),t}function bl(e,t){e.forEach(o=>{const s=o.loaderCallbacks;s&&(o.loaderCallbacks=s.filter(n=>n.id!==t))})}function jg(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let o=!1;const s=e.provider,n=e.prefix;t.forEach(r=>{const i=r.icons,a=i.pending.length;i.pending=i.pending.filter(c=>{if(c.prefix!==n)return!0;const l=c.name;if(e.icons[l])i.loaded.push({provider:s,prefix:n,name:l});else if(e.missing.has(l))i.missing.push({provider:s,prefix:n,name:l});else return o=!0,!0;return!1}),i.pending.length!==a&&(o||bl([e],r.id),r.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),r.abort))})}))}let Pg=0;function Ng(e,t,o){const s=Pg++,n=bl.bind(null,o,s);if(!t.pending.length)return n;const r={id:s,icons:t,callback:e,abort:n};return o.forEach(i=>{(i.loaderCallbacks||(i.loaderCallbacks=[])).push(r)}),n}function Ug(e,t=!0,o=!1){const s=[];return e.forEach(n=>{const r=typeof n=="string"?Mn(n,t,o):n;r&&s.push(r)}),s}var Fg={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Dg(e,t,o,s){const n=e.resources.length,r=e.random?Math.floor(Math.random()*n):e.index;let i;if(e.random){let W=e.resources.slice(0);for(i=[];W.length>1;){const N=Math.floor(Math.random()*W.length);i.push(W[N]),W=W.slice(0,N).concat(W.slice(N+1))}i=i.concat(W)}else i=e.resources.slice(r).concat(e.resources.slice(0,r));const a=Date.now();let c="pending",l=0,d,u=null,f=[],g=[];typeof s=="function"&&g.push(s);function b(){u&&(clearTimeout(u),u=null)}function T(){c==="pending"&&(c="aborted"),b(),f.forEach(W=>{W.status==="pending"&&(W.status="aborted")}),f=[]}function k(W,N){N&&(g=[]),typeof W=="function"&&g.push(W)}function q(){return{startTime:a,payload:t,status:c,queriesSent:l,queriesPending:f.length,subscribe:k,abort:T}}function J(){c="failed",g.forEach(W=>{W(void 0,d)})}function X(){f.forEach(W=>{W.status==="pending"&&(W.status="aborted")}),f=[]}function ae(W,N,P){const te=N!=="success";switch(f=f.filter(re=>re!==W),c){case"pending":break;case"failed":if(te||!e.dataAfterTimeout)return;break;default:return}if(N==="abort"){d=P,J();return}if(te){d=P,f.length||(i.length?ue():J());return}if(b(),X(),!e.random){const re=e.resources.indexOf(W.resource);re!==-1&&re!==e.index&&(e.index=re)}c="completed",g.forEach(re=>{re(P)})}function ue(){if(c!=="pending")return;b();const W=i.shift();if(W===void 0){if(f.length){u=setTimeout(()=>{b(),c==="pending"&&(X(),J())},e.timeout);return}J();return}const N={status:"pending",resource:W,callback:(P,te)=>{ae(N,P,te)}};f.push(N),l++,u=setTimeout(ue,e.rotate),o(W,t,N.callback)}return setTimeout(ue),q}function yl(e){const t={...Fg,...e};let o=[];function s(){o=o.filter(a=>a().status==="pending")}function n(a,c,l){const d=Dg(t,a,c,(u,f)=>{s(),l&&l(u,f)});return o.push(d),d}function r(a){return o.find(c=>a(c))||null}return{query:n,find:r,setIndex:a=>{t.index=a},getIndex:()=>t.index,cleanup:s}}function wl(){}const ui=Object.create(null);function Bg(e){if(!ui[e]){const t=di(e);if(!t)return;const o=yl(t),s={config:t,redundancy:o};ui[e]=s}return ui[e]}function Hg(e,t,o){let s,n;if(typeof e=="string"){const r=ai(e);if(!r)return o(void 0,424),wl;n=r.send;const i=Bg(e);i&&(s=i.redundancy)}else{const r=ci(e);if(r){s=yl(r);const i=e.resources?e.resources[0]:"",a=ai(i);a&&(n=a.send)}}return!s||!n?(o(void 0,424),wl):s.query(t,n,o)().abort}const xl="iconify2",Rs="iconify",_l=Rs+"-count",kl=Rs+"-version",El=36e5,zg=168;function fi(e,t){try{return e.getItem(t)}catch{}}function mi(e,t,o){try{return e.setItem(t,o),!0}catch{}}function Tl(e,t){try{e.removeItem(t)}catch{}}function hi(e,t){return mi(e,_l,t.toString())}function gi(e){return parseInt(fi(e,_l))||0}const In={local:!0,session:!0},Sl={local:new Set,session:new Set};let pi=!1;function qg(e){pi=e}let Ln=typeof window=="undefined"?{}:window;function Ml(e){const t=e+"Storage";try{if(Ln&&Ln[t]&&typeof Ln[t].length=="number")return Ln[t]}catch{}In[e]=!1}function Cl(e,t){const o=Ml(e);if(!o)return;const s=fi(o,kl);if(s!==xl){if(s){const a=gi(o);for(let c=0;c<a;c++)Tl(o,Rs+c.toString())}mi(o,kl,xl),hi(o,0);return}const n=Math.floor(Date.now()/El)-zg,r=a=>{const c=Rs+a.toString(),l=fi(o,c);if(typeof l=="string"){try{const d=JSON.parse(l);if(typeof d=="object"&&typeof d.cached=="number"&&d.cached>n&&typeof d.provider=="string"&&typeof d.data=="object"&&typeof d.data.prefix=="string"&&t(d,a))return!0}catch{}Tl(o,c)}};let i=gi(o);for(let a=i-1;a>=0;a--)r(a)||(a===i-1?(i--,hi(o,i)):Sl[e].add(a))}function Rl(){if(!pi){qg(!0);for(const e in In)Cl(e,t=>{const o=t.data,s=t.provider,n=o.prefix,r=To(s,n);if(!ri(r,o).length)return!1;const i=o.lastModified||-1;return r.lastModifiedCached=r.lastModifiedCached?Math.min(r.lastModifiedCached,i):i,!0})}}function Kg(e,t){const o=e.lastModifiedCached;if(o&&o>=t)return o===t;if(e.lastModifiedCached=t,o)for(const s in In)Cl(s,n=>{const r=n.data;return n.provider!==e.provider||r.prefix!==e.prefix||r.lastModified===t});return!0}function Vg(e,t){pi||Rl();function o(s){let n;if(!In[s]||!(n=Ml(s)))return;const r=Sl[s];let i;if(r.size)r.delete(i=Array.from(r).shift());else if(i=gi(n),!hi(n,i+1))return;const a={cached:Math.floor(Date.now()/El),provider:e.provider,data:t};return mi(n,Rs+i.toString(),JSON.stringify(a))}t.lastModified&&!Kg(e,t.lastModified)||!Object.keys(t.icons).length||(t.not_found&&(t=Object.assign({},t),delete t.not_found),o("local")||o("session"))}function Ol(){}function Gg(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,jg(e)}))}function Wg(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:o,prefix:s}=e,n=e.iconsToLoad;delete e.iconsToLoad;let r;if(!n||!(r=ai(o)))return;r.prepare(o,s,n).forEach(a=>{Hg(o,a,c=>{if(typeof c!="object")a.icons.forEach(l=>{e.missing.add(l)});else try{const l=ri(e,c);if(!l.length)return;const d=e.pendingIcons;d&&l.forEach(u=>{d.delete(u)}),Vg(e,c)}catch(l){console.error(l)}Gg(e)})})}))}const Yg=(e,t)=>{const o=Ug(e,!0,ml()),s=Lg(o);if(!s.pending.length){let c=!0;return t&&setTimeout(()=>{c&&t(s.loaded,s.missing,s.pending,Ol)}),()=>{c=!1}}const n=Object.create(null),r=[];let i,a;return s.pending.forEach(c=>{const{provider:l,prefix:d}=c;if(d===a&&l===i)return;i=l,a=d,r.push(To(l,d));const u=n[l]||(n[l]=Object.create(null));u[d]||(u[d]=[])}),s.pending.forEach(c=>{const{provider:l,prefix:d,name:u}=c,f=To(l,d),g=f.pendingIcons||(f.pendingIcons=new Set);g.has(u)||(g.add(u),n[l][d].push(u))}),r.forEach(c=>{const{provider:l,prefix:d}=c;n[l][d].length&&Wg(c,n[l][d])}),t?Ng(t,s,r):Ol};function Zg(e,t){const o={...e};for(const s in t){const n=t[s],r=typeof n;s in hl?(n===null||n&&(r==="string"||r==="number"))&&(o[s]=n):r===typeof o[s]&&(o[s]=s==="rotate"?n%4:n)}return o}const Xg=/[\s,]+/;function Qg(e,t){t.split(Xg).forEach(o=>{switch(o.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function Jg(e,t=0){const o=e.replace(/^-?[0-9.]*/,"");function s(n){for(;n<0;)n+=4;return n%4}if(o===""){const n=parseInt(e);return isNaN(n)?0:s(n)}else if(o!==e){let n=0;switch(o){case"%":n=25;break;case"deg":n=90}if(n){let r=parseFloat(e.slice(0,e.length-o.length));return isNaN(r)?0:(r=r/n,r%1===0?s(r):0)}}return t}function $g(e,t){let o=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const s in t)o+=" "+s+'="'+t[s]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+o+">"+e+"</svg>"}function ep(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function tp(e){return'url("data:image/svg+xml,'+ep(e)+'")'}const Al={...gl,inline:!1},op={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},sp={display:"inline-block"},vi={backgroundColor:"currentColor"},Il={backgroundColor:"transparent"},Ll={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},jl={webkitMask:vi,mask:vi,background:Il};for(const e in jl){const t=jl[e];for(const o in Ll)t[e+o]=Ll[o]}const jn={};["horizontal","vertical"].forEach(e=>{const t=e.slice(0,1)+"Flip";jn[e+"-flip"]=t,jn[e.slice(0,1)+"-flip"]=t,jn[e+"Flip"]=t});function Pl(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const Nl=(e,t)=>{const o=Zg(Al,t),s={...op},n=t.mode||"svg",r={},i=t.style,a=typeof i=="object"&&!(i instanceof Array)?i:{};for(let T in t){const k=t[T];if(k!==void 0)switch(T){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":o[T]=k===!0||k==="true"||k===1;break;case"flip":typeof k=="string"&&Qg(o,k);break;case"color":r.color=k;break;case"rotate":typeof k=="string"?o[T]=Jg(k):typeof k=="number"&&(o[T]=k);break;case"ariaHidden":case"aria-hidden":k!==!0&&k!=="true"&&delete s["aria-hidden"];break;default:{const q=jn[T];q?(k===!0||k==="true"||k===1)&&(o[q]=!0):Al[T]===void 0&&(s[T]=k)}}}const c=xg(e,o),l=c.attributes;if(o.inline&&(r.verticalAlign="-0.125em"),n==="svg"){s.style={...r,...a},Object.assign(s,l);let T=0,k=t.id;return typeof k=="string"&&(k=k.replace(/-/g,"_")),s.innerHTML=Tg(c.body,k?()=>k+"ID"+T++:"iconifyVue"),Pr("svg",s)}const{body:d,width:u,height:f}=e,g=n==="mask"||(n==="bg"?!1:d.indexOf("currentColor")!==-1),b=$g(d,{...l,width:u+"",height:f+""});return s.style={...r,"--svg":tp(b),width:Pl(l.width),height:Pl(l.height),...sp,...g?vi:Il,...a},Pr("span",s)};if(ml(!0),Sg("",Ig),typeof document!="undefined"&&typeof window!="undefined"){Rl();const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,o="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(s=>{try{(typeof s!="object"||s===null||s instanceof Array||typeof s.icons!="object"||typeof s.prefix!="string"||!vg(s))&&console.error(o)}catch{console.error(o)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let o in t){const s="IconifyProviders["+o+"] is invalid.";try{const n=t[o];if(typeof n!="object"||!n||n.resources===void 0)continue;Mg(o,n)||console.error(s)}catch{console.error(s)}}}}const np={...On,body:""},Ul=ja({inheritAttrs:!1,data(){return{iconMounted:!1,counter:0}},mounted(){this._name="",this._loadingIcon=null,this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(e,t){if(typeof e=="object"&&e!==null&&typeof e.body=="string")return this._name="",this.abortLoading(),{data:e};let o;if(typeof e!="string"||(o=Mn(e,!1,!0))===null)return this.abortLoading(),null;const s=gg(o);if(!s)return(!this._loadingIcon||this._loadingIcon.name!==e)&&(this.abortLoading(),this._name="",s!==null&&(this._loadingIcon={name:e,abort:Yg([o],()=>{this.counter++})})),null;this.abortLoading(),this._name!==e&&(this._name=e,t&&t(e));const n=["iconify"];return o.prefix!==""&&n.push("iconify--"+o.prefix),o.provider!==""&&n.push("iconify--"+o.provider),{data:s,classes:n}}},render(){this.counter;const e=this.$attrs,t=this.iconMounted?this.getIcon(e.icon,e.onLoad):null;if(!t)return Nl(np,e);let o=e;return t.classes&&(o={...e,class:(typeof e.class=="string"?e.class+" ":"")+t.classes.join(" ")}),Nl({...On,...t.data},o)}}),Fl={width:24,height:24,body:'<path fill="currentColor" d="m8.6 22.5l-1.9-3.2l-3.6-.8l.35-3.7L1 12l2.45-2.8l-.35-3.7l3.6-.8l1.9-3.2L12 2.95l3.4-1.45l1.9 3.2l3.6.8l-.35 3.7L23 12l-2.45 2.8l.35 3.7l-3.6.8l-1.9 3.2l-3.4-1.45Zm2.35-6.95L16.6 9.9l-1.4-1.45l-4.25 4.25l-2.15-2.1L7.4 12Z"/>'},rp={name:"RoomsContent",components:{SvgIcon:Je,FormatMessage:ks,Icon:Ul},directives:{clickOutside:Tn},props:{currentUserId:{type:[String,Number],required:!0},room:{type:Object,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},textMessages:{type:Object,required:!0},roomActions:{type:Array,required:!0}},emits:["room-action-handler"],data(){return{roomMenuOpened:null,icons:{verifiedIcon:Fl}}},computed:{getLastMessage(){const e=this.typingUsers;if(e)return e;const t=this.room.lastMessage.content;if(this.room.users.length<=2)return t;const o=this.room.users.find(s=>s._id===this.room.lastMessage.senderId);return this.room.lastMessage.username?`${this.room.lastMessage.username} - ${t}`:!o||o._id===this.currentUserId?t:`${o.username} - ${t}`},userStatus(){if(!this.room.users||this.room.users.length!==2)return;const e=this.room.users.find(t=>t._id!==this.currentUserId);return e&&e.status?e.status.state:null},typingUsers(){return il(this.room,this.currentUserId,this.textMessages)},isMessageCheckmarkVisible(){return!this.typingUsers&&this.room.lastMessage&&!this.room.lastMessage.deleted&&this.room.lastMessage.senderId===this.currentUserId&&(this.room.lastMessage.saved||this.room.lastMessage.distributed||this.room.lastMessage.seen)},formattedDuration(){var t,o;const e=(o=(t=this.room.lastMessage)==null?void 0:t.files)==null?void 0:o[0];if(e){if(!e.duration)return`${e.name}.${e.extension}`;let s=Math.floor(e.duration);return(s-(s%=60))/60+(s>9?":":":0")+s}return""},isAudio(){return this.room.lastMessage.files?Sn(this.room.lastMessage.files[0]):!1}},methods:{roomActionHandler(e){this.closeRoomMenu(),this.$emit("room-action-handler",{action:e,roomId:this.room.roomId})},closeRoomMenu(){this.roomMenuOpened=null}}},ip={class:"vac-room-container"},ap={class:"vac-name-container vac-text-ellipsis"},cp={class:"vac-title-container"},lp={class:"vac-room-name vac-text-ellipsis"},dp={key:1,class:"vac-text-date"},up={key:0},fp={key:1,class:"vac-text-ellipsis"},mp={key:3,class:"vac-text-ellipsis"},hp={class:"vac-room-options-container"},gp={key:0,class:"vac-badge-counter vac-room-badge"},pp={key:0,class:"vac-menu-options"},vp={class:"vac-menu-list"},bp=["onClick"];function yp(e,t,o,s,n,r){const i=oe("Icon"),a=oe("svg-icon"),c=oe("format-message"),l=an("click-outside");return p(),w("div",ip,[D(e.$slots,"room-list-item_"+o.room.roomId,{},()=>[D(e.$slots,"room-list-avatar_"+o.room.roomId,{},()=>[o.room.avatar?(p(),w("div",{key:0,class:"vac-avatar",style:Te({"background-image":`url('${o.room.avatar}')`})},null,4)):B("",!0)]),M("div",ap,[M("div",cp,[r.userStatus?(p(),w("div",{key:0,class:pe(["vac-state-circle",{"vac-state-online":r.userStatus==="online"}])},null,2)):B("",!0),M("div",lp,[At(ce(o.room.roomName)+" ",1),o.room.verified||o.room.official?(p(),Ce(i,{key:0,inline:!0,style:Te({color:`${o.room.official?"gold":"#2689d6"}`}),width:"14",icon:n.icons.verifiedIcon},null,8,["style","icon"])):B("",!0)]),o.room.lastMessage?(p(),w("div",dp,ce(o.room.lastMessage.timestamp),1)):B("",!0)]),M("div",{class:pe(["vac-text-last",{"vac-message-new":o.room.lastMessage&&o.room.lastMessage.new&&!r.typingUsers}])},[r.isMessageCheckmarkVisible?(p(),w("span",up,[D(e.$slots,"checkmark-icon_"+o.room.roomId,{},()=>[H(a,{name:o.room.lastMessage.distributed?"double-checkmark":"checkmark",param:o.room.lastMessage.seen?"seen":"",class:"vac-icon-check"},null,8,["name","param"])])])):B("",!0),o.room.lastMessage&&!o.room.lastMessage.deleted&&r.isAudio?(p(),w("div",fp,[D(e.$slots,"microphone-icon_"+o.room.roomId,{},()=>[H(a,{name:"microphone",class:"vac-icon-microphone"})]),At(" "+ce(r.formattedDuration),1)])):o.room.lastMessage?(p(),Ce(c,{key:2,"message-id":o.room.lastMessage._id,"room-id":o.room.roomId,"room-list":!0,content:r.getLastMessage,deleted:!!o.room.lastMessage.deleted&&!r.typingUsers,users:o.room.users,"text-messages":o.textMessages,linkify:!1,"text-formatting":o.textFormatting,"link-options":o.linkOptions,"single-line":!0},Le({_:2},[me(e.$slots,(d,u)=>({name:u,fn:se(f=>[D(e.$slots,u,Ie(Ae(f)))])}))]),1032,["message-id","room-id","content","deleted","users","text-messages","text-formatting","link-options"])):B("",!0),!o.room.lastMessage&&r.typingUsers?(p(),w("div",mp,ce(r.typingUsers),1)):B("",!0),M("div",hp,[o.room.unreadCount?(p(),w("div",gp,ce(o.room.unreadCount),1)):B("",!0),D(e.$slots,"room-list-options_"+o.room.roomId,{},()=>[o.roomActions.length?(p(),w("div",{key:0,class:"vac-svg-button vac-list-room-options",onClick:t[0]||(t[0]=wt(d=>n.roomMenuOpened=o.room.roomId,["stop"]))},[D(e.$slots,"room-list-options-icon_"+o.room.roomId,{},()=>[H(a,{name:"dropdown",param:"room"})])])):B("",!0),o.roomActions.length?(p(),Ce(Ge,{key:1,name:"vac-slide-left"},{default:se(()=>[n.roomMenuOpened===o.room.roomId?zt((p(),w("div",pp,[M("div",vp,[(p(!0),w(Se,null,me(o.roomActions,d=>(p(),w("div",{key:d.name},[M("div",{class:"vac-menu-item",onClick:wt(u=>r.roomActionHandler(d),["stop"])},ce(d.title),9,bp)]))),128))])])),[[l,r.closeRoomMenu]]):B("",!0)]),_:1})):B("",!0)])])],2)])])])}var wp=Fe(rp,[["render",yp]]),bi=(e,t,o,s=!1)=>!o||o===""?e:e.filter(n=>s?Pn(n[t]).startsWith(Pn(o)):Pn(n[t]).includes(Pn(o)));function Pn(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const xp={name:"RoomsList",components:{Loader:gn,RoomsSearch:Pm,RoomContent:wp},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},showRoomsList:{type:Boolean,required:!0},showSearch:{type:Boolean,required:!0},showAddRoom:{type:Boolean,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0},roomsLoaded:{type:Boolean,required:!0},room:{type:Object,required:!0},customSearchRoomEnabled:{type:[Boolean,String],default:!1},roomActions:{type:Array,required:!0},scrollDistance:{type:Number,required:!0}},emits:["add-room","search-room","room-action-handler","loading-more-rooms","fetch-room","fetch-more-rooms"],data(){return{filteredRooms:this.rooms||[],observer:null,showLoader:!0,loadingMoreRooms:!1,selectedRoomId:""}},watch:{rooms:{deep:!0,handler(e,t){this.filteredRooms=e,(e.length!==t.length||this.roomsLoaded)&&(this.loadingMoreRooms=!1)}},loadingRooms(e){e||setTimeout(()=>this.initIntersectionObserver())},loadingMoreRooms(e){this.$emit("loading-more-rooms",e)},roomsLoaded:{immediate:!0,handler(e){e&&(this.loadingMoreRooms=!1,this.loadingRooms||(this.showLoader=!1))}},room:{immediate:!0,handler(e){e&&!this.isMobile&&(this.selectedRoomId=e.roomId)}}},methods:{initIntersectionObserver(){this.observer&&(this.showLoader=!0,this.observer.disconnect());const e=document.querySelector("vue-advanced-chat").shadowRoot.getElementById("infinite-loader-rooms");if(e){const t={root:document.querySelector("vue-advanced-chat").shadowRoot.getElementById("rooms-list"),rootMargin:`${this.scrollDistance}px`,threshold:0};this.observer=new IntersectionObserver(o=>{o[0].isIntersecting&&this.loadMoreRooms()},t),this.observer.observe(e)}},searchRoom(e){this.customSearchRoomEnabled?this.$emit("search-room",e.target.value):this.filteredRooms=bi(this.rooms,"roomName",e.target.value)},openRoom(e){e.roomId===this.room.roomId&&!this.isMobile||(this.isMobile||(this.selectedRoomId=e.roomId),this.$emit("fetch-room",{room:e}))},loadMoreRooms(){if(!this.loadingMoreRooms){if(this.roomsLoaded){this.loadingMoreRooms=!1,this.showLoader=!1;return}this.$emit("fetch-more-rooms"),this.loadingMoreRooms=!0}}}},_p={key:0,class:"vac-rooms-empty"},kp={key:1,id:"rooms-list",class:"vac-room-list"},Ep=["id","onClick"],Tp={key:0,id:"infinite-loader-rooms"};function Sp(e,t,o,s,n,r){const i=oe("rooms-search"),a=oe("loader"),c=oe("room-content");return zt((p(),w("div",{class:pe(["vac-rooms-container",{"vac-rooms-container-full":o.isMobile,"vac-app-border-r":!o.isMobile}])},[D(e.$slots,"rooms-header"),D(e.$slots,"rooms-list-search",{},()=>[H(i,{rooms:o.rooms,"loading-rooms":o.loadingRooms,"text-messages":o.textMessages,"show-search":o.showSearch,"show-add-room":o.showAddRoom,onSearchRoom:r.searchRoom,onAddRoom:t[0]||(t[0]=l=>e.$emit("add-room"))},Le({_:2},[me(e.$slots,(l,d)=>({name:d,fn:se(u=>[D(e.$slots,d,Ie(Ae(u)))])}))]),1032,["rooms","loading-rooms","text-messages","show-search","show-add-room","onSearchRoom"])]),H(a,{show:o.loadingRooms,type:"rooms"},Le({_:2},[me(e.$slots,(l,d)=>({name:d,fn:se(u=>[D(e.$slots,d,Ie(Ae(u)))])}))]),1032,["show"]),!o.loadingRooms&&!o.rooms.length?(p(),w("div",_p,[D(e.$slots,"rooms-empty",{},()=>[At(ce(o.textMessages.ROOMS_EMPTY),1)])])):B("",!0),o.loadingRooms?B("",!0):(p(),w("div",kp,[(p(!0),w(Se,null,me(n.filteredRooms,l=>(p(),w("div",{id:l.roomId,key:l.roomId,class:pe(["vac-room-item",{"vac-room-selected":n.selectedRoomId===l.roomId}]),onClick:d=>r.openRoom(l)},[H(c,{"current-user-id":o.currentUserId,room:l,"text-formatting":o.textFormatting,"link-options":o.linkOptions,"text-messages":o.textMessages,"room-actions":o.roomActions,onRoomActionHandler:t[1]||(t[1]=d=>e.$emit("room-action-handler",d))},Le({_:2},[me(e.$slots,(d,u)=>({name:u,fn:se(f=>[D(e.$slots,u,Ie(Ae(f)))])}))]),1032,["current-user-id","room","text-formatting","link-options","text-messages","room-actions"])],10,Ep))),128)),H(Ge,{name:"vac-fade-message"},{default:se(()=>[o.rooms.length&&!o.loadingRooms?(p(),w("div",Tp,[H(a,{show:n.showLoader,infinite:!0,type:"infinite-rooms"},Le({_:2},[me(e.$slots,(l,d)=>({name:d,fn:se(u=>[D(e.$slots,d,Ie(Ae(u)))])}))]),1032,["show"])])):B("",!0)]),_:3})]))],2)),[[hn,o.showRoomsList]])}var Mp=Fe(xp,[["render",Sp]]);const Cp={name:"RoomHeader",components:{SvgIcon:Je,Icon:Ul},directives:{clickOutside:Tn},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},roomInfoEnabled:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},room:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0},messageSelectionActions:{type:Array,required:!0},selectedMessagesTotal:{type:Number,required:!0}},emits:["toggle-rooms-list","room-info","menu-action-handler","cancel-message-selection","message-selection-action-handler"],data(){return{menuOpened:!1,messageSelectionAnimationEnded:!0,icons:{verifiedIcon:Fl}}},computed:{typingUsers(){return il(this.room,this.currentUserId,this.textMessages)},userStatus(){if(!this.room.users||this.room.users.length!==2)return;const e=this.room.users.find(o=>o._id!==this.currentUserId);if(!e.status)return;let t="";return e.status.state==="online"?t=this.textMessages.IS_ONLINE:e.status.lastChanged&&(t=this.textMessages.LAST_SEEN+e.status.lastChanged),t}},watch:{messageSelectionEnabled(e){e?this.messageSelectionAnimationEnded=!1:setTimeout(()=>{this.messageSelectionAnimationEnded=!0},300)}},methods:{menuActionHandler(e){this.closeMenu(),this.$emit("menu-action-handler",e)},closeMenu(){this.menuOpened=!1},messageSelectionActionHandler(e){this.$emit("message-selection-action-handler",e)}}},Rp={class:"vac-room-header vac-app-border-b"},Op={class:"vac-room-wrapper"},Ap={key:0,class:"vac-room-selection"},Ip=["id"],Lp=["onClick"],jp={class:"vac-selection-button-count"},Pp={class:"vac-text-ellipsis"},Np={class:"vac-room-name vac-text-ellipsis"},Up={key:0,class:"vac-room-info vac-text-ellipsis"},Fp={key:1,class:"vac-room-info vac-text-ellipsis"},Dp={key:0,class:"vac-menu-options"},Bp={class:"vac-menu-list"},Hp=["onClick"];function zp(e,t,o,s,n,r){const i=oe("svg-icon"),a=oe("Icon"),c=an("click-outside");return p(),w("div",Rp,[D(e.$slots,"room-header",{},()=>[M("div",Op,[H(Ge,{name:"vac-slide-up"},{default:se(()=>[o.messageSelectionEnabled?(p(),w("div",Ap,[(p(!0),w(Se,null,me(o.messageSelectionActions,l=>(p(),w("div",{id:l.name,key:l.name},[M("div",{class:"vac-selection-button",onClick:d=>r.messageSelectionActionHandler(l)},[At(ce(l.title)+" ",1),M("span",jp,ce(o.selectedMessagesTotal),1)],8,Lp)],8,Ip))),128)),M("div",{class:"vac-selection-cancel vac-item-clickable",onClick:t[0]||(t[0]=l=>e.$emit("cancel-message-selection"))},ce(o.textMessages.CANCEL_SELECT_MESSAGE),1)])):B("",!0)]),_:1}),!o.messageSelectionEnabled&&n.messageSelectionAnimationEnded?(p(),w(Se,{key:0},[o.singleRoom?B("",!0):(p(),w("div",{key:0,class:pe(["vac-svg-button vac-toggle-button",{"vac-rotate-icon-init":!o.isMobile,"vac-rotate-icon":!o.showRoomsList&&!o.isMobile}]),onClick:t[1]||(t[1]=l=>e.$emit("toggle-rooms-list"))},[D(e.$slots,"toggle-icon",{},()=>[H(i,{name:"toggle"})])],2)),M("div",{class:pe(["vac-info-wrapper",{"vac-item-clickable":o.roomInfoEnabled}]),onClick:t[2]||(t[2]=l=>e.$emit("room-info"))},[D(e.$slots,"room-header-avatar",{},()=>[o.room.avatar?(p(),w("div",{key:0,class:"vac-avatar",style:Te({"background-image":`url('${o.room.avatar}')`})},null,4)):B("",!0)]),D(e.$slots,"room-header-info",{},()=>[M("div",Pp,[M("div",Np,[At(ce(o.room.roomName)+" ",1),o.room.verified||o.room.official?(p(),Ce(a,{key:0,inline:!0,style:Te({color:`${o.room.official?"gold":"#2689d6"}`}),width:"14",icon:n.icons.verifiedIcon},null,8,["style","icon"])):B("",!0)]),r.typingUsers?(p(),w("div",Up,ce(r.typingUsers),1)):(p(),w("div",Fp,ce(r.userStatus),1))])])],2),o.room.roomId?D(e.$slots,"room-options",{key:1},()=>[o.menuActions.length?(p(),w("div",{key:0,class:"vac-svg-button vac-room-options",onClick:t[3]||(t[3]=l=>n.menuOpened=!n.menuOpened)},[D(e.$slots,"menu-icon",{},()=>[H(i,{name:"menu"})])])):B("",!0),o.menuActions.length?(p(),Ce(Ge,{key:1,name:"vac-slide-left"},{default:se(()=>[n.menuOpened?zt((p(),w("div",Dp,[M("div",Bp,[(p(!0),w(Se,null,me(o.menuActions,l=>(p(),w("div",{key:l.name},[M("div",{class:"vac-menu-item",onClick:d=>r.menuActionHandler(l)},ce(l.title),9,Hp)]))),128))])])),[[c,r.closeMenu]]):B("",!0)]),_:1})):B("",!0)]):B("",!0)],64)):B("",!0)])])])}var qp=Fe(Cp,[["render",zp]]);function Nn(e){if(typeof e!="string"||!e)throw new Error("expected a non-empty string, got: "+e)}function yi(e){if(typeof e!="number")throw new Error("expected a number, got: "+e)}const Kp=1,Vp=1,So="emoji",qo="keyvalue",wi="favorites",Gp="tokens",Dl="tokens",Wp="unicode",Bl="count",Yp="group",Zp="order",Hl="group-order",xi="eTag",Un="url",zl="skinTone",Ko="readonly",_i="readwrite",ql="skinUnicodes",Xp="skinUnicodes",Qp="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",Jp="en";function $p(e,t){const o=new Set,s=[];for(const n of e){const r=t(n);o.has(r)||(o.add(r),s.push(n))}return s}function Kl(e){return $p(e,t=>t.unicode)}function ev(e){function t(o,s,n){const r=s?e.createObjectStore(o,{keyPath:s}):e.createObjectStore(o);if(n)for(const[i,[a,c]]of Object.entries(n))r.createIndex(i,a,{multiEntry:c});return r}t(qo),t(So,Wp,{[Dl]:[Gp,!0],[Hl]:[[Yp,Zp]],[ql]:[Xp,!0]}),t(wi,void 0,{[Bl]:[""]})}const ki={},Fn={},Dn={};function Vl(e,t,o){o.onerror=()=>t(o.error),o.onblocked=()=>t(new Error("IDB blocked")),o.onsuccess=()=>e(o.result)}async function tv(e){const t=await new Promise((o,s)=>{const n=indexedDB.open(e,Kp);ki[e]=n,n.onupgradeneeded=r=>{r.oldVersion<Vp&&ev(n.result)},Vl(o,s,n)});return t.onclose=()=>Ei(e),t}function ov(e){return Fn[e]||(Fn[e]=tv(e)),Fn[e]}function Gt(e,t,o,s){return new Promise((n,r)=>{const i=e.transaction(t,o,{durability:"relaxed"}),a=typeof t=="string"?i.objectStore(t):t.map(l=>i.objectStore(l));let c;s(a,i,l=>{c=l}),i.oncomplete=()=>n(c),i.onerror=()=>r(i.error)})}function Ei(e){const t=ki[e],o=t&&t.result;if(o){o.close();const s=Dn[e];if(s)for(const n of s)n()}delete ki[e],delete Fn[e],delete Dn[e]}function sv(e){return new Promise((t,o)=>{Ei(e);const s=indexedDB.deleteDatabase(e);Vl(t,o,s)})}function nv(e,t){let o=Dn[e];o||(o=Dn[e]=[]),o.push(t)}const rv=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function Vo(e){return e.split(/[\s_]+/).map(t=>!t.match(/\w/)||rv.has(t)?t.toLowerCase():t.replace(/[)(:,]/g,"").replace(/’/g,"'").toLowerCase()).filter(Boolean)}const iv=2;function Gl(e){return e.filter(Boolean).map(t=>t.toLowerCase()).filter(t=>t.length>=iv)}function av(e){return e.map(({annotation:o,emoticon:s,group:n,order:r,shortcodes:i,skins:a,tags:c,emoji:l,version:d})=>{const u=[...new Set(Gl([...(i||[]).map(Vo).flat(),...c.map(Vo).flat(),...Vo(o),s]))].sort(),f={annotation:o,group:n,order:r,tags:c,tokens:u,unicode:l,version:d};if(s&&(f.emoticon=s),i&&(f.shortcodes=i),a){f.skinTones=[],f.skinUnicodes=[],f.skinVersions=[];for(const{tone:g,emoji:b,version:T}of a)f.skinTones.push(g),f.skinUnicodes.push(b),f.skinVersions.push(T)}return f})}function Wl(e,t,o,s){e[t](o).onsuccess=n=>s&&s(n.target.result)}function Mo(e,t,o){Wl(e,"get",t,o)}function Yl(e,t,o){Wl(e,"getAll",t,o)}function Ti(e){e.commit&&e.commit()}function cv(e,t){let o=e[0];for(let s=1;s<e.length;s++){const n=e[s];t(o)>t(n)&&(o=n)}return o}function Zl(e,t){const o=cv(e,n=>n.length),s=[];for(const n of o)e.some(r=>r.findIndex(i=>t(i)===t(n))===-1)||s.push(n);return s}async function lv(e){return!await Si(e,qo,Un)}async function dv(e,t,o){const[s,n]=await Promise.all([xi,Un].map(r=>Si(e,qo,r)));return s===o&&n===t}async function uv(e,t){return Gt(e,So,Ko,(s,n,r)=>{let i;const a=()=>{s.getAll(i&&IDBKeyRange.lowerBound(i,!0),50).onsuccess=c=>{const l=c.target.result;for(const d of l)if(i=d.unicode,t(d))return r(d);if(l.length<50)return r();a()}};a()})}async function Xl(e,t,o,s){try{const n=av(t);await Gt(e,[So,qo],_i,([r,i],a)=>{let c,l,d=0;function u(){++d===2&&f()}function f(){if(!(c===s&&l===o)){r.clear();for(const g of n)r.put(g);i.put(s,xi),i.put(o,Un),Ti(a)}}Mo(i,xi,g=>{c=g,u()}),Mo(i,Un,g=>{l=g,u()})})}finally{}}async function fv(e,t){return Gt(e,So,Ko,(o,s,n)=>{const r=IDBKeyRange.bound([t,0],[t+1,0],!1,!0);Yl(o.index(Hl),r,n)})}async function Ql(e,t){const o=Gl(Vo(t));return o.length?Gt(e,So,Ko,(s,n,r)=>{const i=[],a=()=>{i.length===o.length&&c()},c=()=>{const l=Zl(i,d=>d.unicode);r(l.sort((d,u)=>d.order<u.order?-1:1))};for(let l=0;l<o.length;l++){const d=o[l],u=l===o.length-1?IDBKeyRange.bound(d,d+"\uFFFF",!1,!0):IDBKeyRange.only(d);Yl(s.index(Dl),u,f=>{i.push(f),a()})}}):[]}async function mv(e,t){const o=await Ql(e,t);return o.length?o.filter(s=>(s.shortcodes||[]).map(r=>r.toLowerCase()).includes(t.toLowerCase()))[0]||null:await uv(e,n=>(n.shortcodes||[]).includes(t.toLowerCase()))||null}async function hv(e,t){return Gt(e,So,Ko,(o,s,n)=>Mo(o,t,r=>{if(r)return n(r);Mo(o.index(ql),t,i=>n(i||null))}))}function Si(e,t,o){return Gt(e,t,Ko,(s,n,r)=>Mo(s,o,r))}function gv(e,t,o,s){return Gt(e,t,_i,(n,r)=>{n.put(s,o),Ti(r)})}function pv(e,t){return Gt(e,wi,_i,(o,s)=>Mo(o,t,n=>{o.put((n||0)+1,t),Ti(s)}))}function vv(e,t,o){return o===0?[]:Gt(e,[wi,So],Ko,([s,n],r,i)=>{const a=[];s.index(Bl).openCursor(void 0,"prev").onsuccess=c=>{const l=c.target.result;if(!l)return i(a);function d(g){if(a.push(g),a.length===o)return i(a);l.continue()}const u=l.primaryKey,f=t.byName(u);if(f)return d(f);Mo(n,u,g=>{if(g)return d(g);l.continue()})}})}const Bn="";function bv(e,t){const o=new Map;for(const n of e){const r=t(n);for(const i of r){let a=o;for(let l=0;l<i.length;l++){const d=i.charAt(l);let u=a.get(d);u||(u=new Map,a.set(d,u)),a=u}let c=a.get(Bn);c||(c=[],a.set(Bn,c)),c.push(n)}}return(n,r)=>{let i=o;for(let l=0;l<n.length;l++){const d=n.charAt(l),u=i.get(d);if(u)i=u;else return[]}if(r)return i.get(Bn)||[];const a=[],c=[i];for(;c.length;){const d=[...c.shift().entries()].sort((u,f)=>u[0]<f[0]?-1:1);for(const[u,f]of d)u===Bn?a.push(...f):c.push(f)}return a}}const yv=["name","url"];function wv(e){const t=e&&Array.isArray(e),o=t&&e.length&&(!e[0]||yv.some(s=>!(s in e[0])));if(!t||o)throw new Error("Custom emojis are in the wrong format")}function Jl(e){wv(e);const t=(f,g)=>f.name.toLowerCase()<g.name.toLowerCase()?-1:1,o=e.sort(t),n=bv(e,f=>[...new Set((f.shortcodes||[]).map(g=>Vo(g)).flat())]),r=f=>n(f,!0),i=f=>n(f,!1),a=f=>{const g=Vo(f),b=g.map((T,k)=>(k<g.length-1?r:i)(T));return Zl(b,T=>T.name).sort(t)},c=new Map,l=new Map;for(const f of e){l.set(f.name.toLowerCase(),f);for(const g of f.shortcodes||[])c.set(g.toLowerCase(),f)}return{all:o,search:a,byShortcode:f=>c.get(f.toLowerCase()),byName:f=>l.get(f.toLowerCase())}}function Os(e){if(!e)return e;if(delete e.tokens,e.skinTones){const t=e.skinTones.length;e.skins=Array(t);for(let o=0;o<t;o++)e.skins[o]={tone:e.skinTones[o],unicode:e.skinUnicodes[o],version:e.skinVersions[o]};delete e.skinTones,delete e.skinUnicodes,delete e.skinVersions}return e}function $l(e){e||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const xv=["annotation","emoji","group","order","tags","version"];function _v(e){if(!e||!Array.isArray(e)||!e[0]||typeof e[0]!="object"||xv.some(t=>!(t in e[0])))throw new Error("Emoji data is in the wrong format")}function ed(e,t){if(Math.floor(e.status/100)!==2)throw new Error("Failed to fetch: "+t+":  "+e.status)}async function kv(e){const t=await fetch(e,{method:"HEAD"});ed(t,e);const o=t.headers.get("etag");return $l(o),o}async function Mi(e){const t=await fetch(e);ed(t,e);const o=t.headers.get("etag");$l(o);const s=await t.json();return _v(s),[o,s]}function Ev(e){for(var t="",o=new Uint8Array(e),s=o.byteLength,n=-1;++n<s;)t+=String.fromCharCode(o[n]);return t}function Tv(e){for(var t=e.length,o=new ArrayBuffer(t),s=new Uint8Array(o),n=-1;++n<t;)s[n]=e.charCodeAt(n);return o}async function td(e){const t=JSON.stringify(e),o=Tv(t),s=await crypto.subtle.digest("SHA-1",o),n=Ev(s);return btoa(n)}async function Sv(e,t){let o,s=await kv(t);if(!s){const n=await Mi(t);s=n[0],o=n[1],s||(s=await td(o))}await dv(e,t,s)||(o||(o=(await Mi(t))[1]),await Xl(e,o,t,s))}async function Mv(e,t){let[o,s]=await Mi(t);o||(o=await td(s)),await Xl(e,s,t,o)}class od{constructor({dataSource:t=Qp,locale:o=Jp,customEmoji:s=[]}={}){this.dataSource=t,this.locale=o,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=Jl(s),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const t=this._db=await ov(this._dbName);nv(this._dbName,this._clear);const o=this.dataSource;await lv(t)?await Mv(t,o):this._lazyUpdate=Sv(t,o)}async ready(){const t=async()=>(this._ready||(this._ready=this._init()),this._ready);await t(),this._db||await t()}async getEmojiByGroup(t){return yi(t),await this.ready(),Kl(await fv(this._db,t)).map(Os)}async getEmojiBySearchQuery(t){Nn(t),await this.ready();const o=this._custom.search(t),s=Kl(await Ql(this._db,t)).map(Os);return[...o,...s]}async getEmojiByShortcode(t){Nn(t),await this.ready();const o=this._custom.byShortcode(t);return o||Os(await mv(this._db,t))}async getEmojiByUnicodeOrName(t){Nn(t),await this.ready();const o=this._custom.byName(t);return o||Os(await hv(this._db,t))}async getPreferredSkinTone(){return await this.ready(),await Si(this._db,qo,zl)||0}async setPreferredSkinTone(t){return yi(t),await this.ready(),gv(this._db,qo,zl,t)}async incrementFavoriteEmojiCount(t){return Nn(t),await this.ready(),pv(this._db,t)}async getTopFavoriteEmoji(t){return yi(t),await this.ready(),(await vv(this._db,this._custom,t)).map(Os)}set customEmoji(t){this._custom=Jl(t)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch{}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await Ei(this._dbName)}async delete(){await this._shutdown(),await sv(this._dbName)}}function As(){}function sd(e){return e()}function nd(){return Object.create(null)}function Is(e){e.forEach(sd)}function rd(e){return typeof e=="function"}function Cv(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Hn;function zn(e,t){return Hn||(Hn=document.createElement("a")),Hn.href=t,e===Hn.href}function Rv(e){return Object.keys(e).length===0}function Ov(e){return e&&rd(e.destroy)?e.destroy:As}function Be(e,t){e.appendChild(t)}function Tt(e,t,o){e.insertBefore(t,o||null)}function St(e){e.parentNode.removeChild(e)}function Pe(e){return document.createElement(e)}function Nt(e){return document.createTextNode(e)}function Mt(e,t,o,s){return e.addEventListener(t,o,s),()=>e.removeEventListener(t,o,s)}function y(e,t,o){o==null?e.removeAttribute(t):e.getAttribute(t)!==o&&e.setAttribute(t,o)}function Ut(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function id(e,t){e.value=t==null?"":t}function no(e,t,o,s){o===null?e.style.removeProperty(t):e.style.setProperty(t,o,s?"important":"")}let Ci;function Ls(e){Ci=e}const js=[],Go=[],qn=[],ad=[],cd=Promise.resolve();let Ri=!1;function ld(){Ri||(Ri=!0,cd.then(dd))}function Av(){return ld(),cd}function Oi(e){qn.push(e)}const Ai=new Set;let Kn=0;function dd(){const e=Ci;do{for(;Kn<js.length;){const t=js[Kn];Kn++,Ls(t),Iv(t.$$)}for(Ls(null),js.length=0,Kn=0;Go.length;)Go.pop()();for(let t=0;t<qn.length;t+=1){const o=qn[t];Ai.has(o)||(Ai.add(o),o())}qn.length=0}while(js.length);for(;ad.length;)ad.pop()();Ri=!1,Ai.clear(),Ls(e)}function Iv(e){if(e.fragment!==null){e.update(),Is(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Oi)}}const Lv=new Set;function jv(e,t){e&&e.i&&(Lv.delete(e),e.i(t))}const Pv=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function Ps(e,t){e.d(1),t.delete(e.key)}function Ns(e,t,o,s,n,r,i,a,c,l,d,u){let f=e.length,g=r.length,b=f;const T={};for(;b--;)T[e[b].key]=b;const k=[],q=new Map,J=new Map;for(b=g;b--;){const W=u(n,r,b),N=o(W);let P=i.get(N);P?s&&P.p(W,t):(P=l(N,W),P.c()),q.set(N,k[b]=P),N in T&&J.set(N,Math.abs(b-T[N]))}const X=new Set,ae=new Set;function ue(W){jv(W,1),W.m(a,d),i.set(W.key,W),d=W.first,g--}for(;f&&g;){const W=k[g-1],N=e[f-1],P=W.key,te=N.key;W===N?(d=W.first,f--,g--):q.has(te)?!i.has(P)||X.has(P)?ue(W):ae.has(te)?f--:J.get(P)>J.get(te)?(ae.add(P),ue(W)):(X.add(te),f--):(c(N,i),f--)}for(;f--;){const W=e[f];q.has(W.key)||c(W,i)}for(;g;)ue(k[g-1]);return k}function Nv(e,t,o,s){const{fragment:n,on_mount:r,on_destroy:i,after_update:a}=e.$$;n&&n.m(t,o),s||Oi(()=>{const c=r.map(sd).filter(rd);i?i.push(...c):Is(c),e.$$.on_mount=[]}),a.forEach(Oi)}function Uv(e,t){const o=e.$$;o.fragment!==null&&(Is(o.on_destroy),o.fragment&&o.fragment.d(t),o.on_destroy=o.fragment=null,o.ctx=[])}function Fv(e,t){e.$$.dirty[0]===-1&&(js.push(e),ld(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Dv(e,t,o,s,n,r,i,a=[-1]){const c=Ci;Ls(e);const l=e.$$={fragment:null,ctx:null,props:r,update:As,not_equal:n,bound:nd(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:nd(),dirty:a,skip_bound:!1,root:t.target||c.$$.root};i&&i(l.root);let d=!1;l.ctx=o?o(e,t.props||{},(u,f,...g)=>{const b=g.length?g[0]:f;return l.ctx&&n(l.ctx[u],l.ctx[u]=b)&&(!l.skip_bound&&l.bound[u]&&l.bound[u](b),d&&Fv(e,u)),f}):[],l.update(),d=!0,Is(l.before_update),l.fragment=s?s(l.ctx):!1,t.target&&(l.fragment&&l.fragment.c(),Nv(e,t.target,void 0,void 0),dd()),Ls(c)}class Bv{$destroy(){Uv(this,1),this.$destroy=As}$on(t,o){const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(o),()=>{const n=s.indexOf(o);n!==-1&&s.splice(n,1)}}$set(t){this.$$set&&!Rv(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ud=[[-1,"\u2728","custom"],[0,"\u{1F600}","smileys-emotion"],[1,"\u{1F44B}","people-body"],[3,"\u{1F431}","animals-nature"],[4,"\u{1F34E}","food-drink"],[5,"\u{1F3E0}\uFE0F","travel-places"],[6,"\u26BD","activities"],[7,"\u{1F4DD}","objects"],[8,"\u26D4\uFE0F","symbols"],[9,"\u{1F3C1}","flags"]].map(([e,t,o])=>({id:e,emoji:t,name:o})),Vn=ud.slice(1),Hv=ud[0],zv=2,fd=6,md=typeof requestIdleCallback=="function"?requestIdleCallback:setTimeout;function hd(e){return e.unicode.includes("\u200D")}const qv={"\u{1FAE0}":14,"\u{1F972}":13.1,"\u{1F97B}":12.1,"\u{1F970}":11,"\u{1F929}":5,"\u{1F471}\u200D\u2640\uFE0F":4,"\u{1F923}":3,"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":2,"\u{1F600}":1,"\u{1F610}\uFE0F":.7,"\u{1F603}":.6},Kv=1e3,Vv="\u{1F590}\uFE0F",Gv=8,Wv=["\u{1F60A}","\u{1F612}","\u2665\uFE0F","\u{1F44D}\uFE0F","\u{1F60D}","\u{1F602}","\u{1F62D}","\u263A\uFE0F","\u{1F614}","\u{1F629}","\u{1F60F}","\u{1F495}","\u{1F64C}","\u{1F618}"],gd='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',Yv=(e,t)=>e<t?-1:e>t?1:0,pd=(e,t)=>{const o=document.createElement("canvas");o.width=o.height=1;const s=o.getContext("2d");return s.textBaseline="top",s.font=`100px ${gd}`,s.fillStyle=t,s.scale(.01,.01),s.fillText(e,0,0),s.getImageData(0,0,1,1).data},Zv=(e,t)=>{const o=[...e].join(","),s=[...t].join(",");return o===s&&!o.startsWith("0,0,0,")};function Xv(e){const t=pd(e,"#000"),o=pd(e,"#fff");return t&&o&&Zv(t,o)}function Qv(){const e=Object.entries(qv);try{for(const[t,o]of e)if(Xv(t))return o}catch{}finally{}return e[0][1]}const Ii=new Promise(e=>md(()=>e(Qv()))),Li=new Map,Jv="\uFE0F",$v="\uD83C",eb="\u200D",tb=127995,ob=57339;function sb(e,t){if(t===0)return e;const o=e.indexOf(eb);return o!==-1?e.substring(0,o)+String.fromCodePoint(tb+t-1)+e.substring(o):(e.endsWith(Jv)&&(e=e.substring(0,e.length-1)),e+$v+String.fromCodePoint(ob+t-1))}function ro(e){e.preventDefault(),e.stopPropagation()}function ji(e,t,o){return t+=e?-1:1,t<0?t=o.length-1:t>=o.length&&(t=0),t}function vd(e,t){const o=new Set,s=[];for(const n of e){const r=t(n);o.has(r)||(o.add(r),s.push(n))}return s}function nb(e,t){const o=s=>{const n={};for(const r of s)typeof r.tone=="number"&&r.version<=t&&(n[r.tone]=r.unicode);return n};return e.map(({unicode:s,skins:n,shortcodes:r,url:i,name:a,category:c})=>({unicode:s,name:a,shortcodes:r,url:i,category:c,id:s||a,skins:n&&o(n),title:(r||[]).join(", ")}))}const Gn=requestAnimationFrame;let rb=typeof ResizeObserver=="function";function ib(e,t){let o;return rb?(o=new ResizeObserver(s=>t(s[0].contentRect.width)),o.observe(e)):Gn(()=>t(e.getBoundingClientRect().width)),{destroy(){o&&o.disconnect()}}}function bd(e){{const t=document.createRange();return t.selectNode(e.firstChild),t.getBoundingClientRect().width}}let Pi;function ab(e,t,o){for(const s of e){const n=o(s),r=bd(n);typeof Pi=="undefined"&&(Pi=bd(t));const i=r/1.8<Pi;Li.set(s.unicode,i)}}function cb(e){return vd(e,t=>t)}const{Map:Us}=Pv;function yd(e,t,o){const s=e.slice();return s[63]=t[o],s[65]=o,s}function wd(e,t,o){const s=e.slice();return s[66]=t[o],s[65]=o,s}function xd(e,t,o){const s=e.slice();return s[63]=t[o],s[65]=o,s}function _d(e,t,o){const s=e.slice();return s[69]=t[o],s}function kd(e,t,o){const s=e.slice();return s[72]=t[o],s[65]=o,s}function Ed(e,t){let o,s=t[72]+"",n,r,i,a,c,l;return{key:e,first:null,c(){o=Pe("div"),n=Nt(s),y(o,"id",r="skintone-"+t[65]),y(o,"class",i="emoji hide-focus "+(t[65]===t[20]?"active":"")),y(o,"aria-selected",a=t[65]===t[20]),y(o,"role","option"),y(o,"title",c=t[0].skinTones[t[65]]),y(o,"tabindex","-1"),y(o,"aria-label",l=t[0].skinTones[t[65]]),this.first=o},m(d,u){Tt(d,o,u),Be(o,n)},p(d,u){t=d,u[0]&512&&s!==(s=t[72]+"")&&Ut(n,s),u[0]&512&&r!==(r="skintone-"+t[65])&&y(o,"id",r),u[0]&1049088&&i!==(i="emoji hide-focus "+(t[65]===t[20]?"active":""))&&y(o,"class",i),u[0]&1049088&&a!==(a=t[65]===t[20])&&y(o,"aria-selected",a),u[0]&513&&c!==(c=t[0].skinTones[t[65]])&&y(o,"title",c),u[0]&513&&l!==(l=t[0].skinTones[t[65]])&&y(o,"aria-label",l)},d(d){d&&St(o)}}}function Td(e,t){let o,s,n=t[69].emoji+"",r,i,a,c,l,d,u;function f(){return t[49](t[69])}return{key:e,first:null,c(){o=Pe("button"),s=Pe("div"),r=Nt(n),y(s,"class","nav-emoji emoji"),y(o,"role","tab"),y(o,"class","nav-button"),y(o,"aria-controls",i="tab-"+t[69].id),y(o,"aria-label",a=t[0].categories[t[69].name]),y(o,"aria-selected",c=!t[4]&&t[13].id===t[69].id),y(o,"title",l=t[0].categories[t[69].name]),this.first=o},m(g,b){Tt(g,o,b),Be(o,s),Be(s,r),d||(u=Mt(o,"click",f),d=!0)},p(g,b){t=g,b[0]&4096&&n!==(n=t[69].emoji+"")&&Ut(r,n),b[0]&4096&&i!==(i="tab-"+t[69].id)&&y(o,"aria-controls",i),b[0]&4097&&a!==(a=t[0].categories[t[69].name])&&y(o,"aria-label",a),b[0]&12304&&c!==(c=!t[4]&&t[13].id===t[69].id)&&y(o,"aria-selected",c),b[0]&4097&&l!==(l=t[0].categories[t[69].name])&&y(o,"title",l)},d(g){g&&St(o),d=!1,u()}}}function lb(e){let t,o;return{c(){t=Pe("img"),y(t,"class","custom-emoji"),zn(t.src,o=e[63].url)||y(t,"src",o),y(t,"alt",""),y(t,"loading","lazy")},m(s,n){Tt(s,t,n)},p(s,n){n[0]&32768&&!zn(t.src,o=s[63].url)&&y(t,"src",o)},d(s){s&&St(t)}}}function db(e){let t=e[27](e[63],e[8])+"",o;return{c(){o=Nt(t)},m(s,n){Tt(s,o,n)},p(s,n){n[0]&33024&&t!==(t=s[27](s[63],s[8])+"")&&Ut(o,t)},d(s){s&&St(o)}}}function Sd(e,t){let o,s,n,r,i,a,c;function l(f,g){return f[63].unicode?db:lb}let d=l(t),u=d(t);return{key:e,first:null,c(){o=Pe("button"),u.c(),y(o,"role",s=t[4]?"option":"menuitem"),y(o,"aria-selected",n=t[4]?t[65]==t[5]:""),y(o,"aria-label",r=t[28](t[63],t[8])),y(o,"title",i=t[63].title),y(o,"class",a="emoji "+(t[4]&&t[65]===t[5]?"active":"")),y(o,"id",c="emo-"+t[63].id),this.first=o},m(f,g){Tt(f,o,g),u.m(o,null)},p(f,g){t=f,d===(d=l(t))&&u?u.p(t,g):(u.d(1),u=d(t),u&&(u.c(),u.m(o,null))),g[0]&16&&s!==(s=t[4]?"option":"menuitem")&&y(o,"role",s),g[0]&32816&&n!==(n=t[4]?t[65]==t[5]:"")&&y(o,"aria-selected",n),g[0]&33024&&r!==(r=t[28](t[63],t[8]))&&y(o,"aria-label",r),g[0]&32768&&i!==(i=t[63].title)&&y(o,"title",i),g[0]&32816&&a!==(a="emoji "+(t[4]&&t[65]===t[5]?"active":""))&&y(o,"class",a),g[0]&32768&&c!==(c="emo-"+t[63].id)&&y(o,"id",c)},d(f){f&&St(o),u.d()}}}function Md(e,t){let o,s=(t[4]?t[0].searchResultsLabel:t[66].category?t[66].category:t[15].length>1?t[0].categories.custom:t[0].categories[t[13].name])+"",n,r,i,a,c=[],l=new Us,d,u,f,g=t[66].emojis;const b=T=>T[63].id;for(let T=0;T<g.length;T+=1){let k=xd(t,g,T),q=b(k);l.set(q,c[T]=Sd(q,k))}return{key:e,first:null,c(){o=Pe("div"),n=Nt(s),a=Pe("div");for(let T=0;T<c.length;T+=1)c[T].c();y(o,"id",r="menu-label-"+t[65]),y(o,"class",i="category "+(t[15].length===1&&t[15][0].category===""?"gone":"")),y(o,"aria-hidden","true"),y(a,"class","emoji-menu"),y(a,"role",d=t[4]?"listbox":"menu"),y(a,"aria-labelledby",u="menu-label-"+t[65]),y(a,"id",f=t[4]?"search-results":""),this.first=o},m(T,k){Tt(T,o,k),Be(o,n),Tt(T,a,k);for(let q=0;q<c.length;q+=1)c[q].m(a,null)},p(T,k){t=T,k[0]&40977&&s!==(s=(t[4]?t[0].searchResultsLabel:t[66].category?t[66].category:t[15].length>1?t[0].categories.custom:t[0].categories[t[13].name])+"")&&Ut(n,s),k[0]&32768&&r!==(r="menu-label-"+t[65])&&y(o,"id",r),k[0]&32768&&i!==(i="category "+(t[15].length===1&&t[15][0].category===""?"gone":""))&&y(o,"class",i),k[0]&402686256&&(g=t[66].emojis,c=Ns(c,k,b,1,t,g,l,a,Ps,Sd,null,xd)),k[0]&16&&d!==(d=t[4]?"listbox":"menu")&&y(a,"role",d),k[0]&32768&&u!==(u="menu-label-"+t[65])&&y(a,"aria-labelledby",u),k[0]&16&&f!==(f=t[4]?"search-results":"")&&y(a,"id",f)},d(T){T&&St(o),T&&St(a);for(let k=0;k<c.length;k+=1)c[k].d()}}}function ub(e){let t,o;return{c(){t=Pe("img"),y(t,"class","custom-emoji"),zn(t.src,o=e[63].url)||y(t,"src",o),y(t,"alt",""),y(t,"loading","lazy")},m(s,n){Tt(s,t,n)},p(s,n){n[0]&1024&&!zn(t.src,o=s[63].url)&&y(t,"src",o)},d(s){s&&St(t)}}}function fb(e){let t=e[27](e[63],e[8])+"",o;return{c(){o=Nt(t)},m(s,n){Tt(s,o,n)},p(s,n){n[0]&1280&&t!==(t=s[27](s[63],s[8])+"")&&Ut(o,t)},d(s){s&&St(o)}}}function Cd(e,t){let o,s,n,r;function i(l,d){return l[63].unicode?fb:ub}let a=i(t),c=a(t);return{key:e,first:null,c(){o=Pe("button"),c.c(),y(o,"role","menuitem"),y(o,"aria-label",s=t[28](t[63],t[8])),y(o,"title",n=t[63].title),y(o,"class","emoji"),y(o,"id",r="fav-"+t[63].id),this.first=o},m(l,d){Tt(l,o,d),c.m(o,null)},p(l,d){t=l,a===(a=i(t))&&c?c.p(t,d):(c.d(1),c=a(t),c&&(c.c(),c.m(o,null))),d[0]&1280&&s!==(s=t[28](t[63],t[8]))&&y(o,"aria-label",s),d[0]&1024&&n!==(n=t[63].title)&&y(o,"title",n),d[0]&1024&&r!==(r="fav-"+t[63].id)&&y(o,"id",r)},d(l){l&&St(o),c.d()}}}function mb(e){let t,o,s,n,r,i,a,c,l,d=e[0].searchLabel+"",u,f,g=e[0].searchDescription+"",b,T,k,q,J,X,ae,ue=e[0].skinToneDescription+"",W,N,P=[],te=new Us,re,he,G,we,Me,He=[],Oe=new Us,ge,fe,S,x,I,Y,F,le,be=[],ze=new Us,Ee,qe,gt,Ye,Ne,at=[],m=new Us,h,_,C,R,U,K,j=e[9];const z=E=>E[72];for(let E=0;E<j.length;E+=1){let A=kd(e,j,E),v=z(A);te.set(v,P[E]=Ed(v,A))}let O=e[12];const $=E=>E[69].id;for(let E=0;E<O.length;E+=1){let A=_d(e,O,E),v=$(A);Oe.set(v,He[E]=Td(v,A))}let Z=e[15];const ee=E=>E[66].category;for(let E=0;E<Z.length;E+=1){let A=wd(e,Z,E),v=ee(A);ze.set(v,be[E]=Md(v,A))}let ne=e[10];const xe=E=>E[63].id;for(let E=0;E<ne.length;E+=1){let A=yd(e,ne,E),v=xe(A);m.set(v,at[E]=Cd(v,A))}return{c(){t=Pe("section"),o=Pe("div"),s=Pe("div"),n=Pe("div"),r=Pe("input"),l=Pe("label"),u=Nt(d),f=Pe("span"),b=Nt(g),T=Pe("div"),k=Pe("button"),q=Nt(e[21]),ae=Pe("span"),W=Nt(ue),N=Pe("div");for(let E=0;E<P.length;E+=1)P[E].c();Me=Pe("div");for(let E=0;E<He.length;E+=1)He[E].c();fe=Pe("div"),S=Pe("div"),x=Pe("div"),I=Nt(e[18]),F=Pe("div"),le=Pe("div");for(let E=0;E<be.length;E+=1)be[E].c();Ne=Pe("div");for(let E=0;E<at.length;E+=1)at[E].c();C=Pe("button"),C.textContent="\u{1F600}",y(o,"class","pad-top"),y(r,"id","search"),y(r,"class","search"),y(r,"type","search"),y(r,"role","combobox"),y(r,"enterkeyhint","search"),y(r,"placeholder",i=e[0].searchLabel),y(r,"autocapitalize","none"),y(r,"autocomplete","off"),y(r,"spellcheck","true"),y(r,"aria-expanded",a=!!(e[4]&&e[1].length)),y(r,"aria-controls","search-results"),y(r,"aria-describedby","search-description"),y(r,"aria-autocomplete","list"),y(r,"aria-activedescendant",c=e[26]?`emo-${e[26]}`:""),y(l,"class","sr-only"),y(l,"for","search"),y(f,"id","search-description"),y(f,"class","sr-only"),y(n,"class","search-wrapper"),y(k,"id","skintone-button"),y(k,"class",J="emoji "+(e[6]?"hide-focus":"")),y(k,"aria-label",e[23]),y(k,"title",e[23]),y(k,"aria-describedby","skintone-description"),y(k,"aria-haspopup","listbox"),y(k,"aria-expanded",e[6]),y(k,"aria-controls","skintone-list"),y(T,"class",X="skintone-button-wrapper "+(e[19]?"expanded":"")),y(ae,"id","skintone-description"),y(ae,"class","sr-only"),y(N,"id","skintone-list"),y(N,"class",re="skintone-list "+(e[6]?"":"hidden no-animate")),no(N,"transform","translateY("+(e[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),y(N,"role","listbox"),y(N,"aria-label",he=e[0].skinTonesLabel),y(N,"aria-activedescendant",G="skintone-"+e[20]),y(N,"aria-hidden",we=!e[6]),y(s,"class","search-row"),y(Me,"class","nav"),y(Me,"role","tablist"),no(Me,"grid-template-columns","repeat("+e[12].length+", 1fr)"),y(Me,"aria-label",ge=e[0].categoriesLabel),y(S,"class","indicator"),no(S,"transform","translateX("+(e[24]?-1:1)*e[11]*100+"%)"),y(fe,"class","indicator-wrapper"),y(x,"class",Y="message "+(e[18]?"":"gone")),y(x,"role","alert"),y(x,"aria-live","polite"),y(F,"class",Ee="tabpanel "+(!e[14]||e[18]?"gone":"")),y(F,"role",qe=e[4]?"region":"tabpanel"),y(F,"aria-label",gt=e[4]?e[0].searchResultsLabel:e[0].categories[e[13].name]),y(F,"id",Ye=e[4]?"":`tab-${e[13].id}`),y(F,"tabindex","0"),y(Ne,"class",h="favorites emoji-menu "+(e[18]?"gone":"")),y(Ne,"role","menu"),y(Ne,"aria-label",_=e[0].favoritesLabel),no(Ne,"padding-inline-end",e[25]+"px"),y(C,"aria-hidden","true"),y(C,"tabindex","-1"),y(C,"class","abs-pos hidden emoji"),y(t,"class","picker"),y(t,"aria-label",R=e[0].regionLabel),y(t,"style",e[22])},m(E,A){Tt(E,t,A),Be(t,o),Be(t,s),Be(s,n),Be(n,r),id(r,e[2]),Be(n,l),Be(l,u),Be(n,f),Be(f,b),Be(s,T),Be(T,k),Be(k,q),Be(s,ae),Be(ae,W),Be(s,N);for(let v=0;v<P.length;v+=1)P[v].m(N,null);e[48](N),Be(t,Me);for(let v=0;v<He.length;v+=1)He[v].m(Me,null);Be(t,fe),Be(fe,S),Be(t,x),Be(x,I),Be(t,F),Be(F,le);for(let v=0;v<be.length;v+=1)be[v].m(le,null);e[50](F),Be(t,Ne);for(let v=0;v<at.length;v+=1)at[v].m(Ne,null);Be(t,C),e[51](C),e[52](t),U||(K=[Mt(r,"input",e[47]),Mt(r,"keydown",e[30]),Mt(k,"click",e[35]),Mt(N,"focusout",e[38]),Mt(N,"click",e[34]),Mt(N,"keydown",e[36]),Mt(N,"keyup",e[37]),Mt(Me,"keydown",e[32]),Ov(e[29].call(null,le)),Mt(F,"click",e[33]),Mt(Ne,"click",e[33])],U=!0)},p(E,A){A[0]&1&&i!==(i=E[0].searchLabel)&&y(r,"placeholder",i),A[0]&18&&a!==(a=!!(E[4]&&E[1].length))&&y(r,"aria-expanded",a),A[0]&67108864&&c!==(c=E[26]?`emo-${E[26]}`:"")&&y(r,"aria-activedescendant",c),A[0]&4&&id(r,E[2]),A[0]&1&&d!==(d=E[0].searchLabel+"")&&Ut(u,d),A[0]&1&&g!==(g=E[0].searchDescription+"")&&Ut(b,g),A[0]&2097152&&Ut(q,E[21]),A[0]&64&&J!==(J="emoji "+(E[6]?"hide-focus":""))&&y(k,"class",J),A[0]&8388608&&y(k,"aria-label",E[23]),A[0]&8388608&&y(k,"title",E[23]),A[0]&64&&y(k,"aria-expanded",E[6]),A[0]&524288&&X!==(X="skintone-button-wrapper "+(E[19]?"expanded":""))&&y(T,"class",X),A[0]&1&&ue!==(ue=E[0].skinToneDescription+"")&&Ut(W,ue),A[0]&1049089&&(j=E[9],P=Ns(P,A,z,1,E,j,te,N,Ps,Ed,null,kd)),A[0]&64&&re!==(re="skintone-list "+(E[6]?"":"hidden no-animate"))&&y(N,"class",re),A[0]&64&&no(N,"transform","translateY("+(E[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),A[0]&1&&he!==(he=E[0].skinTonesLabel)&&y(N,"aria-label",he),A[0]&1048576&&G!==(G="skintone-"+E[20])&&y(N,"aria-activedescendant",G),A[0]&64&&we!==(we=!E[6])&&y(N,"aria-hidden",we),A[0]&12305|A[1]&1&&(O=E[12],He=Ns(He,A,$,1,E,O,Oe,Me,Ps,Td,null,_d)),A[0]&4096&&no(Me,"grid-template-columns","repeat("+E[12].length+", 1fr)"),A[0]&1&&ge!==(ge=E[0].categoriesLabel)&&y(Me,"aria-label",ge),A[0]&16779264&&no(S,"transform","translateX("+(E[24]?-1:1)*E[11]*100+"%)"),A[0]&262144&&Ut(I,E[18]),A[0]&262144&&Y!==(Y="message "+(E[18]?"":"gone"))&&y(x,"class",Y),A[0]&402694449&&(Z=E[15],be=Ns(be,A,ee,1,E,Z,ze,le,Ps,Md,null,wd)),A[0]&278528&&Ee!==(Ee="tabpanel "+(!E[14]||E[18]?"gone":""))&&y(F,"class",Ee),A[0]&16&&qe!==(qe=E[4]?"region":"tabpanel")&&y(F,"role",qe),A[0]&8209&&gt!==(gt=E[4]?E[0].searchResultsLabel:E[0].categories[E[13].name])&&y(F,"aria-label",gt),A[0]&8208&&Ye!==(Ye=E[4]?"":`tab-${E[13].id}`)&&y(F,"id",Ye),A[0]&402654464&&(ne=E[10],at=Ns(at,A,xe,1,E,ne,m,Ne,Ps,Cd,null,yd)),A[0]&262144&&h!==(h="favorites emoji-menu "+(E[18]?"gone":""))&&y(Ne,"class",h),A[0]&1&&_!==(_=E[0].favoritesLabel)&&y(Ne,"aria-label",_),A[0]&33554432&&no(Ne,"padding-inline-end",E[25]+"px"),A[0]&1&&R!==(R=E[0].regionLabel)&&y(t,"aria-label",R),A[0]&4194304&&y(t,"style",E[22])},i:As,o:As,d(E){E&&St(t);for(let A=0;A<P.length;A+=1)P[A].d();e[48](null);for(let A=0;A<He.length;A+=1)He[A].d();for(let A=0;A<be.length;A+=1)be[A].d();e[50](null);for(let A=0;A<at.length;A+=1)at[A].d();e[51](null),e[52](null),U=!1,Is(K)}}}function hb(e,t,o){let{skinToneEmoji:s}=t,{i18n:n}=t,{database:r}=t,{customEmoji:i}=t,{customCategorySorting:a}=t,c=!0,l=[],d=[],u="",f="",g,b,T,k=!1,q=-1,J,X=!1,ae=!1,ue,W=0,N=0,P,te,re="",he=[],G=[],we,Me=Gv,He=!1,Oe=0,ge=0,fe=Vn,S,x=!1,I;const Y=v=>{g.getRootNode().getElementById(v).focus()},F=(v,V)=>{g.dispatchEvent(new CustomEvent(v,{detail:V,bubbles:!0,composed:!0}))},le=(v,V)=>V&&v.skins&&v.skins[V]||v.unicode,be=(v,V)=>cb([v.name||le(v,V),...v.shortcodes||[]]).join(", "),ze=v=>/^skintone-/.test(v.id);Ii.then(v=>{v||o(18,J=n.emojiUnsupportedMessage)});function Ee(v){return ib(v,V=>{{const de=getComputedStyle(g),Ke=parseInt(de.getPropertyValue("--num-columns"),10),$e=de.getPropertyValue("direction")==="rtl",ct=v.parentElement.getBoundingClientRect().width-V;o(46,Me=Ke),o(25,Oe=ct),o(24,He=$e)}})}function qe(v){const V=g.getRootNode();ab(v,b,Ke=>V.getElementById(`emo-${Ke.id}`)),o(1,l=l)}function gt(v){return!v.unicode||!hd(v)||Li.get(v.unicode)}async function Ye(v){const V=await Ii;return v.filter(({version:de})=>!de||de<=V)}async function Ne(v){return nb(v,await Ii)}async function at(v){if(typeof v=="undefined")return[];const V=v===-1?i:await r.getEmojiByGroup(v);return Ne(await Ye(V))}async function m(v){return Ne(await Ye(await r.getEmojiBySearchQuery(v)))}function h(v){if(!k||!l.length)return;const V=de=>{ro(v),o(5,q=ji(de,q,l))};switch(v.key){case"ArrowDown":return V(!1);case"ArrowUp":return V(!0);case"Enter":if(q!==-1)return ro(v),R(l[q].id);l.length&&o(5,q=0)}}function _(v){o(2,u=""),o(44,f=""),o(5,q=-1),o(11,ge=fe.findIndex(V=>V.id===v.id))}function C(v){const{target:V,key:de}=v,Ke=$e=>{$e&&(ro(v),$e.focus())};switch(de){case"ArrowLeft":return Ke(V.previousSibling);case"ArrowRight":return Ke(V.nextSibling);case"Home":return Ke(V.parentElement.firstChild);case"End":return Ke(V.parentElement.lastChild)}}async function R(v){const V=await r.getEmojiByUnicodeOrName(v),de=[...l,...G].find($e=>$e.id===v),Ke=de.unicode&&le(de,W);await r.incrementFavoriteEmojiCount(v),F("emoji-click",{emoji:V,skinTone:W,...Ke&&{unicode:Ke},...de.name&&{name:de.name}})}async function U(v){const{target:V}=v;if(!V.classList.contains("emoji"))return;ro(v);const de=V.id.substring(4);R(de)}async function K(v){const{target:V}=v;if(!ze(V))return;ro(v);const de=parseInt(V.id.slice(9),10);o(8,W=de),o(6,X=!1),Y("skintone-button"),F("skin-tone-change",{skinTone:de}),r.setPreferredSkinTone(de)}async function j(v){o(6,X=!X),o(20,N=W),X&&(ro(v),Gn(()=>Y(`skintone-${N}`)))}function z(v){if(!X)return;const V=async de=>{ro(v),o(20,N=de),await Av(),Y(`skintone-${N}`)};switch(v.key){case"ArrowUp":return V(ji(!0,N,he));case"ArrowDown":return V(ji(!1,N,he));case"Home":return V(0);case"End":return V(he.length-1);case"Enter":return K(v);case"Escape":return ro(v),o(6,X=!1),Y("skintone-button")}}function O(v){if(!!X)switch(v.key){case" ":return K(v)}}async function $(v){const{relatedTarget:V}=v;(!V||!ze(V))&&o(6,X=!1)}function Z(){u=this.value,o(2,u)}function ee(v){Go[v?"unshift":"push"](()=>{ue=v,o(7,ue)})}const ne=v=>_(v);function xe(v){Go[v?"unshift":"push"](()=>{T=v,o(3,T)})}function E(v){Go[v?"unshift":"push"](()=>{b=v,o(17,b)})}function A(v){Go[v?"unshift":"push"](()=>{g=v,o(16,g)})}return e.$$set=v=>{"skinToneEmoji"in v&&o(40,s=v.skinToneEmoji),"i18n"in v&&o(0,n=v.i18n),"database"in v&&o(39,r=v.database),"customEmoji"in v&&o(41,i=v.customEmoji),"customCategorySorting"in v&&o(42,a=v.customCategorySorting)},e.$$.update=()=>{if(e.$$.dirty[1]&1280&&i&&r&&o(39,r.customEmoji=i,r),e.$$.dirty[0]&1|e.$$.dirty[1]&256){async function v(){let V=!1;const de=setTimeout(()=>{V=!0,o(18,J=n.loadingMessage)},Kv);try{await r.ready(),o(14,x=!0)}catch(Ke){console.error(Ke),o(18,J=n.networkErrorMessage)}finally{clearTimeout(de),V&&(V=!1,o(18,J=""))}}r&&v()}if(e.$$.dirty[0]&6144|e.$$.dirty[1]&1024&&(i&&i.length?o(12,fe=[Hv,...Vn]):fe!==Vn&&(ge&&o(11,ge--,ge),o(12,fe=Vn))),e.$$.dirty[0]&4&&md(()=>{o(44,f=(u||"").trim()),o(5,q=-1)}),e.$$.dirty[0]&6144&&o(13,S=fe[ge]),e.$$.dirty[0]&24576|e.$$.dirty[1]&8192){async function v(){if(!x)o(1,l=[]),o(4,k=!1);else if(f.length>=zv){const V=f,de=await m(V);V===f&&(o(1,l=de),o(4,k=!0))}else if(S){const V=S.id,de=await at(V);V===S.id&&(o(1,l=de),o(4,k=!1))}}v()}if(e.$$.dirty[0]&4112&&o(22,te=`
  --font-family: ${gd};
  --num-groups: ${fe.length}; 
  --indicator-opacity: ${k?0:1}; 
  --num-skintones: ${fd};`),e.$$.dirty[0]&16384|e.$$.dirty[1]&256){async function v(){x&&o(8,W=await r.getPreferredSkinTone())}v()}if(e.$$.dirty[1]&512&&o(9,he=Array(fd).fill().map((v,V)=>sb(s,V))),e.$$.dirty[0]&768&&o(21,P=he[W]),e.$$.dirty[0]&257&&o(23,re=n.skinToneLabel.replace("{skinTone}",n.skinTones[W])),e.$$.dirty[0]&16384|e.$$.dirty[1]&256){async function v(){o(45,we=(await Promise.all(Wv.map(V=>r.getEmojiByUnicodeOrName(V)))).filter(Boolean))}x&&v()}if(e.$$.dirty[0]&16384|e.$$.dirty[1]&49408){async function v(){const V=await r.getTopFavoriteEmoji(Me),de=await Ne(vd([...V,...we],Ke=>Ke.unicode||Ke.name).slice(0,Me));o(10,G=de)}x&&we&&v()}if(e.$$.dirty[0]&10){const v=l.filter(V=>V.unicode).filter(V=>hd(V)&&!Li.has(V.unicode));v.length?Gn(()=>qe(v)):(o(1,l=l.filter(gt)),Gn(()=>{(T||{}).scrollTop=0}))}e.$$.dirty[0]&1026|e.$$.dirty[1]&4096,e.$$.dirty[0]&18|e.$$.dirty[1]&2048&&o(15,d=function(){if(k)return[{category:"",emojis:l}];const V=new Map;for(const de of l){const Ke=de.category||"";let $e=V.get(Ke);$e||($e=[],V.set(Ke,$e)),$e.push(de)}return[...V.entries()].map(([de,Ke])=>({category:de,emojis:Ke})).sort((de,Ke)=>a(de.category,Ke.category))}()),e.$$.dirty[0]&34&&o(26,I=q!==-1&&l[q].id),e.$$.dirty[0]&192&&(X?ue.addEventListener("transitionend",()=>{o(19,ae=!0)},{once:!0}):o(19,ae=!1))},[n,l,u,T,k,q,X,ue,W,he,G,ge,fe,S,x,d,g,b,J,ae,N,P,te,re,He,Oe,I,le,be,Ee,h,_,C,U,K,j,z,O,$,r,s,i,a,c,f,we,Me,Z,ee,ne,xe,E,A]}class gb extends Bv{constructor(t){super(),Dv(this,t,hb,mb,Cv,{skinToneEmoji:40,i18n:0,database:39,customEmoji:41,customCategorySorting:42},null,[-1,-1,-1])}}const pb="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",vb="en";var bb={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading\u2026",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const Rd=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji"];class Od extends HTMLElement{constructor(t){super(),this.attachShadow({mode:"open"});const o=document.createElement("style");o.textContent=":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}",this.shadowRoot.appendChild(o),this._ctx={locale:vb,dataSource:pb,skinToneEmoji:Vv,customCategorySorting:Yv,customEmoji:null,i18n:bb,...t};for(const s of Rd)s!=="database"&&Object.prototype.hasOwnProperty.call(this,s)&&(this._ctx[s]=this[s],delete this[s]);this._dbFlush()}connectedCallback(){this._cmp=new gb({target:this.shadowRoot,props:this._ctx})}disconnectedCallback(){this._cmp.$destroy(),this._cmp=void 0;const{database:t}=this._ctx;t&&t.close().catch(o=>console.error(o))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji"]}attributeChangedCallback(t,o,s){this._set(t.replace(/-([a-z])/g,(n,r)=>r.toUpperCase()),s)}_set(t,o){this._ctx[t]=o,this._cmp&&this._cmp.$set({[t]:o}),["locale","dataSource"].includes(t)&&this._dbFlush()}_dbCreate(){const{locale:t,dataSource:o,database:s}=this._ctx;(!s||s.locale!==t||s.dataSource!==o)&&this._set("database",new od({locale:t,dataSource:o}))}_dbFlush(){Promise.resolve().then(()=>this._dbCreate())}}const Ad={};for(const e of Rd)Ad[e]={get(){return e==="database"&&this._dbCreate(),this._ctx[e]},set(t){if(e==="database")throw new Error("database is read-only");this._set(e,t)}};Object.defineProperties(Od.prototype,Ad),customElements.get("emoji-picker")||customElements.define("emoji-picker",Od);const yb={name:"EmojiPickerContainer",components:{SvgIcon:Je},props:{emojiOpened:{type:Boolean,default:!1},emojiReaction:{type:Boolean,default:!1},positionTop:{type:Boolean,default:!1},positionRight:{type:Boolean,default:!1},messageId:{type:String,default:""}},emits:["add-emoji","open-emoji"],data(){return{emojiPickerHeight:320,emojiPickerTop:0,emojiPickerRight:""}},watch:{emojiOpened(e){e&&setTimeout(()=>{this.addCustomStyling(),this.$refs.emojiPicker.shadowRoot.addEventListener("emoji-click",({detail:t})=>{this.$emit("add-emoji",{unicode:t.unicode})})},0)}},methods:{addCustomStyling(){const e=`.picker {
				border: none;
			}`,t=`.nav {
				overflow-x: auto;
			}`,o=`.search-wrapper {
				padding-right: 2px;
				padding-left: 2px;
			}`,s=`input.search {
				height: 32px;
				font-size: 14px;
				border-radius: 10rem;
				border: var(--chat-border-style);
				padding: 5px 10px;
				outline: none;
				background: var(--chat-bg-color-input);
				color: var(--chat-color);
			}`,n=document.createElement("style");n.textContent=e+t+o+s,this.$refs.emojiPicker.shadowRoot.appendChild(n)},openEmoji(e){this.$emit("open-emoji",!this.emojiOpened),this.setEmojiPickerPosition(e.clientY,e.view.innerWidth,e.view.innerHeight)},setEmojiPickerPosition(e,t,o){const s=t<500||o<700,n=document.querySelector("vue-advanced-chat").shadowRoot.getElementById("room-footer");if(!n){s&&(this.emojiPickerRight="-50px");return}s?(this.emojiPickerRight=t/2-(this.positionTop?200:150)+"px",this.emojiPickerTop=100,this.emojiPickerHeight=o-200):(n.getBoundingClientRect().top-e>this.emojiPickerHeight-50?this.emojiPickerTop=e+10:this.emojiPickerTop=e-this.emojiPickerHeight-10,this.emojiPickerRight=this.positionTop?"0px":this.positionRight?"60px":"")}}},wb={class:"vac-emoji-wrapper"},xb={ref:"emojiPicker","v-if":"emojiOpened"};function _b(e,t,o,s,n,r){const i=oe("svg-icon");return p(),w("div",wb,[M("div",{class:pe(["vac-svg-button",{"vac-emoji-reaction":o.emojiReaction}]),onClick:t[0]||(t[0]=(...a)=>r.openEmoji&&r.openEmoji(...a))},[D(e.$slots,o.messageId?"emoji-picker-reaction-icon_"+o.messageId:"emoji-picker-icon",{},()=>[H(i,{name:"emoji",param:o.emojiReaction?"reaction":""},null,8,["param"])])],2),o.emojiOpened?(p(),Ce(Ge,{key:0,name:"vac-slide-up",appear:""},{default:se(()=>[M("div",{class:pe(["vac-emoji-picker",{"vac-picker-reaction":o.emojiReaction}]),style:Te({height:`${n.emojiPickerHeight}px`,top:o.positionTop?n.emojiPickerHeight:`${n.emojiPickerTop}px`,right:n.emojiPickerRight,display:n.emojiPickerTop||!o.emojiReaction?"initial":"none"})},[M("emoji-picker",xb,null,512)],6)]),_:1})):B("",!0)])}var Id=Fe(yb,[["render",_b]]);const kb={name:"RoomFiles",components:{Loader:gn,SvgIcon:Je},props:{file:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["remove-file"],computed:{isImage(){return zo(this.file)},isVideo(){return Ts(this.file)}}},Eb={class:"vac-room-file-container"},Tb=["src"],Sb={class:"vac-text-ellipsis"},Mb={key:0,class:"vac-text-ellipsis vac-text-extension"};function Cb(e,t,o,s,n,r){const i=oe("loader"),a=oe("svg-icon");return p(),w("div",Eb,[H(i,{show:o.file.loading,type:"room-file"},Le({_:2},[me(e.$slots,(c,l)=>({name:l,fn:se(d=>[D(e.$slots,l,Ie(Ae(d)))])}))]),1032,["show"]),M("div",{class:"vac-svg-button vac-icon-remove",onClick:t[0]||(t[0]=c=>e.$emit("remove-file",o.index))},[D(e.$slots,"image-close-icon",{},()=>[H(a,{name:"close",param:"image"})])]),r.isImage?(p(),w("div",{key:0,class:pe(["vac-message-image",{"vac-blur-loading":o.file.loading}]),style:Te({"background-image":`url('${o.file.localUrl||o.file.url}')`})},null,6)):r.isVideo?(p(),w("video",{key:1,controls:"",class:pe({"vac-blur-loading":o.file.loading})},[M("source",{src:o.file.localUrl||o.file.url},null,8,Tb)],2)):(p(),w("div",{key:2,class:pe(["vac-file-container",{"vac-blur-loading":o.file.loading}])},[M("div",null,[D(e.$slots,"file-icon",{},()=>[H(a,{name:"file"})])]),M("div",Sb,ce(o.file.name),1),o.file.extension?(p(),w("div",Mb,ce(o.file.extension),1)):B("",!0)],2))])}var Rb=Fe(kb,[["render",Cb]]);const Ob={name:"RoomFiles",components:{SvgIcon:Je,RoomFile:Rb},props:{files:{type:Array,required:!0}},emits:["remove-file","reset-message"],computed:{footerHeight(){return document.querySelector("vue-advanced-chat").shadowRoot.getElementById("room-footer").clientHeight}}},Ab={class:"vac-files-box"},Ib={class:"vac-icon-close"};function Lb(e,t,o,s,n,r){const i=oe("room-file"),a=oe("svg-icon");return p(),Ce(Ge,{name:"vac-slide-up"},{default:se(()=>[o.files.length?(p(),w("div",{key:0,class:"vac-room-files-container",style:Te({bottom:`${r.footerHeight}px`})},[M("div",Ab,[(p(!0),w(Se,null,me(o.files,(c,l)=>(p(),w("div",{key:l},[H(i,{file:c,index:l,onRemoveFile:t[0]||(t[0]=d=>e.$emit("remove-file",d))},Le({_:2},[me(e.$slots,(d,u)=>({name:u,fn:se(f=>[D(e.$slots,u,Ie(Ae(f)))])}))]),1032,["file","index"])]))),128))]),M("div",Ib,[M("div",{class:"vac-svg-button",onClick:t[1]||(t[1]=c=>e.$emit("reset-message"))},[D(e.$slots,"files-close-icon",{},()=>[H(a,{name:"close-outline"})])])])],4)):B("",!0)]),_:3})}var jb=Fe(Ob,[["render",Lb]]);const Pb={props:{percentage:{type:Number,default:0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["hover-audio-progress","change-linehead"],data(){return{isMouseDown:!1}},methods:{onMouseDown(e){if(this.messageSelectionEnabled)return;this.isMouseDown=!0;const t=this.calculateLineHeadPosition(e,this.$refs.progress);this.$emit("change-linehead",t),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},onMouseUp(e){if(this.messageSelectionEnabled)return;this.isMouseDown=!1,document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove);const t=this.calculateLineHeadPosition(e,this.$refs.progress);this.$emit("change-linehead",t)},onMouseMove(e){if(this.messageSelectionEnabled)return;const t=this.calculateLineHeadPosition(e,this.$refs.progress);this.$emit("change-linehead",t)},calculateLineHeadPosition(e,t){const o=t.getBoundingClientRect().width,s=t.getBoundingClientRect().left;let n=(e.clientX-s)/o;return n=n<0?0:n,n=n>1?1:n,n}}},Nb={class:"vac-player-progress"},Ub={class:"vac-line-container"};function Fb(e,t,o,s,n,r){return p(),w("div",{ref:"progress",class:"vac-player-bar",onMousedown:t[0]||(t[0]=(...i)=>r.onMouseDown&&r.onMouseDown(...i)),onMouseover:t[1]||(t[1]=i=>e.$emit("hover-audio-progress",!0)),onMouseout:t[2]||(t[2]=i=>e.$emit("hover-audio-progress",!1))},[M("div",Nb,[M("div",Ub,[M("div",{class:"vac-line-progress",style:Te({width:`${o.percentage}%`})},null,4),M("div",{class:pe(["vac-line-dot",{"vac-line-dot__active":n.isMouseDown}]),style:Te({left:`${o.percentage}%`})},null,6)])])],544)}var Db=Fe(Pb,[["render",Fb]]);const Bb={name:"AudioPlayer",components:{SvgIcon:Je,AudioControl:Db},props:{messageId:{type:[String,Number],default:null},src:{type:String,default:null},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["hover-audio-progress","update-progress-time"],data(){return{isPlaying:!1,duration:this.convertTimeMMSS(0),playedTime:this.convertTimeMMSS(0),progress:0}},computed:{playerUniqId(){return`audio-player${this.messageId}`},audioSource(){return this.src?this.src:(this.resetProgress(),null)}},mounted(){this.player=document.querySelector("vue-advanced-chat").shadowRoot.getElementById(this.playerUniqId),this.player.addEventListener("ended",()=>{this.isPlaying=!1}),this.player.addEventListener("loadeddata",()=>{this.resetProgress(),this.duration=this.convertTimeMMSS(this.player.duration),this.updateProgressTime()}),this.player.addEventListener("timeupdate",this.onTimeUpdate)},methods:{convertTimeMMSS(e){return new Date(e*1e3).toISOString().substr(14,5)},playback(){this.messageSelectionEnabled||!this.audioSource||(this.isPlaying?this.player.pause():setTimeout(()=>this.player.play()),this.isPlaying=!this.isPlaying)},resetProgress(){this.isPlaying&&this.player.pause(),this.duration=this.convertTimeMMSS(0),this.playedTime=this.convertTimeMMSS(0),this.progress=0,this.isPlaying=!1,this.updateProgressTime()},onTimeUpdate(){this.playedTime=this.convertTimeMMSS(this.player.currentTime),this.progress=this.player.currentTime/this.player.duration*100,this.updateProgressTime()},onUpdateProgress(e){e&&(this.player.currentTime=e*this.player.duration)},updateProgressTime(){this.$emit("update-progress-time",this.progress>1?this.playedTime:this.duration)}}},Hb={class:"vac-audio-player"},zb=["id","src"];function qb(e,t,o,s,n,r){const i=oe("svg-icon"),a=oe("audio-control");return p(),w("div",null,[M("div",Hb,[M("div",{class:"vac-svg-button",onClick:t[0]||(t[0]=(...c)=>r.playback&&r.playback(...c))},[n.isPlaying?D(e.$slots,"audio-pause-icon_"+o.messageId,{key:0},()=>[H(i,{name:"audio-pause"})]):D(e.$slots,"audio-play-icon_"+o.messageId,{key:1},()=>[H(i,{name:"audio-play"})])]),H(a,{percentage:n.progress,"message-selection-enabled":o.messageSelectionEnabled,onChangeLinehead:r.onUpdateProgress,onHoverAudioProgress:t[1]||(t[1]=c=>e.$emit("hover-audio-progress",c))},null,8,["percentage","message-selection-enabled","onChangeLinehead"]),M("audio",{id:r.playerUniqId,src:r.audioSource},null,8,zb)])])}var Ni=Fe(Bb,[["render",qb]]);const Kb={name:"RoomMessageReply",components:{SvgIcon:Je,FormatMessage:ks,AudioPlayer:Ni},props:{room:{type:Object,required:!0},messageReply:{type:Object,default:null},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0}},emits:["reset-message"],computed:{footerHeight(){return document.querySelector("vue-advanced-chat").shadowRoot.getElementById("room-footer").clientHeight},firstFile(){var e,t;return(t=(e=this.messageReply)==null?void 0:e.files)!=null&&t.length?this.messageReply.files[0]:{}},isImage(){return zo(this.firstFile)},isVideo(){return Ts(this.firstFile)},isAudio(){return Sn(this.firstFile)},isOtherFile(){var e,t;return((t=(e=this.messageReply)==null?void 0:e.files)==null?void 0:t.length)&&!this.isAudio&&!this.isVideo&&!this.isImage}}},Vb={class:"vac-reply-box"},Gb={class:"vac-reply-info"},Wb={class:"vac-reply-username"},Yb={class:"vac-reply-content"},Zb=["src"],Xb={key:1,controls:"",class:"vac-image-reply"},Qb=["src"],Jb={key:3,class:"vac-image-reply vac-file-container"},$b={class:"vac-text-ellipsis"},e0={key:0,class:"vac-text-ellipsis vac-text-extension"},t0={class:"vac-icon-reply"};function o0(e,t,o,s,n,r){const i=oe("format-message"),a=oe("audio-player"),c=oe("svg-icon");return p(),Ce(Ge,{name:"vac-slide-up"},{default:se(()=>[o.messageReply?(p(),w("div",{key:0,class:"vac-reply-container",style:Te({bottom:`${r.footerHeight}px`})},[M("div",Vb,[M("div",Gb,[M("div",Wb,ce(o.messageReply.username),1),M("div",Yb,[H(i,{"message-id":o.messageReply._id,content:o.messageReply.content,users:o.room.users,"text-formatting":o.textFormatting,"link-options":o.linkOptions,reply:!0},null,8,["message-id","content","users","text-formatting","link-options"])])]),r.isImage?(p(),w("img",{key:0,src:r.firstFile.url,class:"vac-image-reply"},null,8,Zb)):r.isVideo?(p(),w("video",Xb,[M("source",{src:r.firstFile.url},null,8,Qb)])):r.isAudio?(p(),Ce(a,{key:2,src:r.firstFile.url,"message-selection-enabled":!1,class:"vac-audio-reply"},Le({_:2},[me(e.$slots,(l,d)=>({name:d,fn:se(u=>[D(e.$slots,d,Ie(Ae(u)))])}))]),1032,["src"])):r.isOtherFile?(p(),w("div",Jb,[M("div",null,[D(e.$slots,"file-icon",{},()=>[H(c,{name:"file"})])]),M("div",$b,ce(r.firstFile.name),1),r.firstFile.extension?(p(),w("div",e0,ce(r.firstFile.extension),1)):B("",!0)])):B("",!0)]),M("div",t0,[M("div",{class:"vac-svg-button",onClick:t[0]||(t[0]=l=>e.$emit("reset-message"))},[D(e.$slots,"reply-close-icon",{},()=>[H(c,{name:"close-outline"})])])])],4)):B("",!0)]),_:3})}var s0=Fe(Kb,[["render",o0]]);const n0={name:"RoomUsersTag",props:{filteredUsersTag:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-user-tag","activate-item"],data(){return{activeItem:null}},computed:{footerHeight(){return document.querySelector("vue-advanced-chat").shadowRoot.getElementById("room-footer").clientHeight}},watch:{filteredUsersTag(e,t){(!t.length||e.length!==t.length)&&(this.activeItem=0)},selectItem(e){e&&this.$emit("select-user-tag",this.filteredUsersTag[this.activeItem])},activeUpOrDown(){this.activeUpOrDown>0&&this.activeItem<this.filteredUsersTag.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},r0=["onMouseover","onClick"],i0={class:"vac-tags-info"},a0={class:"vac-tags-username"};function c0(e,t,o,s,n,r){return p(),Ce(Ge,{name:"vac-slide-up"},{default:se(()=>[o.filteredUsersTag.length?(p(),w("div",{key:0,class:"vac-tags-container",style:Te({bottom:`${r.footerHeight}px`})},[(p(!0),w(Se,null,me(o.filteredUsersTag,(i,a)=>(p(),w("div",{key:i._id,class:pe(["vac-tags-box",{"vac-tags-box-active":a===n.activeItem}]),onMouseover:c=>n.activeItem=a,onClick:c=>e.$emit("select-user-tag",i)},[M("div",i0,[i.avatar?(p(),w("div",{key:0,class:"vac-avatar vac-tags-avatar",style:Te({"background-image":`url('${i.avatar}')`})},null,4)):B("",!0),M("div",a0,ce(i.username),1)])],42,r0))),128))],4)):B("",!0)]),_:1})}var l0=Fe(n0,[["render",c0]]);const d0={name:"RoomEmojis",props:{filteredEmojis:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-emoji","activate-item"],data(){return{activeItem:null}},computed:{footerHeight(){return document.querySelector("vue-advanced-chat").shadowRoot.getElementById("room-footer").clientHeight}},watch:{filteredEmojis(e,t){(!t.length||e.length!==t.length)&&(this.activeItem=0)},selectItem(e){e&&this.$emit("select-emoji",this.filteredEmojis[this.activeItem])},activeUpOrDown(){this.activeUpOrDown>0&&this.activeItem<this.filteredEmojis.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},u0=["onMouseover","onClick"];function f0(e,t,o,s,n,r){return p(),Ce(Ge,{name:"vac-slide-up"},{default:se(()=>[o.filteredEmojis.length?(p(),w("div",{key:0,class:"vac-emojis-container",style:Te({bottom:`${r.footerHeight}px`})},[(p(!0),w(Se,null,me(o.filteredEmojis,(i,a)=>(p(),w("div",{key:i,class:pe(["vac-emoji-element",{"vac-emoji-element-active":a===n.activeItem}]),onMouseover:c=>n.activeItem=a,onClick:c=>e.$emit("select-emoji",i)},ce(i),43,u0))),128))],4)):B("",!0)]),_:1})}var m0=Fe(d0,[["render",f0]]);const h0={name:"RoomTemplatesText",props:{filteredTemplatesText:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-template-text","activate-item"],data(){return{activeItem:null}},computed:{footerHeight(){return document.querySelector("vue-advanced-chat").shadowRoot.getElementById("room-footer").clientHeight}},watch:{filteredTemplatesText(e,t){(!t.length||e.length!==t.length)&&(this.activeItem=0)},selectItem(e){e&&this.$emit("select-template-text",this.filteredTemplatesText[this.activeItem])},activeUpOrDown(){this.activeUpOrDown>0&&this.activeItem<this.filteredTemplatesText.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},g0=["onMouseover","onClick"],p0={class:"vac-template-info"},v0={class:"vac-template-tag"},b0={class:"vac-template-text"};function y0(e,t,o,s,n,r){return p(),Ce(Ge,{name:"vac-slide-up"},{default:se(()=>[o.filteredTemplatesText.length?(p(),w("div",{key:0,class:"vac-template-container vac-app-box-shadow",style:Te({bottom:`${r.footerHeight}px`})},[(p(!0),w(Se,null,me(o.filteredTemplatesText,(i,a)=>(p(),w("div",{key:a,class:pe(["vac-template-box",{"vac-template-active":a===n.activeItem}]),onMouseover:c=>n.activeItem=a,onClick:c=>e.$emit("select-template-text",i)},[M("div",p0,[M("div",v0," /"+ce(i.tag),1),M("div",b0,ce(i.text),1)])],42,g0))),128))],4)):B("",!0)]),_:1})}var w0=Fe(h0,[["render",y0]]);/*! Capacitor: https://capacitorjs.com/ - MIT License */const x0=e=>{const t=new Map;t.set("web",{name:"web"});const o=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},s=(r,i)=>{o.platforms.set(r,i)},n=r=>{o.platforms.has(r)&&(o.currentPlatform=o.platforms.get(r))};return o.addPlatform=s,o.setPlatform=n,o},Ld=(e=>e.CapacitorPlatforms=x0(e))(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});Ld.addPlatform,Ld.setPlatform;var Wo;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Wo||(Wo={}));class Ui extends Error{constructor(t,o,s){super(t),this.message=t,this.code=o,this.data=s}}const _0=e=>{var t,o;return e!=null&&e.androidBridge?"android":!((o=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||o===void 0)&&o.bridge?"ios":"web"},k0=e=>{var t,o,s,n,r;const i=e.CapacitorCustomPlatform||null,a=e.Capacitor||{},c=a.Plugins=a.Plugins||{},l=e.CapacitorPlatforms,d=()=>i!==null?i.name:_0(e),u=((t=l==null?void 0:l.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||d,f=()=>u()!=="web",g=((o=l==null?void 0:l.currentPlatform)===null||o===void 0?void 0:o.isNativePlatform)||f,b=N=>{const P=ae.get(N);return!!(P!=null&&P.platforms.has(u())||q(N))},T=((s=l==null?void 0:l.currentPlatform)===null||s===void 0?void 0:s.isPluginAvailable)||b,k=N=>{var P;return(P=a.PluginHeaders)===null||P===void 0?void 0:P.find(te=>te.name===N)},q=((n=l==null?void 0:l.currentPlatform)===null||n===void 0?void 0:n.getPluginHeader)||k,J=N=>e.console.error(N),X=(N,P,te)=>Promise.reject(`${te} does not have an implementation of "${P}".`),ae=new Map,ue=(N,P={})=>{const te=ae.get(N);if(te)return console.warn(`Capacitor plugin "${N}" already registered. Cannot register plugins twice.`),te.proxy;const re=u(),he=q(N);let G;const we=async()=>(!G&&re in P?G=typeof P[re]=="function"?G=await P[re]():G=P[re]:i!==null&&!G&&"web"in P&&(G=typeof P.web=="function"?G=await P.web():G=P.web),G),Me=(x,I)=>{var Y,F;if(he){const le=he==null?void 0:he.methods.find(be=>I===be.name);if(le)return le.rtype==="promise"?be=>a.nativePromise(N,I.toString(),be):(be,ze)=>a.nativeCallback(N,I.toString(),be,ze);if(x)return(Y=x[I])===null||Y===void 0?void 0:Y.bind(x)}else{if(x)return(F=x[I])===null||F===void 0?void 0:F.bind(x);throw new Ui(`"${N}" plugin is not implemented on ${re}`,Wo.Unimplemented)}},He=x=>{let I;const Y=(...F)=>{const le=we().then(be=>{const ze=Me(be,x);if(ze){const Ee=ze(...F);return I=Ee==null?void 0:Ee.remove,Ee}else throw new Ui(`"${N}.${x}()" is not implemented on ${re}`,Wo.Unimplemented)});return x==="addListener"&&(le.remove=async()=>I()),le};return Y.toString=()=>`${x.toString()}() { [capacitor code] }`,Object.defineProperty(Y,"name",{value:x,writable:!1,configurable:!1}),Y},Oe=He("addListener"),ge=He("removeListener"),fe=(x,I)=>{const Y=Oe({eventName:x},I),F=async()=>{const be=await Y;ge({eventName:x,callbackId:be},I)},le=new Promise(be=>Y.then(()=>be({remove:F})));return le.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await F()},le},S=new Proxy({},{get(x,I){switch(I){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return he?fe:Oe;case"removeListener":return ge;default:return He(I)}}});return c[N]=S,ae.set(N,{name:N,proxy:S,platforms:new Set([...Object.keys(P),...he?[re]:[]])}),S},W=((r=l==null?void 0:l.currentPlatform)===null||r===void 0?void 0:r.registerPlugin)||ue;return a.convertFileSrc||(a.convertFileSrc=N=>N),a.getPlatform=u,a.handleError=J,a.isNativePlatform=g,a.isPluginAvailable=T,a.pluginMethodNoop=X,a.registerPlugin=W,a.Exception=Ui,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},Wn=(e=>e.Capacitor=k0(e))(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),Fi=Wn.registerPlugin;Wn.Plugins;class Di{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,o){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(o);const n=this.windowListeners[t];n&&!n.registered&&this.addWindowListener(n);const r=async()=>this.removeListener(t,o),i=Promise.resolve({remove:r});return Object.defineProperty(i,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await r()}}),i}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,o){const s=this.listeners[t];s&&s.forEach(n=>n(o))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,o){this.windowListeners[o]={registered:!1,windowEventName:t,pluginEventName:o,handler:s=>{this.notifyListeners(o,s)}}}unimplemented(t="not implemented"){return new Wn.Exception(t,Wo.Unimplemented)}unavailable(t="not available"){return new Wn.Exception(t,Wo.Unavailable)}async removeListener(t,o){const s=this.listeners[t];if(!s)return;const n=s.indexOf(o);this.listeners[t].splice(n,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){!t||(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const jd=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);class E0 extends Di{async setCookie(t){try{const o=jd(t.key),s=jd(t.value),n=`; expires=${(t.expires||"").replace("expires=","")}`,r=(t.path||"/").replace("path=","");document.cookie=`${o}=${s||""}${n}; path=${r}`}catch(o){return Promise.reject(o)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(o){return Promise.reject(o)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const o of t)document.cookie=o.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Fi("CapacitorCookies",{web:()=>new E0});const T0=async e=>new Promise((t,o)=>{const s=new FileReader;s.onload=()=>{const n=s.result;t(n.indexOf(",")>=0?n.split(",")[1]:n)},s.onerror=n=>o(n),s.readAsDataURL(e)}),S0=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(n=>n.toLocaleLowerCase()).reduce((n,r,i)=>(n[r]=e[t[i]],n),{})},M0=(e,t=!0)=>e?Object.entries(e).reduce((s,n)=>{const[r,i]=n;let a,c;return Array.isArray(i)?(c="",i.forEach(l=>{a=t?encodeURIComponent(l):l,c+=`${r}=${a}&`}),c.slice(0,-1)):(a=t?encodeURIComponent(i):i,c=`${r}=${a}`),`${s}&${c}`},"").substr(1):null,C0=(e,t={})=>{const o=Object.assign({method:e.method||"GET",headers:e.headers},t),n=S0(e.headers)["content-type"]||"";if(typeof e.data=="string")o.body=e.data;else if(n.includes("application/x-www-form-urlencoded")){const r=new URLSearchParams;for(const[i,a]of Object.entries(e.data||{}))r.set(i,a);o.body=r.toString()}else if(n.includes("multipart/form-data")){const r=new FormData;if(e.data instanceof FormData)e.data.forEach((a,c)=>{r.append(c,a)});else for(const a of Object.keys(e.data))r.append(a,e.data[a]);o.body=r;const i=new Headers(o.headers);i.delete("content-type"),o.headers=i}else(n.includes("application/json")||typeof e.data=="object")&&(o.body=JSON.stringify(e.data));return o};class R0 extends Di{async request(t){const o=C0(t,t.webFetchExtra),s=M0(t.params,t.shouldEncodeUrlParams),n=s?`${t.url}?${s}`:t.url,r=await fetch(n,o),i=r.headers.get("content-type")||"";let{responseType:a="text"}=r.ok?t:{};i.includes("application/json")&&(a="json");let c,l;switch(a){case"arraybuffer":case"blob":l=await r.blob(),c=await T0(l);break;case"json":c=await r.json();break;case"document":case"text":default:c=await r.text()}const d={};return r.headers.forEach((u,f)=>{d[f]=u}),{data:c,headers:d,status:r.status,url:r.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Fi("CapacitorHttp",{web:()=>new R0});const Yn=Fi("VoiceRecorder",{web:()=>Promise.resolve().then(function(){return N1}).then(e=>new e.VoiceRecorderWeb)});class O0{constructor(t={}){this.beforeRecording=t.beforeRecording,this.pauseRecording=t.pauseRecording,this.afterRecording=t.afterRecording,this.micFailed=t.micFailed,this.encoderOptions={bitRate:t.bitRate,sampleRate:t.sampleRate},this.bufferSize=4096,this.records=[],this.isPause=!1,this.isRecording=!1,this.duration=0,this.volume=0,this._duration=0,this.timerInterval=-1}startTimer(){this.timerInterval=setInterval(()=>this.duration++,1e3)}stopTimer(){clearInterval(this.timerInterval)}async start(){let t=await Yn.canDeviceVoiceRecord();if(!t.value)return this._micError("No recording device available!");if(!(await Yn.requestAudioRecordingPermission()).value)return this._micError("Recording permission not granted!");t=await Yn.startRecording(),this.startTimer(),this.beforeRecording&&this.beforeRecording("start recording"),this.isPause=!1,this.isRecording=!0}b64toBlob(t,o="",s=512){const n=atob(t),r=[];for(let a=0;a<n.length;a+=s){const c=n.slice(a,a+s),l=new Array(c.length);for(let u=0;u<c.length;u++)l[u]=c.charCodeAt(u);const d=new Uint8Array(l);r.push(d)}return new Blob(r,{type:o})}async stop(){this.stopTimer();const t=await Yn.stopRecording(),o=t.value.recordDataBase64,s=t.value.mimeType,n={blob:this.b64toBlob(o,s),duration:t.value.msDuration};this.records.push(n),console.log("added to recording"),this._duration=0,this.duration=0,this.isPause=!1,this.isRecording=!1,this.afterRecording&&this.afterRecording(n)}pause(){this.stream.getTracks().forEach(t=>t.stop()),this.input.disconnect(),this.processor.disconnect(),this._duration=this.duration*1e3,this.isPause=!0,this.pauseRecording&&this.pauseRecording("pause recording")}_micCaptured(t){this.context=new(window.AudioContext||window.webkitAudioContext),this.duration=this._duration*1e3,this.input=this.context.createMediaStreamSource(t),this.processor=this.context.createScriptProcessor(this.bufferSize,1,1),this.stream=t,this.processor.onaudioprocess=o=>{const s=o.inputBuffer.getChannelData(0);let n=0;this.lameEncoder&&this.lameEncoder.encode(s);for(let r=0;r<s.length;++r)n+=s[r]*s[r];this.duration=parseFloat(this._duration)+parseFloat(this.context.currentTime.toFixed(2)),this.volume=Math.sqrt(n/s.length).toFixed(2)},this.input.connect(this.processor),this.processor.connect(this.context.destination)}_micError(t){this.micFailed&&this.micFailed(t)}}function Pd(){var e=A0(),t=e.substr(0,4);return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw(n|u)|c55\/|capi|ccwa|cdm|cell|chtm|cldc|cmd|co(mp|nd)|craw|da(it|ll|ng)|dbte|dcs|devi|dica|dmob|do(c|p)o|ds(12|d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(|_)|g1 u|g560|gene|gf5|gmo|go(\.w|od)|gr(ad|un)|haie|hcit|hd(m|p|t)|hei|hi(pt|ta)|hp( i|ip)|hsc|ht(c(| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i(20|go|ma)|i230|iac( ||\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|[a-w])|libw|lynx|m1w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|mcr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|([1-8]|c))|phil|pire|pl(ay|uc)|pn2|po(ck|rt|se)|prox|psio|ptg|qaa|qc(07|12|21|32|60|[2-7]|i)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h|oo|p)|sdk\/|se(c(|0|1)|47|mc|nd|ri)|sgh|shar|sie(|m)|sk0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h|v|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl|tdg|tel(i|m)|tim|tmo|to(pl|sh)|ts(70|m|m3|m5)|tx9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas|your|zeto|zte/i.test(t)}function A0(){var e=navigator.userAgent||navigator.vendor||window.opera||null;if(!e)throw new Error("Failed to look for user agent information.");return e}const I0={name:"RoomFooter",components:{SvgIcon:Je,EmojiPickerContainer:Id,RoomFiles:jb,RoomMessageReply:s0,RoomUsersTag:l0,RoomEmojis:m0,RoomTemplatesText:w0},directives:{clickOutside:Tn},props:{room:{type:Object,required:!0},roomId:{type:[String,Number],required:!0},roomMessage:{type:String,default:null},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},textMessages:{type:Object,required:!0},showSendIcon:{type:Boolean,required:!0},showFiles:{type:Boolean,required:!0},showAudio:{type:Boolean,required:!0},showEmojis:{type:Boolean,required:!0},showFooter:{type:Boolean,required:!0},acceptedFiles:{type:String,required:!0},textareaActionEnabled:{type:Boolean,required:!0},textareaAutoFocus:{type:Boolean,required:!0},userTagsEnabled:{type:Boolean,required:!0},emojisSuggestionEnabled:{type:Boolean,required:!0},templatesText:{type:Array,default:null},audioBitRate:{type:Number,required:!0},audioSampleRate:{type:Number,required:!0},initReplyMessage:{type:Object,default:null},initEditMessage:{type:Object,default:null},droppedFiles:{type:Array,default:null}},emits:["edit-message","send-message","update-edited-message-id","textarea-action-handler","typing-message"],data(){return{message:"",editedMessage:{},messageReply:null,cursorRangePosition:null,files:[],fileDialog:!1,selectUsersTagItem:null,selectEmojiItem:null,selectTemplatesTextItem:null,format:"wav",activeUpOrDownEmojis:null,activeUpOrDownUsersTag:null,activeUpOrDownTemplatesText:null,emojisDB:new od,emojiOpened:!1,keepKeyboardOpen:!1,filteredEmojis:[],filteredUsersTag:[],selectedUsersTag:[],filteredTemplatesText:[],recorder:this.initRecorder(),isRecording:!1}},computed:{isMessageEmpty(){return!this.files.length&&!this.message.trim()},isFileLoading(){return this.files.some(e=>e.loading)},recordedTime(){return new Date(this.recorder.duration*1e3).toISOString().substr(14,5)},shadowFooter(){return!!this.filteredEmojis.length||!!this.filteredUsersTag.length||!!this.filteredTemplatesText.length||!!this.files.length||!!this.messageReply}},watch:{roomId(){this.resetMessage(!0,!0),this.roomMessage&&(this.message=this.roomMessage,setTimeout(()=>this.onChangeInput()))},message(e){this.getTextareaRef().value=e},roomMessage:{immediate:!0,handler(e){e&&(this.message=this.roomMessage)}},editedMessage(e){this.$emit("update-edited-message-id",e._id)},initReplyMessage(e){e&&this.replyMessage(e)},initEditMessage(e){e&&this.editMessage(e)},droppedFiles(e){e&&this.onFileChange(e)}},mounted(){const e=Pd();let t=!0;this.getTextareaRef().addEventListener("keyup",o=>{o.key==="Enter"&&!o.shiftKey&&!this.fileDialog&&(e?(this.message=this.message+`
`,setTimeout(()=>this.onChangeInput())):t&&!this.filteredEmojis.length&&!this.filteredUsersTag.length&&!this.filteredTemplatesText.length&&this.sendMessage()),t=!o.isComposing,setTimeout(()=>{this.updateFooterLists()},60)}),this.getTextareaRef().addEventListener("click",()=>{e&&(this.keepKeyboardOpen=!0),this.updateFooterLists()}),this.getTextareaRef().addEventListener("blur",()=>{setTimeout(()=>{this.resetFooterList()},100),e&&setTimeout(()=>this.keepKeyboardOpen=!1)})},beforeUnmount(){this.stopRecorder()},methods:{getTextareaRef(){return this.$refs.roomTextarea},focusTextarea(e){Pd()&&e||!this.getTextareaRef()||(this.getTextareaRef().focus(),this.cursorRangePosition&&setTimeout(()=>{this.getTextareaRef().setSelectionRange(this.cursorRangePosition,this.cursorRangePosition),this.cursorRangePosition=null}))},onChangeInput(){var e,t,o;(((e=this.getTextareaRef())==null?void 0:e.value)||((t=this.getTextareaRef())==null?void 0:t.value)==="")&&(this.message=(o=this.getTextareaRef())==null?void 0:o.value),this.keepKeyboardOpen=!0,this.resizeTextarea(),this.$emit("typing-message",this.message)},resizeTextarea(){const e=this.getTextareaRef();if(!e)return;const t=window.getComputedStyle(e,null).getPropertyValue("padding-top").replace("px","");e.style.height=0,e.style.height=e.scrollHeight-t*2+"px"},escapeTextarea(){this.filteredEmojis.length?this.filteredEmojis=[]:this.filteredUsersTag.length?this.filteredUsersTag=[]:this.filteredTemplatesText.length?this.filteredTemplatesText=[]:this.resetMessage()},onPasteImage(e){var o;const t=(o=e.clipboardData)==null?void 0:o.items;t&&Array.from(t).forEach(s=>{if(s.type.includes("image")){const n=s.getAsFile();this.onFileChange([n])}})},updateActiveUpOrDown(e){this.filteredEmojis.length?this.activeUpOrDownEmojis=e:this.filteredUsersTag.length?this.activeUpOrDownUsersTag=e:this.filteredTemplatesText.length&&(this.activeUpOrDownTemplatesText=e)},selectItem(){this.filteredEmojis.length?this.selectEmojiItem=!0:this.filteredUsersTag.length?this.selectUsersTagItem=!0:this.filteredTemplatesText.length&&(this.selectTemplatesTextItem=!0)},selectEmoji(e){if(this.selectEmojiItem=!1,!e)return;const{position:t,endPosition:o}=this.getCharPosition(":");this.message=this.message.substr(0,t-1)+e+this.message.substr(o,this.message.length-1),this.cursorRangePosition=t,this.focusTextarea()},selectTemplateText(e){if(this.selectTemplatesTextItem=!1,!e)return;const{position:t,endPosition:o}=this.getCharPosition("/"),s=this.message.substr(o,o).length?"":" ";this.message=this.message.substr(0,t-1)+e.text+s+this.message.substr(o,this.message.length-1),this.cursorRangePosition=t+e.text.length+s.length+1,this.focusTextarea()},addEmoji(e){this.message+=e.unicode,this.focusTextarea(!0)},launchFilePicker(){this.$refs.file.value="",this.$refs.file.click()},async onFileChange(e){this.fileDialog=!0,this.focusTextarea(),Array.from(e).forEach(async t=>{const o=URL.createObjectURL(t),s=t.name.lastIndexOf(".");this.files.push({loading:!0,name:t.name.substring(0,s),size:t.size,type:t.type,extension:t.name.substring(s+1),localUrl:o});const n=await fetch(o).then(i=>i.blob());let r=this.files.find(i=>i.localUrl===o);r&&(r.blob=n,r.loading=!1,delete r.loading)}),setTimeout(()=>this.fileDialog=!1,500)},removeFile(e){this.files.splice(e,1),this.focusTextarea()},async toggleRecorder(e){if(this.isRecording=e,!this.recorder.isRecording)setTimeout(()=>this.recorder.start(),10);else try{await this.recorder.stop();const t=this.recorder.records[0];this.files.push({blob:t.blob,name:`audio.${this.format}`,size:t.blob.size,duration:t.duration,type:t.blob.type,audio:!0,localUrl:URL.createObjectURL(t.blob)}),this.recorder=this.initRecorder(),this.sendMessage()}catch{setTimeout(()=>this.stopRecorder(),100)}},stopRecorder(){if(this.recorder.isRecording)try{this.recorder.stop(),this.recorder=this.initRecorder()}catch{setTimeout(()=>this.stopRecorder(),100)}},textareaActionHandler(){this.$emit("textarea-action-handler",this.message)},sendMessage(){var o;let e=this.message.trim();if(!this.files.length&&!e||this.isFileLoading)return;this.selectedUsersTag.forEach(s=>{e=e.replace(`@${s.username}`,`<usertag>${s._id}</usertag>`)});const t=this.files.length?this.files:null;this.editedMessage._id?(this.editedMessage.content!==e||((o=this.editedMessage.files)==null?void 0:o.length)||this.files.length)&&this.$emit("edit-message",{messageId:this.editedMessage._id,newContent:e,files:t,replyMessage:this.messageReply,usersTag:this.selectedUsersTag}):this.$emit("send-message",{content:e,files:t,replyMessage:this.messageReply,usersTag:this.selectedUsersTag}),this.resetMessage(!0)},editMessage(e){this.resetMessage(),this.editedMessage={...e};let t=e.content;const o=t,s="<usertag>",n="</usertag>";[...t.matchAll(new RegExp(s,"gi"))].map(i=>i.index).forEach(i=>{const a=o.substring(i+s.length,o.indexOf(n,i)),c=this.room.users.find(l=>l._id===a);t=t.replace(`${s}${a}${n}`,`@${(c==null?void 0:c.username)||"unknown"}`),this.selectUserTag(c,!0)}),this.message=t,e.files&&(this.files=[...e.files]),setTimeout(()=>this.resizeTextarea())},replyMessage(e){this.editedMessage={},this.messageReply=e,this.focusTextarea()},updateFooterLists(){this.updateFooterList("@"),this.updateFooterList(":"),this.updateFooterList("/")},updateFooterList(e){if(!this.getTextareaRef()||e===":"&&!this.emojisSuggestionEnabled||e==="@"&&(!this.userTagsEnabled||!this.room.users)||e==="/"&&!this.templatesText)return;const t=this.getTextareaRef().selectionStart;let o=t;for(;o>0&&this.message.charAt(o-1)!==e&&(this.message.charAt(o-1)!==" "||e!==":");)o--;const s=this.message.charAt(o-2),n=!s.match(/^[0-9a-zA-Z]+$/);if(this.message.charAt(o-1)===e&&(!s||s===" "||n)){const r=this.message.substring(o,t);e===":"?this.updateEmojis(r):e==="@"?this.updateShowUsersTag(r):e==="/"&&this.updateShowTemplatesText(r)}else this.resetFooterList(e)},updateShowUsersTag(e){this.filteredUsersTag=bi(this.room.users,"username",e,!0).filter(t=>t._id!==this.currentUserId)},selectUserTag(e,t=!1){if(this.selectUsersTagItem=!1,!e)return;const{position:o,endPosition:s}=this.getCharPosition("@"),n=this.message.substr(s,s).length?"":" ";this.message=this.message.substr(0,o)+e.username+n+this.message.substr(s,this.message.length-1),this.selectedUsersTag=[...this.selectedUsersTag,{...e}],t||(this.cursorRangePosition=o+e.username.length+n.length+1),this.focusTextarea()},updateShowTemplatesText(e){this.filteredTemplatesText=bi(this.templatesText,"tag",e,!0)},getCharPosition(e){let o=this.getTextareaRef().selectionStart;for(;o>0&&this.message.charAt(o-1)!==e;)o--;const s=this.getTextareaRef().selectionEnd;return{position:o,endPosition:s}},async updateEmojis(e){if(!e)return;const t=await this.emojisDB.getEmojiBySearchQuery(e);this.filteredEmojis=t.map(o=>o.unicode)},resetFooterList(e=null){e===":"?this.filteredEmojis=[]:e==="@"?this.filteredUsersTag=[]:e==="/"?this.filteredTemplatesText=[]:(this.filteredEmojis=[],this.filteredUsersTag=[],this.filteredTemplatesText=[])},resetMessage(e=!1,t=!1){t||this.$emit("typing-message",null),this.selectedUsersTag=[],this.resetFooterList(),this.resetTextareaSize(),this.message="",this.editedMessage={},this.messageReply=null,this.files=[],this.emojiOpened=!1,this.preventKeyboardFromClosing(),(this.textareaAutoFocus||!t)&&setTimeout(()=>this.focusTextarea(e))},resetTextareaSize(){this.getTextareaRef()&&(this.getTextareaRef().style.height="20px")},preventKeyboardFromClosing(){this.keepKeyboardOpen&&this.getTextareaRef().focus()},initRecorder(){return this.isRecording=!1,new O0({bitRate:Number(this.audioBitRate),sampleRate:Number(this.audioSampleRate),beforeRecording:null,afterRecording:null,pauseRecording:null,micFailed:this.micFailed})},micFailed(){this.isRecording=!1,this.recorder=this.initRecorder()}}},L0={key:0,class:"vac-icon-textarea-left"},j0=M("div",{class:"vac-dot-audio-record"},null,-1),P0={class:"vac-dot-audio-record-time"},N0=["placeholder"],U0={class:"vac-icon-textarea"},F0={key:1},D0=["accept"];function B0(e,t,o,s,n,r){const i=oe("room-emojis"),a=oe("room-users-tag"),c=oe("room-templates-text"),l=oe("room-message-reply"),d=oe("room-files"),u=oe("svg-icon"),f=oe("emoji-picker-container"),g=an("click-outside");return zt((p(),w("div",{id:"room-footer",class:pe(["vac-room-footer",{"vac-app-box-shadow":r.shadowFooter}])},[H(i,{"filtered-emojis":n.filteredEmojis,"select-item":n.selectEmojiItem,"active-up-or-down":n.activeUpOrDownEmojis,onSelectEmoji:t[0]||(t[0]=b=>r.selectEmoji(b)),onActivateItem:t[1]||(t[1]=b=>n.activeUpOrDownEmojis=0)},null,8,["filtered-emojis","select-item","active-up-or-down"]),H(a,{"filtered-users-tag":n.filteredUsersTag,"select-item":n.selectUsersTagItem,"active-up-or-down":n.activeUpOrDownUsersTag,onSelectUserTag:t[2]||(t[2]=b=>r.selectUserTag(b)),onActivateItem:t[3]||(t[3]=b=>n.activeUpOrDownUsersTag=0)},null,8,["filtered-users-tag","select-item","active-up-or-down"]),H(c,{"filtered-templates-text":n.filteredTemplatesText,"select-item":n.selectTemplatesTextItem,"active-up-or-down":n.activeUpOrDownTemplatesText,onSelectTemplateText:t[4]||(t[4]=b=>r.selectTemplateText(b)),onActivateItem:t[5]||(t[5]=b=>n.activeUpOrDownTemplatesText=0)},null,8,["filtered-templates-text","select-item","active-up-or-down"]),H(l,{room:o.room,"message-reply":n.messageReply,"text-formatting":o.textFormatting,"link-options":o.linkOptions,onResetMessage:r.resetMessage},Le({_:2},[me(e.$slots,(b,T)=>({name:T,fn:se(k=>[D(e.$slots,T,Ie(Ae(k)))])}))]),1032,["room","message-reply","text-formatting","link-options","onResetMessage"]),H(d,{files:n.files,onRemoveFile:r.removeFile,onResetMessage:r.resetMessage},Le({_:2},[me(e.$slots,(b,T)=>({name:T,fn:se(k=>[D(e.$slots,T,Ie(Ae(k)))])}))]),1032,["files","onRemoveFile","onResetMessage"]),M("div",{class:pe(["vac-box-footer",{"vac-box-footer-border":!n.files.length}])},[o.showAudio&&!n.files.length?(p(),w("div",L0,[n.isRecording?(p(),w(Se,{key:0},[M("div",{class:"vac-svg-button vac-icon-audio-stop",onClick:t[6]||(t[6]=(...b)=>r.stopRecorder&&r.stopRecorder(...b))},[D(e.$slots,"audio-stop-icon",{},()=>[H(u,{name:"close-outline"})])]),j0,M("div",P0,ce(r.recordedTime),1),M("div",{class:"vac-svg-button vac-icon-audio-confirm",onClick:t[7]||(t[7]=b=>r.toggleRecorder(!1))},[D(e.$slots,"audio-check-icon",{},()=>[H(u,{name:"checkmark"})])])],64)):(p(),w("div",{key:1,class:"vac-svg-button",onClick:t[8]||(t[8]=b=>r.toggleRecorder(!0))},[D(e.$slots,"microphone-icon",{},()=>[H(u,{name:"microphone",class:"vac-icon-microphone"})])]))])):B("",!0),M("textarea",{id:"roomTextarea",ref:"roomTextarea",placeholder:o.textMessages.TYPE_MESSAGE,class:pe(["vac-textarea",{"vac-textarea-outline":n.editedMessage._id}]),style:{"min-height":"20px","padding-left":"12px"},onInput:t[9]||(t[9]=(...b)=>r.onChangeInput&&r.onChangeInput(...b)),onKeydown:[t[10]||(t[10]=Kt((...b)=>r.escapeTextarea&&r.escapeTextarea(...b),["esc"])),t[11]||(t[11]=Kt(wt((...b)=>r.selectItem&&r.selectItem(...b),["exact","prevent"]),["enter"])),t[13]||(t[13]=Kt(wt(()=>{},["exact","prevent"]),["tab"])),t[14]||(t[14]=Kt((...b)=>r.selectItem&&r.selectItem(...b),["tab"])),t[15]||(t[15]=Kt(wt(()=>{},["exact","prevent"]),["up"])),t[16]||(t[16]=Kt(b=>r.updateActiveUpOrDown(-1),["up"])),t[17]||(t[17]=Kt(wt(()=>{},["exact","prevent"]),["down"])),t[18]||(t[18]=Kt(b=>r.updateActiveUpOrDown(1),["down"]))],onPaste:t[12]||(t[12]=(...b)=>r.onPasteImage&&r.onPasteImage(...b))},null,42,N0),M("div",U0,[n.editedMessage._id?(p(),w("div",{key:0,class:"vac-svg-button",onClick:t[19]||(t[19]=(...b)=>r.resetMessage&&r.resetMessage(...b))},[D(e.$slots,"edit-close-icon",{},()=>[H(u,{name:"close-outline"})])])):B("",!0),o.showEmojis?zt((p(),w("div",F0,[D(e.$slots,"emoji-picker",jr({emojiOpened:n.emojiOpened},{addEmoji:r.addEmoji}),()=>[H(f,{"emoji-opened":n.emojiOpened,"position-top":!0,onAddEmoji:r.addEmoji,onOpenEmoji:t[20]||(t[20]=b=>n.emojiOpened=b)},{"emoji-picker-icon":se(()=>[D(e.$slots,"emoji-picker-icon")]),_:3},8,["emoji-opened","onAddEmoji"])])])),[[g,()=>n.emojiOpened=!1]]):B("",!0),o.showFiles?(p(),w("div",{key:2,class:"vac-svg-button",onClick:t[21]||(t[21]=(...b)=>r.launchFilePicker&&r.launchFilePicker(...b))},[D(e.$slots,"paperclip-icon",{},()=>[H(u,{name:"paperclip"})])])):B("",!0),o.textareaActionEnabled?(p(),w("div",{key:3,class:"vac-svg-button",onClick:t[22]||(t[22]=(...b)=>r.textareaActionHandler&&r.textareaActionHandler(...b))},[D(e.$slots,"custom-action-icon",{},()=>[H(u,{name:"deleted"})])])):B("",!0),o.showFiles?(p(),w("input",{key:4,ref:"file",type:"file",multiple:"",accept:o.acceptedFiles,style:{display:"none"},onChange:t[23]||(t[23]=b=>r.onFileChange(b.target.files))},null,40,D0)):B("",!0),o.showSendIcon?(p(),w("div",{key:5,class:pe(["vac-svg-button",{"vac-send-disabled":r.isMessageEmpty}]),onClick:t[24]||(t[24]=(...b)=>r.sendMessage&&r.sendMessage(...b))},[D(e.$slots,"send-icon",{},()=>[H(u,{name:"send",param:r.isMessageEmpty||r.isFileLoading?"disabled":""},null,8,["param"])])],2)):B("",!0)])],2)],2)),[[hn,Object.keys(o.room).length&&o.showFooter]])}var H0=Fe(I0,[["render",B0]]);const z0={name:"MessageReply",components:{AudioPlayer:Ni,SvgIcon:Je,FormatMessage:ks},props:{message:{type:Object,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},roomUsers:{type:Array,required:!0}},computed:{replyUsername(){const{senderId:e}=this.message.replyMessage,t=this.roomUsers.find(o=>o._id===e);return t?t.username:""},firstFile(){var e,t;return(t=(e=this.message.replyMessage)==null?void 0:e.files)!=null&&t.length?this.message.replyMessage.files[0]:{}},isAudio(){return Sn(this.firstFile)},isImage(){return zo(this.firstFile)},isVideo(){return Ts(this.firstFile)},isOtherFile(){var e;return((e=this.message.replyMessage.files)==null?void 0:e.length)&&!this.isAudio&&!this.isVideo&&!this.isImage}}},q0={class:"vac-reply-message"},K0={class:"vac-reply-username"},V0={key:0,class:"vac-image-reply-container"},G0={key:1,class:"vac-video-reply-container"},W0={controls:""},Y0=["src"],Z0={key:3,class:"vac-file-container"},X0={class:"vac-text-ellipsis"},Q0={key:0,class:"vac-text-ellipsis vac-text-extension"},J0={class:"vac-reply-content"};function $0(e,t,o,s,n,r){const i=oe("audio-player"),a=oe("svg-icon"),c=oe("format-message");return p(),w("div",q0,[M("div",K0,ce(r.replyUsername),1),r.isImage?(p(),w("div",V0,[M("div",{class:"vac-message-image vac-message-image-reply",style:Te({"background-image":`url('${r.firstFile.url}')`})},null,4)])):r.isVideo?(p(),w("div",G0,[M("video",W0,[M("source",{src:r.firstFile.url},null,8,Y0)])])):r.isAudio?(p(),Ce(i,{key:2,src:r.firstFile.url,"message-selection-enabled":!1,onUpdateProgressTime:t[0]||(t[0]=l=>e.progressTime=l),onHoverAudioProgress:t[1]||(t[1]=l=>e.hoverAudioProgress=l)},Le({_:2},[me(e.$slots,(l,d)=>({name:d,fn:se(u=>[D(e.$slots,d,Ie(Ae(u)))])}))]),1032,["src"])):r.isOtherFile?(p(),w("div",Z0,[M("div",null,[D(e.$slots,"file-icon",{},()=>[H(a,{name:"file"})])]),M("div",X0,ce(r.firstFile.name),1),r.firstFile.extension?(p(),w("div",Q0,ce(r.firstFile.extension),1)):B("",!0)])):B("",!0),M("div",J0,[H(c,{"message-id":o.message.replyMessage._id,content:o.message.replyMessage.content,users:o.roomUsers,"text-formatting":o.textFormatting,"link-options":o.linkOptions,reply:!0},null,8,["message-id","content","users","text-formatting","link-options"])])])}var ey=Fe(z0,[["render",$0]]);const ty={name:"ProgressBar",props:{progress:{type:Number,default:0}},data(){const s=54*Math.PI;return{radius:35,stroke:4,normalizedRadius:27,circumference:s}},computed:{strokeDashoffset(){return this.circumference-this.progress/100*this.circumference}}},oy={ref:"progress",class:"vac-progress-wrapper"},sy=["height","width"],ny=["stroke-dasharray","stroke-width","r","cx","cy"],ry={class:"vac-progress-text"},iy=M("span",{class:"vac-progress-pourcent"},"%",-1);function ay(e,t,o,s,n,r){return p(),Ce(Ge,{name:"vac-fade-spinner",appear:""},{default:se(()=>[M("div",oy,[(p(),w("svg",{height:n.radius*2,width:n.radius*2},[M("circle",{stroke:"rgba(255, 255, 255, 0.7)","stroke-dasharray":n.circumference+" "+n.circumference,style:Te({strokeDashoffset:r.strokeDashoffset,strokeLinecap:"round"}),"stroke-width":n.stroke,fill:"transparent",r:n.normalizedRadius,cx:n.radius,cy:n.radius},null,12,ny)],8,sy)),M("div",{class:"vac-progress-content",style:Te({height:n.radius*2-19+"px",width:n.radius*2-19+"px"})},[M("div",ry,[At(ce(o.progress),1),iy])],4)],512)]),_:1})}var Nd=Fe(ty,[["render",ay]]);const cy={name:"MessageFile",components:{SvgIcon:Je,Loader:gn,ProgressBar:Nd},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},file:{type:Object,required:!0},index:{type:Number,required:!0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["open-file"],data(){return{imageResponsive:"",imageLoading:!1,imageHover:!1}},computed:{isImageLoading(){return this.file.url.indexOf("blob:http")!==-1||this.imageLoading},isImage(){return zo(this.file)},isVideo(){return Ts(this.file)}},watch:{file:{immediate:!0,handler(){this.checkImgLoad()}}},mounted(){const e=this.$refs["imageRef"+this.index];e&&(this.imageResponsive={maxHeight:e.clientWidth-18,loaderTop:e.clientHeight/2-9})},methods:{checkImgLoad(){if(!zo(this.file))return;this.imageLoading=!0;const e=new Image;e.src=this.file.url,e.addEventListener("load",()=>this.imageLoading=!1)},openFile(e,t){this.messageSelectionEnabled||(e.stopPropagation(),this.$emit("open-file",{file:this.file,action:t}))}}},ly={class:"vac-message-file-container"},dy={key:0,class:"vac-image-buttons"},uy={controls:""},fy=["src"];function my(e,t,o,s,n,r){const i=oe("progress-bar"),a=oe("loader"),c=oe("svg-icon");return p(),w("div",ly,[r.isImage?(p(),w("div",{key:0,ref:"imageRef"+o.index,class:"vac-message-image-container",onMouseover:t[2]||(t[2]=l=>n.imageHover=!0),onMouseleave:t[3]||(t[3]=l=>n.imageHover=!1),onClick:t[4]||(t[4]=l=>r.openFile(l,"preview"))},[o.file.progress>=0?(p(),Ce(i,{key:0,progress:o.file.progress,style:Te({top:`${n.imageResponsive.loaderTop}px`})},null,8,["progress","style"])):(p(),Ce(a,{key:1,show:r.isImageLoading,type:"message-file","message-id":o.message._id,style:Te({top:`${n.imageResponsive.loaderTop}px`})},Le({_:2},[me(e.$slots,(l,d)=>({name:d,fn:se(u=>[D(e.$slots,d,Ie(Ae(u)))])}))]),1032,["show","message-id","style"])),M("div",{class:pe(["vac-message-image",{"vac-blur-loading":r.isImageLoading&&o.message.senderId===o.currentUserId}]),style:Te({"background-image":`url('${r.isImageLoading&&o.file.preview||o.file.url}')`,"max-height":`${n.imageResponsive.maxHeight}px`})},[H(Ge,{name:"vac-fade-image"},{default:se(()=>[!o.messageSelectionEnabled&&n.imageHover&&!r.isImageLoading?(p(),w("div",dy,[M("div",{class:"vac-svg-button vac-button-view",onClick:t[0]||(t[0]=l=>r.openFile(l,"preview"))},[D(e.$slots,"eye-icon_"+o.message._id,{},()=>[H(c,{name:"eye"})])]),M("div",{class:"vac-svg-button vac-button-download",onClick:t[1]||(t[1]=l=>r.openFile(l,"download"))},[D(e.$slots,"document-icon_"+o.message._id,{},()=>[H(c,{name:"document"})])])])):B("",!0)]),_:3})],6)],544)):r.isVideo?(p(),w("div",{key:1,class:"vac-video-container",onClick:t[5]||(t[5]=wt(l=>r.openFile(l,"preview"),["prevent"]))},[o.file.progress>=0?(p(),Ce(i,{key:0,progress:o.file.progress},null,8,["progress"])):B("",!0),M("video",uy,[M("source",{src:o.file.url},null,8,fy)])])):B("",!0)])}var hy=Fe(cy,[["render",my]]);const gy={name:"MessageFiles",components:{SvgIcon:Je,FormatMessage:ks,ProgressBar:Nd,MessageFile:hy},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},roomUsers:{type:Array,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["open-file","open-user-tag"],computed:{imageVideoFiles(){return this.message.files.filter(e=>al(e))},otherFiles(){return this.message.files.filter(e=>!al(e))}},methods:{openFile(e,t,o){this.messageSelectionEnabled||(e.stopPropagation(),this.$emit("open-file",{file:t,action:o}))}}},py={class:"vac-message-files-container"},vy=["onClick"],by={class:"vac-svg-button"},yy={class:"vac-text-ellipsis"},wy={key:0,class:"vac-text-ellipsis vac-text-extension"};function xy(e,t,o,s,n,r){const i=oe("message-file"),a=oe("progress-bar"),c=oe("svg-icon"),l=oe("format-message");return p(),w("div",py,[(p(!0),w(Se,null,me(r.imageVideoFiles,(d,u)=>(p(),w("div",{key:u+"iv"},[H(i,{file:d,"current-user-id":o.currentUserId,message:o.message,index:u,"message-selection-enabled":o.messageSelectionEnabled,onOpenFile:t[0]||(t[0]=f=>e.$emit("open-file",f))},Le({_:2},[me(e.$slots,(f,g)=>({name:g,fn:se(b=>[D(e.$slots,g,Ie(Ae(b)))])}))]),1032,["file","current-user-id","message","index","message-selection-enabled"])]))),128)),(p(!0),w(Se,null,me(r.otherFiles,(d,u)=>(p(),w("div",{key:u+"a",class:"vac-file-wrapper"},[d.progress>=0?(p(),Ce(a,{key:0,progress:d.progress,style:{top:"44px"}},null,8,["progress"])):B("",!0),M("div",{class:pe(["vac-file-container",{"vac-file-container-progress":d.progress>=0}]),onClick:f=>r.openFile(f,d,"download")},[M("div",by,[D(e.$slots,"document-icon",{},()=>[H(c,{name:"document"})])]),M("div",yy,ce(d.name),1),d.extension?(p(),w("div",wy,ce(d.extension),1)):B("",!0)],10,vy)]))),128)),H(l,{"message-id":o.message._id,content:o.message.content,users:o.roomUsers,"text-formatting":o.textFormatting,"link-options":o.linkOptions,onOpenUserTag:t[1]||(t[1]=d=>e.$emit("open-user-tag",d))},null,8,["message-id","content","users","text-formatting","link-options"])])}var _y=Fe(gy,[["render",xy]]);const ky={name:"MessageActions",components:{SvgIcon:Je,EmojiPickerContainer:Id},directives:{clickOutside:Tn},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},messageActions:{type:Array,required:!0},showReactionEmojis:{type:Boolean,required:!0},messageHover:{type:Boolean,required:!0},hoverMessageId:{type:[String,Number],default:null},hoverAudioProgress:{type:Boolean,required:!0}},emits:["update-emoji-opened","update-options-opened","update-message-hover","message-action-handler","send-message-reaction"],data(){return{menuOptionsTop:0,optionsOpened:!1,optionsClosing:!1,emojiOpened:!1}},computed:{isMessageActions(){return this.filteredMessageActions.length&&this.messageHover&&!this.message.deleted&&!this.message.disableActions&&!this.hoverAudioProgress},isMessageReactions(){return this.showReactionEmojis&&this.messageHover&&!this.message.deleted&&!this.message.disableReactions&&!this.hoverAudioProgress},filteredMessageActions(){return this.message.senderId===this.currentUserId?this.messageActions:this.messageActions.filter(e=>!e.onlyMe)}},watch:{emojiOpened(e){this.$emit("update-emoji-opened",e),e&&(this.optionsOpened=!1)},optionsOpened(e){this.$emit("update-options-opened",e)}},methods:{openOptions(){this.optionsClosing||(this.optionsOpened=!this.optionsOpened,this.optionsOpened&&setTimeout(()=>{const e=document.querySelector("vue-advanced-chat").shadowRoot.getElementById("room-footer");if(!e||!this.$refs.menuOptions||!this.$refs.actionIcon)return;const t=this.$refs.menuOptions.getBoundingClientRect().height,o=this.$refs.actionIcon.getBoundingClientRect().top;e.getBoundingClientRect().top-o>t+50?this.menuOptionsTop=30:this.menuOptionsTop=-t}))},closeOptions(){this.optionsOpened=!1,this.optionsClosing=!0,this.updateMessageHover(),setTimeout(()=>this.optionsClosing=!1,100)},openEmoji(){this.emojiOpened=!this.emojiOpened},closeEmoji(){this.emojiOpened=!1,this.updateMessageHover()},updateMessageHover(){this.hoverMessageId!==this.message._id&&this.$emit("update-message-hover",!1)},messageActionHandler(e){this.closeOptions(),this.$emit("message-action-handler",e)},sendMessageReaction(e,t){this.$emit("send-message-reaction",{emoji:e,reaction:t}),this.closeEmoji()}}},Ey={class:"vac-message-actions-wrapper"},Ty={key:"3"},Sy={class:"vac-menu-list"},My=["onClick"];function Cy(e,t,o,s,n,r){const i=oe("svg-icon"),a=oe("emoji-picker-container"),c=an("click-outside");return p(),w("div",Ey,[M("div",{class:"vac-options-container",style:Te({display:o.hoverAudioProgress?"none":"initial",width:r.filteredMessageActions.length&&o.showReactionEmojis?"70px":"45px"})},[H(Hr,{name:"vac-slide-left",tag:"span"},{default:se(()=>[r.isMessageActions||r.isMessageReactions?(p(),w("div",{key:"1",class:pe(["vac-blur-container",{"vac-options-me":o.message.senderId===o.currentUserId}])},null,2)):B("",!0),r.isMessageActions?(p(),w("div",{ref:"actionIcon",key:"2",class:"vac-svg-button vac-message-options",onClick:t[0]||(t[0]=(...l)=>r.openOptions&&r.openOptions(...l))},[D(e.$slots,"dropdown-icon_"+o.message._id,{},()=>[H(i,{name:"dropdown",param:"message"})])],512)):B("",!0),r.isMessageReactions?zt((p(),w("div",Ty,[D(e.$slots,"emoji-picker",jr({emojiOpened:n.emojiOpened},{addEmoji:r.sendMessageReaction}),()=>[H(a,{class:"vac-message-emojis",style:Te({right:r.isMessageActions?"30px":"5px"}),"emoji-opened":n.emojiOpened,"emoji-reaction":!0,"position-right":o.message.senderId===o.currentUserId,"message-id":o.message._id,onAddEmoji:r.sendMessageReaction,onOpenEmoji:r.openEmoji},Le({_:2},[me(e.$slots,(l,d)=>({name:d,fn:se(u=>[D(e.$slots,d,Ie(Ae(u)))])}))]),1032,["style","emoji-opened","position-right","message-id","onAddEmoji","onOpenEmoji"])])])),[[c,r.closeEmoji]]):B("",!0)]),_:3})],4),r.filteredMessageActions.length?(p(),Ce(Ge,{key:0,name:o.message.senderId===o.currentUserId?"vac-slide-left":"vac-slide-right"},{default:se(()=>[n.optionsOpened?zt((p(),w("div",{key:0,ref:"menuOptions",class:pe(["vac-menu-options",{"vac-menu-left":o.message.senderId!==o.currentUserId}]),style:Te({top:`${n.menuOptionsTop}px`})},[M("div",Sy,[(p(!0),w(Se,null,me(r.filteredMessageActions,l=>(p(),w("div",{key:l.name},[M("div",{class:"vac-menu-item",onClick:d=>r.messageActionHandler(l)},ce(l.title),9,My)]))),128))])],6)),[[c,r.closeOptions]]):B("",!0)]),_:1},8,["name"])):B("",!0)])}var Ry=Fe(ky,[["render",Cy]]);const Oy={name:"MessageReactions",props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0}},emits:["send-message-reaction"],methods:{sendMessageReaction(e,t){this.$emit("send-message-reaction",{emoji:e,reaction:t})}}},Ay=["onClick"];function Iy(e,t,o,s,n,r){return o.message.deleted?B("",!0):(p(),Ce(Hr,{key:0,name:"vac-slide-left",tag:"span"},{default:se(()=>[(p(!0),w(Se,null,me(o.message.reactions,(i,a)=>zt((p(),w("button",{key:a+0,class:pe(["vac-button-reaction",{"vac-reaction-me":i.indexOf(o.currentUserId)!==-1}]),style:Te({float:o.message.senderId===o.currentUserId?"right":"left"}),onClick:c=>r.sendMessageReaction({unicode:a},i)},[At(ce(a),1),M("span",null,ce(i.length),1)],14,Ay)),[[hn,i.length]])),128))]),_:1}))}var Ly=Fe(Oy,[["render",Iy]]);function jy(e){if(!((s,n)=>n.every(r=>{let i=!1;return(r.type[0]==="array"&&Array.isArray(s[r.key])||r.type.find(a=>a===typeof s[r.key]))&&(i=!0),i&&Bi(s,r.key)}))(e,[{key:"roomId",type:["string","number"]},{key:"roomName",type:["string"]},{key:"users",type:["array"]}]))throw new Error("Rooms object is not valid! Must contain roomId[String, Number], roomName[String] and users[Array]")}function Py(e){if(!((s,n)=>n.every(r=>r.type.find(a=>a===typeof s[r.key])&&Bi(s,r.key)))(e,[{key:"_id",type:["string","number"]},{key:"username",type:["string"]}]))throw new Error("Participants object is not valid! Must contain _id[String, Number] and username[String]")}function Ny(e){if(!((s,n)=>n.every(r=>r.type.find(a=>a===typeof s[r.key])&&Bi(s,r.key)))(e,[{key:"_id",type:["string","number"]},{key:"content",type:["string","number"]},{key:"senderId",type:["string","number"]}]))throw new Error("Messages object is not valid! Must contain _id[String, Number], content[String, Number] and senderId[String, Number]")}function Bi(e,t){return Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==null&&e[t]!==void 0}const Uy={name:"RoomMessage",components:{SvgIcon:Je,FormatMessage:ks,AudioPlayer:Ni,MessageReply:ey,MessageFiles:_y,MessageActions:Ry,MessageReactions:Ly},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},index:{type:Number,required:!0},message:{type:Object,required:!0},messages:{type:Array,required:!0},editedMessageId:{type:[String,Number],default:null},roomUsers:{type:Array,default:()=>[]},messageActions:{type:Array,required:!0},newMessages:{type:Array,default:()=>[]},showReactionEmojis:{type:Boolean,required:!0},showNewMessagesDivider:{type:Boolean,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},usernameOptions:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0},selectedMessages:{type:Array,default:()=>[]}},emits:["message-added","open-file","open-user-tag","open-failed-message","message-action-handler","send-message-reaction","select-message","unselect-message"],data(){return{hoverMessageId:null,messageHover:!1,optionsOpened:!1,emojiOpened:!1,newMessage:{},progressTime:"- : -",hoverAudioProgress:!1}},computed:{showUsername(){return!this.usernameOptions.currentUser&&this.message.senderId===this.currentUserId?!1:this.roomUsers.length>=this.usernameOptions.minUsers},showDate(){return this.index>0&&this.message.date!==this.messages[this.index-1].date},messageOffset(){return this.index>0&&this.message.senderId!==this.messages[this.index-1].senderId},isMessageHover(){return this.editedMessageId===this.message._id||this.hoverMessageId===this.message._id},isAudio(){var e;return(e=this.message.files)==null?void 0:e.some(t=>Sn(t))},isCheckmarkVisible(){return this.message.senderId===this.currentUserId&&!this.message.deleted&&(this.message.saved||this.message.distributed||this.message.seen)},hasCurrentUserAvatar(){return this.messages.some(e=>e.senderId===this.currentUserId&&e.avatar)},hasSenderUserAvatar(){return this.messages.some(e=>e.senderId!==this.currentUserId&&e.avatar)},isMessageSelected(){return this.messageSelectionEnabled&&!!this.selectedMessages.find(e=>e._id===this.message._id)}},watch:{newMessages:{immediate:!0,deep:!0,handler(e){if(!e.length||!this.showNewMessagesDivider){this.newMessage={};return}this.newMessage=e.reduce((t,o)=>o.index<t.index?o:t)}},messageSelectionEnabled(){this.resetMessageHover()}},mounted(){Ny(this.message),this.$emit("message-added",{message:this.message,index:this.index,ref:this.$refs.message})},methods:{onHoverMessage(){this.messageSelectionEnabled||(this.messageHover=!0,this.canEditMessage()&&(this.hoverMessageId=this.message._id))},canEditMessage(){return!this.message.deleted},onLeaveMessage(){this.messageSelectionEnabled||(!this.optionsOpened&&!this.emojiOpened&&(this.messageHover=!1),this.hoverMessageId=null)},resetMessageHover(){this.messageHover=!1,this.hoverMessageId=null},openFile(e){this.$emit("open-file",{message:this.message,file:e})},openUserTag(e){this.$emit("open-user-tag",{user:e})},messageActionHandler(e){this.resetMessageHover(),setTimeout(()=>{this.$emit("message-action-handler",{action:e,message:this.message})},300)},sendMessageReaction({emoji:e,reaction:t}){this.$emit("send-message-reaction",{messageId:this.message._id,reaction:e,remove:t&&t.indexOf(this.currentUserId)!==-1}),this.messageHover=!1},selectMessage(){this.messageSelectionEnabled&&(this.isMessageSelected?this.$emit("unselect-message",this.message._id):this.$emit("select-message",this.message))}}},Fy=["id"],Dy={key:0,class:"vac-card-info vac-card-date"},By={key:1,class:"vac-line-new"},Hy={key:2,class:"vac-card-info vac-card-system"},zy={key:1,class:"vac-avatar-offset"},qy={key:0,class:"vac-progress-time"},Ky={class:"vac-text-timestamp"},Vy={key:0,class:"vac-icon-edited"},Gy={key:1},Wy=[M("div",{class:"vac-failure-text"},"!",-1)],Yy={key:3,class:"vac-avatar-current-offset"};function Zy(e,t,o,s,n,r){const i=oe("format-message"),a=oe("message-reply"),c=oe("message-files"),l=oe("audio-player"),d=oe("svg-icon"),u=oe("message-actions"),f=oe("message-reactions");return p(),w("div",{id:o.message._id,ref:"message",class:"vac-message-wrapper"},[r.showDate?(p(),w("div",Dy,ce(o.message.date),1)):B("",!0),n.newMessage._id===o.message._id?(p(),w("div",By,ce(o.textMessages.NEW_MESSAGES),1)):B("",!0),o.message.system?(p(),w("div",Hy,[D(e.$slots,"message_"+o.message._id,{},()=>[H(i,{"message-id":o.message._id,content:o.message.content,deleted:!!o.message.deleted,users:o.roomUsers,"text-messages":o.textMessages,"text-formatting":o.textFormatting,"link-options":o.linkOptions,onOpenUserTag:r.openUserTag},Le({_:2},[me(e.$slots,(g,b)=>({name:b,fn:se(T=>[D(e.$slots,b,Ie(Ae(T)))])}))]),1032,["message-id","content","deleted","users","text-messages","text-formatting","link-options","onOpenUserTag"])])])):(p(),w("div",{key:3,class:pe(["vac-message-box",{"vac-offset-current":o.message.senderId===o.currentUserId}]),onClick:t[8]||(t[8]=(...g)=>r.selectMessage&&r.selectMessage(...g))},[D(e.$slots,"message_"+o.message._id,{},()=>[o.message.avatar&&o.message.senderId!==o.currentUserId?D(e.$slots,"message-avatar_"+o.message._id,{key:0},()=>[M("div",{class:"vac-avatar",style:Te({"background-image":`url('${o.message.avatar}')`})},null,4)]):B("",!0),r.hasSenderUserAvatar&&!o.message.avatar?(p(),w("div",zy)):B("",!0),M("div",{class:pe(["vac-message-container",{"vac-message-container-offset":r.messageOffset}])},[M("div",{class:pe(["vac-message-card",{"vac-message-highlight":r.isMessageHover,"vac-message-current":o.message.senderId===o.currentUserId,"vac-message-deleted":o.message.deleted,"vac-item-clickable":o.messageSelectionEnabled,"vac-message-selected":r.isMessageSelected}]),onMouseover:t[5]||(t[5]=(...g)=>r.onHoverMessage&&r.onHoverMessage(...g)),onMouseleave:t[6]||(t[6]=(...g)=>r.onLeaveMessage&&r.onLeaveMessage(...g))},[r.showUsername?(p(),w("div",{key:0,class:pe(["vac-text-username",{"vac-username-reply":!o.message.deleted&&o.message.replyMessage}])},[M("span",null,ce(o.message.username),1)],2)):B("",!0),!o.message.deleted&&o.message.replyMessage?(p(),Ce(a,{key:1,message:o.message,"room-users":o.roomUsers,"text-formatting":o.textFormatting,"link-options":o.linkOptions},Le({_:2},[me(e.$slots,(g,b)=>({name:b,fn:se(T=>[D(e.$slots,b,Ie(Ae(T)))])}))]),1032,["message","room-users","text-formatting","link-options"])):B("",!0),!!o.message.deleted||!o.message.files||!o.message.files.length?(p(),Ce(i,{key:2,"message-id":o.message._id,content:o.message.content,deleted:!!o.message.deleted,users:o.roomUsers,"text-formatting":o.textFormatting,"text-messages":o.textMessages,"link-options":o.linkOptions,onOpenUserTag:r.openUserTag},Le({_:2},[me(e.$slots,(g,b)=>({name:b,fn:se(T=>[D(e.$slots,b,Ie(Ae(T)))])}))]),1032,["message-id","content","deleted","users","text-formatting","text-messages","link-options","onOpenUserTag"])):!r.isAudio||o.message.files.length>1?(p(),Ce(c,{key:3,"current-user-id":o.currentUserId,message:o.message,"room-users":o.roomUsers,"text-formatting":o.textFormatting,"link-options":o.linkOptions,"message-selection-enabled":o.messageSelectionEnabled,onOpenFile:r.openFile,onOpenUserTag:r.openUserTag},Le({_:2},[me(e.$slots,(g,b)=>({name:b,fn:se(T=>[D(e.$slots,b,Ie(Ae(T)))])}))]),1032,["current-user-id","message","room-users","text-formatting","link-options","message-selection-enabled","onOpenFile","onOpenUserTag"])):(p(),w(Se,{key:4},[H(l,{"message-id":o.message._id,src:o.message.files[0].url,"message-selection-enabled":o.messageSelectionEnabled,onUpdateProgressTime:t[0]||(t[0]=g=>n.progressTime=g),onHoverAudioProgress:t[1]||(t[1]=g=>n.hoverAudioProgress=g)},Le({_:2},[me(e.$slots,(g,b)=>({name:b,fn:se(T=>[D(e.$slots,b,Ie(Ae(T)))])}))]),1032,["message-id","src","message-selection-enabled"]),o.message.deleted?B("",!0):(p(),w("div",qy,ce(n.progressTime),1))],64)),M("div",Ky,[o.message.edited&&!o.message.deleted?(p(),w("div",Vy,[D(e.$slots,"pencil-icon_"+o.message._id,{},()=>[H(d,{name:"pencil"})])])):B("",!0),M("span",null,ce(o.message.timestamp),1),r.isCheckmarkVisible?(p(),w("span",Gy,[D(e.$slots,"checkmark-icon_"+o.message._id,{},()=>[H(d,{name:o.message.distributed?"double-checkmark":"checkmark",param:o.message.seen?"seen":"",class:"vac-icon-check"},null,8,["name","param"])])])):B("",!0)]),H(u,{"current-user-id":o.currentUserId,message:o.message,"message-actions":o.messageActions,"show-reaction-emojis":o.showReactionEmojis,"message-hover":n.messageHover,"hover-message-id":n.hoverMessageId,"hover-audio-progress":n.hoverAudioProgress,onUpdateMessageHover:t[2]||(t[2]=g=>n.messageHover=g),onUpdateOptionsOpened:t[3]||(t[3]=g=>n.optionsOpened=g),onUpdateEmojiOpened:t[4]||(t[4]=g=>n.emojiOpened=g),onMessageActionHandler:r.messageActionHandler,onSendMessageReaction:r.sendMessageReaction},Le({_:2},[me(e.$slots,(g,b)=>({name:b,fn:se(T=>[D(e.$slots,b,Ie(Ae(T)))])}))]),1032,["current-user-id","message","message-actions","show-reaction-emojis","message-hover","hover-message-id","hover-audio-progress","onMessageActionHandler","onSendMessageReaction"])],34),H(f,{"current-user-id":o.currentUserId,message:o.message,onSendMessageReaction:r.sendMessageReaction},null,8,["current-user-id","message","onSendMessageReaction"])],2),D(e.$slots,"message-failure_"+o.message._id,{},()=>[o.message.failure&&o.message.senderId===o.currentUserId?(p(),w("div",{key:0,class:pe(["vac-failure-container vac-svg-button",{"vac-failure-container-avatar":o.message.avatar&&o.message.senderId===o.currentUserId}]),onClick:t[7]||(t[7]=g=>e.$emit("open-failed-message",{message:o.message}))},Wy,2)):B("",!0)]),o.message.avatar&&o.message.senderId===o.currentUserId?D(e.$slots,"message-avatar_"+o.message._id,{key:2},()=>[M("div",{class:"vac-avatar vac-avatar-current",style:Te({"background-image":`url('${o.message.avatar}')`})},null,4)]):B("",!0),r.hasCurrentUserAvatar&&!o.message.avatar?(p(),w("div",Yy)):B("",!0)])],2))],8,Fy)}var Xy=Fe(Uy,[["render",Zy]]);const Qy={name:"ChatRoom",components:{Loader:gn,SvgIcon:Je,RoomHeader:qp,RoomFooter:H0,RoomMessage:Xy},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},roomId:{type:[String,Number],required:!0},loadFirstRoom:{type:Boolean,required:!0},messages:{type:Array,required:!0},roomMessage:{type:String,default:null},messagesLoaded:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},messageActions:{type:Array,required:!0},messageSelectionActions:{type:Array,required:!0},autoScroll:{type:Object,required:!0},showSendIcon:{type:Boolean,required:!0},showFiles:{type:Boolean,required:!0},showAudio:{type:Boolean,required:!0},audioBitRate:{type:Number,required:!0},audioSampleRate:{type:Number,required:!0},showEmojis:{type:Boolean,required:!0},showReactionEmojis:{type:Boolean,required:!0},showNewMessagesDivider:{type:Boolean,required:!0},showFooter:{type:Boolean,required:!0},acceptedFiles:{type:String,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},loadingRooms:{type:Boolean,required:!0},roomInfoEnabled:{type:Boolean,required:!0},textareaActionEnabled:{type:Boolean,required:!0},textareaAutoFocus:{type:Boolean,required:!0},userTagsEnabled:{type:Boolean,required:!0},emojisSuggestionEnabled:{type:Boolean,required:!0},scrollDistance:{type:Number,required:!0},templatesText:{type:Array,default:null},usernameOptions:{type:Object,required:!0}},emits:["toggle-rooms-list","room-info","menu-action-handler","message-selection-action-handler","edit-message","send-message","delete-message","message-action-handler","fetch-messages","send-message-reaction","typing-message","open-file","open-user-tag","open-failed-message","textarea-action-handler"],data(){return{editedMessageId:null,initReplyMessage:null,initEditMessage:null,loadingMessages:!1,observer:null,showLoader:!0,loadingMoreMessages:!1,scrollIcon:!1,scrollMessagesCount:0,newMessages:[],messageSelectionEnabled:!1,selectedMessages:[],droppedFiles:[]}},computed:{room(){return this.rooms.find(e=>e.roomId===this.roomId)||{}},showNoMessages(){return this.roomId&&!this.messages.length&&!this.loadingMessages&&!this.loadingRooms},showNoRoom(){const e=!this.rooms.length&&!this.loadingRooms||!this.roomId&&!this.loadFirstRoom;return e&&this.updateLoadingMessages(!1),e},showMessagesStarted(){return this.messages.length&&this.messagesLoaded}},watch:{roomId:{immediate:!0,handler(){this.onRoomChanged()}},messages:{deep:!0,handler(e,t){e.forEach((o,s)=>{this.showNewMessagesDivider&&!o.seen&&o.senderId!==this.currentUserId&&this.newMessages.push({_id:o._id,index:s})}),(t==null?void 0:t.length)===(e==null?void 0:e.length)-1&&(this.newMessages=[]),setTimeout(()=>this.loadingMoreMessages=!1)}},messagesLoaded(e){e&&this.updateLoadingMessages(!1)}},mounted(){this.newMessages=[]},methods:{updateLoadingMessages(e){this.loadingMessages=e,e||setTimeout(()=>this.initIntersectionObserver())},initIntersectionObserver(){this.observer&&(this.showLoader=!0,this.observer.disconnect());const e=document.querySelector("vue-advanced-chat").shadowRoot.getElementById("infinite-loader-messages");if(e){const t={root:document.querySelector("vue-advanced-chat").shadowRoot.getElementById("messages-list"),rootMargin:`${this.scrollDistance}px`,threshold:0};this.observer=new IntersectionObserver(o=>{o[0].isIntersecting&&this.loadMoreMessages()},t),this.observer.observe(e)}},preventTopScroll(){const e=this.$refs.scrollContainer,t=e.scrollHeight,o=new ResizeObserver(n=>{e.scrollHeight!==t&&this.$refs.scrollContainer&&(this.$refs.scrollContainer.scrollTo({top:e.scrollHeight-t}),o.disconnect())});for(var s=0;s<e.children.length;s++)o.observe(e.children[s])},touchStart(e){if(!this.singleRoom&&e.changedTouches.length===1){const t=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY;addEventListener("touchend",s=>this.touchEnd(s,t,o),{once:!0})}},touchEnd(e,t,o){if(e.changedTouches.length===1){const s=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY,r=s-t>100,i=Math.abs(n-o)>50;r&&!i&&this.$emit("toggle-rooms-list")}},onRoomChanged(){this.updateLoadingMessages(!0),this.scrollIcon=!1,this.scrollMessagesCount=0,this.resetMessageSelection();const e=this.$watch(()=>this.messages,t=>{if(!t||!t.length)return;const o=this.$refs.scrollContainer;!o||(e(),setTimeout(()=>{o.scrollTo({top:o.scrollHeight}),this.updateLoadingMessages(!1)}))})},resetMessageSelection(){this.messageSelectionEnabled=!1,this.selectedMessages=[]},selectMessage(e){this.selectedMessages.push(e)},unselectMessage(e){this.selectedMessages=this.selectedMessages.filter(t=>t._id!==e)},onMessageAdded({message:e,index:t,ref:o}){if(t!==this.messages.length-1)return;const s=o.offsetHeight+60;setTimeout(()=>{const n=this.getBottomScroll(this.$refs.scrollContainer)>s;e.senderId===this.currentUserId?n?this.autoScroll.send.newAfterScrollUp&&this.scrollToBottom():this.autoScroll.send.new&&this.scrollToBottom():n?this.autoScroll.receive.newAfterScrollUp?this.scrollToBottom():(this.scrollIcon=!0,this.scrollMessagesCount++):this.autoScroll.receive.new?this.scrollToBottom():(this.scrollIcon=!0,this.scrollMessagesCount++)})},onContainerScroll(e){if(!e.target)return;const t=this.getBottomScroll(e.target);t<60&&(this.scrollMessagesCount=0),this.scrollIcon=t>500||this.scrollMessagesCount},loadMoreMessages(){this.loadingMessages||setTimeout(()=>{if(!this.loadingMoreMessages){if(this.messagesLoaded||!this.roomId){this.loadingMoreMessages=!1,this.showLoader=!1;return}this.preventTopScroll(),this.$emit("fetch-messages"),this.loadingMoreMessages=!0}},500)},messageActionHandler({action:e,message:t}){switch(e.name){case"replyMessage":this.initReplyMessage=t,setTimeout(()=>{this.initReplyMessage=null});return;case"editMessage":this.initEditMessage=t,setTimeout(()=>{this.initEditMessage=null});return;case"deleteMessage":return this.$emit("delete-message",t);case"selectMessages":this.selectedMessages=[t],this.messageSelectionEnabled=!0;return;default:return this.$emit("message-action-handler",{action:e,message:t})}},messageSelectionActionHandler(e){this.$emit("message-selection-action-handler",{action:e,messages:this.selectedMessages}),this.resetMessageSelection()},sendMessageReaction(e){this.$emit("send-message-reaction",e)},getBottomScroll(e){const{scrollHeight:t,clientHeight:o,scrollTop:s}=e;return t-o-s},scrollToBottom(){setTimeout(()=>{const e=this.$refs.scrollContainer;e.classList.add("vac-scroll-smooth"),e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),setTimeout(()=>e.classList.remove("vac-scroll-smooth"))},50)},openFile({message:e,file:t}){this.$emit("open-file",{message:e,file:t})},openUserTag(e){this.$emit("open-user-tag",e)},onDropFiles(e){this.droppedFiles=e.dataTransfer.files}}},Jy={class:"vac-container-center vac-room-empty"},$y={class:"vac-messages-container"},e1={key:0,class:"vac-text-started"},t1={key:1,class:"vac-text-started"},o1={key:0,id:"infinite-loader-messages"},s1={key:2},n1={key:0,class:"vac-badge-counter vac-messages-count"};function r1(e,t,o,s,n,r){const i=oe("room-header"),a=oe("loader"),c=oe("room-message"),l=oe("svg-icon"),d=oe("room-footer");return zt((p(),w("div",{class:"vac-col-messages",onDrop:t[12]||(t[12]=wt((...u)=>r.onDropFiles&&r.onDropFiles(...u),["prevent"])),onDragenter:t[13]||(t[13]=wt(()=>{},["prevent"])),onDragover:t[14]||(t[14]=wt(()=>{},["prevent"])),onDragleave:t[15]||(t[15]=wt(()=>{},["prevent"])),onTouchstart:t[16]||(t[16]=(...u)=>r.touchStart&&r.touchStart(...u))},[r.showNoRoom?D(e.$slots,"no-room-selected",{key:0},()=>[M("div",Jy,[M("div",null,ce(o.textMessages.ROOM_EMPTY),1)])]):(p(),Ce(i,{key:1,"current-user-id":o.currentUserId,"text-messages":o.textMessages,"single-room":o.singleRoom,"show-rooms-list":o.showRoomsList,"is-mobile":o.isMobile,"room-info-enabled":o.roomInfoEnabled,"menu-actions":o.menuActions,room:r.room,"message-selection-enabled":n.messageSelectionEnabled,"message-selection-actions":o.messageSelectionActions,"selected-messages-total":n.selectedMessages.length,onToggleRoomsList:t[0]||(t[0]=u=>e.$emit("toggle-rooms-list")),onRoomInfo:t[1]||(t[1]=u=>e.$emit("room-info")),onMenuActionHandler:t[2]||(t[2]=u=>e.$emit("menu-action-handler",u)),onMessageSelectionActionHandler:r.messageSelectionActionHandler,onCancelMessageSelection:t[3]||(t[3]=u=>n.messageSelectionEnabled=!1)},Le({_:2},[me(e.$slots,(u,f)=>({name:f,fn:se(g=>[D(e.$slots,f,Ie(Ae(g)))])}))]),1032,["current-user-id","text-messages","single-room","show-rooms-list","is-mobile","room-info-enabled","menu-actions","room","message-selection-enabled","message-selection-actions","selected-messages-total","onMessageSelectionActionHandler"])),M("div",{id:"messages-list",ref:"scrollContainer",class:"vac-container-scroll",onScroll:t[5]||(t[5]=(...u)=>r.onContainerScroll&&r.onContainerScroll(...u))},[H(a,{show:n.loadingMessages,type:"messages"},Le({_:2},[me(e.$slots,(u,f)=>({name:f,fn:se(g=>[D(e.$slots,f,Ie(Ae(g)))])}))]),1032,["show"]),M("div",$y,[M("div",{class:pe({"vac-messages-hidden":n.loadingMessages})},[H(Ge,{name:"vac-fade-message"},{default:se(()=>[M("div",null,[r.showNoMessages?(p(),w("div",e1,[D(e.$slots,"messages-empty",{},()=>[At(ce(o.textMessages.MESSAGES_EMPTY),1)])])):B("",!0),r.showMessagesStarted?(p(),w("div",t1,ce(o.textMessages.CONVERSATION_STARTED)+" "+ce(o.messages[0].date),1)):B("",!0)])]),_:3}),o.messages.length&&!o.messagesLoaded?(p(),w("div",o1,[H(a,{show:!0,infinite:!0,type:"infinite-messages"},Le({_:2},[me(e.$slots,(u,f)=>({name:f,fn:se(g=>[D(e.$slots,f,Ie(Ae(g)))])}))]),1024)])):B("",!0),(p(),Ce(Hr,{key:o.roomId,name:"vac-fade-message",tag:"span"},{default:se(()=>[(p(!0),w(Se,null,me(o.messages,(u,f)=>(p(),w("div",{key:u.indexId||u._id},[H(c,{"current-user-id":o.currentUserId,message:u,index:f,messages:o.messages,"edited-message-id":n.editedMessageId,"message-actions":o.messageActions,"room-users":r.room.users,"text-messages":o.textMessages,"new-messages":n.newMessages,"show-reaction-emojis":o.showReactionEmojis,"show-new-messages-divider":o.showNewMessagesDivider,"text-formatting":o.textFormatting,"link-options":o.linkOptions,"username-options":o.usernameOptions,"message-selection-enabled":n.messageSelectionEnabled,"selected-messages":n.selectedMessages,onMessageAdded:r.onMessageAdded,onMessageActionHandler:r.messageActionHandler,onOpenFile:r.openFile,onOpenUserTag:r.openUserTag,onOpenFailedMessage:t[4]||(t[4]=g=>e.$emit("open-failed-message",g)),onSendMessageReaction:r.sendMessageReaction,onSelectMessage:r.selectMessage,onUnselectMessage:r.unselectMessage},Le({_:2},[me(e.$slots,(g,b)=>({name:b,fn:se(T=>[D(e.$slots,b,Ie(Ae(T)))])}))]),1032,["current-user-id","message","index","messages","edited-message-id","message-actions","room-users","text-messages","new-messages","show-reaction-emojis","show-new-messages-divider","text-formatting","link-options","username-options","message-selection-enabled","selected-messages","onMessageAdded","onMessageActionHandler","onOpenFile","onOpenUserTag","onSendMessageReaction","onSelectMessage","onUnselectMessage"])]))),128))]),_:3}))],2)])],544),n.loadingMessages?B("",!0):(p(),w("div",s1,[H(Ge,{name:"vac-bounce"},{default:se(()=>[n.scrollIcon?(p(),w("div",{key:0,class:"vac-icon-scroll",onClick:t[6]||(t[6]=(...u)=>r.scrollToBottom&&r.scrollToBottom(...u))},[H(Ge,{name:"vac-bounce"},{default:se(()=>[n.scrollMessagesCount?(p(),w("div",n1,ce(n.scrollMessagesCount),1)):B("",!0)]),_:1}),D(e.$slots,"scroll-icon",{},()=>[H(l,{name:"dropdown",param:"scroll"})])])):B("",!0)]),_:3})])),H(d,{room:r.room,"room-id":o.roomId,"room-message":o.roomMessage,"text-messages":o.textMessages,"show-send-icon":o.showSendIcon,"show-files":o.showFiles,"show-audio":o.showAudio,"show-emojis":o.showEmojis,"show-footer":o.showFooter,"accepted-files":o.acceptedFiles,"textarea-action-enabled":o.textareaActionEnabled,"textarea-auto-focus":o.textareaAutoFocus,"user-tags-enabled":o.userTagsEnabled,"emojis-suggestion-enabled":o.emojisSuggestionEnabled,"templates-text":o.templatesText,"text-formatting":o.textFormatting,"link-options":o.linkOptions,"audio-bit-rate":o.audioBitRate,"audio-sample-rate":o.audioSampleRate,"init-reply-message":n.initReplyMessage,"init-edit-message":n.initEditMessage,"dropped-files":n.droppedFiles,onUpdateEditedMessageId:t[7]||(t[7]=u=>n.editedMessageId=u),onEditMessage:t[8]||(t[8]=u=>e.$emit("edit-message",u)),onSendMessage:t[9]||(t[9]=u=>e.$emit("send-message",u)),onTypingMessage:t[10]||(t[10]=u=>e.$emit("typing-message",u)),onTextareaActionHandler:t[11]||(t[11]=u=>e.$emit("textarea-action-handler",u))},Le({_:2},[me(e.$slots,(u,f)=>({name:f,fn:se(g=>[D(e.$slots,f,Ie(Ae(g)))])}))]),1032,["room","room-id","room-message","text-messages","show-send-icon","show-files","show-audio","show-emojis","show-footer","accepted-files","textarea-action-enabled","textarea-auto-focus","user-tags-enabled","emojis-suggestion-enabled","templates-text","text-formatting","link-options","audio-bit-rate","audio-sample-rate","init-reply-message","init-edit-message","dropped-files"])],544)),[[hn,o.isMobile&&!o.showRoomsList||!o.isMobile||o.singleRoom]])}var i1=Fe(Qy,[["render",r1]]);const a1={name:"MediaPreview",components:{SvgIcon:Je},props:{file:{type:Object,required:!0}},emits:["close-media-preview"],computed:{isImage(){return zo(this.file)},isVideo(){return Ts(this.file)}},mounted(){this.$refs.modal.focus()},methods:{closeModal(){this.$emit("close-media-preview")}}},c1={key:0,class:"vac-media-preview-container"},l1={key:1,class:"vac-media-preview-container"},d1={controls:"",autoplay:""},u1=["src"],f1={class:"vac-svg-button"};function m1(e,t,o,s,n,r){const i=oe("svg-icon");return p(),w("div",{ref:"modal",tabindex:"0",class:"vac-media-preview",onClick:t[0]||(t[0]=wt((...a)=>r.closeModal&&r.closeModal(...a),["stop"])),onKeydown:t[1]||(t[1]=Kt((...a)=>r.closeModal&&r.closeModal(...a),["esc"]))},[H(Ge,{name:"vac-bounce-preview",appear:""},{default:se(()=>[r.isImage?(p(),w("div",c1,[M("div",{class:"vac-image-preview",style:Te({"background-image":`url('${o.file.url}')`})},null,4)])):r.isVideo?(p(),w("div",l1,[M("video",d1,[M("source",{src:o.file.url},null,8,u1)])])):B("",!0)]),_:1}),M("div",f1,[D(e.$slots,"preview-close-icon",{},()=>[H(i,{name:"close-outline",param:"preview"})])])],544)}var h1=Fe(a1,[["render",m1]]),g1={ROOMS_EMPTY:"No rooms",ROOM_EMPTY:"No room selected",NEW_MESSAGES:"New Messages",MESSAGE_DELETED:"This message was deleted",MESSAGES_EMPTY:"No messages",CONVERSATION_STARTED:"Conversation started on:",TYPE_MESSAGE:"Type message",SEARCH:"Search",IS_ONLINE:"is online",LAST_SEEN:"last seen ",IS_TYPING:"is writing...",CANCEL_SELECT_MESSAGE:"Cancel"};const p1={light:{general:{color:"#0a0a0a",colorButtonClear:"#1976d2",colorButton:"#fff",backgroundColorButton:"#1976d2",backgroundInput:"#fff",colorPlaceholder:"#9ca6af",colorCaret:"#1976d2",colorSpinner:"#333",borderStyle:"1px solid #e1e4e8",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#fff",colorRoomName:"#0a0a0a",colorRoomInfo:"#9ca6af"},footer:{background:"#f8f9fa",borderStyleInput:"1px solid #e1e4e8",borderInputSelected:"#1976d2",backgroundReply:"#e5e5e6",backgroundTagActive:"#e5e5e6",backgroundTag:"#f8f9fa"},content:{background:"#f8f9fa"},sidemenu:{background:"#fff",backgroundHover:"#f6f6f6",backgroundActive:"#e5effa",colorActive:"#1976d2",borderColorSearch:"#e1e5e8"},dropdown:{background:"#fff",backgroundHover:"#f6f6f6"},message:{background:"#fff",backgroundMe:"#ccf2cf",color:"#0a0a0a",colorMe:"#0a0a0a",colorStarted:"#9ca6af",backgroundDeleted:"#dadfe2",backgroundSelected:"#c2dcf2",colorDeleted:"#757e85",colorUsername:"#9ca6af",colorTimestamp:"#828c94",colorTimestampMe:"#828c94",backgroundDate:"#e5effa",colorDate:"#505a62",backgroundSystem:"#e5effa",colorSystem:"#505a62",backgroundMedia:"rgba(0, 0, 0, 0.15)",backgroundReply:"rgba(0, 0, 0, 0.08)",colorReplyUsername:"#0a0a0a",colorReply:"#6e6e6e",colorTag:"#0d579c",backgroundImage:"#ddd",colorNewMessages:"#1976d2",backgroundScrollCounter:"#0696c7",colorScrollCounter:"#fff",backgroundReaction:"#eee",borderStyleReaction:"1px solid #eee",backgroundReactionHover:"#fff",borderStyleReactionHover:"1px solid #ddd",colorReactionCounter:"#0a0a0a",backgroundReactionMe:"#cfecf5",borderStyleReactionMe:"1px solid #3b98b8",backgroundReactionHoverMe:"#cfecf5",borderStyleReactionHoverMe:"1px solid #3b98b8",colorReactionCounterMe:"#0b59b3",backgroundAudioRecord:"#eb4034",backgroundAudioLine:"rgba(0, 0, 0, 0.15)",backgroundAudioProgress:"#455247",backgroundAudioProgressSelector:"#455247",colorFileExtension:"#757e85"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#0a0a0a",colorMessage:"#67717a",colorTimestamp:"#a2aeb8",colorStateOnline:"#4caf50",colorStateOffline:"#9ca6af",backgroundCounterBadge:"#0696c7",colorCounterBadge:"#fff"},emoji:{background:"#fff"},icons:{search:"#9ca6af",add:"#1976d2",toggle:"#0a0a0a",menu:"#0a0a0a",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#1976d2",closeOutline:"#000",closePreview:"#fff",send:"#1976d2",sendDisabled:"#9ca6af",emoji:"#1976d2",emojiReaction:"rgba(0, 0, 0, 0.3)",document:"#1976d2",pencil:"#9e9e9e",checkmark:"#9e9e9e",checkmarkSeen:"#0696c7",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownRoom:"#9e9e9e",dropdownScroll:"#0a0a0a",microphone:"#1976d2",audioPlay:"#455247",audioPause:"#455247",audioCancel:"#eb4034",audioConfirm:"#1ba65b"}},dark:{general:{color:"#fff",colorButtonClear:"#fff",colorButton:"#fff",backgroundColorButton:"#1976d2",backgroundInput:"#202223",colorPlaceholder:"#596269",colorCaret:"#fff",colorSpinner:"#fff",borderStyle:"none",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#181a1b",colorRoomName:"#fff",colorRoomInfo:"#9ca6af"},footer:{background:"#131415",borderStyleInput:"none",borderInputSelected:"#1976d2",backgroundReply:"#1b1c1c",backgroundTagActive:"#1b1c1c",backgroundTag:"#131415"},content:{background:"#131415"},sidemenu:{background:"#181a1b",backgroundHover:"#202224",backgroundActive:"#151617",colorActive:"#fff",borderColorSearch:"#181a1b"},dropdown:{background:"#2a2c33",backgroundHover:"#26282e"},message:{background:"#22242a",backgroundMe:"#1f7e80",color:"#fff",colorStarted:"#9ca6af",backgroundDeleted:"#1b1c21",backgroundSelected:"#c2dcf2",colorDeleted:"#a2a5a8",colorUsername:"#b3bac9",colorTimestamp:"#ebedf2",backgroundDate:"rgba(0, 0, 0, 0.3)",colorDate:"#bec5cc",backgroundSystem:"rgba(0, 0, 0, 0.3)",colorSystem:"#bec5cc",backgroundMedia:"rgba(0, 0, 0, 0.18)",backgroundReply:"rgba(0, 0, 0, 0.18)",colorReplyUsername:"#fff",colorReply:"#d6d6d6",colorTag:"#f0c60a",backgroundImage:"#ddd",colorNewMessages:"#fff",backgroundScrollCounter:"#1976d2",colorScrollCounter:"#fff",backgroundReaction:"none",borderStyleReaction:"none",backgroundReactionHover:"#202223",borderStyleReactionHover:"none",colorReactionCounter:"#fff",backgroundReactionMe:"#4e9ad1",borderStyleReactionMe:"none",backgroundReactionHoverMe:"#4e9ad1",borderStyleReactionHoverMe:"none",colorReactionCounterMe:"#fff",backgroundAudioRecord:"#eb4034",backgroundAudioLine:"rgba(255, 255, 255, 0.15)",backgroundAudioProgress:"#b7d4d3",backgroundAudioProgressSelector:"#b7d4d3",colorFileExtension:"#a2a5a8"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#fff",colorMessage:"#6c7278",colorTimestamp:"#6c7278",colorStateOnline:"#4caf50",colorStateOffline:"#596269",backgroundCounterBadge:"#1976d2",colorCounterBadge:"#fff"},emoji:{background:"#343740"},icons:{search:"#596269",add:"#fff",toggle:"#fff",menu:"#fff",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#fff",closeOutline:"#fff",closePreview:"#fff",send:"#fff",sendDisabled:"#646a70",emoji:"#fff",emojiReaction:"#fff",document:"#1976d2",pencil:"#ebedf2",checkmark:"#ebedf2",checkmarkSeen:"#f0d90a",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownRoom:"#fff",dropdownScroll:"#0a0a0a",microphone:"#fff",audioPlay:"#b7d4d3",audioPause:"#b7d4d3",audioCancel:"#eb4034",audioConfirm:"#1ba65b"}}},v1=({general:e,container:t,header:o,footer:s,sidemenu:n,content:r,dropdown:i,message:a,markdown:c,room:l,emoji:d,icons:u})=>({"--chat-color":e.color,"--chat-color-button-clear":e.colorButtonClear,"--chat-color-button":e.colorButton,"--chat-bg-color-button":e.backgroundColorButton,"--chat-bg-color-input":e.backgroundInput,"--chat-color-spinner":e.colorSpinner,"--chat-color-placeholder":e.colorPlaceholder,"--chat-color-caret":e.colorCaret,"--chat-border-style":e.borderStyle,"--chat-bg-scroll-icon":e.backgroundScrollIcon,"--chat-container-border":t.border,"--chat-container-border-radius":t.borderRadius,"--chat-container-box-shadow":t.boxShadow,"--chat-header-bg-color":o.background,"--chat-header-color-name":o.colorRoomName,"--chat-header-color-info":o.colorRoomInfo,"--chat-footer-bg-color":s.background,"--chat-border-style-input":s.borderStyleInput,"--chat-border-color-input-selected":s.borderInputSelected,"--chat-footer-bg-color-reply":s.backgroundReply,"--chat-footer-bg-color-tag-active":s.backgroundTagActive,"--chat-footer-bg-color-tag":s.backgroundTag,"--chat-content-bg-color":r.background,"--chat-sidemenu-bg-color":n.background,"--chat-sidemenu-bg-color-hover":n.backgroundHover,"--chat-sidemenu-bg-color-active":n.backgroundActive,"--chat-sidemenu-color-active":n.colorActive,"--chat-sidemenu-border-color-search":n.borderColorSearch,"--chat-dropdown-bg-color":i.background,"--chat-dropdown-bg-color-hover":i.backgroundHover,"--chat-message-bg-color":a.background,"--chat-message-bg-color-me":a.backgroundMe,"--chat-message-color-started":a.colorStarted,"--chat-message-bg-color-deleted":a.backgroundDeleted,"--chat-message-bg-color-selected":a.backgroundSelected,"--chat-message-color-deleted":a.colorDeleted,"--chat-message-color-username":a.colorUsername,"--chat-message-color-timestamp":a.colorTimestamp,"--chat-message-color-timestamp-me":a.colorTimestampMe,"--chat-message-bg-color-date":a.backgroundDate,"--chat-message-color-date":a.colorDate,"--chat-message-bg-color-system":a.backgroundSystem,"--chat-message-color-system":a.colorSystem,"--chat-message-color":a.color,"--chat-message-color-me":a.colorMe,"--chat-message-bg-color-media":a.backgroundMedia,"--chat-message-bg-color-reply":a.backgroundReply,"--chat-message-color-reply-username":a.colorReplyUsername,"--chat-message-color-reply-content":a.colorReply,"--chat-message-color-tag":a.colorTag,"--chat-message-bg-color-image":a.backgroundImage,"--chat-message-color-new-messages":a.colorNewMessages,"--chat-message-bg-color-scroll-counter":a.backgroundScrollCounter,"--chat-message-color-scroll-counter":a.colorScrollCounter,"--chat-message-bg-color-reaction":a.backgroundReaction,"--chat-message-border-style-reaction":a.borderStyleReaction,"--chat-message-bg-color-reaction-hover":a.backgroundReactionHover,"--chat-message-border-style-reaction-hover":a.borderStyleReactionHover,"--chat-message-color-reaction-counter":a.colorReactionCounter,"--chat-message-bg-color-reaction-me":a.backgroundReactionMe,"--chat-message-border-style-reaction-me":a.borderStyleReactionMe,"--chat-message-bg-color-reaction-hover-me":a.backgroundReactionHoverMe,"--chat-message-border-style-reaction-hover-me":a.borderStyleReactionHoverMe,"--chat-message-color-reaction-counter-me":a.colorReactionCounterMe,"--chat-message-bg-color-audio-record":a.backgroundAudioRecord,"--chat-message-bg-color-audio-line":a.backgroundAudioLine,"--chat-message-bg-color-audio-progress":a.backgroundAudioProgress,"--chat-message-bg-color-audio-progress-selector":a.backgroundAudioProgressSelector,"--chat-message-color-file-extension":a.colorFileExtension,"--chat-markdown-bg":c.background,"--chat-markdown-border":c.border,"--chat-markdown-color":c.color,"--chat-markdown-color-multi":c.colorMulti,"--chat-room-color-username":l.colorUsername,"--chat-room-color-message":l.colorMessage,"--chat-room-color-timestamp":l.colorTimestamp,"--chat-room-color-online":l.colorStateOnline,"--chat-room-color-offline":l.colorStateOffline,"--chat-room-bg-color-badge":l.backgroundCounterBadge,"--chat-room-color-badge":l.colorCounterBadge,"--chat-emoji-bg-color":d.background,"--chat-icon-color-search":u.search,"--chat-icon-color-add":u.add,"--chat-icon-color-toggle":u.toggle,"--chat-icon-color-menu":u.menu,"--chat-icon-color-close":u.close,"--chat-icon-color-close-image":u.closeImage,"--chat-icon-color-file":u.file,"--chat-icon-color-paperclip":u.paperclip,"--chat-icon-color-close-outline":u.closeOutline,"--chat-icon-color-close-preview":u.closePreview,"--chat-icon-color-send":u.send,"--chat-icon-color-send-disabled":u.sendDisabled,"--chat-icon-color-emoji":u.emoji,"--chat-icon-color-emoji-reaction":u.emojiReaction,"--chat-icon-color-document":u.document,"--chat-icon-color-pencil":u.pencil,"--chat-icon-color-checkmark":u.checkmark,"--chat-icon-color-checkmark-seen":u.checkmarkSeen,"--chat-icon-color-eye":u.eye,"--chat-icon-color-dropdown-message":u.dropdownMessage,"--chat-icon-bg-dropdown-message":u.dropdownMessageBackground,"--chat-icon-color-dropdown-room":u.dropdownRoom,"--chat-icon-color-dropdown-scroll":u.dropdownScroll,"--chat-icon-color-microphone":u.microphone,"--chat-icon-color-audio-play":u.audioPlay,"--chat-icon-color-audio-pause":u.audioPause,"--chat-icon-color-audio-cancel":u.audioCancel,"--chat-icon-color-audio-confirm":u.audioConfirm});var b1=`.vac-fade-spinner-enter-from{opacity:0}.vac-fade-spinner-enter-active{transition:opacity .8s}.vac-fade-spinner-leave-active{transition:opacity .2s;opacity:0}.vac-fade-image-enter-from{opacity:0}.vac-fade-image-enter-active{transition:opacity 1s}.vac-fade-image-leave-active{transition:opacity .5s;opacity:0}.vac-fade-message-enter-from{opacity:0}.vac-fade-message-enter-active{transition:opacity .5s}.vac-fade-message-leave-active{transition:opacity .2s;opacity:0}.vac-slide-left-enter-active,.vac-slide-right-enter-active{transition:all .3s ease;transition-property:transform,opacity}.vac-slide-left-leave-active,.vac-slide-right-leave-active{transition:all .2s cubic-bezier(1,.5,.8,1)!important;transition-property:transform,opacity}.vac-slide-left-enter-from,.vac-slide-left-leave-to{transform:translate(10px);opacity:0}.vac-slide-right-enter-from,.vac-slide-right-leave-to{transform:translate(-10px);opacity:0}.vac-slide-up-enter-active{transition:all .3s ease}.vac-slide-up-leave-active{transition:all .2s cubic-bezier(1,.5,.8,1)}.vac-slide-up-enter-from,.vac-slide-up-leave-to{transform:translateY(10px);opacity:0}.vac-bounce-enter-active{animation:vac-bounce-in .5s}.vac-bounce-leave-active{animation:vac-bounce-in .3s reverse}@keyframes vac-bounce-in{0%{transform:scale(0)}50%{transform:scale(1.05)}to{transform:scale(1)}}.vac-fade-preview-enter{opacity:0}.vac-fade-preview-enter-active{transition:opacity .1s}.vac-fade-preview-leave-active{transition:opacity .2s;opacity:0}.vac-bounce-preview-enter-active{animation:vac-bounce-image-in .4s}.vac-bounce-preview-leave-active{animation:vac-bounce-image-in .3s reverse}@keyframes vac-bounce-image-in{0%{transform:scale(.6)}to{transform:scale(1)}}.vac-menu-list{border-radius:4px;display:block;cursor:pointer;background:var(--chat-dropdown-bg-color);padding:6px 0}.vac-menu-list :hover{background:var(--chat-dropdown-bg-color-hover);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-menu-list :not(:hover){transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-menu-item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 100%;flex:1 1 100%;min-height:30px;padding:5px 16px;position:relative;white-space:nowrap;line-height:30px}.vac-menu-options{position:absolute;right:10px;top:20px;z-index:9999;min-width:150px;display:inline-block;border-radius:4px;font-size:14px;color:var(--chat-color);overflow-y:auto;overflow-x:hidden;contain:content;box-shadow:0 2px 2px -4px #0000001a,0 2px 2px 1px #0000001f,0 1px 8px 1px #0000001f}.vac-app-border{border:var(--chat-border-style)}.vac-app-border-t{border-top:var(--chat-border-style)}.vac-app-border-r{border-right:var(--chat-border-style)}.vac-app-border-b{border-bottom:var(--chat-border-style)}.vac-app-box-shadow{transition:all .5s;box-shadow:0 2px 2px -4px #0000001a,0 2px 2px 1px #0000001f,0 1px 8px 1px #0000001f}.vac-item-clickable{cursor:pointer}.vac-vertical-center{display:flex;align-items:center;height:100%}.vac-vertical-center .vac-vertical-container{width:100%;text-align:center}.vac-svg-button{max-height:30px;display:flex;cursor:pointer;transition:all .2s}.vac-svg-button:hover{transform:scale(1.1);opacity:.7}.vac-avatar{background-size:cover;background-position:center center;background-repeat:no-repeat;background-color:#ddd;height:42px;width:42px;min-height:42px;min-width:42px;margin-right:15px;border-radius:50%}.vac-blur-loading{filter:blur(3px)}.vac-badge-counter{height:13px;width:auto;min-width:13px;border-radius:50%;display:flex;align-items:center;justify-content:center;padding:3px;font-size:11px;font-weight:500}.vac-text-ellipsis{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vac-text-bold{font-weight:700}.vac-text-italic{font-style:italic}.vac-text-strike{text-decoration:line-through}.vac-text-underline{text-decoration:underline}.vac-text-inline-code{display:inline-block;font-size:12px;color:var(--chat-markdown-color);background:var(--chat-markdown-bg);border:1px solid var(--chat-markdown-border);border-radius:3px;margin:2px 0;padding:2px 3px}.vac-text-multiline-code{display:block;font-size:12px;color:var(--chat-markdown-color-multi);background:var(--chat-markdown-bg);border:1px solid var(--chat-markdown-border);border-radius:3px;margin:4px 0;padding:7px}.vac-text-tag{color:var(--chat-message-color-tag);cursor:pointer}.vac-file-container{display:flex;align-content:center;justify-content:center;flex-wrap:wrap;text-align:center;background:var(--chat-bg-color-input);border:var(--chat-border-style-input);border-radius:4px;padding:10px}.vac-file-container svg{height:28px;width:28px}.vac-file-container .vac-text-extension{font-size:12px;color:var(--chat-message-color-file-extension);margin-top:-2px}.vac-card-window{width:100%;display:block;max-width:100%;background:var(--chat-content-bg-color);color:var(--chat-color);overflow-wrap:break-word;white-space:normal;border:var(--chat-container-border);border-radius:var(--chat-container-border-radius);box-shadow:var(--chat-container-box-shadow);-webkit-tap-highlight-color:transparent}.vac-card-window *{font-family:inherit}.vac-card-window a{color:#0d579c;font-weight:500}.vac-card-window .vac-chat-container{height:100%;display:flex}.vac-card-window .vac-chat-container input{min-width:10px}.vac-card-window .vac-chat-container textarea,.vac-card-window .vac-chat-container input[type=text],.vac-card-window .vac-chat-container input[type=search]{-webkit-appearance:none}.vac-media-preview{position:fixed;top:0;left:0;z-index:99;width:100vw;height:100vh;display:flex;align-items:center;background-color:#000c;outline:none}.vac-media-preview .vac-media-preview-container{height:calc(100% - 140px);width:calc(100% - 80px);padding:70px 40px;margin:0 auto}.vac-media-preview .vac-image-preview{width:100%;height:100%;background-size:contain;background-repeat:no-repeat;background-position:center}.vac-media-preview video{width:100%;height:100%}.vac-media-preview .vac-svg-button{position:absolute;top:30px;right:30px;transform:scale(1.4)}@media only screen and (max-width: 768px){.vac-media-preview .vac-svg-button{top:20px;right:20px;transform:scale(1.2)}.vac-media-preview .vac-media-preview-container{width:calc(100% - 40px);padding:70px 20px}}.vac-col-messages{position:relative;height:100%;flex:1;overflow:hidden;display:flex;flex-flow:column}.vac-col-messages .vac-container-center{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.vac-col-messages .vac-room-empty{font-size:14px;color:#9ca6af;font-style:italic;line-height:20px;white-space:pre-line}.vac-col-messages .vac-room-empty div{padding:0 10%}.vac-col-messages .vac-container-scroll{background:var(--chat-content-bg-color);flex:1;overflow-y:auto;margin-right:1px;margin-top:65px;-webkit-overflow-scrolling:touch}.vac-col-messages .vac-container-scroll.vac-scroll-smooth{scroll-behavior:smooth}.vac-col-messages .vac-messages-container{padding:0 5px 5px}.vac-col-messages .vac-text-started{font-size:14px;color:var(--chat-message-color-started);font-style:italic;text-align:center;margin-top:25px;margin-bottom:20px}.vac-col-messages .vac-icon-scroll{position:absolute;bottom:80px;right:20px;padding:8px;background:var(--chat-bg-scroll-icon);border-radius:50%;box-shadow:0 1px 1px -1px #0003,0 1px 1px #00000024,0 1px 2px #0000001f;display:flex;cursor:pointer;z-index:10}.vac-col-messages .vac-icon-scroll svg{height:25px;width:25px}.vac-col-messages .vac-messages-count{position:absolute;top:-8px;left:11px;background-color:var(--chat-message-bg-color-scroll-counter);color:var(--chat-message-color-scroll-counter)}.vac-col-messages .vac-messages-hidden{opacity:0}@media only screen and (max-width: 768px){.vac-col-messages .vac-container-scroll{margin-top:50px}.vac-col-messages .vac-text-started{margin-top:20px}.vac-col-messages .vac-icon-scroll{bottom:70px}}.vac-room-header{position:absolute;display:flex;align-items:center;height:64px;width:100%;z-index:10;margin-right:1px;background:var(--chat-header-bg-color);border-top-right-radius:var(--chat-container-border-radius)}.vac-room-header .vac-room-wrapper{display:flex;align-items:center;min-width:0;height:100%;width:100%;padding:0 16px}.vac-room-header .vac-toggle-button{margin-right:15px}.vac-room-header .vac-toggle-button svg{height:26px;width:26px}.vac-room-header .vac-rotate-icon{transform:rotate(180deg)!important}.vac-room-header .vac-rotate-icon-init{transform:rotate(360deg)}.vac-room-header .vac-info-wrapper,.vac-room-header .vac-room-selection{display:flex;align-items:center;min-width:0;width:100%;height:100%}.vac-room-header .vac-room-selection .vac-selection-button{padding:8px 16px;color:var(--chat-color-button);background-color:var(--chat-bg-color-button);border-radius:4px;margin-right:10px;cursor:pointer;transition:all .2s}.vac-room-header .vac-room-selection .vac-selection-button:hover{opacity:.7}.vac-room-header .vac-room-selection .vac-selection-button:active{opacity:.9}.vac-room-header .vac-room-selection .vac-selection-button .vac-selection-button-count{margin-left:6px;opacity:.9}.vac-room-header .vac-room-selection .vac-selection-cancel{display:flex;align-items:center;margin-left:auto;white-space:nowrap;color:var(--chat-color-button-clear);transition:all .2s}.vac-room-header .vac-room-selection .vac-selection-cancel:hover{opacity:.7}.vac-room-header .vac-room-name{font-size:17px;font-weight:500;line-height:22px;color:var(--chat-header-color-name)}.vac-room-header .vac-room-info{font-size:13px;line-height:18px;color:var(--chat-header-color-info)}.vac-room-header .vac-room-options{margin-left:auto}@media only screen and (max-width: 768px){.vac-room-header{height:50px}.vac-room-header .vac-room-wrapper{padding:0 10px}.vac-room-header .vac-room-name{font-size:16px;line-height:22px}.vac-room-header .vac-room-info{font-size:12px;line-height:16px}.vac-room-header .vac-avatar{height:37px;width:37px;min-height:37px;min-width:37px}}.vac-room-footer{width:100%;border-bottom-right-radius:4px;z-index:10}.vac-box-footer{display:flex;position:relative;background:var(--chat-footer-bg-color);padding:10px 8px}.vac-textarea{height:20px;width:100%;line-height:20px;overflow:hidden;outline:0;resize:none;border-radius:20px;padding:12px 16px;box-sizing:content-box;font-size:16px;background:var(--chat-bg-color-input);color:var(--chat-color);caret-color:var(--chat-color-caret);border:var(--chat-border-style-input)}.vac-textarea::placeholder{color:var(--chat-color-placeholder);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.vac-textarea-outline{border:1px solid var(--chat-border-color-input-selected);box-shadow:inset 0 0 0 1px var(--chat-border-color-input-selected)}.vac-icon-textarea,.vac-icon-textarea-left{display:flex;align-items:center}.vac-icon-textarea svg,.vac-icon-textarea .vac-wrapper,.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 7px}.vac-icon-textarea{margin-left:5px}.vac-icon-textarea-left{display:flex;align-items:center;margin-right:5px}.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 7px}.vac-icon-textarea-left .vac-icon-microphone{fill:var(--chat-icon-color-microphone);margin:0 7px}.vac-icon-textarea-left .vac-dot-audio-record{height:15px;width:15px;border-radius:50%;background-color:var(--chat-message-bg-color-audio-record);animation:vac-scaling .8s ease-in-out infinite alternate}@keyframes vac-scaling{0%{transform:scale(1);opacity:.4}to{transform:scale(1.1);opacity:1}}.vac-icon-textarea-left .vac-dot-audio-record-time{font-size:16px;color:var(--chat-color);margin-left:8px;width:45px}.vac-icon-textarea-left .vac-icon-audio-stop,.vac-icon-textarea-left .vac-icon-audio-confirm{min-height:28px;min-width:28px}.vac-icon-textarea-left .vac-icon-audio-stop svg,.vac-icon-textarea-left .vac-icon-audio-confirm svg{min-height:28px;min-width:28px}.vac-icon-textarea-left .vac-icon-audio-stop{margin-right:20px}.vac-icon-textarea-left .vac-icon-audio-stop #vac-icon-close-outline{fill:var(--chat-icon-color-audio-cancel)}.vac-icon-textarea-left .vac-icon-audio-confirm{margin-right:3px;margin-left:12px}.vac-icon-textarea-left .vac-icon-audio-confirm #vac-icon-checkmark{fill:var(--chat-icon-color-audio-confirm)}.vac-send-disabled,.vac-send-disabled svg{cursor:none!important;pointer-events:none!important;transform:none!important}@media only screen and (max-width: 768px){.vac-room-footer{width:100%}.vac-box-footer{padding:7px 2px 7px 7px}.vac-box-footer.vac-box-footer-border{border-top:var(--chat-border-style-input)}.vac-textarea{padding:7px;line-height:18px}.vac-textarea::placeholder{color:transparent}.vac-icon-textarea svg,.vac-icon-textarea .vac-wrapper,.vac-icon-textarea-left svg,.vac-icon-textarea-left .vac-wrapper{margin:0 5px!important}}.vac-emojis-container{width:calc(100% - 16px);padding:10px 8px;background:var(--chat-footer-bg-color);display:flex;align-items:center;overflow:auto}.vac-emojis-container .vac-emoji-element{padding:0 8px;font-size:30px;border-radius:4px;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-emojis-container .vac-emoji-element-active{background:var(--chat-footer-bg-color-tag-active)}@media only screen and (max-width: 768px){.vac-emojis-container{width:calc(100% - 10px);padding:7px 5px}.vac-emojis-container .vac-emoji-element{padding:0 7px;font-size:26px}}.vac-reply-container{display:flex;padding:10px 10px 0;background:var(--chat-footer-bg-color);align-items:center;width:calc(100% - 20px)}.vac-reply-container .vac-reply-box{width:100%;overflow:hidden;background:var(--chat-footer-bg-color-reply);border-radius:4px;padding:8px 10px}.vac-reply-container .vac-reply-info{overflow:hidden}.vac-reply-container .vac-reply-username{color:var(--chat-message-color-reply-username);font-size:12px;line-height:15px;margin-bottom:2px}.vac-reply-container .vac-reply-content{font-size:12px;color:var(--chat-message-color-reply-content);white-space:pre-line}.vac-reply-container .vac-icon-reply{margin-left:10px}.vac-reply-container .vac-icon-reply svg{height:20px;width:20px}.vac-reply-container .vac-image-reply{max-height:100px;max-width:200px;margin:4px 10px 0 0;border-radius:4px}.vac-reply-container .vac-audio-reply{margin-right:10px}.vac-reply-container .vac-file-container{max-width:80px}@media only screen and (max-width: 768px){.vac-reply-container{padding:5px 8px;width:calc(100% - 16px)}}.vac-room-files-container{display:flex;align-items:center;padding:10px 6px 0;background:var(--chat-footer-bg-color)}.vac-room-files-container .vac-files-box{display:flex;overflow:auto;width:calc(100% - 30px)}.vac-room-files-container video{height:100px;border:var(--chat-border-style-input);border-radius:4px}.vac-room-files-container .vac-icon-close{margin-left:auto}.vac-room-files-container .vac-icon-close svg{height:20px;width:20px}@media only screen and (max-width: 768px){.vac-files-container{padding:6px 4px 4px 2px}}.vac-room-file-container{display:flex;position:relative;margin:0 4px}.vac-room-file-container .vac-message-image{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:cover!important;background-position:center center!important;background-repeat:no-repeat!important;height:100px;width:100px;border:var(--chat-border-style-input);border-radius:4px}.vac-room-file-container .vac-file-container{height:80px;width:80px}.vac-room-file-container .vac-icon-remove{position:absolute;top:6px;left:6px;z-index:10}.vac-room-file-container .vac-icon-remove svg{height:20px;width:20px;border-radius:50%}.vac-room-file-container .vac-icon-remove:before{content:" ";position:absolute;width:100%;height:100%;background:rgba(0,0,0,.5);border-radius:50%;z-index:-1}.vac-tags-container{display:flex;flex-direction:column;align-items:center;width:100%}.vac-tags-container .vac-tags-box{display:flex;width:100%;height:54px;overflow:hidden;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-tags-container .vac-tags-box-active{background:var(--chat-footer-bg-color-tag-active)}.vac-tags-container .vac-tags-info{display:flex;overflow:hidden;padding:0 20px;align-items:center}.vac-tags-container .vac-tags-avatar{height:34px;width:34px;min-height:34px;min-width:34px}.vac-tags-container .vac-tags-username{font-size:14px}@media only screen and (max-width: 768px){.vac-tags-container .vac-tags-box{height:50px}.vac-tags-container .vac-tags-info{padding:0 12px}}.vac-template-container{display:flex;flex-direction:column;align-items:center;width:100%}.vac-template-container .vac-template-box{display:flex;width:100%;height:54px;overflow:hidden;cursor:pointer;background:var(--chat-footer-bg-color-tag);transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-template-container .vac-template-active{background:var(--chat-footer-bg-color-tag-active)}.vac-template-container .vac-template-info{display:flex;overflow:hidden;padding:0 20px;align-items:center}.vac-template-container .vac-template-tag{font-size:14px;font-weight:700;margin-right:10px}.vac-template-container .vac-template-text{font-size:14px}@media only screen and (max-width: 768px){.vac-template-container .vac-template-box{height:50px}.vac-template-container .vac-template-info{padding:0 12px}}.vac-rooms-container{display:flex;flex-flow:column;flex:0 0 25%;min-width:260px;max-width:500px;position:relative;background:var(--chat-sidemenu-bg-color);height:100%;border-top-left-radius:var(--chat-container-border-radius);border-bottom-left-radius:var(--chat-container-border-radius)}.vac-rooms-container.vac-rooms-container-full{flex:0 0 100%;max-width:100%}.vac-rooms-container .vac-rooms-empty{font-size:14px;color:#9ca6af;font-style:italic;text-align:center;margin:40px 0;line-height:20px;white-space:pre-line}.vac-rooms-container .vac-room-list{flex:1;position:relative;max-width:100%;cursor:pointer;padding:0 10px 5px;overflow-y:auto}.vac-rooms-container .vac-room-item{border-radius:8px;align-items:center;display:flex;flex:1 1 100%;margin-bottom:5px;padding:0 14px;position:relative;min-height:71px;transition:background-color .3s cubic-bezier(.25,.8,.5,1)}.vac-rooms-container .vac-room-item:hover{background:var(--chat-sidemenu-bg-color-hover)}.vac-rooms-container .vac-room-selected{color:var(--chat-sidemenu-color-active)!important;background:var(--chat-sidemenu-bg-color-active)!important}.vac-rooms-container .vac-room-selected:hover{background:var(--chat-sidemenu-bg-color-active)!important}@media only screen and (max-width: 768px){.vac-rooms-container .vac-room-list{padding:0 7px 5px}.vac-rooms-container .vac-room-item{min-height:60px;padding:0 8px}}.vac-room-container{display:flex;flex:1;align-items:center;width:100%}.vac-room-container .vac-name-container{flex:1}.vac-room-container .vac-title-container{display:flex;align-items:center;line-height:25px}.vac-room-container .vac-state-circle{width:9px;height:9px;border-radius:50%;background-color:var(--chat-room-color-offline);margin-right:6px;transition:.3s}.vac-room-container .vac-state-online{background-color:var(--chat-room-color-online)}.vac-room-container .vac-room-name{flex:1;color:var(--chat-room-color-username);font-weight:500}.vac-room-container .vac-text-date{margin-left:5px;font-size:11px;color:var(--chat-room-color-timestamp)}.vac-room-container .vac-text-last{display:flex;align-items:center;font-size:12px;line-height:19px;color:var(--chat-room-color-message)}.vac-room-container .vac-message-new{color:var(--chat-room-color-username);font-weight:500}.vac-room-container .vac-icon-check{display:flex;vertical-align:middle;height:14px;width:14px;margin-top:-2px;margin-right:2px}.vac-room-container .vac-icon-microphone{height:15px;width:15px;vertical-align:middle;margin:-3px 1px 0 -2px;fill:var(--chat-room-color-message)}.vac-room-container .vac-room-options-container{display:flex;margin-left:auto}.vac-room-container .vac-room-badge{background-color:var(--chat-room-bg-color-badge);color:var(--chat-room-color-badge);margin-left:5px}.vac-room-container .vac-list-room-options{height:19px;width:19px;align-items:center;margin-left:5px}.vac-box-empty{margin-top:10px}@media only screen and (max-width: 768px){.vac-box-empty{margin-top:7px}}.vac-box-search{position:sticky;display:flex;align-items:center;height:64px;padding:0 15px}.vac-box-search .vac-icon-search{display:flex;position:absolute;left:30px}.vac-box-search .vac-icon-search svg{width:18px;height:18px}.vac-box-search .vac-input{height:38px;width:100%;background:var(--chat-bg-color-input);color:var(--chat-color);font-size:15px;outline:0;caret-color:var(--chat-color-caret);padding:10px 10px 10px 40px;border:1px solid var(--chat-sidemenu-border-color-search);border-radius:20px}.vac-box-search .vac-input::placeholder{color:var(--chat-color-placeholder)}.vac-box-search .vac-add-icon{margin-left:auto;padding-left:10px}@media only screen and (max-width: 768px){.vac-box-search{height:58px}}.vac-message-wrapper .vac-card-info{border-radius:4px;text-align:center;margin:10px auto;font-size:12px;padding:4px;display:block;overflow-wrap:break-word;position:relative;white-space:normal;box-shadow:0 1px 1px -1px #0000001a,0 1px 1px -1px #0000001c,0 1px 2px -1px #0000001c}.vac-message-wrapper .vac-card-date{max-width:150px;font-weight:500;text-transform:uppercase;color:var(--chat-message-color-date);background-color:var(--chat-message-bg-color-date)}.vac-message-wrapper .vac-card-system{max-width:250px;padding:8px 4px;color:var(--chat-message-color-system);background-color:var(--chat-message-bg-color-system)}.vac-message-wrapper .vac-line-new{color:var(--chat-message-color-new-messages);position:relative;text-align:center;font-size:13px;padding:10px 0}.vac-message-wrapper .vac-line-new:after,.vac-message-wrapper .vac-line-new:before{border-top:1px solid var(--chat-message-color-new-messages);content:"";left:0;position:absolute;top:50%;width:calc(50% - 60px)}.vac-message-wrapper .vac-line-new:before{left:auto;right:0}.vac-message-wrapper .vac-message-box{display:flex;flex:0 0 50%;max-width:50%;justify-content:flex-start;line-height:1.4}.vac-message-wrapper .vac-avatar{height:28px;width:28px;min-height:28px;min-width:28px;margin:0 0 2px;align-self:flex-end}.vac-message-wrapper .vac-avatar-current-offset{margin-right:28px}.vac-message-wrapper .vac-avatar-offset{margin-left:28px}.vac-message-wrapper .vac-failure-container{position:relative;align-self:flex-end;height:20px;width:20px;margin:0 0 2px -4px;border-radius:50%;background-color:#f44336}.vac-message-wrapper .vac-failure-container.vac-failure-container-avatar{margin-right:6px}.vac-message-wrapper .vac-failure-container .vac-failure-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:15px;font-weight:700}.vac-message-wrapper .vac-message-container{position:relative;padding:2px 10px;align-items:end;min-width:100px;box-sizing:content-box}.vac-message-wrapper .vac-message-container-offset{margin-top:10px}.vac-message-wrapper .vac-offset-current{margin-left:50%;justify-content:flex-end}.vac-message-wrapper .vac-message-card{background-color:var(--chat-message-bg-color);color:var(--chat-message-color);border-radius:8px;font-size:14px;padding:6px 9px 3px;white-space:pre-line;max-width:100%;-webkit-transition-property:box-shadow,opacity;transition-property:box-shadow,opacity;transition:box-shadow .28s cubic-bezier(.4,0,.2,1);will-change:box-shadow;box-shadow:0 1px 1px -1px #0000001a,0 1px 1px -1px #0000001c,0 1px 2px -1px #0000001c}.vac-message-wrapper .vac-message-highlight{box-shadow:0 1px 2px -1px #0000001a,0 1px 2px -1px #0000001c,0 1px 5px -1px #0000001c}.vac-message-wrapper .vac-message-deleted{color:var(--chat-message-color-deleted)!important;font-size:13px!important;font-style:italic!important;background-color:var(--chat-message-bg-color-deleted)!important}.vac-message-wrapper .vac-message-selected{background-color:var(--chat-message-bg-color-selected)!important;transition:background-color .2s}.vac-message-wrapper .vac-message-image{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:cover!important;background-position:center center!important;background-repeat:no-repeat!important;height:250px;width:250px;max-width:100%;border-radius:4px;margin:4px auto 5px;transition:.4s filter linear}.vac-message-wrapper .vac-text-username{font-size:13px;color:var(--chat-message-color-username);margin-bottom:2px}.vac-message-wrapper .vac-username-reply{margin-bottom:5px}.vac-message-wrapper .vac-text-timestamp{font-size:10px;color:var(--chat-message-color-timestamp);text-align:right}.vac-message-wrapper .vac-message-current{color:var(--chat-message-color-me)!important;background-color:var(--chat-message-bg-color-me)!important}.vac-message-wrapper .vac-message-current .vac-text-timestamp{color:var(--chat-message-color-timestamp-me)!important}.vac-message-wrapper .vac-progress-time{float:left;margin:-2px 0 0 40px;color:var(--chat-color);font-size:12px}.vac-message-wrapper .vac-icon-edited{-webkit-box-align:center;align-items:center;display:-webkit-inline-box;display:inline-flex;justify-content:center;letter-spacing:normal;line-height:1;text-indent:0;vertical-align:middle;margin:0 4px 2px}.vac-message-wrapper .vac-icon-edited svg{height:12px;width:12px}.vac-message-wrapper .vac-icon-check{height:14px;width:14px;vertical-align:middle;margin:-3px -3px 0 3px}@media only screen and (max-width: 768px){.vac-message-wrapper .vac-message-container{padding:2px 3px 1px}.vac-message-wrapper .vac-message-container-offset{margin-top:10px}.vac-message-wrapper .vac-message-box{flex:0 0 80%;max-width:80%}.vac-message-wrapper .vac-avatar{height:25px;width:25px;min-height:25px;min-width:25px;margin:0 6px 1px 0}.vac-message-wrapper .vac-avatar.vac-avatar-current{margin:0 0 1px 6px}.vac-message-wrapper .vac-avatar-current-offset{margin-right:31px}.vac-message-wrapper .vac-avatar-offset{margin-left:31px}.vac-message-wrapper .vac-failure-container{margin-left:2px}.vac-message-wrapper .vac-failure-container.vac-failure-container-avatar{margin-right:0}.vac-message-wrapper .vac-offset-current{margin-left:20%}.vac-message-wrapper .vac-progress-time{margin-left:37px}}.vac-audio-player{display:flex;margin:8px 0 5px}.vac-audio-player .vac-svg-button{max-width:18px;margin-left:7px}@media only screen and (max-width: 768px){.vac-audio-player{margin:4px 0 0}.vac-audio-player .vac-svg-button{max-width:16px;margin-left:5px}}.vac-player-bar{display:flex;align-items:center;max-width:calc(100% - 18px);margin-right:7px;margin-left:20px}.vac-player-bar .vac-player-progress{width:190px}.vac-player-bar .vac-player-progress .vac-line-container{position:relative;height:4px;border-radius:5px;background-color:var(--chat-message-bg-color-audio-line)}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-progress{position:absolute;height:inherit;background-color:var(--chat-message-bg-color-audio-progress);border-radius:inherit}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot{position:absolute;top:-5px;margin-left:-7px;height:14px;width:14px;border-radius:50%;background-color:var(--chat-message-bg-color-audio-progress-selector);transition:transform .25s}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot__active{transform:scale(1.2)}@media only screen and (max-width: 768px){.vac-player-bar{margin-right:5px}.vac-player-bar .vac-player-progress .vac-line-container{height:3px}.vac-player-bar .vac-player-progress .vac-line-container .vac-line-dot{height:12px;width:12px;top:-5px;margin-left:-5px}}.vac-message-actions-wrapper .vac-options-container{position:absolute;top:2px;right:10px;height:40px;width:70px;overflow:hidden;border-top-right-radius:8px}.vac-message-actions-wrapper .vac-blur-container{position:absolute;height:100%;width:100%;left:8px;bottom:10px;background:var(--chat-message-bg-color);filter:blur(3px);border-bottom-left-radius:8px}.vac-message-actions-wrapper .vac-options-me{color:var(--chat-message-color-me);background:var(--chat-message-bg-color-me)}.vac-message-actions-wrapper .vac-message-options{background:var(--chat-icon-bg-dropdown-message);border-radius:50%;position:absolute;top:7px;right:7px}.vac-message-actions-wrapper .vac-message-options svg{height:17px;width:17px;padding:5px;margin:-5px}.vac-message-actions-wrapper .vac-message-emojis{position:absolute;top:6px;right:30px}.vac-message-actions-wrapper .vac-menu-options{right:15px}.vac-message-actions-wrapper .vac-menu-left{right:-118px}@media only screen and (max-width: 768px){.vac-message-actions-wrapper .vac-options-container{right:3px}.vac-message-actions-wrapper .vac-menu-left{right:-50px}}.vac-message-files-container .vac-file-wrapper{position:relative;width:fit-content}.vac-message-files-container .vac-file-wrapper .vac-file-container{height:60px;width:60px;margin:3px 0 5px;cursor:pointer;transition:all .6s}.vac-message-files-container .vac-file-wrapper .vac-file-container:hover{opacity:.85}.vac-message-files-container .vac-file-wrapper .vac-file-container svg{height:30px;width:30px}.vac-message-files-container .vac-file-wrapper .vac-file-container.vac-file-container-progress{background-color:#0000004d}.vac-message-file-container{position:relative;z-index:0}.vac-message-file-container .vac-message-image-container{cursor:pointer}.vac-message-file-container .vac-image-buttons{position:absolute;width:100%;height:100%;border-radius:4px;background:linear-gradient(to bottom,rgba(0,0,0,0) 55%,rgba(0,0,0,.02) 60%,rgba(0,0,0,.05) 65%,rgba(0,0,0,.1) 70%,rgba(0,0,0,.2) 75%,rgba(0,0,0,.3) 80%,rgba(0,0,0,.5) 85%,rgba(0,0,0,.6) 90%,rgba(0,0,0,.7) 95%,rgba(0,0,0,.8) 100%)}.vac-message-file-container .vac-image-buttons svg{height:26px;width:26px}.vac-message-file-container .vac-image-buttons .vac-button-view,.vac-message-file-container .vac-image-buttons .vac-button-download{position:absolute;bottom:6px;left:7px}.vac-message-file-container .vac-image-buttons :first-child{left:40px}.vac-message-file-container .vac-image-buttons .vac-button-view{max-width:18px;bottom:8px}.vac-message-file-container .vac-video-container{width:350px;max-width:100%;margin:4px auto 5px;cursor:pointer}.vac-message-file-container .vac-video-container video{width:100%;height:100%;border-radius:4px}.vac-button-reaction{display:inline-flex;align-items:center;border:var(--chat-message-border-style-reaction);outline:none;background:var(--chat-message-bg-color-reaction);border-radius:4px;margin:4px 2px 0;transition:.3s;padding:0 5px;font-size:18px;line-height:23px}.vac-button-reaction span{font-size:11px;font-weight:500;min-width:7px;color:var(--chat-message-color-reaction-counter)}.vac-button-reaction:hover{border:var(--chat-message-border-style-reaction-hover);background:var(--chat-message-bg-color-reaction-hover);cursor:pointer}.vac-button-reaction.vac-reaction-me{border:var(--chat-message-border-style-reaction-me);background:var(--chat-message-bg-color-reaction-me)}.vac-button-reaction.vac-reaction-me span{color:var(--chat-message-color-reaction-counter-me)}.vac-button-reaction.vac-reaction-me:hover{border:var(--chat-message-border-style-reaction-hover-me);background:var(--chat-message-bg-color-reaction-hover-me)}.vac-reply-message{background:var(--chat-message-bg-color-reply);border-radius:4px;margin:-1px -5px 8px;padding:8px 10px}.vac-reply-message .vac-reply-username{color:var(--chat-message-color-reply-username);font-size:12px;line-height:15px;margin-bottom:2px}.vac-reply-message .vac-image-reply-container{width:70px}.vac-reply-message .vac-image-reply-container .vac-message-image-reply{height:70px;width:70px;margin:4px auto 3px}.vac-reply-message .vac-video-reply-container{width:200px;max-width:100%}.vac-reply-message .vac-video-reply-container video{width:100%;height:100%;border-radius:4px}.vac-reply-message .vac-reply-content{font-size:12px;color:var(--chat-message-color-reply-content)}.vac-reply-message .vac-file-container{height:60px;width:60px}.vac-emoji-wrapper{position:relative;display:flex}.vac-emoji-wrapper .vac-emoji-reaction svg{height:19px;width:19px}.vac-emoji-wrapper .vac-emoji-picker{position:absolute;z-index:9999;bottom:32px;right:10px;width:300px;padding-top:4px;overflow:scroll;box-sizing:border-box;border-radius:.5rem;background:var(--chat-emoji-bg-color);box-shadow:0 1px 2px -2px #0000001a,0 1px 2px -1px #0000001a,0 1px 2px 1px #0000001a;scrollbar-width:none}.vac-emoji-wrapper .vac-emoji-picker::-webkit-scrollbar{display:none}.vac-emoji-wrapper .vac-emoji-picker.vac-picker-reaction{position:fixed;top:initial;right:initial}.vac-emoji-wrapper .vac-emoji-picker emoji-picker{height:100%;width:100%;--emoji-size: 1.2rem;--background: var(--chat-emoji-bg-color);--emoji-padding: .4rem;--border-color: var(--chat-sidemenu-border-color-search);--button-hover-background: var(--chat-sidemenu-bg-color-hover);--button-active-background: var(--chat-sidemenu-bg-color-hover)}.vac-format-message-wrapper .vac-format-container{display:inline}.vac-format-message-wrapper .vac-icon-deleted{height:14px;width:14px;vertical-align:middle;margin:-2px 2px 0 0;fill:var(--chat-message-color-deleted)}.vac-format-message-wrapper .vac-icon-deleted.vac-icon-deleted-room{margin:-3px 1px 0 0;fill:var(--chat-room-color-message)}.vac-format-message-wrapper .vac-image-link-container{background-color:var(--chat-message-bg-color-media);padding:8px;margin:2px auto;border-radius:4px}.vac-format-message-wrapper .vac-image-link{position:relative;background-color:var(--chat-message-bg-color-image)!important;background-size:contain;background-position:center center!important;background-repeat:no-repeat!important;height:150px;width:150px;max-width:100%;border-radius:4px;margin:0 auto}.vac-format-message-wrapper .vac-image-link-message{max-width:166px;font-size:12px}.vac-loader-wrapper.vac-container-center{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9}.vac-loader-wrapper.vac-container-top{padding:21px}.vac-loader-wrapper.vac-container-top #vac-circle{height:20px;width:20px}.vac-loader-wrapper #vac-circle{margin:auto;height:28px;width:28px;border:3px rgba(0,0,0,.25) solid;border-top:3px var(--chat-color-spinner) solid;border-right:3px var(--chat-color-spinner) solid;border-bottom:3px var(--chat-color-spinner) solid;border-radius:50%;-webkit-animation:vac-spin 1s infinite linear;animation:vac-spin 1s infinite linear}@media only screen and (max-width: 768px){.vac-loader-wrapper #vac-circle{height:24px;width:24px}.vac-loader-wrapper.vac-container-top{padding:18px}.vac-loader-wrapper.vac-container-top #vac-circle{height:16px;width:16px}}@-webkit-keyframes vac-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes vac-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}#vac-icon-search{fill:var(--chat-icon-color-search)}#vac-icon-add{fill:var(--chat-icon-color-add)}#vac-icon-toggle{fill:var(--chat-icon-color-toggle)}#vac-icon-menu{fill:var(--chat-icon-color-menu)}#vac-icon-close{fill:var(--chat-icon-color-close)}#vac-icon-close-image{fill:var(--chat-icon-color-close-image)}#vac-icon-file{fill:var(--chat-icon-color-file)}#vac-icon-paperclip{fill:var(--chat-icon-color-paperclip)}#vac-icon-close-outline{fill:var(--chat-icon-color-close-outline)}#vac-icon-close-outline-preview{fill:var(--chat-icon-color-close-preview)}#vac-icon-send{fill:var(--chat-icon-color-send)}#vac-icon-send-disabled{fill:var(--chat-icon-color-send-disabled)}#vac-icon-emoji{fill:var(--chat-icon-color-emoji)}#vac-icon-emoji-reaction{fill:var(--chat-icon-color-emoji-reaction)}#vac-icon-document{fill:var(--chat-icon-color-document)}#vac-icon-pencil{fill:var(--chat-icon-color-pencil)}#vac-icon-checkmark,#vac-icon-double-checkmark{fill:var(--chat-icon-color-checkmark)}#vac-icon-checkmark-seen,#vac-icon-double-checkmark-seen{fill:var(--chat-icon-color-checkmark-seen)}#vac-icon-eye{fill:var(--chat-icon-color-eye)}#vac-icon-dropdown-message{fill:var(--chat-icon-color-dropdown-message)}#vac-icon-dropdown-room{fill:var(--chat-icon-color-dropdown-room)}#vac-icon-dropdown-scroll{fill:var(--chat-icon-color-dropdown-scroll)}#vac-icon-audio-play{fill:var(--chat-icon-color-audio-play)}#vac-icon-audio-pause{fill:var(--chat-icon-color-audio-pause)}.vac-progress-wrapper{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9}.vac-progress-wrapper circle{transition:stroke-dashoffset .35s;transform:rotate(-90deg);transform-origin:50% 50%}.vac-progress-wrapper .vac-progress-content{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:-1;margin-top:-2px;background-color:#000000b3;border-radius:50%}.vac-progress-wrapper .vac-progress-content .vac-progress-text{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-weight:700;color:#fff}.vac-progress-wrapper .vac-progress-content .vac-progress-text .vac-progress-pourcent{font-size:9px;font-weight:400}
`;const y1={name:"ChatContainer",components:{RoomsList:Mp,Room:i1,MediaPreview:h1},props:{height:{type:String,default:"600px"},theme:{type:String,default:"light"},styles:{type:[Object,String],default:()=>({})},responsiveBreakpoint:{type:Number,default:900},singleRoom:{type:[Boolean,String],default:!1},roomsListOpened:{type:[Boolean,String],default:!0},textMessages:{type:[Object,String],default:()=>({})},currentUserId:{type:String,default:""},rooms:{type:[Array,String],default:()=>[]},roomsOrder:{type:String,default:"desc"},loadingRooms:{type:[Boolean,String],default:!1},roomsLoaded:{type:[Boolean,String],default:!1},roomId:{type:String,default:null},loadFirstRoom:{type:[Boolean,String],default:!0},messages:{type:[Array,String],default:()=>[]},messagesLoaded:{type:[Boolean,String],default:!1},roomActions:{type:[Array,String],default:()=>[]},menuActions:{type:[Array,String],default:()=>[]},messageActions:{type:[Array,String],default:()=>[{name:"replyMessage",title:"Reply"},{name:"editMessage",title:"Edit Message",onlyMe:!0},{name:"deleteMessage",title:"Delete Message",onlyMe:!0},{name:"selectMessages",title:"Select"}]},messageSelectionActions:{type:[Array,String],default:()=>[]},autoScroll:{type:[Object,String],default:()=>({send:{new:!0,newAfterScrollUp:!0},receive:{new:!0,newAfterScrollUp:!1}})},customSearchRoomEnabled:{type:[Boolean,String],default:!1},showSearch:{type:[Boolean,String],default:!0},showAddRoom:{type:[Boolean,String],default:!0},showSendIcon:{type:[Boolean,String],default:!0},showFiles:{type:[Boolean,String],default:!0},showAudio:{type:[Boolean,String],default:!0},audioBitRate:{type:Number,default:128},audioSampleRate:{type:Number,default:44100},showEmojis:{type:[Boolean,String],default:!0},showReactionEmojis:{type:[Boolean,String],default:!0},showNewMessagesDivider:{type:[Boolean,String],default:!0},showFooter:{type:[Boolean,String],default:!0},textFormatting:{type:[Object,String],default:()=>({disabled:!1,italic:"_",bold:"*",strike:"~",underline:"\xB0",multilineCode:"```",inlineCode:"`"})},linkOptions:{type:[Object,String],default:()=>({disabled:!1,target:"_blank",rel:null})},roomInfoEnabled:{type:[Boolean,String],default:!1},textareaActionEnabled:{type:[Boolean,String],default:!1},textareaAutoFocus:{type:[Boolean,String],default:!0},userTagsEnabled:{type:[Boolean,String],default:!0},emojisSuggestionEnabled:{type:[Boolean,String],default:!0},roomMessage:{type:String,default:""},scrollDistance:{type:Number,default:60},acceptedFiles:{type:String,default:"*"},templatesText:{type:[Array,String],default:()=>[]},mediaPreviewEnabled:{type:[Boolean,String],default:!0},usernameOptions:{type:[Object,String],default:()=>({minUsers:3,currentUser:!1})}},emits:["toggle-rooms-list","room-info","fetch-messages","send-message","edit-message","delete-message","open-file","open-user-tag","open-failed-message","menu-action-handler","message-action-handler","send-message-reaction","typing-message","textarea-action-handler","fetch-more-rooms","add-room","search-room","room-action-handler","message-selection-action-handler"],data(){return{slots:[],room:{},loadingMoreRooms:!1,showRoomsList:!0,isMobile:!1,showMediaPreview:!1,previewFile:{}}},computed:{t(){return{...g1,...this.textMessagesCasted}},cssVars(){const e=p1[this.theme],t={};return Object.keys(e).map(o=>{t[o]={...e[o],...this.stylesCasted[o]||{}}}),v1(t)},orderedRooms(){return this.roomsCasted.slice().sort((e,t)=>{const o=e.index||0,s=t.index||0;return this.roomsOrder==="asc"?o<s?-1:s<o?1:0:o>s?-1:s>o?1:0})},singleRoomCasted(){return this.castBoolean(this.singleRoom)},roomsListOpenedCasted(){return this.castBoolean(this.roomsListOpened)},loadingRoomsCasted(){return this.castBoolean(this.loadingRooms)},roomsLoadedCasted(){return this.castBoolean(this.roomsLoaded)},loadFirstRoomCasted(){return this.castBoolean(this.loadFirstRoom)},messagesLoadedCasted(){return this.castBoolean(this.messagesLoaded)},showSearchCasted(){return this.castBoolean(this.showSearch)},showAddRoomCasted(){return this.castBoolean(this.showAddRoom)},showSendIconCasted(){return this.castBoolean(this.showSendIcon)},showFilesCasted(){return this.castBoolean(this.showFiles)},showAudioCasted(){return this.castBoolean(this.showAudio)},showEmojisCasted(){return this.castBoolean(this.showEmojis)},showReactionEmojisCasted(){return this.castBoolean(this.showReactionEmojis)},showNewMessagesDividerCasted(){return this.castBoolean(this.showNewMessagesDivider)},showFooterCasted(){return this.castBoolean(this.showFooter)},roomInfoEnabledCasted(){return this.castBoolean(this.roomInfoEnabled)},textareaActionEnabledCasted(){return this.castBoolean(this.textareaActionEnabled)},textareaAutoFocusCasted(){return this.castBoolean(this.textareaAutoFocus)},userTagsEnabledCasted(){return this.castBoolean(this.userTagsEnabled)},emojisSuggestionEnabledCasted(){return this.castBoolean(this.emojisSuggestionEnabled)},mediaPreviewEnabledCasted(){return this.castBoolean(this.mediaPreviewEnabled)},roomsCasted(){return this.castArray(this.rooms)},messagesCasted(){return this.castArray(this.messages)},roomActionsCasted(){return this.castArray(this.roomActions)},menuActionsCasted(){return this.castArray(this.menuActions)},messageActionsCasted(){return this.castArray(this.messageActions)},messageSelectionActionsCasted(){return this.castArray(this.messageSelectionActions)},templatesTextCasted(){return this.castArray(this.templatesText)},stylesCasted(){return this.castObject(this.styles)},textMessagesCasted(){return this.castObject(this.textMessages)},autoScrollCasted(){return this.castObject(this.autoScroll)},textFormattingCasted(){return this.castObject(this.textFormatting)},linkOptionsCasted(){return this.castObject(this.linkOptions)},usernameOptionsCasted(){return this.castObject(this.usernameOptions)}},watch:{roomsCasted:{immediate:!0,deep:!0,handler(e,t){if((!e[0]||!e.find(o=>o.roomId===this.room.roomId))&&(this.showRoomsList=!0),!this.loadingMoreRooms&&this.loadFirstRoomCasted&&e[0]&&(!t||e.length!==t.length))if(this.roomId){const o=e.find(s=>s.roomId===this.roomId)||{};this.fetchRoom({room:o})}else!this.isMobile||this.singleRoomCasted?this.fetchRoom({room:this.orderedRooms[0]}):this.showRoomsList=!0}},loadingRoomsCasted(e){e&&(this.room={})},roomId:{immediate:!0,handler(e,t){if(e&&!this.loadingRoomsCasted&&this.roomsCasted.length){const o=this.roomsCasted.find(s=>s.roomId===e);this.fetchRoom({room:o})}else t&&!e&&(this.room={})}},room(e){!e||Object.entries(e).length===0||(jy(e),e.users.forEach(t=>{Py(t)}))},roomsListOpenedCasted:{immediate:!0,handler(e){this.showRoomsList=e}}},created(){this.updateResponsive(),window.addEventListener("resize",e=>{e.isTrusted&&this.updateResponsive()})},updated(){const e=document.querySelectorAll("[slot]");this.slots.length!==e.length&&(this.slots=e)},methods:{castBoolean(e){return e==="true"||e===!0},castArray(e){return e?Array.isArray(e)?e:JSON.parse(e):[]},castObject(e){return e?typeof e=="object"?e:JSON.parse(e):{}},updateResponsive(){this.isMobile=window.innerWidth<Number(this.responsiveBreakpoint)},toggleRoomsList(){this.showRoomsList=!this.showRoomsList,this.isMobile&&(this.room={}),this.$emit("toggle-rooms-list",{opened:this.showRoomsList})},fetchRoom({room:e}){this.room=e,this.fetchMessages({reset:!0}),this.isMobile&&(this.showRoomsList=!1)},fetchMoreRooms(){this.$emit("fetch-more-rooms")},roomInfo(){this.$emit("room-info",this.room)},addRoom(){this.$emit("add-room")},searchRoom(e){this.$emit("search-room",{value:e,roomId:this.room.roomId})},fetchMessages(e){this.$emit("fetch-messages",{room:this.room,options:e})},sendMessage(e){this.$emit("send-message",{...e,roomId:this.room.roomId})},editMessage(e){this.$emit("edit-message",{...e,roomId:this.room.roomId})},deleteMessage(e){this.$emit("delete-message",{message:e,roomId:this.room.roomId})},openFile({message:e,file:t}){this.mediaPreviewEnabledCasted&&t.action==="preview"?(this.previewFile=t.file,this.showMediaPreview=!0):this.$emit("open-file",{message:e,file:t})},openUserTag({user:e}){this.$emit("open-user-tag",{user:e})},openFailedMessage({message:e}){this.$emit("open-failed-message",{message:e,roomId:this.room.roomId})},menuActionHandler(e){this.$emit("menu-action-handler",{action:e,roomId:this.room.roomId})},roomActionHandler({action:e,roomId:t}){this.$emit("room-action-handler",{action:e,roomId:t})},messageActionHandler(e){this.$emit("message-action-handler",{...e,roomId:this.room.roomId})},messageSelectionActionHandler(e){this.$emit("message-selection-action-handler",{...e,roomId:this.room.roomId})},sendMessageReaction(e){this.$emit("send-message-reaction",{...e,roomId:this.room.roomId})},typingMessage(e){this.$emit("typing-message",{message:e,roomId:this.room.roomId})},textareaActionHandler(e){this.$emit("textarea-action-handler",{message:e,roomId:this.room.roomId})}}},w1={class:"vac-chat-container"};function x1(e,t,o,s,n,r){const i=oe("rooms-list"),a=oe("room"),c=oe("media-preview");return p(),w("div",{class:"vac-card-window",style:Te([{height:o.height},r.cssVars])},[M("div",w1,[r.singleRoomCasted?B("",!0):(p(),Ce(i,{key:0,"current-user-id":o.currentUserId,rooms:r.orderedRooms,"loading-rooms":r.loadingRoomsCasted,"rooms-loaded":r.roomsLoadedCasted,room:n.room,"room-actions":r.roomActionsCasted,"custom-search-room-enabled":o.customSearchRoomEnabled,"text-messages":r.t,"show-search":r.showSearchCasted,"show-add-room":r.showAddRoomCasted,"show-rooms-list":n.showRoomsList&&r.roomsListOpenedCasted,"text-formatting":r.textFormattingCasted,"link-options":r.linkOptionsCasted,"is-mobile":n.isMobile,"scroll-distance":o.scrollDistance,onFetchRoom:r.fetchRoom,onFetchMoreRooms:r.fetchMoreRooms,onLoadingMoreRooms:t[0]||(t[0]=l=>n.loadingMoreRooms=l),onAddRoom:r.addRoom,onSearchRoom:r.searchRoom,onRoomActionHandler:r.roomActionHandler},Le({_:2},[me(n.slots,l=>({name:l.slot,fn:se(d=>[D(e.$slots,l.slot,Ie(Ae(d)))])}))]),1032,["current-user-id","rooms","loading-rooms","rooms-loaded","room","room-actions","custom-search-room-enabled","text-messages","show-search","show-add-room","show-rooms-list","text-formatting","link-options","is-mobile","scroll-distance","onFetchRoom","onFetchMoreRooms","onAddRoom","onSearchRoom","onRoomActionHandler"])),H(a,{"current-user-id":o.currentUserId,rooms:r.roomsCasted,"room-id":n.room.roomId||"","load-first-room":r.loadFirstRoomCasted,messages:r.messagesCasted,"room-message":o.roomMessage,"messages-loaded":r.messagesLoadedCasted,"menu-actions":r.menuActionsCasted,"message-actions":r.messageActionsCasted,"message-selection-actions":r.messageSelectionActionsCasted,"auto-scroll":r.autoScrollCasted,"show-send-icon":r.showSendIconCasted,"show-files":r.showFilesCasted,"show-audio":r.showAudioCasted,"audio-bit-rate":o.audioBitRate,"audio-sample-rate":o.audioSampleRate,"show-emojis":r.showEmojisCasted,"show-reaction-emojis":r.showReactionEmojisCasted,"show-new-messages-divider":r.showNewMessagesDividerCasted,"show-footer":r.showFooterCasted,"text-messages":r.t,"single-room":r.singleRoomCasted,"show-rooms-list":n.showRoomsList&&r.roomsListOpenedCasted,"text-formatting":r.textFormattingCasted,"link-options":r.linkOptionsCasted,"is-mobile":n.isMobile,"loading-rooms":r.loadingRoomsCasted,"room-info-enabled":r.roomInfoEnabledCasted,"textarea-action-enabled":r.textareaActionEnabledCasted,"textarea-auto-focus":r.textareaAutoFocusCasted,"user-tags-enabled":r.userTagsEnabledCasted,"emojis-suggestion-enabled":r.emojisSuggestionEnabledCasted,"scroll-distance":o.scrollDistance,"accepted-files":o.acceptedFiles,"templates-text":r.templatesTextCasted,"username-options":r.usernameOptionsCasted,onToggleRoomsList:r.toggleRoomsList,onRoomInfo:r.roomInfo,onFetchMessages:r.fetchMessages,onSendMessage:r.sendMessage,onEditMessage:r.editMessage,onDeleteMessage:r.deleteMessage,onOpenFile:r.openFile,onOpenUserTag:r.openUserTag,onOpenFailedMessage:r.openFailedMessage,onMenuActionHandler:r.menuActionHandler,onMessageActionHandler:r.messageActionHandler,onMessageSelectionActionHandler:r.messageSelectionActionHandler,onSendMessageReaction:r.sendMessageReaction,onTypingMessage:r.typingMessage,onTextareaActionHandler:r.textareaActionHandler},Le({_:2},[me(n.slots,l=>({name:l.slot,fn:se(d=>[D(e.$slots,l.slot,Ie(Ae(d)))])}))]),1032,["current-user-id","rooms","room-id","load-first-room","messages","room-message","messages-loaded","menu-actions","message-actions","message-selection-actions","auto-scroll","show-send-icon","show-files","show-audio","audio-bit-rate","audio-sample-rate","show-emojis","show-reaction-emojis","show-new-messages-divider","show-footer","text-messages","single-room","show-rooms-list","text-formatting","link-options","is-mobile","loading-rooms","room-info-enabled","textarea-action-enabled","textarea-auto-focus","user-tags-enabled","emojis-suggestion-enabled","scroll-distance","accepted-files","templates-text","username-options","onToggleRoomsList","onRoomInfo","onFetchMessages","onSendMessage","onEditMessage","onDeleteMessage","onOpenFile","onOpenUserTag","onOpenFailedMessage","onMenuActionHandler","onMessageActionHandler","onMessageSelectionActionHandler","onSendMessageReaction","onTypingMessage","onTextareaActionHandler"])]),H(Ge,{name:"vac-fade-preview",appear:""},{default:se(()=>[n.showMediaPreview?(p(),Ce(c,{key:0,file:n.previewFile,onCloseMediaPreview:t[1]||(t[1]=l=>n.showMediaPreview=!1)},Le({_:2},[me(n.slots,l=>({name:l.slot,fn:se(d=>[D(e.$slots,l.slot,Ie(Ae(d)))])}))]),1032,["file"])):B("",!0)]),_:3})],4)}var _1=Fe(y1,[["render",x1],["styles",[b1]]]);const Ud=nm(_1),Fd="vue-advanced-chat";function k1(){customElements.get(Fd)||customElements.define(Fd,Ud)}var Dd={};function E1(e){return e&&e.__esModule?e:{default:e}}var T1=E1,Bd={exports:{}};(function(e){var t=function(o){var s=Object.prototype,n=s.hasOwnProperty,r=Object.defineProperty||function(S,x,I){S[x]=I.value},i,a=typeof Symbol=="function"?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",d=a.toStringTag||"@@toStringTag";function u(S,x,I){return Object.defineProperty(S,x,{value:I,enumerable:!0,configurable:!0,writable:!0}),S[x]}try{u({},"")}catch{u=function(x,I,Y){return x[I]=Y}}function f(S,x,I,Y){var F=x&&x.prototype instanceof X?x:X,le=Object.create(F.prototype),be=new Oe(Y||[]);return r(le,"_invoke",{value:G(S,I,be)}),le}o.wrap=f;function g(S,x,I){try{return{type:"normal",arg:S.call(x,I)}}catch(Y){return{type:"throw",arg:Y}}}var b="suspendedStart",T="suspendedYield",k="executing",q="completed",J={};function X(){}function ae(){}function ue(){}var W={};u(W,c,function(){return this});var N=Object.getPrototypeOf,P=N&&N(N(ge([])));P&&P!==s&&n.call(P,c)&&(W=P);var te=ue.prototype=X.prototype=Object.create(W);ae.prototype=ue,r(te,"constructor",{value:ue,configurable:!0}),r(ue,"constructor",{value:ae,configurable:!0}),ae.displayName=u(ue,d,"GeneratorFunction");function re(S){["next","throw","return"].forEach(function(x){u(S,x,function(I){return this._invoke(x,I)})})}o.isGeneratorFunction=function(S){var x=typeof S=="function"&&S.constructor;return x?x===ae||(x.displayName||x.name)==="GeneratorFunction":!1},o.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,ue):(S.__proto__=ue,u(S,d,"GeneratorFunction")),S.prototype=Object.create(te),S},o.awrap=function(S){return{__await:S}};function he(S,x){function I(le,be,ze,Ee){var qe=g(S[le],S,be);if(qe.type==="throw")Ee(qe.arg);else{var gt=qe.arg,Ye=gt.value;return Ye&&typeof Ye=="object"&&n.call(Ye,"__await")?x.resolve(Ye.__await).then(function(Ne){I("next",Ne,ze,Ee)},function(Ne){I("throw",Ne,ze,Ee)}):x.resolve(Ye).then(function(Ne){gt.value=Ne,ze(gt)},function(Ne){return I("throw",Ne,ze,Ee)})}}var Y;function F(le,be){function ze(){return new x(function(Ee,qe){I(le,be,Ee,qe)})}return Y=Y?Y.then(ze,ze):ze()}r(this,"_invoke",{value:F})}re(he.prototype),u(he.prototype,l,function(){return this}),o.AsyncIterator=he,o.async=function(S,x,I,Y,F){F===void 0&&(F=Promise);var le=new he(f(S,x,I,Y),F);return o.isGeneratorFunction(x)?le:le.next().then(function(be){return be.done?be.value:le.next()})};function G(S,x,I){var Y=b;return function(le,be){if(Y===k)throw new Error("Generator is already running");if(Y===q){if(le==="throw")throw be;return fe()}for(I.method=le,I.arg=be;;){var ze=I.delegate;if(ze){var Ee=we(ze,I);if(Ee){if(Ee===J)continue;return Ee}}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(Y===b)throw Y=q,I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);Y=k;var qe=g(S,x,I);if(qe.type==="normal"){if(Y=I.done?q:T,qe.arg===J)continue;return{value:qe.arg,done:I.done}}else qe.type==="throw"&&(Y=q,I.method="throw",I.arg=qe.arg)}}}function we(S,x){var I=S.iterator[x.method];if(I===i){if(x.delegate=null,x.method==="throw"){if(S.iterator.return&&(x.method="return",x.arg=i,we(S,x),x.method==="throw"))return J;x.method="throw",x.arg=new TypeError("The iterator does not provide a 'throw' method")}return J}var Y=g(I,S.iterator,x.arg);if(Y.type==="throw")return x.method="throw",x.arg=Y.arg,x.delegate=null,J;var F=Y.arg;if(!F)return x.method="throw",x.arg=new TypeError("iterator result is not an object"),x.delegate=null,J;if(F.done)x[S.resultName]=F.value,x.next=S.nextLoc,x.method!=="return"&&(x.method="next",x.arg=i);else return F;return x.delegate=null,J}re(te),u(te,d,"Generator"),u(te,c,function(){return this}),u(te,"toString",function(){return"[object Generator]"});function Me(S){var x={tryLoc:S[0]};1 in S&&(x.catchLoc=S[1]),2 in S&&(x.finallyLoc=S[2],x.afterLoc=S[3]),this.tryEntries.push(x)}function He(S){var x=S.completion||{};x.type="normal",delete x.arg,S.completion=x}function Oe(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(Me,this),this.reset(!0)}o.keys=function(S){var x=Object(S),I=[];for(var Y in x)I.push(Y);return I.reverse(),function F(){for(;I.length;){var le=I.pop();if(le in x)return F.value=le,F.done=!1,F}return F.done=!0,F}};function ge(S){if(S){var x=S[c];if(x)return x.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var I=-1,Y=function F(){for(;++I<S.length;)if(n.call(S,I))return F.value=S[I],F.done=!1,F;return F.value=i,F.done=!0,F};return Y.next=Y}}return{next:fe}}o.values=ge;function fe(){return{value:i,done:!0}}return Oe.prototype={constructor:Oe,reset:function(S){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(He),!S)for(var x in this)x.charAt(0)==="t"&&n.call(this,x)&&!isNaN(+x.slice(1))&&(this[x]=i)},stop:function(){this.done=!0;var S=this.tryEntries[0],x=S.completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(S){if(this.done)throw S;var x=this;function I(Ee,qe){return le.type="throw",le.arg=S,x.next=Ee,qe&&(x.method="next",x.arg=i),!!qe}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var F=this.tryEntries[Y],le=F.completion;if(F.tryLoc==="root")return I("end");if(F.tryLoc<=this.prev){var be=n.call(F,"catchLoc"),ze=n.call(F,"finallyLoc");if(be&&ze){if(this.prev<F.catchLoc)return I(F.catchLoc,!0);if(this.prev<F.finallyLoc)return I(F.finallyLoc)}else if(be){if(this.prev<F.catchLoc)return I(F.catchLoc,!0)}else if(ze){if(this.prev<F.finallyLoc)return I(F.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(S,x){for(var I=this.tryEntries.length-1;I>=0;--I){var Y=this.tryEntries[I];if(Y.tryLoc<=this.prev&&n.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var F=Y;break}}F&&(S==="break"||S==="continue")&&F.tryLoc<=x&&x<=F.finallyLoc&&(F=null);var le=F?F.completion:{};return le.type=S,le.arg=x,F?(this.method="next",this.next=F.finallyLoc,J):this.complete(le)},complete:function(S,x){if(S.type==="throw")throw S.arg;return S.type==="break"||S.type==="continue"?this.next=S.arg:S.type==="return"?(this.rval=this.arg=S.arg,this.method="return",this.next="end"):S.type==="normal"&&x&&(this.next=x),J},finish:function(S){for(var x=this.tryEntries.length-1;x>=0;--x){var I=this.tryEntries[x];if(I.finallyLoc===S)return this.complete(I.completion,I.afterLoc),He(I),J}},catch:function(S){for(var x=this.tryEntries.length-1;x>=0;--x){var I=this.tryEntries[x];if(I.tryLoc===S){var Y=I.completion;if(Y.type==="throw"){var F=Y.arg;He(I)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(S,x,I){return this.delegate={iterator:ge(S),resultName:x,nextLoc:I},this.method==="next"&&(this.arg=i),J}},o}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(Bd);var S1=Bd.exports;function Hd(e,t,o,s,n,r,i){try{var a=e[r](i),c=a.value}catch(l){o(l);return}a.done?t(c):Promise.resolve(c).then(s,n)}function M1(e){return function(){var t=this,o=arguments;return new Promise(function(s,n){var r=e.apply(t,o);function i(c){Hd(r,s,n,i,a,"next",c)}function a(c){Hd(r,s,n,i,a,"throw",c)}i(void 0)})}}var C1=M1;(function(e){var t=T1;Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var o=t(S1),s=t(C1);function n(i){return r.apply(this,arguments)}function r(){return(r=(0,s.default)(o.default.mark(function i(a){var c,l;return o.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return c=document.createElement("video"),l=new Promise(function(u,f){c.addEventListener("loadedmetadata",function(){c.duration===1/0?(c.currentTime=Number.MAX_SAFE_INTEGER,c.ontimeupdate=function(){c.ontimeupdate=null,u(c.duration),c.currentTime=0}):u(c.duration)}),c.onerror=function(g){return f(g.target.error)}}),c.src=typeof a=="string"||a instanceof String?a:window.URL.createObjectURL(a),d.abrupt("return",l);case 4:case"end":return d.stop()}},i)}))).apply(this,arguments)}})(Dd);var R1=Nm(Dd);const Co=()=>({value:!0}),Fs=()=>({value:!1}),O1=()=>new Error("MISSING_PERMISSION"),A1=()=>new Error("ALREADY_RECORDING"),I1=()=>new Error("DEVICE_CANNOT_VOICE_RECORD"),zd=()=>new Error("FAILED_TO_RECORD"),Hi=()=>new Error("RECORDING_HAS_NOT_STARTED"),qd=()=>new Error("FAILED_TO_FETCH_RECORDING"),L1=()=>new Error("COULD_NOT_QUERY_PERMISSION_STATUS"),j1=["audio/aac","audio/webm;codecs=opus","audio/mp4","audio/webm","audio/ogg;codecs=opus"],Kd=()=>new Promise(()=>{});class Ct{constructor(){this.mediaRecorder=null,this.chunks=[],this.pendingResult=Kd()}static async canDeviceVoiceRecord(){var t;return((t=navigator==null?void 0:navigator.mediaDevices)===null||t===void 0?void 0:t.getUserMedia)==null||Ct.getSupportedMimeType()==null?Fs():Co()}async startRecording(){if(this.mediaRecorder!=null)throw A1();if(!(await Ct.canDeviceVoiceRecord()).value)throw I1();if(!(await Ct.hasAudioRecordingPermission().catch(()=>Co())).value)throw O1();return navigator.mediaDevices.getUserMedia({audio:!0}).then(this.onSuccessfullyStartedRecording.bind(this)).catch(this.onFailedToStartRecording.bind(this)),Co()}async stopRecording(){if(this.mediaRecorder==null)throw Hi();try{return this.mediaRecorder.stop(),this.mediaRecorder.stream.getTracks().forEach(t=>t.stop()),this.pendingResult}catch{throw qd()}finally{this.prepareInstanceForNextOperation()}}static async hasAudioRecordingPermission(){return navigator.permissions.query({name:"microphone"}).then(t=>({value:t.state==="granted"})).catch(()=>{throw L1()})}static async requestAudioRecordingPermission(){return(await Ct.hasAudioRecordingPermission().catch(()=>Fs())).value?Co():navigator.mediaDevices.getUserMedia({audio:!0}).then(()=>Co()).catch(()=>Fs())}pauseRecording(){if(this.mediaRecorder==null)throw Hi();return this.mediaRecorder.state==="recording"?(this.mediaRecorder.pause(),Promise.resolve(Co())):Promise.resolve(Fs())}resumeRecording(){if(this.mediaRecorder==null)throw Hi();return this.mediaRecorder.state==="paused"?(this.mediaRecorder.resume(),Promise.resolve(Co())):Promise.resolve(Fs())}getCurrentStatus(){return this.mediaRecorder==null?Promise.resolve({status:"NONE"}):this.mediaRecorder.state==="recording"?Promise.resolve({status:"RECORDING"}):this.mediaRecorder.state==="paused"?Promise.resolve({status:"PAUSED"}):Promise.resolve({status:"NONE"})}static getSupportedMimeType(){if((MediaRecorder==null?void 0:MediaRecorder.isTypeSupported)==null)return null;const t=j1.find(o=>MediaRecorder.isTypeSupported(o));return t!=null?t:null}onSuccessfullyStartedRecording(t){this.pendingResult=new Promise((o,s)=>{this.mediaRecorder=new MediaRecorder(t),this.mediaRecorder.onerror=()=>{s(zd()),this.prepareInstanceForNextOperation()},this.mediaRecorder.onstop=async()=>{const n=Ct.getSupportedMimeType();if(n==null)s(qd());else{const r=new Blob(this.chunks,{type:n}),i=await Ct.blobToBase64(r),a=await R1(r);this.prepareInstanceForNextOperation(),o({value:{recordDataBase64:i,mimeType:n,msDuration:a*1e3}})}},this.mediaRecorder.ondataavailable=n=>this.chunks.push(n.data),this.mediaRecorder.start()})}onFailedToStartRecording(){throw this.prepareInstanceForNextOperation(),zd()}static blobToBase64(t){return new Promise(o=>{const s=new FileReader;s.onloadend=()=>{const n=String(s.result),r=n.split("base64,"),i=r.length>1?r[1]:n;o(i.trim())},s.readAsDataURL(t)})}prepareInstanceForNextOperation(){if(this.mediaRecorder!=null&&this.mediaRecorder.state==="recording")try{this.mediaRecorder.stop()}catch{}this.pendingResult=Kd(),this.mediaRecorder=null,this.chunks=[]}}class P1 extends Di{constructor(){super(...arguments),this.voiceRecorderInstance=new Ct}canDeviceVoiceRecord(){return Ct.canDeviceVoiceRecord()}hasAudioRecordingPermission(){return Ct.hasAudioRecordingPermission()}requestAudioRecordingPermission(){return Ct.requestAudioRecordingPermission()}startRecording(){return this.voiceRecorderInstance.startRecording()}stopRecording(){return this.voiceRecorderInstance.stopRecording()}pauseRecording(){return this.voiceRecorderInstance.pauseRecording()}resumeRecording(){return this.voiceRecorderInstance.resumeRecording()}getCurrentStatus(){return this.voiceRecorderInstance.getCurrentStatus()}}var N1=Object.freeze(Object.defineProperty({__proto__:null,VoiceRecorderWeb:P1},Symbol.toStringTag,{value:"Module"}));io.VueAdvancedChat=Ud,io.register=k1,Object.defineProperties(io,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
